{"version":3,"sources":["admin.js"],"names":["new_branch","id","name","start_date","end_date","timeline","branches","push","horizontal_multiplier","vertical_multiplier","timeline_id","merge","get_timelines","$","each","timelines","timeline_name","branch_index","branch","splice","get_hm_multipliers","this","get_merges","merges","console","log","find_merge_conflicts","merge_levels","conflicts","move_up","draw","start_x","final_x","start_y","end_y","draw_line","default_x","Math","max","apply","default_y","colors","lines","css","tinycolor","random","toHexString","draw_curve","draw_circle","get_analogous","render_circles","end_x","color","break_point","projects","path","attr","stroke","strokeWidth","fill","class","x","y","circles","r","default_r","circle","strokeOpacity","data-project_id","ag_colors","analogous","map","t","shift","scroll_to_mini_bar","small_bar","visible","animate","scrollTop","offset","top","show_project","hide","show","scroll","hide_details","show_projects","jQuery","Error","version","fn","jquery","split","transitionEnd","el","document","createElement","transEndEventNames","WebkitTransition","MozTransition","OTransition","transition","undefined","style","end","emulateTransitionEnd","duration","called","$el","one","callback","trigger","support","setTimeout","event","special","bsTransitionEnd","bindType","delegateType","handle","e","target","is","handleObj","handler","arguments","Plugin","option","$this","data","Alert","call","dismiss","on","close","VERSION","TRANSITION_DURATION","prototype","removeElement","$parent","detach","remove","selector","replace","preventDefault","length","closest","Event","isDefaultPrevented","removeClass","hasClass","old","alert","Constructor","noConflict","options","Button","toggle","setState","element","$element","extend","DEFAULTS","isLoading","loadingText","state","d","val","resetText","proxy","addClass","removeAttr","changed","$input","find","prop","toggleClass","button","$btn","test","type","Carousel","action","slide","to","interval","pause","cycle","$indicators","paused","sliding","$active","$items","keyboard","keydown","documentElement","wrap","tagName","which","prev","next","clearInterval","setInterval","getItemIndex","item","parent","children","index","getItemForDirection","direction","active","activeIndex","willWrap","delta","itemIndex","eq","pos","that","$next","isCycling","relatedTarget","slideEvent","$nextIndicator","slidEvent","offsetWidth","join","carousel","clickHandler","href","$target","slideIndex","window","$carousel","getTargetFromTrigger","$trigger","Collapse","transitioning","getParent","addAriaAndCollapsedClass","dimension","hasWidth","activesData","actives","startEvent","complete","scrollSize","camelCase","offsetHeight","i","isOpen","collapse","clearMenus","backdrop","Dropdown","isActive","insertAfter","stopPropagation","desc","dropdown","_relatedTarget","Modal","$body","body","$dialog","$backdrop","isShown","originalBodyPad","scrollbarWidth","ignoreBackdropClick","remote","load","BACKDROP_TRANSITION_DURATION","checkScrollbar","setScrollbar","escape","resize","appendTo","adjustDialog","enforceFocus","off","hideModal","has","handleUpdate","resetAdjustments","resetScrollbar","removeBackdrop","doAnimate","currentTarget","focus","callbackRemove","modalIsOverflowing","scrollHeight","clientHeight","paddingLeft","bodyIsOverflowing","paddingRight","fullWindowWidth","innerWidth","documentElementRect","getBoundingClientRect","right","abs","left","clientWidth","measureScrollbar","bodyPad","parseInt","scrollDiv","className","append","removeChild","modal","showEvent","Tooltip","enabled","timeout","hoverState","init","animation","placement","template","title","delay","html","container","viewport","padding","getOptions","$viewport","constructor","triggers","eventIn","eventOut","enter","leave","_options","fixTitle","getDefaults","getDelegateOptions","defaults","key","value","obj","self","$tip","clearTimeout","hasContent","inDom","contains","ownerDocument","tip","tipId","getUID","setContent","autoToken","autoPlace","display","getPosition","actualWidth","actualHeight","orgPlacement","$container","containerDim","bottom","width","calculatedOffset","getCalculatedOffset","applyPlacement","prevHoverState","height","marginTop","marginLeft","isNaN","setOffset","using","props","round","getViewportAdjustedDelta","isVertical","arrowDelta","arrowOffsetPosition","replaceArrow","arrow","getTitle","$e","isBody","elRect","elOffset","outerDims","viewportPadding","viewportDimensions","topEdgeOffset","bottomEdgeOffset","leftEdgeOffset","rightEdgeOffset","o","prefix","getElementById","$arrow","enable","disable","toggleEnabled","destroy","removeData","tooltip","Popover","content","getContent","popover","ScrollSpy","$scrollElement","offsets","targets","activeTarget","process","refresh","getScrollHeight","offsetMethod","offsetBase","isWindow","$href","sort","a","b","maxScroll","activate","clear","parents","parentsUntil","scrollspy","$spy","Tab","$ul","$previous","hideEvent","tab","Affix","checkPosition","checkPositionWithEventLoop","affixed","unpin","pinnedOffset","RESET","getState","offsetTop","offsetBottom","position","targetHeight","initializing","colliderTop","colliderHeight","getPinnedOffset","affix","affixType","glob","current_event","stop","separator","comaseparator","wildcard","numsort","events","n","firstDefined","ii","lastDefined","eve","scope","String","l","oldstop","args","Array","slice","listeners","z","indexed","queue","out","ce","zIndex","_events","items","k","j","jj","nes","names","es","concat","f","exist","hasOwnProperty","attrs","nt","subname","RegExp","nts","unbind","cur","funcs","once","f2","toString","module","exports","define","amd","factory","mina","animations","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","isArray","Object","idgen","idprefix","Date","ID","timer","now","sta","s","ds","dur","B","speed","spd","stopit","update","pdif","get","resume","res","start","easing","set","frame","len","A","anim","linear","status","time","getById","easeout","pow","easein","easeinout","q","Q","sqrt","X","Y","backin","backout","elastic","sin","PI","bounce","p","Snap","w","h","Element","doc","querySelector","Paper","createTextNode","text","substring","getAttributeNS","xlink","xmlns","getAttribute","Str","setAttributeNS","setAttribute","removeAttribute","createElementNS","toLowerCase","isFinite","objectToString","clone","repush","array","cacher","postprocessor","newf","arg","cache","count","angle","x1","y1","x2","y2","x3","y3","math","atan2","rad","deg","svgTransform2string","tstr","all","params","tan","charAt","transform2matrix","bbox","tdata","parseTransformString","m","Matrix","bb","tlen","command","absolute","inver","invert","translate","rotate","scale","add","extractTransform","doReturn","node","_","rgTransform","transform","E","getBBox","matrix","getSomeDefs","ownerSVGElement","parentNode","select","pdefs","defs","make","getSomeSVG","unit2px","getW","mgr","getH","nam","svg","appendChild","add2group","list","forEach","childNodes","snap","hub","paper","anims","g","mask","pattern","method","Fragment","frag","proto","getElementsByTagName","root","dom","contentDocument","win","toFloat","parseFloat","toInt","mmax","mmin","min","S","colourRegExp","spaces","commaSpaces","hsrg","hs","rg","pathCommand","tCommand","pathValues","URL","url","format","tokenRegex","objNotationRegex","replacer","quote","quotedName","isFunc","str","snapTo","values","tolerance","rem","getRGB","colour","indexOf","hex","error","rgbtoString","toHex","red","green","blue","opacity","rgb","match","hsb2rgb","hsl2rgb","hsb","hsl","toFixed","defaultView","getComputedStyle","getPropertyValue","hsbtoString","hsltoString","prepareRGB","string","clr","packageRGB","rgb2hsl","rgb2hsb","v","R","G","C","H","V","L","M","parsePathString","pathString","pth","arr","paramCounts","c","u","TString","_unit2px","compareDocumentPosition","adown","nodeType","bup","query","selectAll","nodelist","querySelectorAll","elproto","fixids","urltest","it","uses","linktest","els","ids","oldid","fs","from","attributes","chld","nodeValue","json","att","isWithoutTransform","removed","box","localMatrix","original","pathfinder","deflt","bboxwt","realPath","propString","papa","global","getCTM","local","ms","localString","toTransformString","globalMatrix","totalMatrix","diffMatrix","total","gradientTransform","patternTransform","prepend","first","after","insertBefore","firstChild","prependTo","before","nextSibling","asPX","use","xlink:href","rgNotSpace","clazz","finalValue","classes","elem","baseVal","curClasses","flag","cloneNode","toDefs","toPattern","patternUnits","viewBox","marker","refX","refY","cx","cy","markerWidth","markerHeight","orient","Animation","inAnim","_attrs","_callback","curStatus","setter","fkeys","tkeys","keys","equal","eldata","outerSVG","innerSVG","parse","createDocumentFragment","full","div","innerHTML","fragment","lastIndexOf","letter","cssAttr","alignment-baseline","baseline-shift","clip","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cursor","dominant-baseline","enable-background","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-orientation-horizontal","glyph-orientation-vertical","image-rendering","kerning","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overflow","pointer-events","shape-rendering","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","unicode-bidi","visibility","word-spacing","writing-mode","toUpperCase","ajax","postData","req","XMLHttpRequest","pd","encodeURIComponent","open","setRequestHeader","onreadystatechange","readyState","send","responseText","getOffset","docElem","clientTop","clientLeft","pageYOffset","pageXOffset","scrollLeft","getElementByPoint","canvas","elementFromPoint","opera","so","sr","createSVGRect","hits","getIntersectionList","plugin","matrixproto","norm","normalize","mag","me","cos","fromCharCode","determinant","dx","dy","row","scalex","shear","scaley","acos","asin","isSimple","isSuperSimple","noRotation","shorter","fillStroke","grad","gradient","setFontSize","fontSize","textExtract","chi","getFontSize","reURLValue","clipIt","gradrg","tokens","stops","toAbsolute","txt","vb","rx","ry","tp","textPath","tuner","chunk","tuned","getter","textContent","getNumber","getUnit","unit","operators","+","-","/","*","reUnit","reAddon","plus","evnt","atr","aUnit","op","bplus","rect","preload","onerror","src","img","cssText","onload","image","preserveAspectRatio","ellipse","group","vbx","vby","vbw","vbh","ptrn","vx","vy","vw","vh","line","polyline","points","polygon","Gstops","GaddStop","GgetBBox","seed","step","unshift","gradientLinear","gradientRadial","gradientUnits","addStop","fx","fy","paths","ps","sleep","r1","r2","r0","rectPath","p2s","pathClone","pathArray","getPointAtSegmentLength","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","bezlen","findDotsAtSegment","getTotLen","getLengthFactory","istotal","subpath","O","onlystart","path2curve","point","sp","subpaths","t1","t13","t12","t2","t3","mx","my","nx","ny","ax","ay","alpha","bezierBBox","curveDim","isPointInsideBBox","isBBoxIntersect","bbox1","bbox2","base3","p1","p2","p3","p4","x4","y4","z2","Tvalues","Cvalues","sum","ct","xbase","ybase","comb","ll","intersect","denominator","px","py","px2","py2","interHelper","bez1","bez2","justCount","l1","l2","n1","n2","dots1","dots2","xy","di","di1","dj","dj1","ci","cj","pathIntersection","path1","path2","interPathHelper","pathIntersectionNumber","x1m","y1m","x2m","y2m","pi","pj","intr","kk","segment1","segment2","isPointInsidePath","pathBBox","dim","xmin","ymin","xmax","ymax","ellipsePath","pathToRelative","lowerCase","rel","pa","pathToAbsolute","pa0","crz","dots","pop","catmullRom2bezier","l2c","q2c","_13","_23","a2c","large_arc_flag","sweep_flag","recursive","_120","f1","rx2","ry2","df","f2old","x2old","y2old","c1","s1","c2","s2","hx","hy","m1","m2","m3","m4","newres","x0","y0","b2ac","sqrtb2ac","tvalues","bounds","mt","jlen","curve","bx","by","qx","qy","attrs2","processPath","pcom","T","fixArc","pp","pcoms1","pcoms2","fixM","a1","a2","pfirst","seg","seg2","seglen","seg2len","mapPath","pathi","crp","iLen","getTotalLength","getPointAtLength","getSubpathsAtLength","getPath","getSubpath","intersection","intersectionNumber","isPointInside","toRelative","toCubic","Set","bindings","setproto","thisArg","begin","cb","callbacker","bind","aname","unbound","insertion","tail","todel","arglen","exclude","getEmpty","equaliseTransform","tt1","tt2","maxlength","path2array","getColour","Function","bUnit","supportsTouch","touchMap","mousedown","mousemove","mouseup","getScroll","returnValue","preventTouch","originalEvent","cancelBubble","stopTouch","addEvent","addEventListener","realName","scrollY","scrollX","targetTouches","olde","clientX","clientY","removeEventListener","attachEvent","detacher","detachEvent","drag","dragMove","dragi","touch","touches","identifier","_drag","move_scope","dragUp","unmousemove","unmouseup","end_scope","start_scope","eventName","hover","f_in","f_out","scope_in","scope_out","mouseover","mouseout","unhover","unmouseover","unmouseout","draggable","onmove","onstart","onend","origTransform","undrag","unmousedown","pproto","rgurl","filstr","filterUnits","blur","def","shadow","grayscale","amount","sepia","saturate","hueRotate","amount2","brightness","contrast","opts","inputToRGB","_originalInput","_r","_g","_b","_a","_roundA","mathRound","_format","_gradientType","gradientType","_ok","ok","_tc_id","tinyCounter","stringInputToObject","rgbToRgb","substr","convertToPercentage","hsvToRgb","hslToRgb","boundAlpha","mathMin","mathMax","bound01","rgbToHsl","hue2rgb","rgbToHsv","floor","mod","rgbToHex","allow3Char","pad2","rgbaToHex","convertDecimalToHex","desaturate","toHsl","clamp01","greyscale","lighten","brighten","toRgb","darken","spin","hue","complement","triad","tetrad","splitcomplement","results","slices","part","ret","monochromatic","hsv","toHsv","modification","flip","flipped","isOnePointZero","processPercent","isPercentage","parseIntFromHex","convertHexToDecimal","trimLeft","trimRight","named","matchers","exec","rgba","hsla","hsva","hex8","hex6","hex3","mathRandom","isDark","getBrightness","isLight","isValid","getOriginalInput","getFormat","getAlpha","setAlpha","toHsvString","toHslString","toHex8","toHex8String","toRgbString","toPercentageRgb","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","secondHex8String","formatSet","formattedString","hasAlpha","needsAlphaFormat","_applyModification","_applyCombination","fromRatio","newColor","equals","color1","color2","mix","w1","rgb1","rgb2","w2","readability","brightnessA","brightnessB","colorDiff","isReadable","mostReadable","baseColor","colorList","bestColor","bestScore","bestIsReadable","readable","score","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","CSS_INTEGER","CSS_NUMBER","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","reduce","TypeError","func","CodeMirror","isSupportAmd","isFontInstalled","fontName","testFontName","$tester","originalWidth","agent","isMac","navigator","appVersion","isMSIE","userAgent","isFF","jqueryVersion","hasCodeMirror","require","specified","isW3CRangeSupport","createRange","itemA","itemB","eq2","peq2","propName","fail","not","and","fA","fB","idCounter","uniqueId","rect2bnd","$document","invertObject","inverted","namespaceToCamel","namespace","head","last","initial","pred","idx","inArray","memo","collection","result","clusterBy","aTail","aLast","compact","aResult","unique","NBSP_CHAR","ZERO_WIDTH_NBSP_CHAR","isEditable","isControlSizing","buildLayoutInfo","$editor","makeFinder","sIdPrefix","editor","holder","editable","dialog","sClassName","dropzone","toolbar","codable","statusbar","makeLayoutInfo","descendant","makePredByNodeName","nodeName","isText","isVoid","isPara","isLi","isPurePara","isTable","isInline","isBodyContainer","isList","isBlockquote","isCell","isAnchor","isParaInline","ancestor","isBodyInline","isClosestSibling","nodeA","nodeB","previousSibling","withClosestSiblings","siblings","blankHTML","nodeLength","isEmpty","paddingBlankHTML","singleChildAncestor","listAncestor","ancestors","lastAncestor","commonAncestor","listPrev","nodes","listNext","listDescendant","descendents","fnWalk","current","wrapperName","wrapper","preceding","appendChildNodes","aChild","child","isLeftEdgePoint","isRightEdgePoint","isEdgePoint","isLeftEdgeOf","isRightEdgeOf","hasChildren","prevPoint","isSkipInnerOffset","nextPoint","isSamePoint","pointA","pointB","isVisiblePoint","leftNode","rightNode","prevPointUntil","nextPointUntil","isCharPoint","ch","walkPoint","startPoint","endPoint","isSkipOffset","makeOffsetPath","reverse","fromOffsetPath","splitNode","isSkipPaddingBlankHTML","isNotSplitEdgePoint","splitText","childNode","splitTree","splitPoint","splitRoot","topAncestor","pivot","create","createText","isRemoveChild","removeNode","removeWhile","newNode","isTextarea","$node","stripLinebreaks","isNewlineOnBlock","markup","regexTag","endSlash","isEndOfInlineContainer","isBlockNode","trim","blank","emptyPara","isBlock","isDiv","isBR","isSpan","isB","isU","isS","isI","isImg","isEmptyAnchor","range","textRangeToPoint","textRange","isStart","prevContainer","parentElement","tester","createTextRange","moveToElementText","compareEndPoints","textRangeStart","curTextNode","pointTester","duplicate","setEndPoint","textCount","cont","pointToTextRange","textRangeInfo","isCollapseToStart","prevTextNodes","collapseToStart","info","moveStart","WrappedRange","sc","ec","eo","nativeRange","w3cRange","setStart","setEnd","getPoints","getStartPoint","getEndPoint","nativeRng","selection","getSelection","rangeCount","removeAllRanges","addRange","getVisiblePoint","includeAncestor","fullyContains","leftEdgeNodes","expand","startAncestor","endAncestor","boundaryPoints","isSameContainer","deleteContents","isCollapsed","rng","emptyParents","makeIsOn","isOnEditable","isOnList","isOnAnchor","isOnCell","wrapBodyInlineWithPara","inlineSiblings","para","insertNode","pasteHTML","contentsContainer","getWordRange","findAfter","bookmark","paraBookmark","paras","getClientRects","anchorNode","getRangeAt","startContainer","startOffset","endContainer","endOffset","textRangeEnd","isTextNode","createFromNode","createFromBookmark","createFromParaBookmark","minHeight","maxHeight","tabsize","styleWithSpan","disableLinkTarget","disableDragAndDrop","disableResizeEditor","shortcuts","placeholder","prettifyHtml","iconPrefix","codemirror","mode","htmlMode","lineNumbers","lang","airMode","airPopover","styleTags","defaultFontName","fontNames","fontNamesIgnoreCheck","fontSizes","lineHeights","insertTableMaxSize","col","maximumImageFileSize","oninit","onfocus","onblur","onenter","onkeyup","onkeydown","onImageUpload","onImageUploadError","onMediaDelete","onToolbarClick","onsubmit","onCreateLink","sLinkUrl","keyMap","pc","ENTER","CTRL+Z","CTRL+Y","TAB","SHIFT+TAB","CTRL+B","CTRL+I","CTRL+U","CTRL+SHIFT+S","CTRL+BACKSLASH","CTRL+SHIFT+L","CTRL+SHIFT+E","CTRL+SHIFT+R","CTRL+SHIFT+J","CTRL+SHIFT+NUM7","CTRL+SHIFT+NUM8","CTRL+LEFTBRACKET","CTRL+RIGHTBRACKET","CTRL+NUM0","CTRL+NUM1","CTRL+NUM2","CTRL+NUM3","CTRL+NUM4","CTRL+NUM5","CTRL+NUM6","CTRL+ENTER","CTRL+K","mac","CMD+Z","CMD+SHIFT+Z","CMD+B","CMD+I","CMD+U","CMD+SHIFT+S","CMD+BACKSLASH","CMD+SHIFT+L","CMD+SHIFT+E","CMD+SHIFT+R","CMD+SHIFT+J","CMD+SHIFT+NUM7","CMD+SHIFT+NUM8","CMD+LEFTBRACKET","CMD+RIGHTBRACKET","CMD+NUM0","CMD+NUM1","CMD+NUM2","CMD+NUM3","CMD+NUM4","CMD+NUM5","CMD+NUM6","CMD+ENTER","CMD+K","en-US","bold","italic","underline","strikethrough","subscript","superscript","size","insert","resizeFull","resizeHalf","resizeQuarter","floatLeft","floatRight","floatNone","shapeRounded","shapeCircle","shapeThumbnail","shapeNone","dragImageHere","dropImage","selectFromFiles","maximumFileSize","maximumFileSizeError","link","unlink","edit","textToDisplay","openInNewWindow","table","hr","normal","blockquote","pre","h1","h2","h3","h4","h5","h6","lists","unordered","ordered","help","fullscreen","codeview","paragraph","outdent","indent","center","justify","recent","more","background","foreground","transparent","setTransparent","reset","resetToDefault","shortcut","textFormatting","paragraphFormatting","documentStyle","extraKeys","history","undo","redo","async","readFileAsDataURL","file","Deferred","deferred","FileReader","sDataURL","resolve","reject","readAsDataURL","promise","createImage","sUrl","filename","$img","data-filename","BACKSPACE","SPACE","NUM0","NUM1","NUM2","NUM3","NUM4","NUM5","NUM6","NUM7","NUM8","I","J","K","U","Z","SLASH","LEFTBRACKET","BACKSLASH","RIGHTBRACKET","isEdit","keyCode","nameFromCode","code","History","$editable","stack","stackOffset","makeSnapshot","emptyBookmark","contents","applySnapshot","snapshot","recordUndo","Style","jQueryCSS","$obj","propertyNames","propertyName","stylePara","styleInfo","styleNodes","expandClosestSibling","onlyPartialContains","nodesInRange","tails","$cont","properties","queryCommandState","aOrderedType","isUnordered","lineHeight","anchor","Bullet","insertOrderedList","toggleList","insertUnorderedList","clustereds","wrapList","releaseList","listName","wrappedParas","diffLists","listNode","prevList","nextList","isEscapseToBody","releasedParas","headList","lastList","middleList","rootLists","rootList","listNodes","Typing","bullet","insertTab","insertParagraph","nextPara","emptyAnchors","Table","isShift","cell","cells","nextCell","createTable","colCount","rowCount","tdHTML","tds","idxCol","trHTML","trs","idxRow","Editor","typing","saveRange","thenCollapse","saveNode","copy","restoreRange","restoreNode","currentStyle","triggerOnBeforeChange","$holder","bindCustomEvent","triggerOnChange","beforeCommand","afterCommand","isPreventTrigger","commands","sCmd","execCommand","untab","insertImage","then","$image","callbacks","insertText","textNode","formatBlock","formatPara","spans","span","createLink","linkInfo","linkUrl","linkText","isNewWindow","newWindow","isTextChanged","anchors","startRange","endRange","getLinkInfo","$anchor","sObjColor","oColor","JSON","foreColor","backColor","insertTable","sDim","floatMe","imageShape","resizeTo","bKeepRatio","imageSize","newRatio","ratio","removeMedia","checkDropdownMenu","isChecked","btnState","imgFloat","$fontname","selectedFont","$fontsize","$lineHeight","updateRecentColor","$color","$recentColor","colorInfo","stringify","sKey","Toolbar","$toolbar","buttonNode","deactivate","updateFullscreen","bFullscreen","updateCodeview","isCodeview","setButtonState","$button","EDITABLE_PADDING","Statusbar","attach","layoutInfo","hStatusbarMousedown","editableTop","nHeight","posFromPlaceholder","isAirMode","$placeholder","outerHeight","showPopover","$popover","PX_POPOVER_ARROW_OFFSET_X","$linkPopover","$imagePopover","$airPopover","bnd","Handle","hHandleMousedown","$handle","posStart","invoke","shiftKey","$selection","outerWidth","sizingText","Fullscreen","$window","$scrollbar","$codable","setsize","isFullscreen","cm","Codeview","sync","save","isActivated","cmEditor","fromTextArea","tern","server","TernServer","ternServer","updateArgHints","setSize","getValue","toTextArea","isChange","DragAndDrop","attachDragAndDropEvent","$dropzone","$dropzoneMessage","hasEditorSize","langInfo","dataTransfer","getData","files","insertImages","Clipboard","hPasteClipboardImage","clipboardData","datauri","atob","Uint8Array","charCodeAt","blob","Blob","ex","isClipboardImage","kind","getAsFile","LinkDialog","toggleBtn","isEnable","bindEnterKey","showLinkDialog","$linkDialog","$linkText","$linkUrl","$linkBtn","$openInNewWindow","ImageDialog","showImageDialog","$imageDialog","$imageInput","$imageUrl","$imageBtn","replaceWith","click","HelpDialog","showHelpDialog","$helpDialog","EventHandler","modules","dragAndDrop","clipboard","linkDialog","imageDialog","helpDialog","moduleAndMethod","splits","hasSeparator","moduleName","methodName","getModule","eventNamespace","hMousedown","hToolbarAndPopoverUpdate","hScroll","hToolbarAndPopoverMousedown","hToolbarAndPopoverClick","isFunction","summernote","pluginEvents","PX_PER_EM","hDimensionPickerMove","posOffset","$picker","$dimensionDisplay","$catcher","$highlighted","$unhighlighted","offsetX","posCatcher","pageX","pageY","offsetY","ceil","bindKeyMap","metaKey","ctrlKey","altKey","keyName","$catcherContainer","onInit","onFocus","onBlur","onKeydown","onKeyup","onMousedown","onEnter","onPaste","onBeforeCommand","onChange","submit","attachCustomEvent","keyup","changeEventName","plugins","Renderer","tplButton","label","tplIconButton","iconClassName","tplPopover","tplDialog","footer","tplButtonInfo","picture","fontname","realFontList","hasDefaultFont","fontsize","colorButtonLabel","colorButton","moreButton","ul","ol","leftButton","centerButton","rightButton","justifyButton","outdentButton","indentButton","tplPopovers","tplLinkPopover","linkButton","unlinkButton","tplImagePopover","fullButton","halfButton","quarterButton","roundedButton","circleButton","thumbnailButton","noneButton","removeButton","tplAirPopover","$content","$group","lenGroup","$notePopover","tplHandles","tplShortcut","keyClass","kbd","tplShortcutText","tplShortcutAction","tplShortcutPara","tplShortcutStyle","tplExtraShortcuts","tplShortcutTable","colClass","replaceMacKeys","sHtml","tplDialogInfo","imageLimitation","readableSize","tplDialogs","dialogs","tplStatusbar","representShortcut","createTooltip","sPlacement","invertedKeyMap","$buttons","elBtn","sShortcut","createPalette","$palette","paletteContents","lenRow","buttons","lenCol","createLayoutByAirMode","contentEditable","createLayoutByFrame","isContentEditable","groupName","groupButtons","btnLength","buttonInfo","hasNoteEditor","noteEditorFromHolder","createLayout","layoutInfoFromHolder","removeLayout","getTemplate","iconButton","addButtonInfo","addDialogInfo","dialogInfo","renderer","eventHandler","core","addPlugin","langs","locale","isExternalAPICalled","isInitOptions","$first","moment","Ac","empty","unusedTokens","unusedInput","charsLeftOver","nullInput","invalidMonth","invalidFormat","userInvalidated","iso","valueOf","ya","utc","_isValid","_d","getTime","_pf","_strict","bigHour","_isAMomentObject","_i","_f","_l","_tzm","_isUTC","_offset","_locale","Cc","Dc","updateOffset","Ec","Bc","_abbr","abbr","Fc","D","F","Jc","localeData","ordinal","Gc","Ic","invalidDate","longDateFormat","Hc","lastIndex","Yc","N","Zc","_w","P","UTC","getUTCDate","_months","month","_monthsShort","_monthsParse","_longMonthsParse","_shortMonthsParse","months","monthsShort","monthsParse","date","year","W","_c","ad","$c","bd","cd","dd","ed","_overflowDayOfYear","suppressDeprecationWarnings","warn","hd","jd","kd","Vc","sa","aa","ld","createFromInputFallback","ba","setFullYear","ca","setUTCFullYear","da","ea","fa","ga","day","za","week","dayOfYear","ha","_week","dow","doy","ia","ja","ka","la","ma","getUTCDay","na","startOf","oa","_useUTC","getUTCFullYear","getUTCMonth","getFullYear","getMonth","getDate","qa","ra","_dayOfYear","_nextDay","setUTCMinutes","getUTCMinutes","GG","gg","ISO_8601","ta","_meridiem","meridiemHour","isPM","ua","va","hour","minute","second","millisecond","wa","preparse","xa","Aa","Ba","Ca","Da","quarter","_milliseconds","_days","_data","_bubble","Ea","Fa","utcOffset","Ga","qd","Ha","setTime","Ia","getTimezoneOffset","Ja","_changeInProgress","Za","Ua","Ka","La","Ma","subtract","Na","Oa","Pa","Qa","toArray","Ra","Sa","Ta","milliseconds","rd","sd","Va","Xa","Wa","isAfter","isBefore","Ya","$a","diff","calendar","ab","endOf","db","eb","fb","gb","hb","ib","toISOString","toDate","jb","defaultFormat","postformat","kb","humanize","lb","mb","nb","ob","hours","minutes","seconds","weekday","isoWeekday","pb","qb","rb","sb","tb","ub","wb","xb","yb","zb","Ab","Bb","Cb","Db","Eb","weekdaysParse","Fb","_weekdays","Gb","_weekdaysShort","Hb","_weekdaysMin","Ib","_weekdaysParse","weekdays","weekdaysShort","weekdaysMin","Jb","getDay","Kb","Lb","Mb","meridiem","Nb","_meridiemParse","Ob","Pb","Qb","Rb","Sb","Tb","Ub","parseZone","Vb","_calendar","Wb","_longDateFormat","Xb","_invalidDate","Yb","_ordinal","Zb","$b","_relativeTime","ac","_ordinalParseLenient","_ordinalParse","source","bc","cc","dc","fc","gc","hc","ic","Od","years","jc","kc","lc","mc","nc","oc","days","qc","rc","as","tc","uc","vc","relativeTime","wc","de","xc","yc","pastFuture","zc","ee","asSeconds","momentProperties","Kc","Lc","Mc","Nc","Oc","Pc","Qc","Rc","Sc","Tc","Uc","Wc","Xc","fd","gd","parseTwoDigitYear","md","nd","od","td","ud","vd","weekYear","isoWeekYear","wd","invalidWeekday","xd","yd","zd","_isPm","Ad","Bd","Cd","Dd","Ed","Fd","fromNow","invalidAt","isBetween","isSame","parsingFlags","toJSON","unix","isLeapYear","quarters","daysInMonth","weeks","isoWeek","isoWeeks","weeksInYear","isoWeeksInYear","hasAlignedHourOffset","isDST","isDSTShifted","isLocal","isUtcOffset","isUtc","isUTC","zoneAbbr","zoneName","dates","zone","Gd","Hd","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","Id","LTS","LT","LL","LLL","LLLL","Jd","Kd","Ld","Md","future","past","mm","hh","MM","yy","Nd","firstDayOfYear","firstDayOfWeek","ordinalParse","langData","Pd","Qd","Rd","Sd","Td","Ud","Vd","Wd","Xd","Yd","Zd","$d","ae","be","fe","asMilliseconds","asMinutes","asHours","asDays","asWeeks","asMonths","asYears","toIsoString","isDate","invalid","isMoment","isDuration","defineLocale","normalizeUnits","relativeTimeThreshold","ge","clsName","navFnc","navStep","up",38,"down",40,37,39,9,27,13,"pageUp",33,"pageDown",34,16,"control",17,"space",32,84,"delete",46,"icons","previous","calendarWeeks","tabindex","showTodayButton","today","sideBySide","showClear","showClose","inline","toolbarPlacement","dateOptions","widgetPositioning","vertical","horizontal","widgetParent","oldDate","disabledDates","enabledDates","minDate","maxDate","daysOfWeekDisabled","dayViewHeaderFormat","stepping","keepInvalid","pickerSwitch","selectMonth","selectYear","selectDay","keepOpen","incrementHours","incrementMinutes","incrementSeconds","decrementHours","decrementMinutes","decrementSeconds","togglePeriod","togglePicker","showPicker","showHours","showMinutes","showSeconds","selectHour","selectMinute","selectSecond","ignoreReadonly","useCurrent","useStrict","keyBinds","stopImmediatePropagation","change","debug","extraFormats","defaultDate","viewMode","datepickerInput","datetimepicker","control up","control down","control space","S2","select2","requirejs","undef","hasProp","hasOwn","baseName","nameParts","nameSegment","mapValue","foundMap","foundI","foundStarMap","starI","baseParts","config","starMap","nodeIdCompat","jsSuffixRegExp","makeRequire","relName","forceSync","aps","makeNormalize","makeLoad","depName","defined","callDep","waiting","defining","main","splitPrefix","makeConfig","makeMap","handlers","parts","pr","uri","deps","cjsModule","usingExports","callbackType","alt","cfg","_defined","_$","getMethods","theClass","methods","Utils","Extend","ChildClass","SuperClass","BaseConstructor","__hasProp","__super__","Decorate","DecoratorClass","DecoratedClass","argCount","calledConstructor","ctr","decoratedMethods","superMethods","displayName","superMethod","calledMethod","originalMethod","decoratedMethod","Observable","generateChars","chars","randomChar","context","_convertData","originalKey","dataLevel","hasScroll","overflowX","overflowY","innerHeight","scrollWidth","escapeMarkup","replaceMap","\\","&","<",">","\"","'","appendMany","$nodes","$jqNodes","Results","dataAdapter","render","$results","displayMessage","hideLoading","$message","message","$options","$option","$dropdown","$resultsContainer","sorter","setClasses","selected","selectedIds","$selected","showLoading","loadingMore","loading","disabled","$loading","role","aria-selected","_resultId","$children","$child","$childrenContainer","ensureHighlightVisible","getHighlightedResults","currentIndex","nextIndex","currentOffset","nextTop","nextOffset","nextBottom","mousewheel","deltaY","isAtTop","isAtBottom","evt","offsetDelta","KEYS","SHIFT","CTRL","ALT","ESC","PAGE_UP","PAGE_DOWN","END","HOME","LEFT","UP","RIGHT","DOWN","DELETE","BaseSelection","_tabindex","resultsId","_attachCloseHandler","_detachCloseHandler","$select","$all","$selectionContainer","SingleSelection","selectionContainer","formatted","$rendered","MultipleSelection","$remove","$selections","Placeholder","decorated","normalizePlaceholder","createPlaceholder","singlePlaceholder","multipleSelections","AllowClear","_handleClear","_handleKeyboardClear","$clear","unselectData","prevented","Search","$search","$searchContainer","_keyUpPrevented","$previousChoice","searchRemoveChoice","handleSearch","resizeSearch","input","term","minimumWidth","EventRelay","relayEvents","preventableEvents","Translation","dict","translation","_cache","loadPath","translations","diacritics","Ⓐ","Ａ","À","Á","Â","Ầ","Ấ","Ẫ","Ẩ","Ã","Ā","Ă","Ằ","Ắ","Ẵ","Ẳ","Ȧ","Ǡ","Ä","Ǟ","Ả","Å","Ǻ","Ǎ","Ȁ","Ȃ","Ạ","Ậ","Ặ","Ḁ","Ą","Ⱥ","Ɐ","Ꜳ","Æ","Ǽ","Ǣ","Ꜵ","Ꜷ","Ꜹ","Ꜻ","Ꜽ","Ⓑ","Ｂ","Ḃ","Ḅ","Ḇ","Ƀ","Ƃ","Ɓ","Ⓒ","Ｃ","Ć","Ĉ","Ċ","Č","Ç","Ḉ","Ƈ","Ȼ","Ꜿ","Ⓓ","Ｄ","Ḋ","Ď","Ḍ","Ḑ","Ḓ","Ḏ","Đ","Ƌ","Ɗ","Ɖ","Ꝺ","Ǳ","Ǆ","ǲ","ǅ","Ⓔ","Ｅ","È","É","Ê","Ề","Ế","Ễ","Ể","Ẽ","Ē","Ḕ","Ḗ","Ĕ","Ė","Ë","Ẻ","Ě","Ȅ","Ȇ","Ẹ","Ệ","Ȩ","Ḝ","Ę","Ḙ","Ḛ","Ɛ","Ǝ","Ⓕ","Ｆ","Ḟ","Ƒ","Ꝼ","Ⓖ","Ｇ","Ǵ","Ĝ","Ḡ","Ğ","Ġ","Ǧ","Ģ","Ǥ","Ɠ","Ꞡ","Ᵹ","Ꝿ","Ⓗ","Ｈ","Ĥ","Ḣ","Ḧ","Ȟ","Ḥ","Ḩ","Ḫ","Ħ","Ⱨ","Ⱶ","Ɥ","Ⓘ","Ｉ","Ì","Í","Î","Ĩ","Ī","Ĭ","İ","Ï","Ḯ","Ỉ","Ǐ","Ȉ","Ȋ","Ị","Į","Ḭ","Ɨ","Ⓙ","Ｊ","Ĵ","Ɉ","Ⓚ","Ｋ","Ḱ","Ǩ","Ḳ","Ķ","Ḵ","Ƙ","Ⱪ","Ꝁ","Ꝃ","Ꝅ","Ꞣ","Ⓛ","Ｌ","Ŀ","Ĺ","Ľ","Ḷ","Ḹ","Ļ","Ḽ","Ḻ","Ł","Ƚ","Ɫ","Ⱡ","Ꝉ","Ꝇ","Ꞁ","Ǉ","ǈ","Ⓜ","Ｍ","Ḿ","Ṁ","Ṃ","Ɱ","Ɯ","Ⓝ","Ｎ","Ǹ","Ń","Ñ","Ṅ","Ň","Ṇ","Ņ","Ṋ","Ṉ","Ƞ","Ɲ","Ꞑ","Ꞥ","Ǌ","ǋ","Ⓞ","Ｏ","Ò","Ó","Ô","Ồ","Ố","Ỗ","Ổ","Õ","Ṍ","Ȭ","Ṏ","Ō","Ṑ","Ṓ","Ŏ","Ȯ","Ȱ","Ö","Ȫ","Ỏ","Ő","Ǒ","Ȍ","Ȏ","Ơ","Ờ","Ớ","Ỡ","Ở","Ợ","Ọ","Ộ","Ǫ","Ǭ","Ø","Ǿ","Ɔ","Ɵ","Ꝋ","Ꝍ","Ƣ","Ꝏ","Ȣ","Ⓟ","Ｐ","Ṕ","Ṗ","Ƥ","Ᵽ","Ꝑ","Ꝓ","Ꝕ","Ⓠ","Ｑ","Ꝗ","Ꝙ","Ɋ","Ⓡ","Ｒ","Ŕ","Ṙ","Ř","Ȑ","Ȓ","Ṛ","Ṝ","Ŗ","Ṟ","Ɍ","Ɽ","Ꝛ","Ꞧ","Ꞃ","Ⓢ","Ｓ","ẞ","Ś","Ṥ","Ŝ","Ṡ","Š","Ṧ","Ṣ","Ṩ","Ș","Ş","Ȿ","Ꞩ","Ꞅ","Ⓣ","Ｔ","Ṫ","Ť","Ṭ","Ț","Ţ","Ṱ","Ṯ","Ŧ","Ƭ","Ʈ","Ⱦ","Ꞇ","Ꜩ","Ⓤ","Ｕ","Ù","Ú","Û","Ũ","Ṹ","Ū","Ṻ","Ŭ","Ü","Ǜ","Ǘ","Ǖ","Ǚ","Ủ","Ů","Ű","Ǔ","Ȕ","Ȗ","Ư","Ừ","Ứ","Ữ","Ử","Ự","Ụ","Ṳ","Ų","Ṷ","Ṵ","Ʉ","Ⓥ","Ｖ","Ṽ","Ṿ","Ʋ","Ꝟ","Ʌ","Ꝡ","Ⓦ","Ｗ","Ẁ","Ẃ","Ŵ","Ẇ","Ẅ","Ẉ","Ⱳ","Ⓧ","Ｘ","Ẋ","Ẍ","Ⓨ","Ｙ","Ỳ","Ý","Ŷ","Ỹ","Ȳ","Ẏ","Ÿ","Ỷ","Ỵ","Ƴ","Ɏ","Ỿ","Ⓩ","Ｚ","Ź","Ẑ","Ż","Ž","Ẓ","Ẕ","Ƶ","Ȥ","Ɀ","Ⱬ","Ꝣ","ⓐ","ａ","ẚ","à","á","â","ầ","ấ","ẫ","ẩ","ã","ā","ă","ằ","ắ","ẵ","ẳ","ȧ","ǡ","ä","ǟ","ả","å","ǻ","ǎ","ȁ","ȃ","ạ","ậ","ặ","ḁ","ą","ⱥ","ɐ","ꜳ","æ","ǽ","ǣ","ꜵ","ꜷ","ꜹ","ꜻ","ꜽ","ⓑ","ｂ","ḃ","ḅ","ḇ","ƀ","ƃ","ɓ","ⓒ","ｃ","ć","ĉ","ċ","č","ç","ḉ","ƈ","ȼ","ꜿ","ↄ","ⓓ","ｄ","ḋ","ď","ḍ","ḑ","ḓ","ḏ","đ","ƌ","ɖ","ɗ","ꝺ","ǳ","ǆ","ⓔ","ｅ","è","é","ê","ề","ế","ễ","ể","ẽ","ē","ḕ","ḗ","ĕ","ė","ë","ẻ","ě","ȅ","ȇ","ẹ","ệ","ȩ","ḝ","ę","ḙ","ḛ","ɇ","ɛ","ǝ","ⓕ","ｆ","ḟ","ƒ","ꝼ","ⓖ","ｇ","ǵ","ĝ","ḡ","ğ","ġ","ǧ","ģ","ǥ","ɠ","ꞡ","ᵹ","ꝿ","ⓗ","ｈ","ĥ","ḣ","ḧ","ȟ","ḥ","ḩ","ḫ","ẖ","ħ","ⱨ","ⱶ","ɥ","ƕ","ⓘ","ｉ","ì","í","î","ĩ","ī","ĭ","ï","ḯ","ỉ","ǐ","ȉ","ȋ","ị","į","ḭ","ɨ","ı","ⓙ","ｊ","ĵ","ǰ","ɉ","ⓚ","ｋ","ḱ","ǩ","ḳ","ķ","ḵ","ƙ","ⱪ","ꝁ","ꝃ","ꝅ","ꞣ","ⓛ","ｌ","ŀ","ĺ","ľ","ḷ","ḹ","ļ","ḽ","ḻ","ſ","ł","ƚ","ɫ","ⱡ","ꝉ","ꞁ","ꝇ","ǉ","ⓜ","ｍ","ḿ","ṁ","ṃ","ɱ","ɯ","ⓝ","ｎ","ǹ","ń","ñ","ṅ","ň","ṇ","ņ","ṋ","ṉ","ƞ","ɲ","ŉ","ꞑ","ꞥ","ǌ","ⓞ","ｏ","ò","ó","ô","ồ","ố","ỗ","ổ","õ","ṍ","ȭ","ṏ","ō","ṑ","ṓ","ŏ","ȯ","ȱ","ö","ȫ","ỏ","ő","ǒ","ȍ","ȏ","ơ","ờ","ớ","ỡ","ở","ợ","ọ","ộ","ǫ","ǭ","ø","ǿ","ɔ","ꝋ","ꝍ","ɵ","ƣ","ȣ","ꝏ","ⓟ","ｐ","ṕ","ṗ","ƥ","ᵽ","ꝑ","ꝓ","ꝕ","ⓠ","ｑ","ɋ","ꝗ","ꝙ","ⓡ","ｒ","ŕ","ṙ","ř","ȑ","ȓ","ṛ","ṝ","ŗ","ṟ","ɍ","ɽ","ꝛ","ꞧ","ꞃ","ⓢ","ｓ","ß","ś","ṥ","ŝ","ṡ","š","ṧ","ṣ","ṩ","ș","ş","ȿ","ꞩ","ꞅ","ẛ","ⓣ","ｔ","ṫ","ẗ","ť","ṭ","ț","ţ","ṱ","ṯ","ŧ","ƭ","ʈ","ⱦ","ꞇ","ꜩ","ⓤ","ｕ","ù","ú","û","ũ","ṹ","ū","ṻ","ŭ","ü","ǜ","ǘ","ǖ","ǚ","ủ","ů","ű","ǔ","ȕ","ȗ","ư","ừ","ứ","ữ","ử","ự","ụ","ṳ","ų","ṷ","ṵ","ʉ","ⓥ","ｖ","ṽ","ṿ","ʋ","ꝟ","ʌ","ꝡ","ⓦ","ｗ","ẁ","ẃ","ŵ","ẇ","ẅ","ẘ","ẉ","ⱳ","ⓧ","ｘ","ẋ","ẍ","ⓨ","ｙ","ỳ","ý","ŷ","ỹ","ȳ","ẏ","ÿ","ỷ","ẙ","ỵ","ƴ","ɏ","ỿ","ⓩ","ｚ","ź","ẑ","ż","ž","ẓ","ẕ","ƶ","ȥ","ɀ","ⱬ","ꝣ","Ά","Έ","Ή","Ί","Ϊ","Ό","Ύ","Ϋ","Ώ","ά","έ","ή","ί","ϊ","ΐ","ό","ύ","ϋ","ΰ","ω","ς","BaseAdapter","generateResultId","SelectAdapter","currentData","unselect","matches","addOptions","innerText","normalizedData","_normalizeItem","isPlainObject","matcher","ArrayAdapter","convertToOptions","elm","onlyItem","$existing","existingIds","$existingOption","existingData","$newOption","AjaxAdapter","ajaxOptions","_applyDefaults","processResults","transport","success","failure","$request","request","_request","abort","_queryTimeout","Tags","tags","createTag","tag","checkChildren","checkText","insertTag","_removeOldTags","page","_lastTag","Tokenizer","tokenizer","tokenData","separators","termChar","partParams","MinimumInputLength","minimumInputLength","minimum","MaximumInputLength","maximumInputLength","maximum","MaximumSelectionLength","maximumSelectionLength","showSearch","HidePlaceholder","removePlaceholder","modifiedData","InfiniteScroll","lastParams","$loadingMore","createLoadingMore","showLoadingMore","isLoadMoreVisible","loadingMoreOffset","loadMore","pagination","AttachBody","$dropdownParent","setupResultsEvents","_showDropdown","_attachPositioningHandler","_positionDropdown","_resizeDropdown","_hideDropdown","_detachPositioningHandler","$dropdownContainer","scrollEvent","resizeEvent","orientationEvent","$watchers","ev","isCurrentlyAbove","isCurrentlyBelow","newDirection","enoughRoomAbove","enoughRoomBelow","minWidth","countResults","MinimumResultsForSearch","minimumResultsForSearch","Infinity","SelectOnClose","_handleSelectOnClose","$highlightedResults","CloseOnSelect","_selectTriggered","errorLoading","inputTooLong","overChars","inputTooShort","remainingChars","maximumSelected","noResults","searching","ResultsList","SelectionSearch","DIACRITICS","SelectData","ArrayData","AjaxData","DropdownSearch","EnglishTranslation","Defaults","tokenSeparators","Query","amdBase","initSelection","InitSelection","resultsAdapter","selectOnClose","dropdownAdapter","multiple","SearchableDropdown","closeOnSelect","dropdownCssClass","dropdownCss","adaptDropdownCssClass","DropdownCSS","selectionAdapter","allowClear","containerCssClass","containerCss","adaptContainerCssClass","ContainerCSS","language","languageParts","baseLanguage","languages","languageNames","amdLanguageBase","baseTranslation","customTranslation","stripDiacritics","dropdownAutoWidth","templateResult","templateSelection","theme","camelKey","convertedData","Options","fromElement","InputCompat","excludedData","dir","dataset","Select2","_generateId","DataAdapter","_placeContainer","SelectionAdapter","DropdownAdapter","ResultsAdapter","_bindAdapters","_registerDomEvents","_registerDataEvents","_registerSelectionEvents","_registerDropdownEvents","_registerResultsEvents","_registerEvents","initialData","_syncAttributes","_resolveWidth","WIDTH","styleWidth","elementWidth","_sync","observer","MutationObserver","WebKitMutationObserver","MozMutationObserver","_observer","mutations","observe","subtree","nonRelayEvents","toggleDropdown","actualTrigger","preTriggerMap","preTriggerName","preTriggerArgs","newVal","disconnect","thisMethods","instanceOptions","instance","partial","hidden","$t","$w","viewTop","viewBottom","_top","_bottom","compareTop","compareBottom","clientSize","bootbox","_t","locales","en","processCallback","preserveDialog","getKeyLength","iterator","sanitize","mapArguments","argn","mergeArguments","mergeDialogOptions","labels","baseOptions","createLabels","validateButtons","argument","allowedButtons","templates","header","closeButton","form","inputs","textarea","email","checkbox","number","password","onEscape","confirm","cancel","prompt","shouldShow","inputOptions","inputType","checkedItems","groups","innerDialog","buttonStr","callbackKey","setDefaults","hideAll","bg_BG","OK","CANCEL","CONFIRM","br","cs","et","fi","fr","he","hu","lt","lv","nl","no","pl","pt","ru","sq","sv","th","tr","zh_CN","zh_TW","addLocale","removeLocale","setLocale","Chart","ctx","computeDimension","aspectRatio","helpers","retinaScale","animationSteps","animationEasing","showScale","scaleOverride","scaleSteps","scaleStepWidth","scaleStartValue","scaleLineColor","scaleLineWidth","scaleShowLabels","scaleLabel","scaleIntegersOnly","scaleBeginAtZero","scaleFontFamily","scaleFontSize","scaleFontStyle","scaleFontColor","responsive","maintainAspectRatio","showTooltips","customTooltips","tooltipEvents","tooltipFillColor","tooltipFontFamily","tooltipFontSize","tooltipFontStyle","tooltipFontColor","tooltipTitleFontFamily","tooltipTitleFontSize","tooltipTitleFontStyle","tooltipTitleFontColor","tooltipYPadding","tooltipXPadding","tooltipCaretSize","tooltipCornerRadius","tooltipXOffset","tooltipTemplate","multiTooltipTemplate","multiTooltipKeyBackground","onAnimationProgress","onAnimationComplete","types","loopable","additionalArgs","objClone","base","extensionObject","master","arrayToSearch","inherits","where","filterCallback","filtered","findNextWhere","startIndex","currentItem","findPreviousWhere","extensions","ChartElement","Surrogate","noop","uid","isNumber","getDecimalPlaces","cap","valueToCap","maxValue","minValue","num","toRadians","radians","degrees","aliasPixel","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","distance","pixelWidth","calculateOrderOfMagnitude","splineCurve","FirstPoint","MiddlePoint","AfterPoint","d01","d12","inner","outer","LN10","calculateScaleRange","valuesArray","drawingSize","textSize","startFromZero","integersOnly","minSteps","maxSteps","skipFitting","valueRange","rangeOrderOfMagnitude","graphMax","graphMin","graphRange","stepValue","numberOfSteps","steps","templateString","valuesObject","tmpl","easingEffects","generateLabels","labelsArray","labelTemplateString","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","cancelAnimFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","animationLoop","totalSteps","easingString","onProgress","onComplete","chartInstance","currentStep","easingFunction","animationFrame","stepDecimal","easeDecimal","getRelativePosition","mouseX","mouseY","srcElement","boundingRect","eventType","removeEvent","unbindEvents","bindEvents","arrayOfEvents","chart","getMaximumWidth","domNode","getMaximumHeight","getMaximumSize","devicePixelRatio","clearRect","fontString","pixelSize","fontStyle","fontFamily","longestText","arrayOfStrings","longest","textWidth","measureText","drawRoundedRectangle","radius","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","instances","Type","initialize","newWidth","newHeight","reflow","generateLegend","legendTemplate","removeProperty","showTooltip","ChartElements","forceRedraw","activeElements","isChanged","Elements","datasets","dataArray","dataIndex","bars","segments","tooltipLabels","tooltipColors","medianPosition","dataCollection","xMax","yMax","xMin","yMin","xPositions","yPositions","hasValue","_saved","fillColor","strokeColor","MultiTooltip","xPadding","yPadding","xOffset","textColor","titleTextColor","titleFontFamily","titleFontStyle","titleFontSize","cornerRadius","legendColors","legendColorBackground","custom","tooltipPosition","caretHeight","toBase64Image","toDataURL","ChartType","chartName","baseDefaults","configuration","restore","newProps","ease","Point","inRange","chartX","chartY","hitDetectionRange","hitDetectionRadius","arc","strokeStyle","lineWidth","fillStyle","Arc","pointRelativePosition","betweenAngles","startAngle","endAngle","withinRadius","innerRadius","outerRadius","centreAngle","rangeFromCentre","animationPercent","lineJoin","showStroke","Rectangle","halfWidth","leftX","rightX","halfStroke","xAlign","yAlign","caretPadding","tooltipWidth","tooltipRectHeight","tooltipHeight","tooltipX","tooltipY","textAlign","textBaseline","fillText","titleFont","titleWidth","labelWidth","longestTextWidth","halfHeight","getLineHeight","baseLineHeight","afterTitleIndex","fillRect","Scale","fit","buildYLabels","yLabels","stepDecimalPlaces","yLabelWidth","showLabels","addXLabel","xLabels","valuesCount","removeXLabel","cachedYLabelWidth","cachedHeight","calculateYRange","calculateXLabelRotation","firstRotated","lastRotated","firstWidth","lastWidth","xScalePaddingRight","xScalePaddingLeft","xLabelRotation","cosRotation","originalLabelWidth","xLabelWidth","xGridWidth","calculateX","drawingArea","calculateY","scalingFactor","valueWidth","valueOffset","offsetGridLines","yLabelGap","xStart","labelString","yLabelCenter","linePositionY","drawHorizontalLine","showHorizontalLines","gridLineWidth","gridLineColor","lineColor","xPos","linePos","isRotated","drawVerticalLine","showVerticalLines","RadialScale","backdropPaddingY","calculateCenterOffset","lineArc","setScaleSize","getCircumference","pointPosition","halfTextWidth","furthestRightIndex","furthestRightAngle","furthestLeftIndex","furthestLeftAngle","xProtrusionLeft","xProtrusionRight","radiusReductionRight","radiusReductionLeft","largestPossibleRadius","pointLabelFontSize","furthestRight","furthestLeft","pointLabelFontStyle","pointLabelFontFamily","getPointPosition","getIndexAngle","setCenterPoint","leftMovement","rightMovement","maxRight","maxLeft","xCenter","yCenter","angleMultiplier","distanceFromCenter","thisAngle","yCenterOffset","yHeight","showLabelBackdrop","backdropColor","backdropPaddingX","fontColor","angleLineWidth","angleLineColor","outerPosition","pointLabelPosition","pointLabelFontColor","labelsCount","halfLabelsCount","quarterLabelsCount","upperHalf","exactQuarter","defaultConfig","scaleShowGridLines","scaleGridLineColor","scaleGridLineWidth","scaleShowHorizontalLines","scaleShowVerticalLines","barShowStroke","barStrokeWidth","barValueSpacing","barDatasetSpacing","ScaleClass","calculateBarX","datasetCount","datasetIndex","barIndex","xWidth","calculateBaseWidth","xAbsolute","barWidth","calculateBarWidth","baseWidth","activeBars","getBarsAtEvent","eachBars","bar","activeBar","highlightFill","highlightStroke","BarClass","datasetObject","dataPoint","datasetLabel","buildScale","activeElement","barsArray","eventPosition","datasetIterator","dataTotal","scaleOptions","beginAtZero","currentHeight","updatedRanges","addData","newScaleProps","easingDecimal","segmentShowStroke","segmentStrokeColor","segmentStrokeWidth","percentageInnerCutout","animateRotate","animateScale","SegmentArc","activeSegments","getSegmentsAtEvent","segment","activeSegment","highlightColor","calculateTotal","datapoint","segmentsArray","location","atIndex","silent","highlight","circumference","calculateCircumference","indexToDelete","animDecimal","Doughnut","bezierCurve","bezierCurveTension","pointDot","pointDotRadius","pointDotStrokeWidth","pointHitDetectionRadius","datasetStroke","datasetStrokeWidth","datasetFill","PointClass","activePoints","getPointsAtEvent","eachPoints","activePoint","pointColor","pointStrokeColor","pointHighlightFill","pointHighlightStroke","pointsArray","previousPoint","pointsWithValues","tension","controlPoints","bezierCurveTo","scaleShowLabelBackdrop","scaleBackdropColor","scaleBackdropPaddingY","scaleBackdropPaddingX","scaleShowLine","updateScaleRange","datapoints","scaleSizes","angleShowLineOut","activePointsCollection","mousePosition","fromCenter","anglePerIndex","pointIndex","totalDataArray","Owl","owlCarousel","author","settings","itemData","_supress","_current","_speed","_coordinates","Plugins","isStyleSupported","fake","isTransition","isTransform","isPerspective","isTouchSupport","isTouchSupportIE","msPointerEnabled","indexAbs","posLeft","loaded","lazyLoad","hasVideo","playVideo","stage","$stage","oStage","$oStage","$oItems","$cItems","prevWindow","cloneLast","oItems","cItems","merged","startX","startY","currentX","currentY","startTime","endTime","updatedX","targetEl","isTouch","isScrolling","isSwiping","inMotion","_onDragStart","_onDragMove","_onDragEnd","_transitionEnd","_resizer","_responsiveCall","_goToLoop","_checkVisibile","loop","mouseDrag","touchDrag","pullDrag","freeDrag","margin","stagePadding","mergeFit","autoWidth","startPosition","smartSpeed","fluidSpeed","dragEndSpeed","responsiveRefreshRate","responsiveBaseElement","responsiveClass","fallbackEasing","nestedItemSelector","itemElement","stageElement","themeClass","baseClass","itemClass","centerClass","activeClass","setResponsiveOptions","rtl","browserSupport","imagesLoaded","imgs","nestedSelector","preloadAutoWidthImages","createStage","fetchContent","eventsCall","internalEvents","addTriggerableEvents","overwrites","breakpoint","Number","optionsLogic","createItemContainer","extContent","initStructure","createNormalStructure","$item","initializeItemContainer","createCustomStructure","howManyItems","createItemContainerData","property","cloneItemContainer","$clone","updateLocalContent","loopClone","reClone","calculate","elMinusMargin","dist","allItems","iWidth","mergeNumber","fullWidth","view","mergeStage","marginRight","setSizes","stagePrev","elChanged","isElWidthChanged","orientation","watchVisibility","updateActiveItems","ipos","iwidth","outsideView","stageX","coordinates","updateClonedItemsState","onDragStart","onDragMove","onDragEnd","responsiveTimer","_preventClick","preventClick","resizeTimer","isTouchIE","dragType","onselectstart","transitionEndVendor","dragEvents","isTouchEvent","animatedPos","support3d","getTransformProperty","pull","compareTimes","distanceAbs","removeClick","matrix3d","vendorName","coordinate","suppress","release","relative","revert","factor","eventTarget","originalTarget","newElWidth","prevElWidth","insertContent","addItem","removeItem","isElVisible","checkVisible","Image","unwrap","listener","capture","grep","onTrigger","transformVendor","endVendors","Zepto","LazyLoad","owl","changed.owl.carousel","check","images","srcType","getOwnPropertyNames","AutoHeight","autoHeight","setHeight","autoHeightClass","isLoaded","iterations","Video","resize.owl.carousel","video","isInFullScreen","refresh.owl.carousel changed.owl.carousel","videoPlay","stopVideo","refresh.owl.carousel refreshed.owl.carousel","refreshing","checkVideoLinks","videoHeight","videoWidth","videoEl","hasVideos","getVideoInfo","dimensions","vimeoId","youTubeId","videoType","videoId","createVideoTn","addThumbnail","tnPath","icon","tnLink","lazyClass","customTn","jsonp","dataType","thumbnail_large","videoPlayIndex","videoLink","videoWrap","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","isFullScreen","Animate","swapping","change.owl.carousel","drag.owl.carousel dragged.owl.carousel translated.owl.carousel","translate.owl.carousel","animateOut","animateIn","swap","incoming","outgoing","Autoplay","translated.owl.carousel refreshed.owl.carousel","autoplay","play.owl.autoplay","play","stop.owl.autoplay","mouseover.owl.autoplay","autoplayHoverPause","mouseleave.owl.autoplay","autoplayTimeout","autoplaySpeed","Navigation","initialized","pages","controls","overrides","filling","dot","andSelf","navRewind","dotsData","refreshed.owl.carousel","nav","navText","navSpeed","navElement","navContainer","navContainerClass","navClass","slideBy","dotClass","dotsClass","dotsEach","dotData","dotsSpeed","dotsContainer","controlsClass","override","overides","lower","upper","difference","successor","standard","Hash","hashes","initialized.owl.carousel","hash","URLhashListener","project","die"],"mappings":"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AU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU;AACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IAGZ,OAAOv0B,KAGTpM,EAAG35E,OAAO,qBACR,YACC,SAAU48E,GACX,QAAS29B,GAAajwH,EAAUL,GAC9BswH,EAAYr9B,UAAUnoF,YAAYtM,KAAK9G,MAkCzC,MA/BAi7F,GAAMC,OAAO09B,EAAa39B,EAAMoB,YAEhCu8B,EAAYxxH,UAAUgiD,QAAU,SAAU3jD,GACxC,KAAM,IAAItB,OAAM,2DAGlBy0H,EAAYxxH,UAAUwmB,MAAQ,SAAU/I,EAAQpf,GAC9C,KAAM,IAAItB,OAAM,yDAGlBy0H,EAAYxxH,UAAUmkC,KAAO,SAAUx4B,EAAWqC,KAIlDwjH,EAAYxxH,UAAUyQ,QAAU,aAIhC+gH,EAAYxxH,UAAUyxH,iBAAmB,SAAU9lH,EAAWnM,GAC5D,GAAIhI,GAAKmU,EAAUnU,GAAK,UASxB,OAPAA,IAAMq8F,EAAMqB,cAAc,GAGxB19F,GADa,MAAXgI,EAAKhI,GACD,IAAMgI,EAAKhI,GAAGsf,WAEd,IAAM+8E,EAAMqB,cAAc,IAK7Bs8B,IAGT5gC,EAAG35E,OAAO,uBACR,SACA,WACA,UACC,SAAUu6G,EAAa39B,EAAOz7F,GAC/B,QAASs5H,GAAenwH,EAAUL,GAChCtI,KAAK2I,SAAWA,EAChB3I,KAAKsI,QAAUA,EAEfwwH,EAAcv9B,UAAUnoF,YAAYtM,KAAK9G,MAkR3C,MA/QAi7F,GAAMC,OAAO49B,EAAeF,GAE5BE,EAAc1xH,UAAUgiD,QAAU,SAAU3jD,GAC1C,GAAImB,MACAsN,EAAOlU,IAEXA,MAAK2I,SAASc,KAAK,aAAahK,KAAK,WACnC,GAAI6+F,GAAU9+F,EAAEQ,MAEZ0G,EAASwN,EAAK3I,KAAK+yF,EAEvB13F,GAAK1H,KAAKwH,KAGZjB,EAASmB,IAGXkyH,EAAc1xH,UAAUwf,OAAS,SAAUhgB,GACzC,GAAIsN,GAAOlU,IAKX,IAHA4G,EAAK+3F,UAAW,EAGZn/F,EAAEoH,EAAK8B,SAASrC,GAAG,UAKrB,MAJAO,GAAK8B,QAAQi2F,UAAW,MAExB3+F,MAAK2I,SAASjD,QAAQ,SAKxB,IAAI1F,KAAK2I,SAASe,KAAK,YACrB1J,KAAKopD,QAAQ,SAAU2vE,GACrB,GAAI7vH,KAEJtC,IAAQA,GACRA,EAAK1H,KAAKgC,MAAM0F,EAAMmyH,EAEtB,KAAK,GAAI9vH,GAAI,EAAGA,EAAIrC,EAAKgB,OAAQqB,IAAK,CACpC,GAAIrK,GAAKgI,EAAKqC,GAAGrK,EAEU,MAAvBY,EAAEylD,QAAQrmD,EAAIsK,IAChBA,EAAIhK,KAAKN,GAIbsV,EAAKvL,SAASO,IAAIA,GAClBgL,EAAKvL,SAASjD,QAAQ,gBAEnB,CACL,GAAIwD,GAAMtC,EAAKhI,EAEfoB,MAAK2I,SAASO,IAAIA,GAClBlJ,KAAK2I,SAASjD,QAAQ,YAI1BozH,EAAc1xH,UAAU4xH,SAAW,SAAUpyH,GAC3C,GAAIsN,GAAOlU,IAEX,IAAKA,KAAK2I,SAASe,KAAK,YAMxB,MAFA9C,GAAK+3F,UAAW,EAEZn/F,EAAEoH,EAAK8B,SAASrC,GAAG,WACrBO,EAAK8B,QAAQi2F,UAAW,MAExB3+F,MAAK2I,SAASjD,QAAQ,eAKxB1F,MAAKopD,QAAQ,SAAU2vE,GAGrB,IAAK,GAFD7vH,MAEKD,EAAI,EAAGA,EAAI8vH,EAAYnxH,OAAQqB,IAAK,CAC3C,GAAIrK,GAAKm6H,EAAY9vH,GAAGrK,EAEpBA,KAAOgI,EAAKhI,IAA6B,KAAvBY,EAAEylD,QAAQrmD,EAAIsK,IAClCA,EAAIhK,KAAKN,GAIbsV,EAAKvL,SAASO,IAAIA,GAElBgL,EAAKvL,SAASjD,QAAQ,aAI1BozH,EAAc1xH,UAAUmkC,KAAO,SAAUx4B,EAAWqC,GAClD,GAAIlB,GAAOlU,IAEXA,MAAK+S,UAAYA,EAEjBA,EAAU/L,GAAG,SAAU,SAAU6d,GAC/B3Q,EAAK0S,OAAO/B,EAAOje,QAGrBmM,EAAU/L,GAAG,WAAY,SAAU6d,GACjC3Q,EAAK8kH,SAASn0G,EAAOje,SAIzBkyH,EAAc1xH,UAAUyQ,QAAU,WAEhC7X,KAAK2I,SAASc,KAAK,KAAKhK,KAAK,WAE3BD,EAAEsY,WAAW9X,KAAM,WAIvB84H,EAAc1xH,UAAUwmB,MAAQ,SAAU/I,EAAQpf,GAChD,GAAImB,MACAsN,EAAOlU,KAEPq+F,EAAWr+F,KAAK2I,SAAS8C,UAE7B4yF,GAAS5+F,KAAK,WACZ,GAAI6+F,GAAU9+F,EAAEQ,KAEhB,IAAKs+F,EAAQj4F,GAAG,WAAci4F,EAAQj4F,GAAG,YAAzC,CAIA,GAAIK,GAASwN,EAAK3I,KAAK+yF,GAEnB26B,EAAU/kH,EAAK+kH,QAAQp0G,EAAQne,EAEnB,QAAZuyH,GACFryH,EAAK1H,KAAK+5H,MAIdxzH,GACEuuC,QAASptC,KAIbkyH,EAAc1xH,UAAU8xH,WAAa,SAAU76B,GAC7CpD,EAAMyC,WAAW19F,KAAK2I,SAAU01F,IAGlCy6B,EAAc1xH,UAAUV,OAAS,SAAUE,GACzC,GAAIF,EAEAE,GAAK6E,UACP/E,EAAShC,SAASC,cAAc,YAChC+B,EAAO2rE,MAAQzrE,EAAK4b,OAEpB9b,EAAShC,SAASC,cAAc,UAELM,SAAvByB,EAAOk1B,YACTl1B,EAAOk1B,YAAch1B,EAAK4b,KAE1B9b,EAAOyyH,UAAYvyH,EAAK4b,MAIxB5b,EAAKhI,KACP8H,EAAOsN,MAAQpN,EAAKhI,IAGlBgI,EAAKq4F,WACPv4F,EAAOu4F,UAAW,GAGhBr4F,EAAK+3F,WACPj4F,EAAOi4F,UAAW,GAGhB/3F,EAAKgM,QACPlM,EAAOkM,MAAQhM,EAAKgM,MAGtB,IAAI0rF,GAAU9+F,EAAEkH,GAEZ0yH,EAAiBp5H,KAAKq5H,eAAezyH,EAMzC,OALAwyH,GAAe1wH,QAAUhC,EAGzBlH,EAAEoH,KAAKF,EAAQ,OAAQ0yH,GAEhB96B,GAGTw6B,EAAc1xH,UAAUmE,KAAO,SAAU+yF,GACvC,GAAI13F,KAIJ,IAFAA,EAAOpH,EAAEoH,KAAK03F,EAAQ,GAAI,QAEd,MAAR13F,EACF,MAAOA,EAGT,IAAI03F,EAAQj4F,GAAG,UACbO,GACEhI,GAAI0/F,EAAQp1F,MACZsZ,KAAM87E,EAAQ97E,OACdy8E,SAAUX,EAAQ50F,KAAK,YACvBi1F,SAAUL,EAAQ50F,KAAK,YACvBkJ,MAAO0rF,EAAQ50F,KAAK,cAEjB,IAAI40F,EAAQj4F,GAAG,YAAa,CACjCO,GACE4b,KAAM87E,EAAQ50F,KAAK,SACnB+B,YACAmH,MAAO0rF,EAAQ50F,KAAK,SAMtB,KAAK,GAHD41F,GAAYhB,EAAQ7yF,SAAS,UAC7BA,KAEK2hB,EAAI,EAAGA,EAAIkyE,EAAU13F,OAAQwlB,IAAK,CACzC,GAAImyE,GAAS//F,EAAE8/F,EAAUlyE,IAErBs8B,EAAQ1pD,KAAKuL,KAAKg0F,EAEtB9zF,GAASvM,KAAKwqD,GAGhB9iD,EAAK6E,SAAWA,EAQlB,MALA7E,GAAO5G,KAAKq5H,eAAezyH,GAC3BA,EAAK8B,QAAU41F,EAAQ,GAEvB9+F,EAAEoH,KAAK03F,EAAQ,GAAI,OAAQ13F,GAEpBA,GAGTkyH,EAAc1xH,UAAUiyH,eAAiB,SAAU9tH,GAC5C/L,EAAE85H,cAAc/tH,KACnBA,GACE3M,GAAI2M,EACJiX,KAAMjX,IAIVA,EAAO/L,EAAEoJ,WACP4Z,KAAM,IACLjX,EAEH,IAAIuI,IACF6qF,UAAU,EACVM,UAAU,EAeZ,OAZe,OAAX1zF,EAAK3M,KACP2M,EAAK3M,GAAK2M,EAAK3M,GAAGsf,YAGH,MAAb3S,EAAKiX,OACPjX,EAAKiX,KAAOjX,EAAKiX,KAAKtE,YAGF,MAAlB3S,EAAK8zF,WAAqB9zF,EAAK3M,IAAwB,MAAlBoB,KAAK+S,YAC5CxH,EAAK8zF,UAAYr/F,KAAK64H,iBAAiB74H,KAAK+S,UAAWxH,IAGlD/L,EAAEoJ,UAAWkL,EAAUvI,IAGhCutH,EAAc1xH,UAAU6xH,QAAU,SAAUp0G,EAAQje,GAClD,GAAI2yH,GAAUv5H,KAAKsI,QAAQ4X,IAAI,UAE/B,OAAOq5G,GAAQ10G,EAAQje,IAGlBkyH,IAGT9gC,EAAG35E,OAAO,sBACR,WACA,WACA,UACC,SAAUy6G,EAAe79B,EAAOz7F,GACjC,QAASg6H,GAAc7wH,EAAUL,GAC/B,GAAI1B,GAAO0B,EAAQ4X,IAAI,WAEvBs5G,GAAaj+B,UAAUnoF,YAAYtM,KAAK9G,KAAM2I,EAAUL,GAExDtI,KAAKk5H,WAAWl5H,KAAKy5H,iBAAiB7yH,IAmExC,MAhEAq0F,GAAMC,OAAOs+B,EAAcV,GAE3BU,EAAapyH,UAAUwf,OAAS,SAAUhgB,GACxC,GAAI03F,GAAUt+F,KAAK2I,SAASc,KAAK,UAAUkrB,OAAO,SAAUxmB,EAAGurH,GAC7D,MAAOA,GAAI1lH,OAASpN,EAAKhI,GAAGsf,YAGP,KAAnBogF,EAAQ12F,SACV02F,EAAUt+F,KAAK0G,OAAOE,GAEtB5G,KAAKk5H,WAAW56B,IAGlBk7B,EAAaj+B,UAAU30E,OAAO9f,KAAK9G,KAAM4G,IAG3C4yH,EAAapyH,UAAUqyH,iBAAmB,SAAU7yH,GAWlD,QAAS+yH,GAAUpuH,GACjB,MAAO,YACL,MAAO/L,GAAEQ,MAAMkJ,OAASqC,EAAK3M,IAIjC,IAAK,GAhBDsV,GAAOlU,KAEP45H,EAAY55H,KAAK2I,SAASc,KAAK,UAC/BowH,EAAcD,EAAU12H,IAAI,WAC9B,MAAOgR,GAAK3I,KAAK/L,EAAEQ,OAAOpB,KACzBshB,MAECm+E,KASKp1F,EAAI,EAAGA,EAAIrC,EAAKgB,OAAQqB,IAAK,CACpC,GAAIsC,GAAOvL,KAAKq5H,eAAezyH,EAAKqC,GAGpC,IAAIzJ,EAAEylD,QAAQ15C,EAAK3M,GAAIi7H,IAAgB,EAAvC,CACE,GAAIC,GAAkBF,EAAUjlG,OAAOglG,EAASpuH,IAE5CwuH,EAAe/5H,KAAKuL,KAAKuuH,GAGzBE,GAFUx6H,EAAEoJ,QAAO,KAAUmxH,EAAcxuH,GAE9BvL,KAAK0G,OAAOqzH,GAE7BD,GAAgBzrD,YAAY2rD,OAR9B,CAaA,GAAI17B,GAAUt+F,KAAK0G,OAAO6E,EAE1B,IAAIA,EAAKE,SAAU,CACjB,GAAI6zF,GAAYt/F,KAAKy5H,iBAAiBluH,EAAKE,SAE3CwvF,GAAMyC,WAAWY,EAASgB,GAG5BjB,EAASn/F,KAAKo/F,IAGhB,MAAOD,IAGFm7B,IAGTxhC,EAAG35E,OAAO,qBACR,UACA,WACA,UACC,SAAUm7G,EAAcv+B,EAAOz7F,GAChC,QAASy6H,GAAatxH,EAAUL,GAC9BtI,KAAKk6H,YAAcl6H,KAAKm6H,eAAe7xH,EAAQ4X,IAAI,SAEZ,MAAnClgB,KAAKk6H,YAAYE,iBACnBp6H,KAAKo6H,eAAiBp6H,KAAKk6H,YAAYE,gBAGzCZ,EAAaj+B,UAAUnoF,YAAYtM,KAAK9G,KAAM2I,EAAUL,GAuF1D,MApFA2yF,GAAMC,OAAO++B,EAAaT,GAE1BS,EAAY7yH,UAAU+yH,eAAiB,SAAU7xH,GAC/C,GAAIwL,IACFlN,KAAM,SAAUie,GACd,OACEzD,EAAGyD,EAAO4+E,OAGd42B,UAAW,SAAUx1G,EAAQy1G,EAASC,GACpC,GAAIC,GAAWh7H,EAAE23B,KAAKtS,EAKtB,OAHA21G,GAASv1D,KAAKq1D,GACdE,EAASz2E,KAAKw2E,GAEPC,GAIX,OAAOh7H,GAAEoJ,UAAWkL,EAAUxL,GAAS,IAGzC2xH,EAAY7yH,UAAUgzH,eAAiB,SAAUpmF,GAC/C,MAAOA,IAGTimF,EAAY7yH,UAAUwmB,MAAQ,SAAU/I,EAAQpf,GAyB9C,QAASg1H,KACP,GAAID,GAAWlyH,EAAQ+xH,UAAU/xH,EAAS,SAAU1B,GAClD,GAAIotC,GAAU9/B,EAAKkmH,eAAexzH,EAAMie,EAEpC3Q,GAAK5L,QAAQ4X,IAAI,UAAYhT,OAAO/M,SAAWA,QAAQ2qB,QAEpDkpB,GAAYA,EAAQA,SAAYx0C,EAAEwf,QAAQg1B,EAAQA,UACrD7zC,QAAQ2qB,MACN,4FAMNrlB,EAASuuC,IACR,aAIH9/B,GAAKwmH,SAAWF,EA3ClB,GACItmH,GAAOlU,IAEU,OAAjBA,KAAK06H,WAEHl7H,EAAEqwE,WAAW7vE,KAAK06H,SAASC,QAC7B36H,KAAK06H,SAASC,QAGhB36H,KAAK06H,SAAW,KAGlB,IAAIpyH,GAAU9I,EAAEoJ,QACdmB,KAAM,OACL/J,KAAKk6H,YAEmB,mBAAhB5xH,GAAQuhB,MACjBvhB,EAAQuhB,IAAMvhB,EAAQuhB,IAAIhF,IAGA,kBAAjBvc,GAAQ1B,OACjB0B,EAAQ1B,KAAO0B,EAAQ1B,KAAKie,IAyB1B7kB,KAAKk6H,YAAYrnH,OAAyB,KAAhBgS,EAAO4+E,MAC/BzjG,KAAK46H,eACP1tH,OAAOkH,aAAapU,KAAK46H,eAG3B56H,KAAK46H,cAAgB1tH,OAAOtH,WAAW60H,EAASz6H,KAAKk6H,YAAYrnH,QAEjE4nH,KAIGR,IAGTjiC,EAAG35E,OAAO,qBACR,UACC,SAAU7e,GACX,QAASq7H,GAAMx4B,EAAW15F,EAAUL,GAClC,GAAIwyH,GAAOxyH,EAAQ4X,IAAI,QAEnB66G,EAAYzyH,EAAQ4X,IAAI,YAQ5B,IANkBjb,SAAd81H,IACF/6H,KAAK+6H,UAAYA,GAGnB14B,EAAUv7F,KAAK9G,KAAM2I,EAAUL,GAE3B9I,EAAEwf,QAAQ87G,GACZ,IAAK,GAAI33H,GAAI,EAAGA,EAAI23H,EAAKlzH,OAAQzE,IAAK,CACpC,GAAI63H,GAAMF,EAAK33H,GACXoI,EAAOvL,KAAKq5H,eAAe2B,GAE3B18B,EAAUt+F,KAAK0G,OAAO6E,EAE1BvL,MAAK2I,SAASqJ,OAAOssF,IAgG3B,MA3FAu8B,GAAKzzH,UAAUwmB,MAAQ,SAAUy0E,EAAWx9E,EAAQpf,GAUlD,QAAS6jD,GAASr1C,EAAKy1C,GAGrB,IAAK,GAFD9iD,GAAOqN,EAAI+/B,QAEN7lC,EAAI,EAAGA,EAAIvH,EAAKgB,OAAQuG,IAAK,CACpC,GAAIzH,GAASE,EAAKuH,GAEd8sH,EACiB,MAAnBv0H,EAAO+E,WACN69C,GACCtV,QAASttC,EAAO+E,WACf,GAGDyvH,EAAYx0H,EAAO8b,OAASqC,EAAO4+E,IAEvC,IAAIy3B,GAAaD,EACf,MAAIvxE,IACK,GAGTz1C,EAAIrN,KAAOA,MACXnB,GAASwO,IAMb,GAAIy1C,EACF,OAAO,CAGT,IAAIsxE,GAAM9mH,EAAK6mH,UAAUl2G,EAEzB,IAAW,MAAPm2G,EAAa,CACf,GAAI18B,GAAUpqF,EAAKxN,OAAOs0H,EAC1B18B,GAAQn8F,KAAK,oBAAoB,GAEjC+R,EAAKglH,YAAY56B,IAEjBpqF,EAAKinH,UAAUv0H,EAAMo0H,GAGvB/mH,EAAI+/B,QAAUptC,EAEdnB,EAASwO,GArDX,GAAIC,GAAOlU,IAIX,OAFAA,MAAKo7H,iBAEc,MAAfv2G,EAAO4+E,MAA+B,MAAf5+E,EAAOw2G,SAChCh5B,GAAUv7F,KAAK9G,KAAM6kB,EAAQpf,OAmD/B48F,GAAUv7F,KAAK9G,KAAM6kB,EAAQykC,IAG/BuxE,EAAKzzH,UAAU2zH,UAAY,SAAU14B,EAAWx9E,GAC9C,GAAI4+E,GAAOjkG,EAAEstD,KAAKjoC,EAAO4+E,KAEzB,OAAa,KAATA,EACK,MAIP7kG,GAAI6kG,EACJjhF,KAAMihF,IAIVo3B,EAAKzzH,UAAU+zH,UAAY,SAAUh1G,EAAGvf,EAAMo0H,GAC5Cp0H,EAAK83B,QAAQs8F,IAGfH,EAAKzzH,UAAUg0H,eAAiB,SAAUj1G,GACxC,GAEIk4E,IAFMr+F,KAAKs7H,SAEAt7H,KAAK2I,SAASc,KAAK,4BAElC40F,GAAS5+F,KAAK,WACRO,KAAK2+F,UAITn/F,EAAEQ,MAAMwH,YAILqzH,IAGT7iC,EAAG35E,OAAO,0BACR,UACC,SAAU7e,GACX,QAAS+7H,GAAWl5B,EAAW15F,EAAUL,GACvC,GAAIkzH,GAAYlzH,EAAQ4X,IAAI,YAEVjb,UAAdu2H,IACFx7H,KAAKw7H,UAAYA,GAGnBn5B,EAAUv7F,KAAK9G,KAAM2I,EAAUL,GA0EjC,MAvEAizH,GAAUn0H,UAAUmkC,KAAO,SAAU82D,EAAWtvF,EAAWqC,GACzDitF,EAAUv7F,KAAK9G,KAAM+S,EAAWqC,GAEhCpV,KAAKijG,QAAWlwF,EAAUlE,SAASo0F,SAAWlwF,EAAUg9C,UAAUkzC,SAChE7tF,EAAW3L,KAAK,2BAGpB8xH,EAAUn0H,UAAUwmB,MAAQ,SAAUy0E,EAAWx9E,EAAQpf,GAGvD,QAASmhB,GAAQhgB,GACfsN,EAAK0S,OAAOhgB,GAHd,GAAIsN,GAAOlU,IAMX6kB,GAAO4+E,KAAO5+E,EAAO4+E,MAAQ,EAE7B,IAAIg4B,GAAYz7H,KAAKw7H,UAAU32G,EAAQ7kB,KAAKsI,QAASse,EAEjD60G,GAAUh4B,OAAS5+E,EAAO4+E,OAExBzjG,KAAKijG,QAAQr7F,SACf5H,KAAKijG,QAAQ/5F,IAAIuyH,EAAUh4B,MAC3BzjG,KAAKijG,QAAQtyF,SAGfkU,EAAO4+E,KAAOg4B,EAAUh4B,MAG1BpB,EAAUv7F,KAAK9G,KAAM6kB,EAAQpf,IAG/B81H,EAAUn0H,UAAUo0H,UAAY,SAAUr1G,EAAGtB,EAAQvc,EAAS7C,GAY5D,IAXA,GAAIi2H,GAAapzH,EAAQ4X,IAAI,uBACzBujF,EAAO5+E,EAAO4+E,KACdt1F,EAAI,EAEJ4sH,EAAY/6H,KAAK+6H,WAAa,SAAUl2G,GAC1C,OACEjmB,GAAIimB,EAAO4+E,KACXjhF,KAAMqC,EAAO4+E,OAIVt1F,EAAIs1F,EAAK77F,QAAQ,CACtB,GAAI+zH,GAAWl4B,EAAKt1F,EAEpB,IAAwC,KAApC3O,EAAEylD,QAAQ02E,EAAUD,GAAxB,CAMA,GAAIxnF,GAAOuvD,EAAKzxD,OAAO,EAAG7jC,GACtBytH,EAAap8H,EAAEoJ,UAAWic,GAC5B4+E,KAAMvvD,IAGJttC,EAAOm0H,EAAUa,EAErBn2H,GAASmB,GAGT68F,EAAOA,EAAKzxD,OAAO7jC,EAAI,IAAM,GAC7BA,EAAI,MAhBFA,KAmBJ,OACEs1F,KAAMA,IAIH83B,IAGTvjC,EAAG35E,OAAO,qCAEP,WACD,QAASw9G,GAAoBx5B,EAAW1rF,EAAIrO,GAC1CtI,KAAK87H,mBAAqBxzH,EAAQ4X,IAAI,sBAEtCmiF,EAAUv7F,KAAK9G,KAAM2W,EAAIrO,GAsB3B,MAnBAuzH,GAAmBz0H,UAAUwmB,MAAQ,SAAUy0E,EAAWx9E,EAAQpf,GAGhE,MAFAof,GAAO4+E,KAAO5+E,EAAO4+E,MAAQ,GAEzB5+E,EAAO4+E,KAAK77F,OAAS5H,KAAK87H,uBAC5B97H,MAAK0F,QAAQ,mBACX04F,QAAS,gBACTliF,MACE6/G,QAAS/7H,KAAK87H,mBACdt4B,MAAO3+E,EAAO4+E,KACd5+E,OAAQA,SAOdw9E,GAAUv7F,KAAK9G,KAAM6kB,EAAQpf,IAGxBo2H,IAGT7jC,EAAG35E,OAAO,qCAEP,WACD,QAAS29G,GAAoB35B,EAAW1rF,EAAIrO,GAC1CtI,KAAKi8H,mBAAqB3zH,EAAQ4X,IAAI,sBAEtCmiF,EAAUv7F,KAAK9G,KAAM2W,EAAIrO,GAuB3B,MApBA0zH,GAAmB50H,UAAUwmB,MAAQ,SAAUy0E,EAAWx9E,EAAQpf,GAGhE,MAFAof,GAAO4+E,KAAO5+E,EAAO4+E,MAAQ,GAEzBzjG,KAAKi8H,mBAAqB,GAC1Bp3G,EAAO4+E,KAAK77F,OAAS5H,KAAKi8H,uBAC5Bj8H,MAAK0F,QAAQ,mBACX04F,QAAS,eACTliF,MACEggH,QAASl8H,KAAKi8H,mBACdz4B,MAAO3+E,EAAO4+E,KACd5+E,OAAQA,SAOdw9E,GAAUv7F,KAAK9G,KAAM6kB,EAAQpf,IAGxBu2H,IAGThkC,EAAG35E,OAAO,yCAEP,WACD,QAAS89G,GAAwB95B,EAAW1rF,EAAIrO,GAC9CtI,KAAKo8H,uBAAyB9zH,EAAQ4X,IAAI,0BAE1CmiF,EAAUv7F,KAAK9G,KAAM2W,EAAIrO,GAuB3B,MApBA6zH,GAAuB/0H,UAAUwmB,MAC/B,SAAUy0E,EAAWx9E,EAAQpf,GAC3B,GAAIyO,GAAOlU,IAEXA,MAAKopD,QAAQ,SAAU2vE,GACrB,GAAIj1G,GAAuB,MAAfi1G,EAAsBA,EAAYnxH,OAAS,CACvD,OAAIsM,GAAKkoH,uBAAyB,GAChCt4G,GAAS5P,EAAKkoH,2BACdloH,GAAKxO,QAAQ,mBACX04F,QAAS,kBACTliF,MACEggH,QAAShoH,EAAKkoH,8BAKpB/5B,GAAUv7F,KAAKoN,EAAM2Q,EAAQpf,MAI5B02H,IAGTnkC,EAAG35E,OAAO,oBACR,SACA,WACC,SAAU7e,EAAGy7F,GACd,QAASzsF,GAAU7F,EAAUL,GAC3BtI,KAAK2I,SAAWA,EAChB3I,KAAKsI,QAAUA,EAEfkG,EAAS+sF,UAAUnoF,YAAYtM,KAAK9G,MA4BtC,MAzBAi7F,GAAMC,OAAO1sF,EAAUysF,EAAMoB,YAE7B7tF,EAASpH,UAAU22F,OAAS,WAC1B,GAAIQ,GAAY/+F,EACd,8EASF,OAJA++F,GAAUp8F,KAAK,MAAOnC,KAAKsI,QAAQ4X,IAAI,QAEvClgB,KAAKu+F,UAAYA,EAEVA,GAGT/vF,EAASpH,UAAUqT,SAAW,SAAU8jF,EAAWnpF,KAInD5G,EAASpH,UAAUyQ,QAAU,WAE3B7X,KAAKu+F,UAAU/2F,UAGVgH,IAGTwpF,EAAG35E,OAAO,2BACR,SACA,YACC,SAAU7e,EAAGy7F,GACd,QAAS+H,MAyFT,MAvFAA,GAAO57F,UAAU22F,OAAS,SAAUsE,GAClC,GAAIL,GAAYK,EAAUv7F,KAAK9G,MAE3BijG,EAAUzjG,EACZ,+NAYF,OALAQ,MAAKkjG,iBAAmBD,EACxBjjG,KAAKijG,QAAUA,EAAQx5F,KAAK,SAE5Bu4F,EAAUzxE,QAAQ0yE,GAEXjB,GAGTgB,EAAO57F,UAAUmkC,KAAO,SAAU82D,EAAWtvF,EAAWqC,GACtD,GAAIlB,GAAOlU,IAEXqiG,GAAUv7F,KAAK9G,KAAM+S,EAAWqC,GAEhCpV,KAAKijG,QAAQj8F,GAAG,UAAW,SAAUq5F,GACnCnsF,EAAKxO,QAAQ,WAAY26F,GAEzBnsF,EAAKivF,gBAAkB9C,EAAIt4F,uBAM7B/H,KAAKijG,QAAQj8F,GAAG,QAAS,SAAUq5F,GAEjC7gG,EAAEQ,MAAMkQ,IAAI,WAGdlQ,KAAKijG,QAAQj8F,GAAG,cAAe,SAAUq5F,GACvCnsF,EAAKovF,aAAajD,KAGpBttF,EAAU/L,GAAG,OAAQ,WACnBkN,EAAK+uF,QAAQ9gG,KAAK,WAAY,GAE9B+R,EAAK+uF,QAAQtyF,QAEbzD,OAAOtH,WAAW,WAChBsO,EAAK+uF,QAAQtyF,SACZ,KAGLoC,EAAU/L,GAAG,QAAS,WACpBkN,EAAK+uF,QAAQ9gG,KAAK,WAAY,IAE9B+R,EAAK+uF,QAAQ/5F,IAAI,MAGnB6J,EAAU/L,GAAG,cAAe,SAAU6d,GACpC,GAAyB,MAArBA,EAAO+I,MAAM61E,MAAsC,KAAtB5+E,EAAO+I,MAAM61E,KAAa,CACzD,GAAI44B,GAAanoH,EAAKmoH,WAAWx3G,EAE7Bw3G,GACFnoH,EAAKgvF,iBAAiBl7F,YAAY,wBAElCkM,EAAKgvF,iBAAiB75F,SAAS,4BAMvC25F,EAAO57F,UAAUk8F,aAAe,SAAUjD,GACxC,IAAKrgG,KAAKmjG,gBAAiB,CACzB,GAAIK,GAAQxjG,KAAKijG,QAAQ/5F,KAEzBlJ,MAAK0F,QAAQ,SACX+9F,KAAMD,IAIVxjG,KAAKmjG,iBAAkB,GAGzBH,EAAO57F,UAAUi1H,WAAa,SAAUl2G,EAAGtB,GACzC,OAAO,GAGFm+E,IAGThL,EAAG35E,OAAO,sCAEP,WACD,QAASi+G,GAAiBj6B,EAAW15F,EAAUL,EAASw1F,GACtD99F,KAAKqzD,YAAcrzD,KAAKsiG,qBAAqBh6F,EAAQ4X,IAAI,gBAEzDmiF,EAAUv7F,KAAK9G,KAAM2I,EAAUL,EAASw1F,GAkC1C,MA/BAw+B,GAAgBl1H,UAAU4K,OAAS,SAAUqwF,EAAWz7F,GACtDA,EAAKotC,QAAUh0C,KAAKu8H,kBAAkB31H,EAAKotC,SAE3CquD,EAAUv7F,KAAK9G,KAAM4G,IAGvB01H,EAAgBl1H,UAAUk7F,qBAAuB,SAAUn8E,EAAGktC,GAQ5D,MAP2B,gBAAhBA,KACTA,GACEz0D,GAAI,GACJ4jB,KAAM6wC,IAIHA,GAGTipE,EAAgBl1H,UAAUm1H,kBAAoB,SAAUp2G,EAAGvf,GAGzD,IAAK,GAFD41H,GAAe51H,EAAKwV,MAAM,GAErBnT,EAAIrC,EAAKgB,OAAS,EAAGqB,GAAK,EAAGA,IAAK,CACzC,GAAIsC,GAAO3E,EAAKqC,EAEZjJ,MAAKqzD,YAAYz0D,KAAO2M,EAAK3M,IAC/B49H,EAAa18H,OAAOmJ,EAAG,GAI3B,MAAOuzH,IAGFF,IAGTtkC,EAAG35E,OAAO,mCACR,UACC,SAAU7e,GACX,QAASi9H,GAAgBp6B,EAAW15F,EAAUL,EAASw1F,GACrD99F,KAAK08H,cAELr6B,EAAUv7F,KAAK9G,KAAM2I,EAAUL,EAASw1F,GAExC99F,KAAK28H,aAAe38H,KAAK48H,oBACzB58H,KAAKg/F,SAAU,EA4EjB,MAzEAy9B,GAAer1H,UAAU4K,OAAS,SAAUqwF,EAAWz7F,GACrD5G,KAAK28H,aAAan1H,SAClBxH,KAAKg/F,SAAU,EAEfqD,EAAUv7F,KAAK9G,KAAM4G,GAEjB5G,KAAK68H,gBAAgBj2H,IACvB5G,KAAKg+F,SAAShsF,OAAOhS,KAAK28H,eAI9BF,EAAer1H,UAAUmkC,KAAO,SAAU82D,EAAWtvF,EAAWqC,GAC9D,GAAIlB,GAAOlU,IAEXqiG,GAAUv7F,KAAK9G,KAAM+S,EAAWqC,GAEhCrC,EAAU/L,GAAG,QAAS,SAAU6d,GAC9B3Q,EAAKwoH,WAAa73G,EAClB3Q,EAAK8qF,SAAU,IAGjBjsF,EAAU/L,GAAG,eAAgB,SAAU6d,GACrC3Q,EAAKwoH,WAAa73G,EAClB3Q,EAAK8qF,SAAU,IAGjBh/F,KAAKg+F,SAASh3F,GAAG,SAAU,WACzB,GAAI81H,GAAoBt9H,EAAE+U,SACxB7P,SAASoG,gBACToJ,EAAKyoH,aAAa,GAGpB,KAAIzoH,EAAK8qF,SAAY89B,EAArB,CAIA,GAAIj9B,GAAgB3rF,EAAK8pF,SAASt6F,SAASC,IACzCuQ,EAAK8pF,SAASz0B,aAAY,GACxBwzD,EAAoB7oH,EAAKyoH,aAAaj5H,SAASC,IACjDuQ,EAAKyoH,aAAapzD,aAAY,EAE5Bs2B,GAAgB,IAAMk9B,GACxB7oH,EAAK8oH,eAKXP,EAAer1H,UAAU41H,SAAW,WAClCh9H,KAAKg/F,SAAU,CAEf,IAAIn6E,GAASrlB,EAAEoJ,WAAYyyH,KAAM,GAAIr7H,KAAK08H,WAE1C73G,GAAOw2G,OAEPr7H,KAAK0F,QAAQ,eAAgBmf,IAG/B43G,EAAer1H,UAAUy1H,gBAAkB,SAAU12G,EAAGvf,GACtD,MAAOA,GAAKq2H,YAAcr2H,EAAKq2H,WAAWlhE,MAG5C0gE,EAAer1H,UAAUw1H,kBAAoB,WAC3C,GAAIt+B,GAAU9+F,EACZ,sDAGE4+F,EAAUp+F,KAAKsI,QAAQ4X,IAAI,gBAAgBA,IAAI,cAInD,OAFAo+E,GAAQxrF,KAAKsrF,EAAQp+F,KAAK08H,aAEnBp+B,GAGFm+B,IAGTzkC,EAAG35E,OAAO,+BACR,SACA,YACC,SAAU7e,EAAGy7F,GACd,QAASiiC,GAAY76B,EAAW15F,EAAUL,GACxCtI,KAAKm9H,gBAAkB70H,EAAQ4X,IAAI,mBAAqBxb,SAASuK,KAEjEozF,EAAUv7F,KAAK9G,KAAM2I,EAAUL,GAiMjC,MA9LA40H,GAAW91H,UAAUmkC,KAAO,SAAU82D,EAAWtvF,EAAWqC,GAC1D,GAAIlB,GAAOlU,KAEPo9H,GAAqB,CAEzB/6B,GAAUv7F,KAAK9G,KAAM+S,EAAWqC,GAEhCrC,EAAU/L,GAAG,OAAQ,WACnBkN,EAAKmpH,gBACLnpH,EAAKopH,0BAA0BvqH,GAE1BqqH,IACHA,GAAqB,EAErBrqH,EAAU/L,GAAG,cAAe,WAC1BkN,EAAKqpH,oBACLrpH,EAAKspH,oBAGPzqH,EAAU/L,GAAG,iBAAkB,WAC7BkN,EAAKqpH,oBACLrpH,EAAKspH,uBAKXzqH,EAAU/L,GAAG,QAAS,WACpBkN,EAAKupH,gBACLvpH,EAAKwpH,0BAA0B3qH,KAGjC/S,KAAK29H,mBAAmB32H,GAAG,YAAa,SAAUq5F,GAChDA,EAAI1xF,qBAIRuuH,EAAW91H,UAAUqT,SAAW,SAAU4nF,EAAW9D,EAAWnpF,GAE9DmpF,EAAUp8F,KAAK,QAASiT,EAAWjT,KAAK,UAExCo8F,EAAUv2F,YAAY,WACtBu2F,EAAUl1F,SAAS,2BAEnBk1F,EAAUj9F,KACRmZ,SAAU,WACV9W,IAAK,UAGP3D,KAAKoV,WAAaA,GAGpB8nH,EAAW91H,UAAU22F,OAAS,SAAUsE,GACtC,GAAIjtF,GAAa5V,EAAE,iBAEf++F,EAAY8D,EAAUv7F,KAAK9G,KAK/B,OAJAoV,GAAWpD,OAAOusF,GAElBv+F,KAAK29H,mBAAqBvoH,EAEnBA,GAGT8nH,EAAW91H,UAAUq2H,cAAgB,SAAUp7B,GAC7CriG,KAAK29H,mBAAmBp2H,UAG1B21H,EAAW91H,UAAUk2H,0BAA4B,SAAUvqH,GACzD,GAAImB,GAAOlU,KAEP49H,EAAc,kBAAoB7qH,EAAUnU,GAC5Ci/H,EAAc,kBAAoB9qH,EAAUnU,GAC5Ck/H,EAAmB,6BAA+B/qH,EAAUnU,GAE5Dm/H,EAAY/9H,KAAKoV,WAAWkE,UAAUqb,OAAOsmE,EAAM4B,UACvDkhC,GAAUt+H,KAAK,WACbD,EAAEQ,MAAM4G,KAAK,2BACXpE,EAAGhD,EAAEQ,MAAMq4B,aACX51B,EAAGjD,EAAEQ,MAAMyD,gBAIfs6H,EAAU/2H,GAAG42H,EAAa,SAAUI,GAClC,GAAIvjH,GAAWjb,EAAEQ,MAAM4G,KAAK,0BAC5BpH,GAAEQ,MAAMyD,UAAUgX,EAAShY,KAG7BjD,EAAE0N,QAAQlG,GAAG42H,EAAc,IAAMC,EAAc,IAAMC,EACnD,SAAU33H,GACV+N,EAAKqpH,oBACLrpH,EAAKspH,qBAITN,EAAW91H,UAAUs2H,0BAA4B,SAAU3qH,GACzD,GAAI6qH,GAAc,kBAAoB7qH,EAAUnU,GAC5Ci/H,EAAc,kBAAoB9qH,EAAUnU,GAC5Ck/H,EAAmB,6BAA+B/qH,EAAUnU,GAE5Dm/H,EAAY/9H,KAAKoV,WAAWkE,UAAUqb,OAAOsmE,EAAM4B,UACvDkhC,GAAU7tH,IAAI0tH,GAEdp+H,EAAE0N,QAAQgD,IAAI0tH,EAAc,IAAMC,EAAc,IAAMC,IAGxDZ,EAAW91H,UAAUm2H,kBAAoB,WACvC,GAAI9yD,GAAUjrE,EAAE0N,QAEZ+wH,EAAmBj+H,KAAKu+F,UAAUt2F,SAAS,2BAC3Ci2H,EAAmBl+H,KAAKu+F,UAAUt2F,SAAS,2BAE3Ck2H,EAAe,KAGfz6H,GADW1D,KAAKoV,WAAWqF,WAClBza,KAAKoV,WAAW1R,SAE7BA,GAAO4R,OAAS5R,EAAOC,IAAM3D,KAAKoV,WAAWm0D,aAAY,EAEzD,IAAIx2D,IACF6C,OAAQ5V,KAAKoV,WAAWm0D,aAAY,GAGtCx2D,GAAUpP,IAAMD,EAAOC,IACvBoP,EAAUuC,OAAS5R,EAAOC,IAAMoP,EAAU6C,MAE1C,IAAI/G,IACF+G,OAAQ5V,KAAKu+F,UAAUh1B,aAAY,IAGjCv2D,GACFrP,IAAK8mE,EAAQhnE,YACb6R,OAAQm1D,EAAQhnE,YAAcgnE,EAAQ70D,UAGpCwoH,EAAkBprH,EAASrP,IAAOD,EAAOC,IAAMkL,EAAS+G,OACxDyoH,EAAkBrrH,EAASsC,OAAU5R,EAAO4R,OAASzG,EAAS+G,OAE9DtU,GACFmQ,KAAM/N,EAAO+N,KACb9N,IAAKoP,EAAUuC,OAGZ2oH,IAAqBC,IACxBC,EAAe,SAGZE,IAAmBD,GAAoBH,GAEhCG,GAAmBC,GAAmBJ,IAChDE,EAAe,SAFfA,EAAe,SAKG,SAAhBA,GACDF,GAAqC,UAAjBE,KACrB78H,EAAIqC,IAAMoP,EAAUpP,IAAMkL,EAAS+G,QAGjB,MAAhBuoH,IACFn+H,KAAKu+F,UACFv2F,YAAY,mDACZqB,SAAS,qBAAuB80H,GACnCn+H,KAAKoV,WACFpN,YAAY,qDACZqB,SAAS,sBAAwB80H,IAGtCn+H,KAAK29H,mBAAmBr8H,IAAIA,IAG9B47H,EAAW91H,UAAUo2H,gBAAkB,WACrCx9H,KAAK29H,mBAAmBpoH,OAExB,IAAIjU,IACFiU,MAAOvV,KAAKoV,WAAWk1D,YAAW,GAAS,KAGzCtqE,MAAKsI,QAAQ4X,IAAI,uBACnB5e,EAAIg9H,SAAWh9H,EAAIiU,MACnBjU,EAAIiU,MAAQ,QAGdvV,KAAKu+F,UAAUj9F,IAAIA,IAGrB47H,EAAW91H,UAAUi2H,cAAgB,SAAUh7B,GAC7CriG,KAAK29H,mBAAmB5tH,SAAS/P,KAAKm9H,iBAEtCn9H,KAAKu9H,oBACLv9H,KAAKw9H,mBAGAN,IAGTllC,EAAG35E,OAAO,8CAEP,WACD,QAASkgH,GAAc33H,GAGrB,IAAK,GAFDkd,GAAQ,EAEH7a,EAAI,EAAGA,EAAIrC,EAAKgB,OAAQqB,IAAK,CACpC,GAAIsC,GAAO3E,EAAKqC,EAEZsC,GAAKE,SACPqY,GAASy6G,EAAahzH,EAAKE,UAE3BqY,IAIJ,MAAOA,GAGT,QAAS06G,GAAyBn8B,EAAW15F,EAAUL,EAASw1F,GAC9D99F,KAAKy+H,wBAA0Bn2H,EAAQ4X,IAAI,2BAEvClgB,KAAKy+H,wBAA0B,IACjCz+H,KAAKy+H,wBAA0BC,EAAAA,GAGjCr8B,EAAUv7F,KAAK9G,KAAM2I,EAAUL,EAASw1F,GAW1C,MARA0gC,GAAwBp3H,UAAUi1H,WAAa,SAAUh6B,EAAWx9E,GAClE,MAAI05G,GAAa15G,EAAOje,KAAKotC,SAAWh0C,KAAKy+H,yBACpC,EAGFp8B,EAAUv7F,KAAK9G,KAAM6kB,IAGvB25G,IAGTxmC,EAAG35E,OAAO,oCAEP,WACD,QAASsgH,MAwBT,MAtBAA,GAAcv3H,UAAUmkC,KAAO,SAAU82D,EAAWtvF,EAAWqC,GAC7D,GAAIlB,GAAOlU,IAEXqiG,GAAUv7F,KAAK9G,KAAM+S,EAAWqC,GAEhCrC,EAAU/L,GAAG,QAAS,WACpBkN,EAAK0qH,0BAITD,EAAcv3H,UAAUw3H,qBAAuB,WAC7C,GAAIC,GAAsB7+H,KAAK0/F,uBAE3Bm/B,GAAoBj3H,OAAS,GAIjC5H,KAAK0F,QAAQ,UACTkB,KAAMi4H,EAAoBj4H,KAAK,WAI9B+3H,IAGT3mC,EAAG35E,OAAO,oCAEP,WACD,QAASygH,MA2BT,MAzBAA,GAAc13H,UAAUmkC,KAAO,SAAU82D,EAAWtvF,EAAWqC,GAC7D,GAAIlB,GAAOlU,IAEXqiG,GAAUv7F,KAAK9G,KAAM+S,EAAWqC,GAEhCrC,EAAU/L,GAAG,SAAU,SAAUq5F,GAC/BnsF,EAAK6qH,iBAAiB1+B,KAGxBttF,EAAU/L,GAAG,WAAY,SAAUq5F,GACjCnsF,EAAK6qH,iBAAiB1+B,MAI1By+B,EAAc13H,UAAU23H,iBAAmB,SAAU54G,EAAGk6E,GACtD,GAAIrzD,GAAgBqzD,EAAIrzD,aAGpBA,IAAiBA,EAAcgkC,SAInChxE,KAAK0F,QAAQ,UAGRo5H,IAGT9mC,EAAG35E,OAAO,qBAAqB,WAE7B,OACE2gH,aAAc,WACZ,MAAO,oCAETC,aAAc,SAAU/iH,GACtB,GAAIgjH,GAAYhjH,EAAKsnF,MAAM57F,OAASsU,EAAKggH,QAErC99B,EAAU,iBAAmB8gC,EAAY,YAM7C,OAJiB,IAAbA,IACF9gC,GAAW,KAGNA,GAET+gC,cAAe,SAAUjjH,GACvB,GAAIkjH,GAAiBljH,EAAK6/G,QAAU7/G,EAAKsnF,MAAM57F,OAE3Cw2F,EAAU,gBAAkBghC,EAAiB,qBAEjD,OAAOhhC,IAETW,YAAa,WACX,MAAO,yBAETsgC,gBAAiB,SAAUnjH,GACzB,GAAIkiF,GAAU,uBAAyBliF,EAAKggH,QAAU,OAMtD,OAJoB,IAAhBhgH,EAAKggH,UACP99B,GAAW,KAGNA,GAETkhC,UAAW,WACT,MAAO,oBAETC,UAAW,WACT,MAAO,iBAKbvnC,EAAG35E,OAAO,oBACR,SACA,UAEA,YAEA,qBACA,uBACA,0BACA,yBACA,qBACA,yBAEA,UACA,gBACA,eAEA,gBACA,eACA,cACA,cACA,mBACA,4BACA,4BACA,gCAEA,aACA,oBACA,6BACA,4BACA,wBACA,qCACA,2BACA,2BAEA,aACC,SAAU7e,EAAG8jD,EAEHk8E,EAEA39B,EAAiBI,EAAmBG,EAAaM,EACjD+8B,EAAiB97B,EAEjB1I,EAAO6I,EAAa47B,EAEpBC,EAAYC,EAAWC,EAAUhF,EAAMU,EACvCM,EAAoBG,EAAoBG,EAExC3tH,EAAUsxH,EAAgBxD,EAAiBG,EAC3CS,EAAYsB,EAAyBG,EAAeG,EAEpDiB,GACX,QAASC,KACPhgI,KAAKo8D,QAGP4jE,EAAS54H,UAAUlG,MAAQ,SAAUoH,GAGnC,GAFAA,EAAU9I,EAAEoJ,UAAW5I,KAAK8T,SAAUxL,GAEX,MAAvBA,EAAQw1F,YAAqB,CAyC/B,GAvCEx1F,EAAQw1F,YADU,MAAhBx1F,EAAQ6uB,KACY0oG,EACG,MAAhBv3H,EAAQ1B,KACKg5H,EAEAD,EAGpBr3H,EAAQwzH,mBAAqB,IAC/BxzH,EAAQw1F,YAAc7C,EAAMO,SAC1BlzF,EAAQw1F,YACR+9B,IAIAvzH,EAAQ2zH,mBAAqB,IAC/B3zH,EAAQw1F,YAAc7C,EAAMO,SAC1BlzF,EAAQw1F,YACRk+B,IAIA1zH,EAAQ8zH,uBAAyB,IACnC9zH,EAAQw1F,YAAc7C,EAAMO,SAC1BlzF,EAAQw1F,YACRq+B,IAIA7zH,EAAQwyH,OACVxyH,EAAQw1F,YAAc7C,EAAMO,SAASlzF,EAAQw1F,YAAa+8B,KAG7B,MAA3BvyH,EAAQ23H,iBAAgD,MAArB33H,EAAQkzH,aAC7ClzH,EAAQw1F,YAAc7C,EAAMO,SAC1BlzF,EAAQw1F,YACRy9B,IAIiB,MAAjBjzH,EAAQslB,MAAe,CACzB,GAAIsyG,GAAQ58E,EAAQh7C,EAAQ63H,QAAU,eAEtC73H,GAAQw1F,YAAc7C,EAAMO,SAC1BlzF,EAAQw1F,YACRoiC,GAIJ,GAA6B,MAAzB53H,EAAQ83H,cAAuB,CACjC,GAAIC,GAAgB/8E,EAAQh7C,EAAQ63H,QAAU,uBAE9C73H,GAAQw1F,YAAc7C,EAAMO,SAC1BlzF,EAAQw1F,YACRuiC,IA8BN,GAzB8B,MAA1B/3H,EAAQg4H,iBACVh4H,EAAQg4H,eAAiBd,EAEL,MAAhBl3H,EAAQ6uB,OACV7uB,EAAQg4H,eAAiBrlC,EAAMO,SAC7BlzF,EAAQg4H,eACR7D,IAIuB,MAAvBn0H,EAAQ+qD,cACV/qD,EAAQg4H,eAAiBrlC,EAAMO,SAC7BlzF,EAAQg4H,eACRhE,IAIAh0H,EAAQi4H,gBACVj4H,EAAQg4H,eAAiBrlC,EAAMO,SAC7BlzF,EAAQg4H,eACR3B,KAKyB,MAA3Br2H,EAAQk4H,gBAAyB,CACnC,GAAIl4H,EAAQm4H,SACVn4H,EAAQk4H,gBAAkBhyH,MACrB,CACL,GAAIkyH,GAAqBzlC,EAAMO,SAAShtF,EAAUsxH,EAElDx3H,GAAQk4H,gBAAkBE,EAiB5B,GAdwC,IAApCp4H,EAAQm2H,0BACVn2H,EAAQk4H,gBAAkBvlC,EAAMO,SAC9BlzF,EAAQk4H,gBACRhC,IAIAl2H,EAAQq4H,gBACVr4H,EAAQk4H,gBAAkBvlC,EAAMO,SAC9BlzF,EAAQk4H,gBACR1B,IAK0B,MAA5Bx2H,EAAQs4H,kBACe,MAAvBt4H,EAAQu4H,aACyB,MAAjCv4H,EAAQw4H,sBACR,CACA,GAAIC,GAAcz9E,EAAQh7C,EAAQ63H,QAAU,qBAE5C73H,GAAQk4H,gBAAkBvlC,EAAMO,SAC9BlzF,EAAQk4H,gBACRO,GAIJz4H,EAAQk4H,gBAAkBvlC,EAAMO,SAC9BlzF,EAAQk4H,gBACRtD,GAIJ,GAAgC,MAA5B50H,EAAQ04H,iBAA0B,CA6BpC,GA3BE14H,EAAQ04H,iBADN14H,EAAQm4H,SACiBx+B,EAEAJ,EAIF,MAAvBv5F,EAAQ+qD,cACV/qD,EAAQ04H,iBAAmB/lC,EAAMO,SAC/BlzF,EAAQ04H,iBACR5+B,IAIA95F,EAAQ24H,aACV34H,EAAQ04H,iBAAmB/lC,EAAMO,SAC/BlzF,EAAQ04H,iBACRt+B,IAIAp6F,EAAQm4H,WACVn4H,EAAQ04H,iBAAmB/lC,EAAMO,SAC/BlzF,EAAQ04H,iBACRvB,IAK2B,MAA7Bn3H,EAAQ44H,mBACgB,MAAxB54H,EAAQ64H,cAC0B,MAAlC74H,EAAQ84H,uBACR,CACA,GAAIC,GAAe/9E,EAAQh7C,EAAQ63H,QAAU,sBAE7C73H,GAAQ04H,iBAAmB/lC,EAAMO,SAC/BlzF,EAAQ04H,iBACRK,GAIJ/4H,EAAQ04H,iBAAmB/lC,EAAMO,SAC/BlzF,EAAQ04H,iBACRr9B,GAIJ,GAAgC,gBAArBr7F,GAAQg5H,SAEjB,GAAIh5H,EAAQg5H,SAAS12G,QAAQ,KAAO,EAAG,CAErC,GAAI22G,GAAgBj5H,EAAQg5H,SAAS/8H,MAAM,KACvCi9H,EAAeD,EAAc,EAEjCj5H,GAAQg5H,UAAYh5H,EAAQg5H,SAAUE,OAEtCl5H,GAAQg5H,UAAYh5H,EAAQg5H,SAIhC,IAAI9hI,EAAEwf,QAAQ1W,EAAQg5H,UAAW,CAC/B,GAAIG,GAAY,GAAI39B,EACpBx7F,GAAQg5H,SAASpiI,KAAK,KAItB,KAAK,GAFDwiI,GAAgBp5H,EAAQg5H,SAEnBtlH,EAAI,EAAGA,EAAI0lH,EAAc95H,OAAQoU,IAAK,CAC7C,GAAInd,GAAO6iI,EAAc1lH,GACrBslH,IAEJ,KAEEA,EAAWx9B,EAAYI,SAASrlG,GAChC,MAAOsH,GACP,IAEEtH,EAAOmB,KAAK8T,SAAS6tH,gBAAkB9iI,EACvCyiI,EAAWx9B,EAAYI,SAASrlG,GAChC,MAAOouE,GAIH3kE,EAAQivF,OAASrqF,OAAO/M,SAAWA,QAAQi9E,MAC7Cj9E,QAAQi9E,KACN,mCAAqCv+E,EAAO,wEAKhD,WAIJ4iI,EAAU74H,OAAO04H,GAGnBh5H,EAAQ67F,aAAes9B,MAClB,CACL,GAAIG,GAAkB99B,EAAYI,SAChClkG,KAAK8T,SAAS6tH,gBAAkB,MAE9BE,EAAoB,GAAI/9B,GAAYx7F,EAAQg5H,SAEhDO,GAAkBj5H,OAAOg5H,GAEzBt5H,EAAQ67F,aAAe09B,EAGzB,MAAOv5H,IAGT03H,EAAS54H,UAAUg1D,MAAQ,WACzB,QAAS0lE,GAAiBt/G,GAExB,QAAS8I,GAAMrS,GACb,MAAOymH,GAAWzmH,IAAMA,EAG1B,MAAOuJ,GAAK9a,QAAQ,oBAAqB4jB,GAG3C,QAASiuG,GAAS10G,EAAQje,GAExB,GAA4B,KAAxBpH,EAAEstD,KAAKjoC,EAAO4+E,MAChB,MAAO78F,EAIT,IAAIA,EAAK6E,UAAY7E,EAAK6E,SAAS7D,OAAS,EAAG,CAM7C,IAAK,GAHD0jB,GAAQ9rB,EAAEoJ,QAAO,KAAUhC,GAGtBwmB,EAAIxmB,EAAK6E,SAAS7D,OAAS,EAAGwlB,GAAK,EAAGA,IAAK,CAClD,GAAIs8B,GAAQ9iD,EAAK6E,SAAS2hB,GAEtB6rG,EAAUM,EAAQ10G,EAAQ6kC,EAGf,OAAXuvE,GACF3tG,EAAM7f,SAAS3L,OAAOstB,EAAG,GAK7B,MAAI9B,GAAM7f,SAAS7D,OAAS,EACnB0jB,EAIFiuG,EAAQ10G,EAAQyG,GAGzB,GAAI8D,GAAW0yG,EAAgBl7H,EAAK4b,MAAM0U,cACtCusE,EAAOq+B,EAAgBj9G,EAAO4+E,MAAMvsE,aAGxC,OAAI9H,GAASxE,QAAQ64E,GAAQ,GACpB78F,EAIF,KAGT5G,KAAK8T,UACHqsH,QAAS,KACTwB,gBAAiB,UACjBhB,eAAe,EACfppC,OAAO,EACPwqC,mBAAmB,EACnB7kC,aAAcjC,EAAMiC,aACpBokC,SAAUvB,EACVxG,QAASA,EACTuC,mBAAoB,EACpBG,mBAAoB,EACpBG,uBAAwB,EACxBqC,wBAAyB,EACzB8B,eAAe,EACf9hC,OAAQ,SAAU73F,GAChB,MAAOA,IAETo7H,eAAgB,SAAU58E,GACxB,MAAOA,GAAO5iC,MAEhBy/G,kBAAmB,SAAUlyE,GAC3B,MAAOA,GAAUvtC,MAEnB0/G,MAAO,UACP3sH,MAAO,YAIXyqH,EAAS54H,UAAUmZ,IAAM,SAAUxM,EAAKC,GACtC,GAAImuH,GAAW3iI,EAAEyO,UAAU8F,GAEvBnN,IACJA,GAAKu7H,GAAYnuH,CAEjB,IAAIouH,GAAgBnnC,EAAMyB,aAAa91F,EAEvCpH,GAAEoJ,OAAO5I,KAAK8T,SAAUsuH,GAG1B,IAAItuH,GAAW,GAAIksH,EAEnB,OAAOlsH,KAGTkkF,EAAG35E,OAAO,mBACR,UACA,SACA,aACA,WACC,SAAUilC,EAAS9jD,EAAGwgI,EAAU/kC,GACjC,QAASonC,GAAS/5H,EAASK,GASzB,GARA3I,KAAKsI,QAAUA,EAEC,MAAZK,GACF3I,KAAKsiI,YAAY35H,GAGnB3I,KAAKsI,QAAU03H,EAAS9+H,MAAMlB,KAAKsI,SAE/BK,GAAYA,EAAStC,GAAG,SAAU,CACpC,GAAIk8H,GAAcj/E,EAAQtjD,KAAKkgB,IAAI,WAAa,mBAEhDlgB,MAAKsI,QAAQw1F,YAAc7C,EAAMO,SAC/Bx7F,KAAKsI,QAAQw1F,YACbykC,IAoGN,MA/FAF,GAAQj7H,UAAUk7H,YAAc,SAAU3rH,GACxC,GAAI6rH,IAAgB,UAES,OAAzBxiI,KAAKsI,QAAQm4H,WACfzgI,KAAKsI,QAAQm4H,SAAW9pH,EAAGjN,KAAK,aAGL,MAAzB1J,KAAKsI,QAAQ22F,WACfj/F,KAAKsI,QAAQ22F,SAAWtoF,EAAGjN,KAAK,aAGL,MAAzB1J,KAAKsI,QAAQg5H,WACX3qH,EAAGjN,KAAK,QACV1J,KAAKsI,QAAQg5H,SAAW3qH,EAAGjN,KAAK,QAAQyZ,cAC/BxM,EAAG9O,QAAQ,UAAU6B,KAAK,UACnC1J,KAAKsI,QAAQg5H,SAAW3qH,EAAG9O,QAAQ,UAAU6B,KAAK,UAI9B,MAApB1J,KAAKsI,QAAQm6H,MAEbziI,KAAKsI,QAAQm6H,IADX9rH,EAAGjN,KAAK,OACSiN,EAAGjN,KAAK,OAClBiN,EAAG9O,QAAQ,SAAS6B,KAAK,OACfiN,EAAG9O,QAAQ,SAAS6B,KAAK,OAEzB,OAIvBiN,EAAGjN,KAAK,WAAY1J,KAAKsI,QAAQ22F,UACjCtoF,EAAGjN,KAAK,WAAY1J,KAAKsI,QAAQm4H,UAE7B9pH,EAAG/P,KAAK,iBACN5G,KAAKsI,QAAQivF,OAASrqF,OAAO/M,SAAWA,QAAQi9E,MAClDj9E,QAAQi9E,KACN,2KAMJzmE,EAAG/P,KAAK,OAAQ+P,EAAG/P,KAAK,gBACxB+P,EAAG/P,KAAK,QAAQ,IAGd+P,EAAG/P,KAAK,aACN5G,KAAKsI,QAAQivF,OAASrqF,OAAO/M,SAAWA,QAAQi9E,MAClDj9E,QAAQi9E,KACN,gKAMJzmE,EAAGxU,KAAK,YAAawU,EAAG/P,KAAK,YAC7B+P,EAAG/P,KAAK,YAAa+P,EAAG/P,KAAK,YAG/B,IAAI87H,KAKFA,GADEljI,EAAE6E,GAAGC,QAAsC,MAA5B9E,EAAE6E,GAAGC,OAAO0tC,OAAO,EAAG,IAAcr7B,EAAG,GAAG+rH,QACjDljI,EAAEoJ,QAAO,KAAU+N,EAAG,GAAG+rH,QAAS/rH,EAAG/P,QAErC+P,EAAG/P,MAGf,IAAIA,GAAOpH,EAAEoJ,QAAO,KAAU85H,EAE9B97H,GAAOq0F,EAAMyB,aAAa91F,EAE1B,KAAK,GAAImN,KAAOnN,GACVpH,EAAEylD,QAAQlxC,EAAKyuH,GAAgB,KAI/BhjI,EAAE85H,cAAct5H,KAAKsI,QAAQyL,IAC/BvU,EAAEoJ,OAAO5I,KAAKsI,QAAQyL,GAAMnN,EAAKmN,IAEjC/T,KAAKsI,QAAQyL,GAAOnN,EAAKmN,GAI7B,OAAO/T,OAGTqiI,EAAQj7H,UAAU8Y,IAAM,SAAUnM,GAChC,MAAO/T,MAAKsI,QAAQyL,IAGtBsuH,EAAQj7H,UAAUmZ,IAAM,SAAUxM,EAAK7K,GACrClJ,KAAKsI,QAAQyL,GAAO7K,GAGfm5H,IAGTrqC,EAAG35E,OAAO,gBACR,SACA,YACA,UACA,UACC,SAAU7e,EAAG6iI,EAASpnC,EAAOsF,GAC9B,GAAIoiC,GAAU,SAAUh6H,EAAUL,GACA,MAA5BK,EAAS/B,KAAK,YAChB+B,EAAS/B,KAAK,WAAWiR,UAG3B7X,KAAK2I,SAAWA,EAEhB3I,KAAKpB,GAAKoB,KAAK4iI,YAAYj6H,GAE3BL,EAAUA,MAEVtI,KAAKsI,QAAU,GAAI+5H,GAAQ/5H,EAASK,GAEpCg6H,EAAQpnC,UAAUnoF,YAAYtM,KAAK9G,KAInC,IAAIu0F,GAAW5rF,EAASxG,KAAK,aAAe,CAC5CwG,GAAS/B,KAAK,eAAgB2tF,GAC9B5rF,EAASxG,KAAK,WAAY,KAI1B,IAAI0gI,GAAc7iI,KAAKsI,QAAQ4X,IAAI,cACnClgB,MAAK89F,YAAc,GAAI+kC,GAAYl6H,EAAU3I,KAAKsI,QAElD,IAAI8M,GAAapV,KAAK+9F,QAEtB/9F,MAAK8iI,gBAAgB1tH,EAErB,IAAI2tH,GAAmB/iI,KAAKsI,QAAQ4X,IAAI,mBACxClgB,MAAK+vD,UAAY,GAAIgzE,GAAiBp6H,EAAU3I,KAAKsI,SACrDtI,KAAKqqE,WAAarqE,KAAK+vD,UAAUguC,SAEjC/9F,KAAK+vD,UAAUt1C,SAASza,KAAKqqE,WAAYj1D,EAEzC,IAAI4tH,GAAkBhjI,KAAKsI,QAAQ4X,IAAI,kBACvClgB,MAAK6O,SAAW,GAAIm0H,GAAgBr6H,EAAU3I,KAAKsI,SACnDtI,KAAKu+F,UAAYv+F,KAAK6O,SAASkvF,SAE/B/9F,KAAK6O,SAAS4L,SAASza,KAAKu+F,UAAWnpF,EAEvC,IAAI6tH,GAAiBjjI,KAAKsI,QAAQ4X,IAAI,iBACtClgB,MAAKg0C,QAAU,GAAIivF,GAAet6H,EAAU3I,KAAKsI,QAAStI,KAAK89F,aAC/D99F,KAAKg+F,SAAWh+F,KAAKg0C,QAAQ+pD,SAE7B/9F,KAAKg0C,QAAQv5B,SAASza,KAAKg+F,SAAUh+F,KAAKu+F,UAI1C,IAAIrqF,GAAOlU,IAGXA,MAAKkjI,gBAGLljI,KAAKmjI,qBAGLnjI,KAAKojI,sBACLpjI,KAAKqjI,2BACLrjI,KAAKsjI,0BACLtjI,KAAKujI,yBACLvjI,KAAKwjI,kBAGLxjI,KAAK89F,YAAY10C,QAAQ,SAAUq6E,GACjCvvH,EAAKxO,QAAQ,oBACXkB,KAAM68H,MAKV96H,EAASU,SAAS,6BACrBV,EAASxG,KAAK,cAAe,QAG1BnC,KAAK0jI,kBAEL/6H,EAAS/B,KAAK,UAAW5G,MAyb3B,OAtbAi7F,GAAMC,OAAOynC,EAAS1nC,EAAMoB,YAE5BsmC,EAAQv7H,UAAUw7H,YAAc,SAAUj6H,GACxC,GAAI/J,GAAK,EAYT,OATEA,GADyB,MAAvB+J,EAASxG,KAAK,MACXwG,EAASxG,KAAK,MACe,MAAzBwG,EAASxG,KAAK,QAClBwG,EAASxG,KAAK,QAAU,IAAM84F,EAAMqB,cAAc,GAElDrB,EAAMqB,cAAc,GAG3B19F,EAAK,WAAaA,GAKpB+jI,EAAQv7H,UAAU07H,gBAAkB,SAAU1tH,GAC5CA,EAAW1G,YAAY1O,KAAK2I,SAE5B,IAAI4M,GAAQvV,KAAK2jI,cAAc3jI,KAAK2I,SAAU3I,KAAKsI,QAAQ4X,IAAI,SAElD,OAAT3K,GACFH,EAAW9T,IAAI,QAASiU,IAI5BotH,EAAQv7H,UAAUu8H,cAAgB,SAAUh7H,EAAUwf,GACpD,GAAIy7G,GAAQ,+DAEZ,IAAc,WAAVz7G,EAAqB,CACvB,GAAI07G,GAAa7jI,KAAK2jI,cAAch7H,EAAU,QAE9C,OAAkB,OAAdk7H,EACKA,EAGF7jI,KAAK2jI,cAAch7H,EAAU,WAGtC,GAAc,WAAVwf,EAAqB,CACvB,GAAI27G,GAAen7H,EAAS2hE,YAAW,EAEvC,OAAoB,IAAhBw5D,EACK,OAGFA,EAAe,KAGxB,GAAc,SAAV37G,EAAmB,CACrB,GAAIjjB,GAAQyD,EAASxG,KAAK,QAE1B,IAAsB,gBAAZ,GACR,MAAO,KAKT,KAAK,GAFDqb,GAAQtY,EAAMX,MAAM,KAEf4J,EAAI,EAAG6N,EAAIwB,EAAM5V,OAAYoU,EAAJ7N,EAAOA,GAAQ,EAAG,CAClD,GAAIhM,GAAOqb,EAAMrP,GAAGzG,QAAQ,MAAO,IAC/BuxH,EAAU92H,EAAKmpB,MAAMs4G,EAEzB,IAAgB,OAAZ3K,GAAoBA,EAAQrxH,QAAU,EACxC,MAAOqxH,GAAQ,GAInB,MAAO,MAGT,MAAO9wG,IAGTw6G,EAAQv7H,UAAU87H,cAAgB,WAChCljI,KAAK89F,YAAYvyD,KAAKvrC,KAAMA,KAAKoV,YACjCpV,KAAK+vD,UAAUxkB,KAAKvrC,KAAMA,KAAKoV,YAE/BpV,KAAK6O,SAAS08B,KAAKvrC,KAAMA,KAAKoV,YAC9BpV,KAAKg0C,QAAQzI,KAAKvrC,KAAMA,KAAKoV,aAG/ButH,EAAQv7H,UAAU+7H,mBAAqB,WACrC,GAAIjvH,GAAOlU,IAEXA,MAAK2I,SAAS3B,GAAG,iBAAkB,WACjCkN,EAAK4pF,YAAY10C,QAAQ,SAAUxiD,GACjCsN,EAAKxO,QAAQ,oBACXkB,KAAMA,QAKZ5G,KAAK+jI,MAAQ9oC,EAAM1vD,KAAKvrC,KAAK0jI,gBAAiB1jI,MAE1CA,KAAK2I,SAAS,GAAGklC,aACnB7tC,KAAK2I,SAAS,GAAGklC,YAAY,mBAAoB7tC,KAAK+jI,MAGxD,IAAIC,GAAW92H,OAAO+2H,kBACpB/2H,OAAOg3H,wBACPh3H,OAAOi3H,mBAGO,OAAZH,GACFhkI,KAAKokI,UAAY,GAAIJ,GAAS,SAAUK,GACtC7kI,EAAEC,KAAK4kI,EAAWnwH,EAAK6vH,SAEzB/jI,KAAKokI,UAAUE,QAAQtkI,KAAK2I,SAAS,IACnCgmB,YAAY,EACZ41G,SAAS,KAEFvkI,KAAK2I,SAAS,GAAGykC,kBAC1BptC,KAAK2I,SAAS,GAAGykC,iBAAiB,kBAAmBl5B,EAAK6vH,OAAO,IAIrEpB,EAAQv7H,UAAUg8H,oBAAsB,WACtC,GAAIlvH,GAAOlU,IAEXA,MAAK89F,YAAY92F,GAAG,IAAK,SAAUnI,EAAMgmB,GACvC3Q,EAAKxO,QAAQ7G,EAAMgmB,MAIvB89G,EAAQv7H,UAAUi8H,yBAA2B,WAC3C,GAAInvH,GAAOlU,KACPwkI,GAAkB,SAEtBxkI,MAAK+vD,UAAU/oD,GAAG,SAAU,WAC1BkN,EAAKuwH,mBAGPzkI,KAAK+vD,UAAU/oD,GAAG,IAAK,SAAUnI,EAAMgmB,GACG,KAApCrlB,EAAEylD,QAAQpmD,EAAM2lI,IAIpBtwH,EAAKxO,QAAQ7G,EAAMgmB,MAIvB89G,EAAQv7H,UAAUk8H,wBAA0B,WAC1C,GAAIpvH,GAAOlU,IAEXA,MAAK6O,SAAS7H,GAAG,IAAK,SAAUnI,EAAMgmB,GACpC3Q,EAAKxO,QAAQ7G,EAAMgmB,MAIvB89G,EAAQv7H,UAAUm8H,uBAAyB,WACzC,GAAIrvH,GAAOlU,IAEXA,MAAKg0C,QAAQhtC,GAAG,IAAK,SAAUnI,EAAMgmB,GACnC3Q,EAAKxO,QAAQ7G,EAAMgmB,MAIvB89G,EAAQv7H,UAAUo8H,gBAAkB,WAClC,GAAItvH,GAAOlU,IAEXA,MAAKgH,GAAG,OAAQ,WACdkN,EAAKkB,WAAW/L,SAAS,6BAG3BrJ,KAAKgH,GAAG,QAAS,WACfkN,EAAKkB,WAAWpN,YAAY,6BAG9BhI,KAAKgH,GAAG,SAAU,WAChBkN,EAAKkB,WAAWpN,YAAY,iCAG9BhI,KAAKgH,GAAG,UAAW,WACjBkN,EAAKkB,WAAW/L,SAAS,iCAG3BrJ,KAAKgH,GAAG,QAAS,WACfkN,EAAKkB,WAAW/L,SAAS,8BAG3BrJ,KAAKgH,GAAG,OAAQ,WACdkN,EAAKkB,WAAWpN,YAAY,8BAG9BhI,KAAKgH,GAAG,QAAS,SAAU6d,GACpB3Q,EAAK9F,UACR8F,EAAKxO,QAAQ,QAGf1F,KAAK89F,YAAYlwE,MAAM/I,EAAQ,SAAUje,GACvCsN,EAAKxO,QAAQ,eACXkB,KAAMA,EACNgnB,MAAO/I,QAKb7kB,KAAKgH,GAAG,eAAgB,SAAU6d,GAChC7kB,KAAK89F,YAAYlwE,MAAM/I,EAAQ,SAAUje,GACvCsN,EAAKxO,QAAQ,kBACXkB,KAAMA,EACNgnB,MAAO/I,QAKb7kB,KAAKgH,GAAG,WAAY,SAAUq5F,GAC5B,GAAItsF,GAAMssF,EAAIp1F,KAEViJ,GAAK9F,SACH2F,IAAQwsF,EAAKhrC,OACfrhD,EAAKxO,QAAQ,kBAEb26F,EAAI14F,kBACMoM,IAAQwsF,EAAKxiC,OAASsiC,EAAIrvB,SACpC98D,EAAKxO,QAAQ,kBAEb26F,EAAI14F,kBACKoM,IAAQwsF,EAAKU,IACtB/sF,EAAKxO,QAAQ,oBAEb26F,EAAI14F,kBACKoM,IAAQwsF,EAAKY,MACtBjtF,EAAKxO,QAAQ,gBAEb26F,EAAI14F,mBACKoM,IAAQwsF,EAAKI,KAAO5sF,IAAQwsF,EAAK7qC,OAC1CxhD,EAAKjN,QAELo5F,EAAI14F,mBAGFoM,IAAQwsF,EAAKhrC,OAASxhD,IAAQwsF,EAAKxiC,QACjChqD,IAAQwsF,EAAKY,MAAQptF,IAAQwsF,EAAKU,KAAOZ,EAAIpvB,UACjD/8D,EAAKujB,OAEL4oE,EAAI14F,qBAMZg7H,EAAQv7H,UAAUs8H,gBAAkB;AAClC1jI,KAAKsI,QAAQiY,IAAI,WAAYvgB,KAAK2I,SAASe,KAAK,aAE5C1J,KAAKsI,QAAQ4X,IAAI,aACflgB,KAAKoO,UACPpO,KAAKiH,QAGPjH,KAAK0F,QAAQ,YAEb1F,KAAK0F,QAAQ,WAQjBi9H,EAAQv7H,UAAU1B,QAAU,SAAU7G,EAAMqd,GAC1C,GAAIwoH,GAAgB/B,EAAQpnC,UAAU71F,QAClCi/H,GACFltG,KAAQ,UACRxwB,MAAS,UACT2f,OAAU,YACVoyG,SAAY,cAGd,IAAIn6H,IAAQ8lI,GAAe,CACzB,GAAIC,GAAiBD,EAAc9lI,GAC/BgmI,GACF9hC,WAAW,EACXlkG,KAAMA,EACNqd,KAAMA,EAKR,IAFAwoH,EAAc59H,KAAK9G,KAAM4kI,EAAgBC,GAErCA,EAAe9hC,UAGjB,YAFA7mF,EAAK6mF,WAAY,GAMrB2hC,EAAc59H,KAAK9G,KAAMnB,EAAMqd,IAGjCymH,EAAQv7H,UAAUq9H,eAAiB,WAC7BzkI,KAAKsI,QAAQ4X,IAAI,cAIjBlgB,KAAKoO,SACPpO,KAAKiH,QAELjH,KAAKy3B,SAITkrG,EAAQv7H,UAAUqwB,KAAO,WACnBz3B,KAAKoO,WAITpO,KAAK0F,QAAQ,YAEb1F,KAAK0F,QAAQ,UAGfi9H,EAAQv7H,UAAUH,MAAQ,WACnBjH,KAAKoO,UAIVpO,KAAK0F,QAAQ,UAGfi9H,EAAQv7H,UAAUgH,OAAS,WACzB,MAAOpO,MAAKoV,WAAWnN,SAAS,4BAGlC06H,EAAQv7H,UAAUsQ,OAAS,SAAUwE,GAC/Blc,KAAKsI,QAAQ4X,IAAI,UAAYhT,OAAO/M,SAAWA,QAAQi9E,MACzDj9E,QAAQi9E,KACN,sJAMQ,MAARlhE,GAAgC,IAAhBA,EAAKtU,UACvBsU,IAAQ,GAGV,IAAI+iF,IAAY/iF,EAAK,EAErBlc,MAAK2I,SAASe,KAAK,WAAYu1F,IAGjC0jC,EAAQv7H,UAAUR,KAAO,WACnB5G,KAAKsI,QAAQ4X,IAAI,UACjB1Z,UAAUoB,OAAS,GAAKsF,OAAO/M,SAAWA,QAAQi9E,MACpDj9E,QAAQi9E,KACN,oIAKJ,IAAIx2E,KAMJ,OAJA5G,MAAK89F,YAAY10C,QAAQ,SAAU2vE,GACjCnyH,EAAOmyH,IAGFnyH,GAGT+7H,EAAQv7H,UAAU8B,IAAM,SAAUgT,GAQhC,GAPIlc,KAAKsI,QAAQ4X,IAAI,UAAYhT,OAAO/M,SAAWA,QAAQi9E,MACzDj9E,QAAQi9E,KACN,uIAKQ,MAARlhE,GAAgC,IAAhBA,EAAKtU,OACvB,MAAO5H,MAAK2I,SAASO,KAGvB,IAAI47H,GAAS5oH,EAAK,EAEd1c,GAAEwf,QAAQ8lH,KACZA,EAAStlI,EAAE0D,IAAI4hI,EAAQ,SAAU7wH,GAC/B,MAAOA,GAAIiK,cAIfle,KAAK2I,SAASO,IAAI47H,GAAQp/H,QAAQ,WAGpCi9H,EAAQv7H,UAAUyQ,QAAU,WAC1B7X,KAAKoV,WAAW5N,SAEZxH,KAAK2I,SAAS,GAAGolC,aACnB/tC,KAAK2I,SAAS,GAAGolC,YAAY,mBAAoB/tC,KAAK+jI,OAGlC,MAAlB/jI,KAAKokI,WACPpkI,KAAKokI,UAAUW,aACf/kI,KAAKokI,UAAY,MACRpkI,KAAK2I,SAAS,GAAGilC,qBAC1B5tC,KAAK2I,SAAS,GACXilC,oBAAoB,kBAAmB5tC,KAAK+jI,OAAO,GAGxD/jI,KAAK+jI,MAAQ,KAEb/jI,KAAK2I,SAASuH,IAAI,YAClBlQ,KAAK2I,SAASxG,KAAK,WAAYnC,KAAK2I,SAAS/B,KAAK,iBAElD5G,KAAK2I,SAASX,YAAY,6BAC7BhI,KAAK2I,SAASxG,KAAK,cAAe,SAC/BnC,KAAK2I,SAASmP,WAAW,WAEzB9X,KAAK89F,YAAYjmF,UACjB7X,KAAK+vD,UAAUl4C,UACf7X,KAAK6O,SAASgJ,UACd7X,KAAKg0C,QAAQn8B,UAEb7X,KAAK89F,YAAc,KACnB99F,KAAK+vD,UAAY,KACjB/vD,KAAK6O,SAAW,KAChB7O,KAAKg0C,QAAU,MAGjB2uF,EAAQv7H,UAAU22F,OAAS,WACzB,GAAI3oF,GAAa5V,EACf,0IAcF,OARA4V,GAAWjT,KAAK,MAAOnC,KAAKsI,QAAQ4X,IAAI,QAExClgB,KAAKoV,WAAaA,EAElBpV,KAAKoV,WAAW/L,SAAS,sBAAwBrJ,KAAKsI,QAAQ4X,IAAI,UAElE9K,EAAWxO,KAAK,UAAW5G,KAAK2I,UAEzByM,GAGFutH,IAGT3qC,EAAG35E,OAAO,kBACR,SACA,UAEA,iBACA,sBACC,SAAU7e,EAAG8jD,EAASq/E,EAAS3C,GAIhC,GAFA18E,EAAQ,qBAEY,MAAhB9jD,EAAE6E,GAAG4zF,QAAiB,CAExB,GAAI+sC,IAAe,OAAQ,QAAS,UAEpCxlI,GAAE6E,GAAG4zF,QAAU,SAAU3vF,GAGvB,GAFAA,EAAUA,MAEa,gBAAZA,GAOT,MANAtI,MAAKP,KAAK,WACR,CAAA,GAAIwlI,GAAkBzlI,EAAEoJ,UAAWN,GAAS,EAE7B,IAAIq6H,GAAQnjI,EAAEQ,MAAOilI,MAG/BjlI,IACF,IAAuB,gBAAZsI,GAAsB,CACtC,GAAI48H,GAAWllI,KAAK4G,KAAK,UAET,OAAZs+H,GAAoBh4H,OAAO/M,SAAWA,QAAQ2qB,OAChD3qB,QAAQ2qB,MACN,gBAAmBxiB,EAAU,gEAKjC,IAAI4T,GAAOC,MAAM/U,UAAUgV,MAAMtV,KAAKN,UAAW,GAE7C2tC,EAAM+wF,EAAS58H,GAAS4T,EAG5B,OAAI1c,GAAEylD,QAAQ38C,EAAS08H,GAAe,GAC7BhlI,KAGFm0C,EAEP,KAAM,IAAIhwC,OAAM,kCAAoCmE,IAS1D,MAJ6B,OAAzB9I,EAAE6E,GAAG4zF,QAAQnkF,WACftU,EAAE6E,GAAG4zF,QAAQnkF,SAAWksH,GAGnB2C,IAGT3qC,EAAG35E,OAAO,qBACR,UACC,SAAU7e,GAEX,MAAOA,MAKL6e,OAAQ25E,EAAG35E,OACXilC,QAAS00C,EAAG10C,YAMV20C,EAAUD,EAAG10C,QAAQ,iBAQzB,OAHAp/C,GAAOG,GAAG4zF,QAAQ35E,IAAM05E,EAGjBC,IAGT,SAAUz4F,GAYTA,EAAE6E,GAAGd,QAAU,SAAS4hI,EAAQC,GAE5B,GAAIC,GAAQ7lI,EAAEQ,MAAMkM,GAAG,GACtB/I,EAAOkiI,EAAGnlH,IAAI,GACdolH,EAAQ9lI,EAAE0N,QACVq4H,EAAYD,EAAG7hI,YACf+hI,EAAcD,EAAUD,EAAG1vH,SAC3B6vH,EAASJ,EAAG3hI,SAASC,IACrB+hI,EAAYD,EAAOJ,EAAGzvH,SACtB+vH,EAAcR,KAAY,EAAOO,EAAUD,EAC3CG,EAAgBT,KAAY,EAAOM,EAAOC,EAC1CG,EAAcT,KAAW,EAAOjiI,EAAEwJ,YAAcxJ,EAAE+K,cAAe,CAErE,SAAS23H,GAAiCL,GAAjBI,GAAiCD,GAAcJ,IAGvErhI,QASF,SAAUskB,EAAMjK,GAEf,YACsB,mBAAXF,SAAyBA,OAAOC,IAEzCD,QAAQ,UAAWE,GACS,gBAAZH,SAIhBD,OAAOC,QAAUG,EAAQ+kC,QAAQ,WAGjC96B,EAAKs9G,QAAUvnH,EAAQiK,EAAKtkB,SAG9BlE,KAAM,QAASwS,GAAKhT,EAAGyF,GAEvB,YAmEA,SAAS8gI,GAAGhyH,GACV,GAAIskE,GAAS2tD,EAAQlyH,EAASukE,OAC9B,OAAOA,GAASA,EAAOtkE,GAAOiyH,EAAQC,GAAGlyH,GAG3C,QAASmyH,GAAgB//H,EAAGmgD,EAAQ7gD,GAClCU,EAAEwI,kBACFxI,EAAEwB,gBAOF,IAAIw+H,GAAiB3mI,EAAEqwE,WAAWpqE,IAAaA,EAASqB,KAAKw/C,EAAQngD,MAAO,CAGvEggI,IACH7/E,EAAOp0C,MAAM,QAIjB,QAASk0H,GAAanyH,GAEpB,GAAI6I,GAAG3Z,EAAI,CACX,KAAK2Z,IAAK7I,GACR9Q,GAEF,OAAOA,GAGT,QAAS1D,GAAK0lD,EAAYkhF,GACxB,GAAI36H,GAAQ,CACZlM,GAAEC,KAAK0lD,EAAY,SAASpxC,EAAKC,GAC/BqyH,EAAStyH,EAAKC,EAAOtI,OAIzB,QAAS46H,GAASh+H,GAChB,GAAIsuE,GACAxmD,CAEJ,IAAuB,gBAAZ9nB,GACT,KAAM,IAAInE,OAAM,qCAGlB,KAAKmE,EAAQ81F,QACX,KAAM,IAAIj6F,OAAM,2BA4ClB,OAxCAmE,GAAU9I,EAAEoJ,UAAWkL,EAAUxL,GAE5BA,EAAQsuE,UACXtuE,EAAQsuE,YAGVA,EAAUtuE,EAAQsuE,QAElBxmD,EAAQg2G,EAAaxvD,GAErBn3E,EAAKm3E,EAAS,SAAS7iE,EAAKnK,EAAQ8B,GAWlC,GATIlM,EAAEqwE,WAAWjmE,KAGfA,EAASgtE,EAAQ7iE,IACftO,SAAUmE,IAKS,WAAnBpK,EAAEuK,KAAKH,GACT,KAAM,IAAIzF,OAAM,mBAAqB4P,EAAM,qBAGxCnK,GAAOyoE,QAEVzoE,EAAOyoE,MAAQt+D,GAGZnK,EAAOmI,YAGRnI,EAAOmI,UAFI,GAATqe,GAAc1kB,IAAU0kB,EAAM,EAEb,cAEA,iBAKlB9nB,EAYT,QAASi+H,GAAarqH,EAAM2kD,GAC1B,GAAI2lE,GAAOtqH,EAAKtU,OACZU,IAEJ,IAAW,EAAPk+H,GAAYA,EAAO,EACrB,KAAM,IAAIriI,OAAM,0BAUlB,OAPa,KAATqiI,GAAiC,gBAAZtqH,GAAK,IAC5B5T,EAAQu4D,EAAW,IAAM3kD,EAAK,GAC9B5T,EAAQu4D,EAAW,IAAM3kD,EAAK,IAE9B5T,EAAU4T,EAAK,GAGV5T,EAMT,QAASm+H,GAAe3yH,EAAUoI,EAAM2kD,GACtC,MAAOrhE,GAAEoJ,QAEP,KAIAkL,EAGAyyH,EACErqH,EACA2kD,IASN,QAAS6lE,GAAmB30H,EAAW40H,EAAQ9lE,EAAY3kD,GAEzD,GAAI0qH,IACF70H,UAAW,WAAaA,EACxB6kE,QAASiwD,EAAa3lI,MAAM,KAAMylI,GAKpC,OAAOG,GAELL,EACEG,EACA1qH,EAEA2kD,GAEF8lE,GASJ,QAASE,KAGP,IAAK,GAFDjwD,MAEKzoE,EAAI,EAAG4O,EAAIvW,UAAUoB,OAAYmV,EAAJ5O,EAAOA,IAAK,CAChD,GAAI44H,GAAWvgI,UAAU2H,GACrB4F,EAAMgzH,EAAS5jH,cACfnP,EAAQ+yH,EAAS7vG,aAErB0/C,GAAQ7iE,IACNs+D,MAAO0zD,EAAG/xH,IAId,MAAO4iE,GAGT,QAASkwD,GAAgBx+H,EAASsuE,GAChC,GAAIowD,KAWJ,OAVAvnI,GAAKm3E,EAAS,SAAS7iE,EAAKC,GAC1BgzH,EAAehzH,IAAS,IAG1BvU,EAAK6I,EAAQsuE,QAAS,SAAS7iE,GAC7B,GAAIizH,EAAejzH,KAAS9O,EAC1B,KAAM,IAAId,OAAM,cAAgB4P,EAAM,gCAAkC6iE,EAAQhqE,KAAK,MAAQ,OAI1FtE,EAvQT,GAAI2+H,IACF3gF,OACE,+LAOF4gF,OACE,gEAGFx0D,OACE,mCACFy0D,YACE,oHACFC,KACE,qCACFC,QACE7kH,KACE,6FACF8kH,SACE,kFACFC,MACE,mGACF3gH,OACE,4EACF4gH,SACE,oHACFhrD,KACE,+FACF17D,KACE,+FACF2mH,OACE,mGACFC,SACE,2GAIF5zH,GAEFukE,OAAQ,KAER9pE,SAAU,SAEV/K,SAAS,EAETuO,UAAW,KAEXo1H,aAAa,EAEbrjI,MAAM,EAENiP,UAAW,QAITqL,IA+MJA,GAAQjW,MAAQ,WACd,GAAIG,EAIJ,IAFAA,EAAUo+H,EAAmB,SAAU,OAAQ,UAAW,YAAalgI,WAEnE8B,EAAQ7C,WAAajG,EAAEqwE,WAAWvnE,EAAQ7C,UAC5C,KAAM,IAAItB,OAAM,kEAalB,OAPAmE,GAAQsuE,QAAQjlC,GAAGlsC,SAAW6C,EAAQq/H,SAAW,WAC/C,MAAInoI,GAAEqwE,WAAWvnE,EAAQ7C,UAChB6C,EAAQ7C,SAASqB,KAAK9G,OAExB,GAGFoe,EAAQkoC,OAAOh+C,IAGxB8V,EAAQwpH,QAAU,WAChB,GAAIt/H,EAgBJ,IAdAA,EAAUo+H,EAAmB,WAAY,SAAU,YAAa,UAAW,YAAalgI,WAKxF8B,EAAQsuE,QAAQixD,OAAOpiI,SAAW6C,EAAQq/H,SAAW,WACnD,MAAOr/H,GAAQ7C,SAASqB,KAAK9G,MAAM,IAGrCsI,EAAQsuE,QAAQgxD,QAAQniI,SAAW,WACjC,MAAO6C,GAAQ7C,SAASqB,KAAK9G,MAAM,KAIhCR,EAAEqwE,WAAWvnE,EAAQ7C,UACxB,KAAM,IAAItB,OAAM,8BAGlB,OAAOia,GAAQkoC,OAAOh+C,IAGxB8V,EAAQ0pH,OAAS,WACf,GAAIx/H,GACAwL,EACAwyC,EACA8gF,EACA5jC,EACAukC,EACAC,CAyEJ,IAnEAZ,EAAO5nI,EAAEynI,EAAUG,MAOnBtzH,GACE/B,UAAW,iBACX6kE,QAASiwD,EAAa,SAAU,WAChC7yH,MAAO,GACPi0H,UAAW,QAGb3/H,EAAUw+H,EACRL,EAAe3yH,EAAUtN,WAAY,QAAS,cAC7C,SAAU,YAMbuhI,EAAcz/H,EAAQxE,OAASmB,GAAa,EAAOqD,EAAQxE,KAK3DwE,EAAQ81F,QAAUgpC,EAElB9+H,EAAQsuE,QAAQixD,OAAOpiI,SAAW6C,EAAQq/H,SAAW,WACnD,MAAOr/H,GAAQ7C,SAASqB,KAAK9G,KAAM,OAGrCsI,EAAQsuE,QAAQgxD,QAAQniI,SAAW,WACjC,GAAIuO,EAEJ,QAAQ1L,EAAQ2/H,WACd,IAAK,OACL,IAAK,WACL,IAAK,QACL,IAAK,SACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,WACHj0H,EAAQwvF,EAAMt6F,KACd,MAEF,KAAK,WACH,GAAIg/H,GAAe1kC,EAAM/5F,KAAK,gBAI9BuK,MAEAvU,EAAKyoI,EAAc,SAAS/hH,EAAG5a,GAC7ByI,EAAM9U,KAAKM,EAAE+L,GAAMrC,SAKzB,MAAOZ,GAAQ7C,SAASqB,KAAK9G,KAAMgU,IAGrC1L,EAAQxE,MAAO,GAGVwE,EAAQsK,MACX,KAAM,IAAIzO,OAAM,0BAGlB,KAAK3E,EAAEqwE,WAAWvnE,EAAQ7C,UACxB,KAAM,IAAItB,OAAM,6BAGlB,KAAK8iI,EAAUI,OAAO/+H,EAAQ2/H,WAC5B,KAAM,IAAI9jI,OAAM,sBAMlB,QAFAq/F,EAAQhkG,EAAEynI,EAAUI,OAAO/+H,EAAQ2/H,YAE3B3/H,EAAQ2/H,WACd,IAAK,OACL,IAAK,WACL,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,WACHzkC,EAAMt6F,IAAIZ,EAAQ0L,MAClB,MAEF,KAAK,SACH,GAAIm0H,KAGJ,IAFAH,EAAe1/H,EAAQ0/H,kBAElBxoI,EAAEwf,QAAQgpH,GACb,KAAM,IAAI7jI,OAAM,wCAGlB,KAAK6jI,EAAapgI,OAChB,KAAM,IAAIzD,OAAM,sCAGlB1E,GAAKuoI,EAAc,SAAS7hH,EAAGzf,GAG7B,GAAI4qB,GAAOkyE,CAEX,IAAI98F,EAAOsN,QAAU/O,GAAayB,EAAO8b,OAASvd,EAChD,KAAM,IAAId,OAAM,gCAKduC,GAAO62B,QAEJ4qG,EAAOzhI,EAAO62B,SACjB4qG,EAAOzhI,EAAO62B,OAAS/9B,EAAE,eAAe2C,KAAK,QAASuE,EAAO62B,QAG/DjM,EAAO62G,EAAOzhI,EAAO62B,QAGvBjM,EAAKtf,OAAO,kBAAoBtL,EAAOsN,MAAQ,KAAOtN,EAAO8b,KAAO,eAGtE/iB,EAAK0oI,EAAQ,SAAShiH,EAAGoX,GACvBimE,EAAMxxF,OAAOurB,KAIfimE,EAAMt6F,IAAIZ,EAAQ0L,MAClB,MAEF,KAAK,WACH,GAAIuW,GAAW/qB,EAAEwf,QAAQ1W,EAAQ0L,OAAS1L,EAAQ0L,OAAS1L,EAAQ0L,MAGnE,IAFAg0H,EAAe1/H,EAAQ0/H,kBAElBA,EAAapgI,OAChB,KAAM,IAAIzD,OAAM,wCAGlB,KAAK6jI,EAAa,GAAGh0H,QAAUg0H,EAAa,GAAGxlH,KAC7C,KAAM,IAAIre,OAAM,gCAMlBq/F,GAAQhkG,EAAE,UAEVC,EAAKuoI,EAAc,SAAS7hH,EAAGzf,GAC7B,GAAI8gI,GAAWhoI,EAAEynI,EAAUI,OAAO/+H,EAAQ2/H,WAE1CT,GAAS/9H,KAAK,SAAStH,KAAK,QAASuE,EAAOsN,OAC5CwzH,EAAS/9H,KAAK,SAASuI,OAAOtL,EAAO8b,MAGrC/iB,EAAK8qB,EAAQ,SAASpE,EAAGnS,GACnBA,IAAUtN,EAAOsN,OACnBwzH,EAAS/9H,KAAK,SAASC,KAAK,WAAW,KAI3C85F,EAAMxxF,OAAOw1H,KA+CnB,MAxCIl/H,GAAQ+qD,aACVmwC,EAAMrhG,KAAK,cAAemG,EAAQ+qD,aAGhC/qD,EAAQ4f,SACVs7E,EAAMrhG,KAAK,UAAWmG,EAAQ4f,SAG5B5f,EAAQ6jC,WACVq3D,EAAMrhG,KAAK,YAAamG,EAAQ6jC,WAIlCi7F,EAAKp1H,OAAOwxF,GAEZ4jC,EAAKpgI,GAAG,SAAU,SAASb,GACzBA,EAAEwB,iBAEFxB,EAAEwI,kBAGF23C,EAAO78C,KAAK,gBAAgB6kE,UAG9BhoB,EAASloC,EAAQkoC,OAAOh+C,GAGxBg+C,EAAOp2C,IAAI,kBAGXo2C,EAAOt/C,GAAG,iBAAkB,WAG1Bw8F,EAAM7yF,UAGJo3H,KAAe,GACjBzhF,EAAOp0C,MAAM,QAGRo0C,GAGTloC,EAAQkoC,OAAS,SAASh+C,GACxBA,EAAUg+H,EAASh+H,EAEnB,IAAIg+C,GAAS9mD,EAAEynI,EAAU3gF,QACrB8hF,EAAc9hF,EAAO78C,KAAK,iBAC1BwF,EAAOq3C,EAAO78C,KAAK,eACnBmtE,EAAUtuE,EAAQsuE,QAClByxD,EAAY,GACZljE,GACFwiE,SAAUr/H,EAAQq/H,SAGpB,IAAInoI,EAAE6E,GAAG6N,QAAUjN,EACjB,KAAM,IAAId,OACR,+JAmCJ,IA7BA1E,EAAKm3E,EAAS,SAAS7iE,EAAKnK,GAK1By+H,GAAa,4BAA8Bt0H,EAAM,8BAAgCnK,EAAOmI,UAAY,KAAOnI,EAAOyoE,MAAQ,YAC1HlN,EAAUpxD,GAAOnK,EAAOnE,WAG1BwJ,EAAKxF,KAAK,iBAAiBqJ,KAAKxK,EAAQ81F,SAEpC91F,EAAQ9E,WAAY,GACtB8iD,EAAOj9C,SAAS,QAGdf,EAAQyJ,WACVu0C,EAAOj9C,SAASf,EAAQyJ,WAGL,UAAjBzJ,EAAQ4wD,KACVkvE,EAAY/+H,SAAS,YACK,UAAjBf,EAAQ4wD,MACjBkvE,EAAY/+H,SAAS,YAGnBf,EAAQsK,OACV3D,EAAK4hB,OAAOo2G,EAAUC,QAGpB5+H,EAAQ6+H,YAAa,CACvB,GAAIA,GAAc3nI,EAAEynI,EAAUE,YAE1B7+H,GAAQsK,MACV0zC,EAAO78C,KAAK,iBAAiB8mB,QAAQ42G,GAErCA,EAAY7lI,IAAI,aAAc,SAASsvB,UAAU3hB,GA6IrD,MAzII3G,GAAQsK,OACV0zC,EAAO78C,KAAK,gBAAgBqJ,KAAKxK,EAAQsK,OAGvCy1H,EAAUzgI,SACZqH,EAAKwhB,MAAMw2G,EAAUv0D,QACrBpsB,EAAO78C,KAAK,iBAAiBqJ,KAAKu1H,IAUpC/hF,EAAOt/C,GAAG,kBAAmB,SAASb,GAIhCA,EAAEC,SAAWpG,MACfsmD,EAAO9+C,WAeX8+C,EAAOt/C,GAAG,iBAAkB,WAC1Bs/C,EAAO78C,KAAK,sBAAsBkH,UASX,WAArBrI,EAAQiG,UASV+3C,EAAOt/C,GAAG,yBAA0B,SAASb,GAGvCmgD,EAAO76C,SAAS,mBAAmB7D,SACrCzB,EAAEuK,cAAgB41C,EAAO76C,SAAS,mBAAmByU,IAAI,IAGvD/Z,EAAEC,SAAWD,EAAEuK,eAInB41C,EAAO5gD,QAAQ,qBAInB4gD,EAAOt/C,GAAG,kBAAmB,SAASb,GAChCg/D,EAAUwiE,UACZzB,EAAgB//H,EAAGmgD,EAAQ6e,EAAUwiE,YASzCrhF,EAAOt/C,GAAG,QAAS,uBAAwB,SAASb,GAClD,GAAImiI,GAAc9oI,EAAEQ,MAAM4G,KAAK,aAE/Bs/H,GAAgB//H,EAAGmgD,EAAQ6e,EAAUmjE,MAGvChiF,EAAOt/C,GAAG,QAAS,wBAAyB,SAASb,GAInD+/H,EAAgB//H,EAAGmgD,EAAQ6e,EAAUwiE,YAGvCrhF,EAAOt/C,GAAG,QAAS,SAASb,GACV,KAAZA,EAAE8E,OACJq7C,EAAO5gD,QAAQ,qBASnBlG,EAAE8I,EAAQyK,WAAWf,OAAOs0C,GAE5BA,EAAOp0C,OACL3D,SAAUjG,EAAQiG,SAAW,UAAU,EACvC3D,UAAU,EACV9G,MAAM,IAGJwE,EAAQxE,MACVwiD,EAAOp0C,MAAM,QAuBRo0C,GAITloC,EAAQmqH,YAAc,WACpB,GAAIh+G,KAEqB,KAArB/jB,UAAUoB,OAEZ2iB,EAAO/jB,UAAU,IAAMA,UAAU,GAGjC+jB,EAAS/jB,UAAU,GAGrBhH,EAAEoJ,OAAOkL,EAAUyW,IAGrBnM,EAAQoqH,QAAU,WAGhB,MAFAhpI,GAAE,YAAY0S,MAAM,QAEbkM,EAQT,IAAI4nH,IACFyC,OACEC,GAAU,KACVC,OAAU,QACVC,QAAU,gBAEZC,IACEH,GAAU,KACVC,OAAU,WACVC,QAAU,OAEZE,IACEJ,GAAU,KACVC,OAAU,SACVC,QAAU,YAEZ3qD,IACEyqD,GAAU,KACVC,OAAU,WACVC,QAAU,YAEZl+C,IACEg+C,GAAU,KACVC,OAAU,YACVC,QAAU,eAEZnkI,IACEikI,GAAU,UACVC,OAAU,UACVC,QAAU,eAEZ3C,IACEyC,GAAU,KACVC,OAAU,SACVC,QAAU,MAEZzrH,IACEurH,GAAU,KACVC,OAAU,WACVC,QAAU,WAEZG,IACEL,GAAU,KACVC,OAAU,WACVC,QAAU,MAEZzqD,IACEuqD,GAAU,OACVC,OAAU,MACVC,QAAU,SAEZI,IACEN,GAAU,KACVC,OAAU,UACVC,QAAU,MAEZK,IACEP,GAAU,KACVC,OAAU,UACVC,QAAU,YAEZM,IACER,GAAU,QACVC,OAAU,QACVC,QAAU,SAEZO,IACET,GAAU,KACVC,OAAU,SACVC,QAAU,aAEZnuE,IACEiuE,GAAU,KACVC,OAAU,WACVC,QAAU,WAEZhqI,IACE8pI,GAAU,KACVC,OAAU,QACVC,QAAU,MAEZz6G,IACEu6G,GAAU,KACVC,OAAU,UACVC,QAAU,YAEZ9pD,IACE4pD,GAAU,KACVC,OAAU,QACVC,QAAU,MAEZQ,IACEV,GAAU,QACVC,OAAU,WACVC,QAAU,eAEZS,IACEX,GAAU,OACVC,OAAU,SACVC,QAAU,eAEZU,IACEZ,GAAU,KACVC,OAAU,YACVC,QAAU,cAEZW,IACEb,GAAU,KACVC,OAAU,SACVC,QAAU,MAEZY,IACEd,GAAU,KACVC,OAAU,SACVC,QAAU,aAEZa,IACEf,GAAU,KACVC,OAAU,WACVC,QAAU,aAEZc,IACEhB,GAAU,KACVC,OAAU,SACVC,QAAU,aAEZe,IACEjB,GAAK,KACLC,OAAS,QACTC,QAAU,SAEZgB,IACElB,GAAU,KACVC,OAAU,SACVC,QAAU,MAEZiB,IACEnB,GAAU,OACVC,OAAU,SACVC,QAAU,UAEZkB,IACEpB,GAAU,QACVC,OAAU,QACVC,QAAU,UAEZmB,OACErB,GAAU,KACVC,OAAU,KACVC,QAAU,MAEZoB,OACEtB,GAAU,KACVC,OAAU,KACVC,QAAU,MAkCd,OA9BAxqH,GAAQ6rH,UAAY,SAASprI,EAAM0rB,GAajC,MAZA/qB,GAAEC,MAAM,KAAM,SAAU,WAAY,SAAS0mB,EAAGoG,GAC9C,IAAKhC,EAAOgC,GACV,KAAM,IAAIpoB,OAAM,oCAAsCooB,EAAI,OAI9Dy5G,EAAQnnI,IACN6pI,GAAIn+G,EAAOm+G,GACXC,OAAQp+G,EAAOo+G,OACfC,QAASr+G,EAAOq+G,SAGXxqH,GAGTA,EAAQ8rH,aAAe,SAASrrI,GAG9B,aAFOmnI,GAAQnnI,GAERuf,GAGTA,EAAQ+rH,UAAY,SAAStrI,GAC3B,MAAOuf,GAAQmqH,YAAY,SAAU1pI,IAGvCuf,EAAQ5L,KAAO,SAASqoF,GACtB,MAAOroF,GAAKqoF,GAAMr7F,IAGb4e,IAcT,WAEC,YAGA,IAAIoK,GAAOxoB,KACVq0F,EAAW7rE,EAAK4hH,MAGbA,EAAQ,SAAS3tC,GAEpBz8F,KAAKu4B,OAASkkE,EAAQlkE,OAEtBv4B,KAAKqqI,IAAM5tC,CAGX,IAAI6tC,GAAmB,SAAS5hI,EAAQgF,GAEvC,MAAIhF,GAAQ,SAASgF,GAEbhF,EAAQ,SAASgF,GAIjBhJ,SAASknB,YAAYC,iBAAiBnjB,GAASojB,iBAAiBpe,IAIrE6H,EAAQvV,KAAKuV,MAAQ+0H,EAAiB7tC,EAAQlkE,OAAO,SACrD3iB,EAAS5V,KAAK4V,OAAS00H,EAAiB7tC,EAAQlkE,OAAO,SAG3DkkE,GAAQlkE,OAAOhjB,MAASA,EACxBknF,EAAQlkE,OAAO3iB,OAASA,CAExB,IAAIL,GAAQvV,KAAKuV,MAAQknF,EAAQlkE,OAAOhjB,MACpCK,EAAS5V,KAAK4V,OAAS6mF,EAAQlkE,OAAO3iB,MAK1C,OAJA5V,MAAKuqI,YAAcvqI,KAAKuV,MAAQvV,KAAK4V,OAErC40H,EAAQC,YAAYzqI,MAEbA,KAGRoqI,GAAMt2H,UACL6b,QAECld,WAAW,EAGXi4H,eAAgB,GAGhBC,gBAAiB,eAGjBC,WAAW,EAGXC,eAAe,EAIfC,WAAY,KAEZC,eAAgB,KAEhBC,gBAAiB,KAGjBC,eAAgB,iBAGhBC,eAAgB,EAGhBC,iBAAiB,EAGjBC,WAAY,aAGZC,mBAAmB,EAGnBC,kBAAkB,EAGlBC,gBAAiB,qDAGjBC,cAAe,GAGfC,eAAgB,SAGhBC,eAAgB,OAGhBC,YAAY,EAGZC,qBAAqB,EAGrBC,cAAc,EAGdC,gBAAgB,EAGhBC,eAAgB,YAAa,aAAc,YAAa,YAGxDC,iBAAkB,kBAGlBC,kBAAmB,qDAGnBC,gBAAiB,GAGjBC,iBAAkB,SAGlBC,iBAAkB,OAGlBC,uBAAwB,qDAGxBC,qBAAsB,GAGtBC,sBAAuB,OAGvBC,sBAAuB,OAGvBC,gBAAiB,EAGjBC,gBAAiB,EAGjBC,iBAAkB,EAGlBC,oBAAqB,EAGrBC,eAAgB,GAGhBC,gBAAiB,+CAGjBC,qBAAsB,eAGtBC,0BAA2B,OAG3BC,oBAAqB,aAGrBC,oBAAqB,eAMvB9C,EAAM+C,QAGN,IAAI3C,GAAUJ,EAAMI,WAGhB/qI,EAAO+qI,EAAQ/qI,KAAO,SAAS2tI,EAAS3nI,EAASyO,GACnD,GAAIm5H,GAAiBlxH,MAAM/U,UAAUgV,MAAMtV,KAAKN,UAAW,EAE3D,IAAI4mI,EACH,GAAIA,EAASxlI,UAAYwlI,EAASxlI,OAAO,CACxC,GAAIuG,EACJ,KAAKA,EAAE,EAAGA,EAAEi/H,EAASxlI,OAAQuG,IAC5B1I,EAASvE,MAAMgT,GAAMk5H,EAASj/H,GAAIA,GAAGiP,OAAOiwH,QAI7C,KAAK,GAAI9hI,KAAQ6hI,GAChB3nI,EAASvE,MAAMgT,GAAMk5H,EAAS7hI,GAAMA,GAAM6R,OAAOiwH,KAKrD/pH,EAAQknH,EAAQlnH,MAAQ,SAASrP,GAChC,GAAIq5H,KAIJ,OAHA7tI,GAAKwU,EAAI,SAASD,EAAMD,GACnBE,EAAIsJ,eAAexJ,KAAMu5H,EAASv5H,GAAOC,KAEvCs5H,GAER1kI,EAAS4hI,EAAQ5hI,OAAS,SAAS2kI,GAMlC,MALA9tI,GAAK0c,MAAM/U,UAAUgV,MAAMtV,KAAKN,UAAU,GAAI,SAASgnI,GACtD/tI,EAAK+tI,EAAgB,SAASx5H,EAAMD,GAC/By5H,EAAgBjwH,eAAexJ,KAAMw5H,EAAKx5H,GAAOC,OAGhDu5H,GAERjuI,EAAQkrI,EAAQlrI,MAAQ,SAASiuI,EAAKE,GAErC,GAAIvxH,GAAOC,MAAM/U,UAAUgV,MAAMtV,KAAKN,UAAU,EAEhD,OADA0V,GAAKwiB,YACE91B,EAAO1H,MAAM,KAAMgb,IAE3B0O,EAAU4/G,EAAQ5/G,QAAU,SAAS8iH,EAAeniI,GACnD,GAAI4Q,MAAM/U,UAAUwjB,QACnB,MAAO8iH,GAAc9iH,QAAQrf,EAG7B,KAAK,GAAI4C,GAAI,EAAGA,EAAIu/H,EAAc9lI,OAAQuG,IACzC,GAAIu/H,EAAcv/H,KAAO5C,EAAM,MAAO4C,EAEvC,OAAO,IAsCTw/H,GAnCQnD,EAAQoD,MAAQ,SAASzoF,EAAY0oF,GAC5C,GAAIC,KAQJ,OANAtD,GAAQ/qI,KAAK0lD,EAAY,SAAS55C,GAC7BsiI,EAAetiI,IAClBuiI,EAAS5uI,KAAKqM,KAITuiI,GAEQtD,EAAQuD,cAAgB,SAASL,EAAeG,EAAgBG,GAE1EA,IACJA,EAAa,GAEd,KAAK,GAAI7/H,GAAI6/H,EAAa,EAAG7/H,EAAIu/H,EAAc9lI,OAAQuG,IAAK,CAC3D,GAAI8/H,GAAcP,EAAcv/H,EAChC,IAAI0/H,EAAeI,GAClB,MAAOA,KAIUzD,EAAQ0D,kBAAoB,SAASR,EAAeG,EAAgBG,GAElFA,IACJA,EAAaN,EAAc9lI,OAE5B,KAAK,GAAIuG,GAAI6/H,EAAa,EAAG7/H,GAAK,EAAGA,IAAK,CACzC,GAAI8/H,GAAcP,EAAcv/H,EAChC,IAAI0/H,EAAeI,GAClB,MAAOA,KAICzD,EAAQmD,SAAW,SAASQ,GAEtC,GAAI3iI,GAASxL,KACTouI,EAAgBD,GAAcA,EAAW5wH,eAAe,eAAkB4wH,EAAW/6H,YAAc,WAAY,MAAO5H,GAAOtK,MAAMlB,KAAMwG,YAEzI6nI,EAAY,WAAYruI,KAAKoT,YAAcg7H,EAU/C,OATAC,GAAUjnI,UAAYoE,EAAOpE,UAC7BgnI,EAAahnI,UAAY,GAAIinI,GAE7BD,EAAaxlI,OAAS+kI,EAElBQ,GAAYvlI,EAAOwlI,EAAahnI,UAAW+mI,GAE/CC,EAAa7yC,UAAY/vF,EAAOpE,UAEzBgnI,IAERE,EAAO9D,EAAQ8D,KAAO,aACtBC,EAAM/D,EAAQ+D,IAAM,WACnB,GAAI3vI,GAAG,CACP,OAAO,YACN,MAAO,SAAWA,QAGpBw+E,EAAOotD,EAAQptD,KAAO,SAAS/yD,GAE1Bnd,OAAO/M,SAAyC,kBAAvB+M,QAAO/M,QAAQi9E,MAAoBj9E,QAAQi9E,KAAK/yD,IAE9E/L,EAAMksH,EAAQlsH,IAAwB,kBAAVD,SAAwBA,OAAOC,IAE3DkwH,EAAWhE,EAAQgE,SAAW,SAAS/yH,GACtC,OAAQ1F,MAAM8S,WAAWpN,KAAO2H,SAAS3H,IAE1Cxa,EAAMupI,EAAQvpI,IAAM,SAASuiB,GAC5B,MAAOxiB,MAAKC,IAAIC,MAAOF,KAAMwiB,IAE9ByF,EAAMuhH,EAAQvhH,IAAM,SAASzF,GAC5B,MAAOxiB,MAAKioB,IAAI/nB,MAAOF,KAAMwiB,IAe9BirH,GAbMjE,EAAQkE,IAAM,SAASC,EAAWC,EAASC,GAChD,GAAGL,EAASI,IACX,GAAID,EAAaC,EAChB,MAAOA,OAGJ,IAAGJ,EAASK,IACEA,EAAbF,EACJ,MAAOE,EAGT,OAAOF,IAEWnE,EAAQiE,iBAAmB,SAASK,GACtD,MAAIA,GAAI,IAAI,GAAKN,EAASM,GAClBA,EAAI5wH,WAAW3Z,MAAM,KAAK,GAAGqD,OAG7B,IAGTmnI,EAAYvE,EAAQwE,QAAU,SAASC,GACtC,MAAOA,IAAWjuI,KAAK6gB,GAAG,MAqB3BqtH,GAlBoB1E,EAAQ2E,kBAAoB,SAASC,EAAaC,GACrE,GAAIC,GAAsBD,EAAW7sI,EAAI4sI,EAAY5sI,EACpD+sI,EAAsBF,EAAW5sI,EAAI2sI,EAAY3sI,EACjD+sI,EAA2BxuI,KAAKsgB,KAAMguH,EAAsBA,EAAsBC,EAAsBA,GAGrGxrH,EAAkB,EAAV/iB,KAAK6gB,GAAS7gB,KAAKujB,MAAMgrH,EAAqBD,EAO1D,OAJ0B,GAAtBA,GAAiD,EAAtBC,IAC9BxrH,GAAiB,EAAR/iB,KAAK6gB,KAIdkC,MAAOA,EACP0rH,SAAUD,IAGChF,EAAQ0E,WAAa,SAASQ,GAC1C,MAAQA,GAAa,IAAM,EAAK,EAAI,KAoBrCC,GAlBcnF,EAAQoF,YAAc,SAASC,EAAWC,EAAYC,EAAW5sI,GAG9E,GAAI6sI,GAAIhvI,KAAKsgB,KAAKtgB,KAAKigB,IAAI6uH,EAAYttI,EAAEqtI,EAAWrtI,EAAE,GAAGxB,KAAKigB,IAAI6uH,EAAYrtI,EAAEotI,EAAWptI,EAAE,IAC5FwtI,EAAIjvI,KAAKsgB,KAAKtgB,KAAKigB,IAAI8uH,EAAWvtI,EAAEstI,EAAYttI,EAAE,GAAGxB,KAAKigB,IAAI8uH,EAAWttI,EAAEqtI,EAAYrtI,EAAE,IACzF07E,EAAGh7E,EAAE6sI,GAAKA,EAAIC,GACd7rD,EAAGjhF,EAAE8sI,GAAKD,EAAIC,EACf,QACCC,OACC1tI,EAAIstI,EAAYttI,EAAE27E,GAAI4xD,EAAWvtI,EAAEqtI,EAAWrtI,GAC9CC,EAAIqtI,EAAYrtI,EAAE07E,GAAI4xD,EAAWttI,EAAEotI,EAAWptI,IAE/C0tI,OACC3tI,EAAGstI,EAAYttI,EAAE4hF,GAAI2rD,EAAWvtI,EAAEqtI,EAAWrtI,GAC7CC,EAAIqtI,EAAYrtI,EAAE2hF,GAAI2rD,EAAWttI,EAAEotI,EAAWptI,MAIrB+nI,EAAQmF,0BAA4B,SAASzmI,GACxE,MAAOlI,MAAK2xC,MAAM3xC,KAAKZ,IAAI8I,GAAOlI,KAAKovI,QAoFxCz9H,GAlFsB63H,EAAQ6F,oBAAsB,SAASC,EAAaC,EAAaC,EAAUC,EAAeC,GAG/G,GAAIC,GAAW,EACdC,EAAW5vI,KAAK2xC,MAAM49F,GAAwB,IAAXC,IACnCK,EAAeF,GAAYC,EAExBhC,EAAW3tI,EAAIqvI,GAClBzB,EAAW5lH,EAAIqnH,EAIZ1B,KAAaC,IAChBD,GAAY,GAERC,GAAY,KAAQ4B,EACvB5B,GAAY,GAIZD,GAAY,GAad,KATA,GAAIkC,GAAa9vI,KAAKwQ,IAAIo9H,EAAWC,GACpCkC,EAAwBpB,EAA0BmB,GAClDE,EAAWhwI,KAAK6vE,KAAK+9D,GAAY,EAAI5tI,KAAKigB,IAAI,GAAI8vH,KAA2B/vI,KAAKigB,IAAI,GAAI8vH,GAC1FE,EAAW,EAAkB,EAAIjwI,KAAK2xC,MAAMk8F,GAAY,EAAI7tI,KAAKigB,IAAI,GAAI8vH,KAA2B/vI,KAAKigB,IAAI,GAAI8vH,GACjHG,EAAaF,EAAWC,EACxBE,EAAYnwI,KAAKigB,IAAI,GAAI8vH,GACzBK,EAAgBpwI,KAAKmV,MAAM+6H,EAAaC,IAGlCC,EAAgBR,GAAkCA,EAAL,EAAhBQ,KAAmCP,GACtE,GAAGO,EAAgBR,EAClBO,GAAY,EACZC,EAAgBpwI,KAAKmV,MAAM+6H,EAAWC,GAElCC,EAAgB,IAAM,IACzBP,GAAc,OAMf,IAAIH,GAAgBK,GAAyB,EAAE,CAE9C,GAAGI,EAAU,EAAI,IAAM,EAMtB,KALAA,IAAY,EACZC,EAAgBpwI,KAAKmV,MAAM+6H,EAAWC,OASvCA,IAAY,EACZC,EAAgBpwI,KAAKmV,MAAM+6H,EAAWC,EAWzC,OALIN,KACHO,EAAgBT,EAChBQ,EAAYD,EAAaE,IAIzBC,MAAQD,EACRD,UAAYA,EACZloH,IAAMgoH,EACNhwI,IAAMgwI,EAAYG,EAAgBD,IAQzB3G,EAAQ73H,SAAW,SAAS2+H,EAAgBC,GAStD,QAASC,GAAKnnH,EAAKzjB,GAGlB,GAAIvC,GAAM,KAAKyF,KAAKugB,GAKpB,GAAIiiB,UAAS,MACZ,2EAMAjiB,EACE3iB,QAAQ,YAAa,KACrBnD,MAAM,MAAMqI,KAAK,KACjBlF,QAAQ,mBAAoB,QAC5BA,QAAQ,cAAe,UACvBnD,MAAM,KAAMqI,KAAK,OACjBrI,MAAM,MAAMqI,KAAK,YACjBrI,MAAM,MAAMqI,KAAK,OACnB,0BAnBDiX,EAAMwG,GAAOxG,EAAMwG,EAuBnB,OAAOzjB,GAAOvC,EAAIuC,GAASvC,EAhC5B,GAAGitI,YAA0BhlG,UAC3B,MAAOglG,GAAeC,EAGxB,IAAI1tH,KA8BJ,OAAO2tH,GAAKF,EAAeC,KAe5BE,GAZiBjH,EAAQkH,eAAiB,SAASJ,EAAeF,EAAcH,EAASE,GACxF,GAAIQ,GAAc,GAAIx1H,OAAMi1H,EAM5B,OALIQ,sBACHnyI,EAAKkyI,EAAY,SAASzoI,EAAIwC,GAC7BimI,EAAYjmI,GAASiH,EAAS2+H,GAAgBt9H,MAAQi9H,EAAYE,GAAWzlI,EAAM,OAG9EimI,GAKQnH,EAAQiH,eACvB7wH,OAAQ,SAAUzd,GACjB,MAAOA,IAER0uI,WAAY,SAAU1uI,GACrB,MAAOA,GAAIA,GAEZ2uI,YAAa,SAAU3uI,GACtB,MAAO,GAAKA,GAAKA,EAAI,IAEtB4uI,cAAe,SAAU5uI,GACxB,OAAKA,GAAK,IAAS,EAAU,GAAQA,EAAIA,EAClC,QAAaA,GAAMA,EAAI,GAAK,IAEpC6uI,YAAa,SAAU7uI,GACtB,MAAOA,GAAIA,EAAIA,GAEhB8uI,aAAc,SAAU9uI,GACvB,MAAO,KAAMA,EAAIA,EAAI,EAAI,GAAKA,EAAIA,EAAI,IAEvC+uI,eAAgB,SAAU/uI,GACzB,OAAKA,GAAK,IAAS,EAAU,GAAQA,EAAIA,EAAIA,EACtC,KAAUA,GAAK,GAAKA,EAAIA,EAAI,IAEpCgvI,YAAa,SAAUhvI,GACtB,MAAOA,GAAIA,EAAIA,EAAIA,GAEpBivI,aAAc,SAAUjvI,GACvB,MAAO,KAAOA,EAAIA,EAAI,EAAI,GAAKA,EAAIA,EAAIA,EAAI,IAE5CkvI,eAAgB,SAAUlvI,GACzB,OAAKA,GAAK,IAAS,EAAU,GAAQA,EAAIA,EAAIA,EAAIA,EAC1C,OAAWA,GAAK,GAAKA,EAAIA,EAAIA,EAAI,IAEzCmvI,YAAa,SAAUnvI,GACtB,MAAO,IAAKA,GAAK,GAAKA,EAAIA,EAAIA,EAAIA,GAEnCovI,aAAc,SAAUpvI,GACvB,MAAO,KAAMA,EAAIA,EAAI,EAAI,GAAKA,EAAIA,EAAIA,EAAIA,EAAI,IAE/CqvI,eAAgB,SAAUrvI,GACzB,OAAKA,GAAK,IAAS,EAAU,GAAQA,EAAIA,EAAIA,EAAIA,EAAIA,EAC9C,KAAUA,GAAK,GAAKA,EAAIA,EAAIA,EAAIA,EAAI,IAE5CsvI,WAAY,SAAUtvI,GACrB,MAAO,GAAKnC,KAAKq4B,IAAIl2B,EAAI,GAAKnC,KAAK6gB,GAAK,IAAM,GAE/C6wH,YAAa,SAAUvvI,GACtB,MAAO,GAAInC,KAAK4gB,IAAIze,EAAI,GAAKnC,KAAK6gB,GAAK,KAExC8wH,cAAe,SAAUxvI,GACxB,MAAO,MAAUnC,KAAKq4B,IAAIr4B,KAAK6gB,GAAK1e,EAAI,GAAK,IAE9CyvI,WAAY,SAAUzvI,GACrB,MAAc,KAANA,EAAW,EAAI,EAAInC,KAAKigB,IAAI,EAAG,IAAM9d,EAAI,EAAI,KAEtD0vI,YAAa,SAAU1vI,GACtB,MAAc,KAANA,EAAW,EAAI,IAAMnC,KAAKigB,IAAI,EAAG,IAAM9d,EAAI,GAAK,IAEzD2vI,cAAe,SAAU3vI,GACxB,MAAU,KAANA,EAAgB,EACV,IAANA,EAAgB,GACfA,GAAK,IAAS,EAAU,GAAQnC,KAAKigB,IAAI,EAAG,IAAM9d,EAAI,IACpD,KAAUnC,KAAKigB,IAAI,EAAG,MAAQ9d,GAAK,IAE3C4vI,WAAY,SAAU5vI,GACrB,MAAIA,IAAK,EAAUA,EACZ,IAAMnC,KAAKsgB,KAAK,GAAKne,GAAK,GAAKA,GAAK,IAE5C6vI,YAAa,SAAU7vI,GACtB,MAAO,GAAInC,KAAKsgB,KAAK,GAAKne,EAAIA,EAAI,EAAI,GAAKA,IAE5C8vI,cAAe,SAAU9vI,GACxB,OAAKA,GAAK,IAAS,EAAU,MAAUnC,KAAKsgB,KAAK,EAAIne,EAAIA,GAAK,GACvD,IAASnC,KAAKsgB,KAAK,GAAKne,GAAK,GAAKA,GAAK,IAE/C+vI,cAAe,SAAU/vI,GACxB,GAAIsc,GAAI,QACJsC,EAAI,EACJ9I,EAAI,CACR,OAAU,KAAN9V,EAAgB,EACJ,IAAXA,GAAK,GAAgB,GACrB4e,IAAGA,EAAI,IACR9I,EAAIjY,KAAKwQ,IAAI,IAChByH,EAAI,EACJwG,EAAIsC,EAAI,GACFtC,EAAIsC,GAAK,EAAI/gB,KAAK6gB,IAAM7gB,KAAK+4B,KAAK,EAAI9gB,KACpCA,EAAIjY,KAAKigB,IAAI,EAAG,IAAM9d,GAAK,IAAMnC,KAAK4gB,IAAmB,GAAV,EAAJze,EAAQsc,GAAUze,KAAK6gB,GAAME,MAElFoxH,eAAgB,SAAUhwI,GACzB,GAAIsc,GAAI,QACJsC,EAAI,EACJ9I,EAAI,CACR,OAAU,KAAN9V,EAAgB,EACJ,IAAXA,GAAK,GAAgB,GACrB4e,IAAGA,EAAI,IACR9I,EAAIjY,KAAKwQ,IAAI,IAChByH,EAAI,EACJwG,EAAIsC,EAAI,GACFtC,EAAIsC,GAAK,EAAI/gB,KAAK6gB,IAAM7gB,KAAK+4B,KAAK,EAAI9gB,GACtCA,EAAIjY,KAAKigB,IAAI,EAAG,IAAM9d,GAAKnC,KAAK4gB,IAAmB,GAAV,EAAJze,EAAQsc,GAAUze,KAAK6gB,GAAME,GAAK,IAE/EqxH,iBAAkB,SAAUjwI,GAC3B,GAAIsc,GAAI,QACJsC,EAAI,EACJ9I,EAAI,CACR,OAAU,KAAN9V,EAAgB,EACA,IAAfA,GAAK,IAAoB,GACzB4e,IAAGA,EAAI,GAAW,KACnB9I,EAAIjY,KAAKwQ,IAAI,IAChByH,EAAI,EACJwG,EAAIsC,EAAI,GACFtC,EAAIsC,GAAK,EAAI/gB,KAAK6gB,IAAM7gB,KAAK+4B,KAAK,EAAI9gB,GACrC,EAAJ9V,GAAe,GAAO8V,EAAIjY,KAAKigB,IAAI,EAAG,IAAM9d,GAAK,IAAMnC,KAAK4gB,IAAmB,GAAV,EAAJze,EAAQsc,GAAUze,KAAK6gB,GAAME,GAC3F9I,EAAIjY,KAAKigB,IAAI,EAAG,KAAO9d,GAAK,IAAMnC,KAAK4gB,IAAmB,GAAV,EAAJze,EAAQsc,GAAUze,KAAK6gB,GAAME,GAAK,GAAM,IAE5FsxH,WAAY,SAAUlwI,GACrB,GAAIsc,GAAI,OACR,OAAO,IAAKtc,GAAK,GAAKA,IAAMsc,EAAI,GAAKtc,EAAIsc,IAE1C6zH,YAAa,SAAUnwI,GACtB,GAAIsc,GAAI,OACR,OAAO,KAAMtc,EAAIA,EAAI,EAAI,GAAKA,IAAMsc,EAAI,GAAKtc,EAAIsc,GAAK,IAEvD8zH,cAAe,SAAUpwI,GACxB,GAAIsc,GAAI,OACR,QAAKtc,GAAK,IAAS,EAAU,GAASA,EAAIA,KAAOsc,GAAK,OAAW,GAAKtc,EAAIsc,GACnE,KAAUtc,GAAK,GAAKA,KAAOsc,GAAK,OAAW,GAAKtc,EAAIsc,GAAK,IAEjE+zH,aAAc,SAAUrwI,GACvB,MAAO,GAAIsuI,EAAcgC,cAAc,EAAItwI,IAE5CswI,cAAe,SAAUtwI,GACxB,OAAKA,GAAK,GAAM,EAAI,KACZ,OAAcA,EAAIA,EACV,EAAI,KAATA,EACH,GAAK,QAAUA,GAAM,IAAM,MAASA,EAAI,KAChC,IAAM,KAAXA,EACH,GAAK,QAAUA,GAAM,KAAO,MAASA,EAAI,OAEzC,GAAK,QAAUA,GAAM,MAAQ,MAASA,EAAI,UAGnDuwI,gBAAiB,SAAUvwI,GAC1B,MAAQ,GAAJA,EAAsD,GAApCsuI,EAAc+B,aAAiB,EAAJrwI,GACD,GAAzCsuI,EAAcgC,cAAkB,EAAJtwI,EAAQ,GAAW,MAIxDub,EAAmB8rH,EAAQ9rH,iBAAmB,WAC7C,MAAOxR,QAAOyR,uBACbzR,OAAO0R,6BACP1R,OAAO2R,0BACP3R,OAAO4R,wBACP5R,OAAO6R,yBACP,SAAStZ,GACR,MAAOyH,QAAOtH,WAAWH,EAAU,IAAO,QAG7CkuI,EAAkBnJ,EAAQmJ,gBAAkB,WAC3C,MAAOzmI,QAAO0mI,sBACb1mI,OAAO2mI,4BACP3mI,OAAO4mI,yBACP5mI,OAAO6mI,uBACP7mI,OAAO8mI,wBACP,SAASvuI,GACR,MAAOyH,QAAOkH,aAAa3O,EAAU,IAAO,QA8C/C0nC,GA3CgBq9F,EAAQyJ,cAAgB,SAASxuI,EAASyuI,EAAWC,EAAaC,EAAWC,EAAWC,GAEvG,GAAIC,GAAc,EACjBC,EAAiB/C,EAAc0C,IAAiB1C,EAAc7wH,OAE3D6zH,EAAiB,WACpBF,GACA,IAAIG,GAAcH,EAAYL,EAC1BS,EAAcH,EAAeE,EAEjCjvI,GAASqB,KAAKwtI,EAAcK,EAAYD,EAAaH,GACrDH,EAAWttI,KAAKwtI,EAAcK,EAAYD,GACxBR,EAAdK,EACHD,EAAcG,eAAiB/1H,EAAiB+1H,GAEhDJ,EAAWnzI,MAAMozI,GAGnB51H,GAAiB+1H,IAGIjK,EAAQoK,oBAAsB,SAASv0C,GAC5D,GAAIw0C,GAAQC,EACR3uI,EAAIk6F,EAAIrzD,eAAiBqzD,EAC5B9nE,EAAS8nE,EAAI3vF,eAAiB2vF,EAAI00C,WAClCC,EAAez8G,EAAOjnB,uBAYvB,OAVInL,GAAEioC,SACLymG,EAAS1uI,EAAEioC,QAAQ,GAAGV,QAAUsnG,EAAavjI,KAC7CqjI,EAAS3uI,EAAEioC,QAAQ,GAAGT,QAAUqnG,EAAarxI,MAI7CkxI,EAAS1uI,EAAEunC,QAAUsnG,EAAavjI,KAClCqjI,EAAS3uI,EAAEwnC,QAAUqnG,EAAarxI,MAIlCnB,EAAIqyI,EACJpyI,EAAIqyI,IAIKtK,EAAQr9F,SAAW,SAASjnB,EAAK+uH,EAAU9sH,GACjDjC,EAAKknB,iBACRlnB,EAAKknB,iBAAiB6nG,EAAU9sH,GACtBjC,EAAK2nB,YACf3nB,EAAK2nB,YAAY,KAAKonG,EAAW9sH,GAEjCjC,EAAK,KAAK+uH,GAAa9sH,IAGzB+sH,EAAc1K,EAAQ0K,YAAc,SAAShvH,EAAM+uH,EAAW1uI,GACzD2f,EAAK0nB,oBACR1nB,EAAK0nB,oBAAoBqnG,EAAW1uI,GAAS,GACnC2f,EAAK6nB,YACf7nB,EAAK6nB,YAAY,KAAKknG,EAAU1uI,GAEhC2f,EAAK,KAAO+uH,GAAa3G,GAc3B6G,GAXa3K,EAAQ4K,WAAa,SAASd,EAAee,EAAe9uI,GAEnE+tI,EAAc94H,SAAQ84H,EAAc94H,WAEzC/b,EAAK41I,EAAc,SAASxmG,GAC3BylG,EAAc94H,OAAOqzB,GAAa,WACjCtoC,EAAQrF,MAAMozI,EAAe9tI,YAE9B2mC,EAASmnG,EAAcgB,MAAM/8G,OAAOsW,EAAUylG,EAAc94H,OAAOqzB,OAGtD27F,EAAQ2K,aAAe,SAAUb,EAAee,GAC9D51I,EAAK41I,EAAe,SAAS9uI,EAAQsoC,GACpCqmG,EAAYZ,EAAcgB,MAAM/8G,OAAQsW,EAAWtoC,OAGrDgvI,EAAkB/K,EAAQ+K,gBAAkB,SAASC,GACpD,GAAIziI,GAAYyiI,EAAQ7uH,UAExB,OAAO5T,GAAUrB,aAElB+jI,EAAmBjL,EAAQiL,iBAAmB,SAASD,GACtD,GAAIziI,GAAYyiI,EAAQ7uH,UAExB,OAAO5T,GAAUhC,cAGlB05H,GADiBD,EAAQkL,eAAiBlL,EAAQ+K,gBACpC/K,EAAQC,YAAc,SAAS6K,GAC5C,GAAIjL,GAAMiL,EAAMjL,IACf90H,EAAQ+/H,EAAM/8G,OAAOhjB,MACrBK,EAAS0/H,EAAM/8G,OAAO3iB,MAEnB1I,QAAOyoI,mBACVtL,EAAI9xG,OAAOrzB,MAAMqQ,MAAQA,EAAQ,KACjC80H,EAAI9xG,OAAOrzB,MAAM0Q,OAASA,EAAS,KACnCy0H,EAAI9xG,OAAO3iB,OAASA,EAAS1I,OAAOyoI,iBACpCtL,EAAI9xG,OAAOhjB,MAAQA,EAAQrI,OAAOyoI,iBAClCtL,EAAIvkH,MAAM5Y,OAAOyoI,iBAAkBzoI,OAAOyoI,qBAI5Ct8H,EAAQmxH,EAAQnxH,MAAQ,SAASi8H,GAChCA,EAAMjL,IAAIuL,UAAU,EAAE,EAAEN,EAAM//H,MAAM+/H,EAAM1/H,SAE3CigI,EAAarL,EAAQqL,WAAa,SAASC,EAAUC,EAAUC,GAC9D,MAAOD,GAAY,IAAMD,EAAU,MAAQE,GAE5CC,EAAczL,EAAQyL,YAAc,SAAS5L,EAAIv1G,EAAKohH,GACrD7L,EAAIv1G,KAAOA,CACX,IAAIqhH,GAAU,CAKd,OAJA12I,GAAKy2I,EAAe,SAAShqH,GAC5B,GAAIkqH,GAAY/L,EAAIgM,YAAYnqH,GAAQ3W,KACxC4gI,GAAWC,EAAYD,EAAWC,EAAYD,IAExCA,GAERG,EAAuB9L,EAAQ8L,qBAAuB,SAASjM,EAAI7nI,EAAEC,EAAE8S,EAAMK,EAAO2gI,GACnFlM,EAAImM,YACJnM,EAAIoM,OAAOj0I,EAAI+zI,EAAQ9zI,GACvB4nI,EAAIqM,OAAOl0I,EAAI+S,EAAQghI,EAAQ9zI,GAC/B4nI,EAAIsM,iBAAiBn0I,EAAI+S,EAAO9S,EAAGD,EAAI+S,EAAO9S,EAAI8zI,GAClDlM,EAAIqM,OAAOl0I,EAAI+S,EAAO9S,EAAImT,EAAS2gI,GACnClM,EAAIsM,iBAAiBn0I,EAAI+S,EAAO9S,EAAImT,EAAQpT,EAAI+S,EAAQghI,EAAQ9zI,EAAImT,GACpEy0H,EAAIqM,OAAOl0I,EAAI+zI,EAAQ9zI,EAAImT,GAC3By0H,EAAIsM,iBAAiBn0I,EAAGC,EAAImT,EAAQpT,EAAGC,EAAImT,EAAS2gI,GACpDlM,EAAIqM,OAAOl0I,EAAGC,EAAI8zI,GAClBlM,EAAIsM,iBAAiBn0I,EAAGC,EAAGD,EAAI+zI,EAAQ9zI,GACvC4nI,EAAIuM,YAMNxM,GAAMyM,aAENzM,EAAM0M,KAAO,SAASlwI,EAAK0B,EAAQgtI,GAClCt1I,KAAKsI,QAAUA,EACftI,KAAKs1I,MAAQA,EACbt1I,KAAKpB,GAAK2vI,IAEVnE,EAAMyM,UAAU72I,KAAKpB,IAAMoB,KAIvBsI,EAAQqjI,YACX3rI,KAAK8P,SAEN9P,KAAK+2I,WAAWjwI,KAAK9G,KAAK4G,IAI3BgC,EAAOwhI,EAAM0M,KAAK1vI,WACjB2vI,WAAa,WAAW,MAAO/2I,OAC/BqZ,MAAQ,WAEP,MADAA,GAAMrZ,KAAKs1I,OACJt1I,MAERmb,KAAO,WAGN,MADAw4H,GAAgB3zI,KAAKy0I,gBACdz0I,MAER8P,OAAS,SAASrK,GACjBzF,KAAKmb,MACL,IAAIod,GAASv4B,KAAKs1I,MAAM/8G,OACvBy+G,EAAWzB,EAAgBv1I,KAAKs1I,MAAM/8G,QACtC0+G,EAAYj3I,KAAKsI,QAAQsjI,oBAAsBoL,EAAWh3I,KAAKs1I,MAAM/K,YAAckL,EAAiBz1I,KAAKs1I,MAAM/8G,OAUhH,OARAA,GAAOhjB,MAAQvV,KAAKs1I,MAAM//H,MAAQyhI,EAClCz+G,EAAO3iB,OAAS5V,KAAKs1I,MAAM1/H,OAASqhI,EAEpCxM,EAAYzqI,KAAKs1I,OAEO,kBAAb7vI,IACVA,EAASvE,MAAMlB,KAAMmc,MAAM/U,UAAUgV,MAAMtV,KAAKN,UAAW,IAErDxG,MAERk3I,OAAS5I,EACTvwC,OAAS,SAASm5C,GAkBjB,MAjBIA,IACHl3I,KAAKk3I,SAEFl3I,KAAKsI,QAAQmK,YAAcykI,EAC9B1M,EAAQyJ,cACPj0I,KAAKS,KACLT,KAAKsI,QAAQoiI,eACb1qI,KAAKsI,QAAQqiI,gBACb3qI,KAAKsI,QAAQ2kI,oBACbjtI,KAAKsI,QAAQ4kI,oBACbltI,OAIDA,KAAKS,OACLT,KAAKsI,QAAQ4kI,oBAAoBpmI,KAAK9G,OAEhCA,MAERm3I,eAAiB,WAChB,MAAOxkI,GAAS3S,KAAKsI,QAAQ8uI,eAAep3I,OAE7C6X,QAAU,WACT7X,KAAKqZ,QACL87H,EAAan1I,KAAMA,KAAKwb,OACxB,IAAI+c,GAASv4B,KAAKs1I,MAAM/8G,MAGxBA,GAAOhjB,MAAQvV,KAAKs1I,MAAM//H,MAC1BgjB,EAAO3iB,OAAS5V,KAAKs1I,MAAM1/H,OAGvB2iB,EAAOrzB,MAAMmyI,gBAChB9+G,EAAOrzB,MAAMmyI,eAAe,SAC5B9+G,EAAOrzB,MAAMmyI,eAAe,YAE5B9+G,EAAOrzB,MAAM+d,gBAAgB,SAC7BsV,EAAOrzB,MAAM+d,gBAAgB,iBAGvBmnH,GAAMyM,UAAU72I,KAAKpB,KAE7B04I,YAAc,SAASC,EAAeC,GAEF,mBAAxBx3I,MAAKy3I,iBAAgCz3I,KAAKy3I,kBAErD,IAAIC,GAAY,SAAUC,GACzB,GAAIpuI,IAAU,CAEd,OAAIouI,GAAS/vI,SAAW5H,KAAKy3I,eAAe7vI,OAC3C2B,GAAU,GAIX9J,EAAKk4I,EAAU,SAASjvI,EAASgD,GAC5BhD,IAAY1I,KAAKy3I,eAAe/rI,KACnCnC,GAAU,IAETvJ,MACIuJ,IACLzC,KAAK9G,KAAMu3I,EAEd,IAAKG,GAAcF,EAAnB,CAUA,GANCx3I,KAAKy3I,eAAiBF,EAEvBv3I,KAAKS,OACFT,KAAKsI,QAAQwjI,gBACf9rI,KAAKsI,QAAQwjI,gBAAe,GAEzByL,EAAc3vI,OAAS,EAE1B,GAAI5H,KAAK43I,UAAY53I,KAAK43I,SAAShwI,OAAS,EAAG,CAI9C,IAAK,GAHDiwI,GACHC,EAEQ3pI,EAAInO,KAAK43I,SAAShwI,OAAS,EAAGuG,GAAK,IAC3C0pI,EAAY73I,KAAK43I,SAASzpI,GAAGgwB,QAAUn+B,KAAK43I,SAASzpI,GAAG4pI,MAAQ/3I,KAAK43I,SAASzpI,GAAG6pI,SACjFF,EAAYltH,EAAQitH,EAAWN,EAAc,IAC3B,KAAdO,GAH0C3pI,KAO/C,GAAI8pI,MACHC,KACAC,EAAiB,SAAUzsI,GAG1B,GACC0sI,GAGAC,EACAC,EACAC,EACAC,EAPGb,KAEHc,KACAC,IAgCD,OA3BAlO,GAAQ/qI,KAAKO,KAAK43I,SAAU,SAASlV,GACpC0V,EAAiB1V,EAAQvkG,QAAUukG,EAAQqV,MAAQrV,EAAQsV,SACvDI,EAAeN,IAAcM,EAAeN,GAAWa,YAC1DhB,EAASz4I,KAAKk5I,EAAeN,MAI/BtN,EAAQ/qI,KAAKk4I,EAAU,SAASjvI,GAC/B+vI,EAAWv5I,KAAKwJ,EAAQlG,GACxBk2I,EAAWx5I,KAAKwJ,EAAQjG,GAIxBw1I,EAAc/4I,KAAKsrI,EAAQ73H,SAAS3S,KAAKsI,QAAQykI,qBAAsBrkI,IACvEwvI,EAAch5I,MACboD,KAAMoG,EAAQkwI,OAAOC,WAAanwI,EAAQmwI,UAC1Cz2I,OAAQsG,EAAQkwI,OAAOE,aAAepwI,EAAQowI,eAG7C94I,MAEHw4I,EAAOvvH,EAAIyvH,GACXJ,EAAOr3I,EAAIy3I,GAEXH,EAAOtvH,EAAIwvH,GACXJ,EAAOp3I,EAAIw3I,IAGVj2I,EAAI+1I,EAAOv4I,KAAKs1I,MAAM//H,MAAM,EAAKgjI,EAAOF,EACxC51I,GAAI+1I,EAAOF,GAAM,IAEhBxxI,KAAK9G,KAAM83I,EAEf,IAAI1N,GAAM2O,cACTv2I,EAAG21I,EAAe31I,EAClBC,EAAG01I,EAAe11I,EAClBu2I,SAAUh5I,KAAKsI,QAAQokI,gBACvBuM,SAAUj5I,KAAKsI,QAAQmkI,gBACvByM,QAASl5I,KAAKsI,QAAQukI,eACtBgM,UAAW74I,KAAKsI,QAAQ0jI,iBACxBmN,UAAWn5I,KAAKsI,QAAQ8jI,iBACxB4J,WAAYh2I,KAAKsI,QAAQ2jI,kBACzB8J,UAAW/1I,KAAKsI,QAAQ6jI,iBACxB3xG,SAAUx6B,KAAKsI,QAAQ4jI,gBACvBkN,eAAgBp5I,KAAKsI,QAAQkkI,sBAC7B6M,gBAAiBr5I,KAAKsI,QAAQ+jI,uBAC9BiN,eAAgBt5I,KAAKsI,QAAQikI,sBAC7BgN,cAAev5I,KAAKsI,QAAQgkI,qBAC5BkN,aAAcx5I,KAAKsI,QAAQskI,oBAC3BjG,OAAQsR,EACRwB,aAAcvB,EACdwB,sBAAwB15I,KAAKsI,QAAQ0kI,0BACrCp6H,MAAO2kI,EAAc,GAAGllE,MACxBijE,MAAOt1I,KAAKs1I,MACZjL,IAAKrqI,KAAKs1I,MAAMjL,IAChBsP,OAAQ35I,KAAKsI,QAAQwjI,iBACnBrrI,WAGHhB,GAAK83I,EAAe,SAASp1H,GAC5B,GAAIy3H,GAAkBz3H,EAAQy3H,iBAC9B,IAAIxP,GAAMh4H,SACT5P,EAAGxB,KAAKmV,MAAMyjI,EAAgBp3I,GAC9BC,EAAGzB,KAAKmV,MAAMyjI,EAAgBn3I,GAC9Bu2I,SAAUh5I,KAAKsI,QAAQokI,gBACvBuM,SAAUj5I,KAAKsI,QAAQmkI,gBACvBoM,UAAW74I,KAAKsI,QAAQ0jI,iBACxBmN,UAAWn5I,KAAKsI,QAAQ8jI,iBACxB4J,WAAYh2I,KAAKsI,QAAQ2jI,kBACzB8J,UAAW/1I,KAAKsI,QAAQ6jI,iBACxB3xG,SAAUx6B,KAAKsI,QAAQ4jI,gBACvB2N,YAAa75I,KAAKsI,QAAQqkI,iBAC1B6M,aAAcx5I,KAAKsI,QAAQskI,oBAC3BpqH,KAAM7P,EAAS3S,KAAKsI,QAAQwkI,gBAAiB3qH,GAC7CmzH,MAAOt1I,KAAKs1I,MACZqE,OAAQ35I,KAAKsI,QAAQwjI,iBACnBrrI,QACDT,KAGL,OAAOA,QAER85I,cAAgB,WACf,MAAO95I,MAAKs1I,MAAM/8G,OAAOwhH,UAAU74I,MAAMlB,KAAKs1I,MAAM/8G,OAAQ/xB,cAI9D4jI,EAAM0M,KAAKluI,OAAS,SAASulI,GAE5B,GAAI3iI,GAASxL,KAETg6I,EAAY,WACf,MAAOxuI,GAAOtK,MAAMlB,KAAKwG,WAU1B,IANAwzI,EAAU5yI,UAAYkc,EAAM9X,EAAOpE,WAEnCwB,EAAOoxI,EAAU5yI,UAAW+mI,GAE5B6L,EAAUpxI,OAASwhI,EAAM0M,KAAKluI,OAE1BulI,EAAWtvI,MAAQ2M,EAAOpE,UAAUvI,KAAK,CAE5C,GAAIo7I,GAAY9L,EAAWtvI,MAAQ2M,EAAOpE,UAAUvI,KAOhDq7I,EAAgB9P,EAAMt2H,SAAStI,EAAOpE,UAAUvI,MAASykB,EAAM8mH,EAAMt2H,SAAStI,EAAOpE,UAAUvI,SAEnGurI,GAAMt2H,SAASmmI,GAAarxI,EAAOsxI,EAAa/L,EAAWr6H,UAE3Ds2H,EAAM+C,MAAM8M,GAAaD,EAGzB5P,EAAMhjI,UAAU6yI,GAAa,SAASrzI,EAAK0B,GAC1C,GAAIywF,GAASz5F,EAAM8qI,EAAMt2H,SAAS6b,OAAQy6G,EAAMt2H,SAASmmI,GAAY3xI,MACrE,OAAO,IAAI0xI,GAAUpzI,EAAKmyF,EAAO/4F,WAGlCo9E,GAAK,iEAEN,OAAO5xE,IAGR4+H,EAAMjoH,QAAU,SAASg4H,GACxBvxI,EAAO5I,KAAKm6I,GACZn6I,KAAK+2I,WAAW71I,MAAMlB,KAAKwG,WAC3BxG,KAAKirE,QAENriE,EAAOwhI,EAAMjoH,QAAQ/a,WACpB2vI,WAAa,aACbqD,QAAU,SAASlkI,GAQlB,MAPKA,GAGJzW,EAAKyW,EAAM,SAASnC,GACnB/T,KAAK+T,GAAO/T,KAAK44I,OAAO7kI,IACvB/T,MAJF4I,EAAO5I,KAAKA,KAAK44I,QAMX54I,MAERirE,KAAO,WAGN,MAFAjrE,MAAK44I,OAASt1H,EAAMtjB,YACbA,MAAK44I,OAAOA,OACZ54I,MAERggB,OAAS,SAASq6H,GAKjB,MAJA56I,GAAK46I,EAAS,SAASrmI,EAAMD,GAC5B/T,KAAK44I,OAAO7kI,GAAO/T,KAAK+T,GACxB/T,KAAK+T,GAAOC,GACXhU,MACKA,MAERgF,WAAa,SAASkR,EAAMokI,GAI3B,MAHA76I,GAAKyW,EAAM,SAASlC,EAAMD,GACzB/T,KAAK+T,IAASC,EAAQhU,KAAK44I,OAAO7kI,IAAQumI,EAAQt6I,KAAK44I,OAAO7kI,IAC7D/T,MACKA,MAER45I,gBAAkB,WACjB,OACCp3I,EAAIxC,KAAKwC,EACTC,EAAIzC,KAAKyC,IAGXk2I,SAAU,WACT,MAAOnK,GAASxuI,KAAKgU,UAIvBo2H,EAAMjoH,QAAQvZ,OAAS+kI,EAGvBvD,EAAMmQ,MAAQnQ,EAAMjoH,QAAQvZ,QAC3BmM,SAAS,EACTylI,QAAS,SAASC,EAAOC,GACxB,GAAIC,GAAoB36I,KAAK46I,mBAAqB56I,KAAKu2I,MACvD,OAASv1I,MAAKigB,IAAIw5H,EAAOz6I,KAAKwC,EAAG,GAAGxB,KAAKigB,IAAIy5H,EAAO16I,KAAKyC,EAAG,GAAMzB,KAAKigB,IAAI05H,EAAkB,IAE9Fl6I,KAAO,WACN,GAAIT,KAAK+U,QAAQ,CAChB,GAAIs1H,GAAMrqI,KAAKqqI,GACfA,GAAImM,YAEJnM,EAAIwQ,IAAI76I,KAAKwC,EAAGxC,KAAKyC,EAAGzC,KAAKu2I,OAAQ,EAAW,EAARv1I,KAAK6gB,IAC7CwoH,EAAIuM,YAEJvM,EAAIyQ,YAAc96I,KAAK84I,YACvBzO,EAAI0Q,UAAY/6I,KAAKqC,YAErBgoI,EAAI2Q,UAAYh7I,KAAK64I,UAErBxO,EAAI/nI,OACJ+nI,EAAIjoI,aA+BPgoI,EAAM6Q,IAAM7Q,EAAMjoH,QAAQvZ,QACzB4xI,QAAU,SAASC,EAAOC,GAEzB,GAAIQ,GAAwB1Q,EAAQ2E,kBAAkBnvI,MACrDwC,EAAGi4I,EACHh4I,EAAGi4I,IAIAS,EAAiBD,EAAsBn3H,OAAS/jB,KAAKo7I,YAAcF,EAAsBn3H,OAAS/jB,KAAKq7I,SAC1GC,EAAgBJ,EAAsBzL,UAAYzvI,KAAKu7I,aAAeL,EAAsBzL,UAAYzvI,KAAKw7I,WAE9G,OAAQL,IAAiBG,GAG1B1B,gBAAkB,WACjB,GAAI6B,GAAcz7I,KAAKo7I,YAAep7I,KAAKq7I,SAAWr7I,KAAKo7I,YAAc,EACxEM,GAAmB17I,KAAKw7I,YAAcx7I,KAAKu7I,aAAe,EAAIv7I,KAAKu7I,WACpE,QACC/4I,EAAIxC,KAAKwC,EAAKxB,KAAKq4B,IAAIoiH,GAAeC,EACtCj5I,EAAIzC,KAAKyC,EAAKzB,KAAK4gB,IAAI65H,GAAeC,IAGxCj7I,KAAO,SAASk7I,GAEf,GAEItR,GAAMrqI,KAAKqqI,GAEfA,GAAImM,YAEJnM,EAAIwQ,IAAI76I,KAAKwC,EAAGxC,KAAKyC,EAAGzC,KAAKw7I,YAAax7I,KAAKo7I,WAAYp7I,KAAKq7I,UAEhEhR,EAAIwQ,IAAI76I,KAAKwC,EAAGxC,KAAKyC,EAAGzC,KAAKu7I,YAAav7I,KAAKq7I,SAAUr7I,KAAKo7I,YAAY,GAE1E/Q,EAAIuM,YACJvM,EAAIyQ,YAAc96I,KAAK84I,YACvBzO,EAAI0Q,UAAY/6I,KAAKqC,YAErBgoI,EAAI2Q,UAAYh7I,KAAK64I,UAErBxO,EAAI/nI,OACJ+nI,EAAIuR,SAAW,QAEX57I,KAAK67I,YACRxR,EAAIjoI,YAKPgoI,EAAM0R,UAAY1R,EAAMjoH,QAAQvZ,QAC/BnI,KAAO,WACN,GAAI4pI,GAAMrqI,KAAKqqI,IACd0R,EAAY/7I,KAAKuV,MAAM,EACvBymI,EAAQh8I,KAAKwC,EAAIu5I,EACjBE,EAASj8I,KAAKwC,EAAIu5I,EAClBp4I,EAAM3D,KAAKutI,MAAQvtI,KAAKutI,KAAOvtI,KAAKyC,GACpCy5I,EAAal8I,KAAKqC,YAAc,CAI7BrC,MAAK67I,aACRG,GAASE,EACTD,GAAUC,EACVv4I,GAAOu4I,GAGR7R,EAAImM,YAEJnM,EAAI2Q,UAAYh7I,KAAK64I,UACrBxO,EAAIyQ,YAAc96I,KAAK84I,YACvBzO,EAAI0Q,UAAY/6I,KAAKqC,YAIrBgoI,EAAIoM,OAAOuF,EAAOh8I,KAAKutI,MACvBlD,EAAIqM,OAAOsF,EAAOr4I,GAClB0mI,EAAIqM,OAAOuF,EAAQt4I,GACnB0mI,EAAIqM,OAAOuF,EAAQj8I,KAAKutI,MACxBlD,EAAI/nI,OACAtC,KAAK67I,YACRxR,EAAIjoI,UAGNwT,OAAS,WACR,MAAO5V,MAAKutI,KAAOvtI,KAAKyC,GAEzB+3I,QAAU,SAASC,EAAOC,GACzB,MAAQD,IAAUz6I,KAAKwC,EAAIxC,KAAKuV,MAAM,GAAKklI,GAAUz6I,KAAKwC,EAAIxC,KAAKuV,MAAM,GAAOmlI,GAAU16I,KAAKyC,GAAKi4I,GAAU16I,KAAKutI,QAIrHnD,EAAMh4H,QAAUg4H,EAAMjoH,QAAQvZ,QAC7BnI,KAAO,WAEN,GAAI4pI,GAAMrqI,KAAKs1I,MAAMjL,GAErBA,GAAIv1G,KAAO+gH,EAAW71I,KAAKw6B,SAASx6B,KAAK+1I,UAAU/1I,KAAKg2I,YAExDh2I,KAAKm8I,OAAS,SACdn8I,KAAKo8I,OAAS,OAGd,IAAIC,GAAer8I,KAAKq8I,aAAe,EAEnCC,EAAejS,EAAIgM,YAAYr2I,KAAKwiB,MAAMjN,MAAQ,EAAEvV,KAAKg5I,SAC5DuD,EAAoBv8I,KAAKw6B,SAAW,EAAEx6B,KAAKi5I,SAC3CuD,EAAgBD,EAAoBv8I,KAAK65I,YAAcwC,CAEpDr8I,MAAKwC,EAAI85I,EAAa,EAAGt8I,KAAKs1I,MAAM//H,MACvCvV,KAAKm8I,OAAS,OACJn8I,KAAKwC,EAAI85I,EAAa,EAAI,IACpCt8I,KAAKm8I,OAAS,SAGXn8I,KAAKyC,EAAI+5I,EAAgB,IAC5Bx8I,KAAKo8I,OAAS,QAIf,IAAIK,GAAWz8I,KAAKwC,EAAI85I,EAAa,EACpCI,EAAW18I,KAAKyC,EAAI+5I,CAKrB,IAHAnS,EAAI2Q,UAAYh7I,KAAK64I,UAGlB74I,KAAK25I,OACP35I,KAAK25I,OAAO35I,UAET,CACH,OAAOA,KAAKo8I,QAEZ,IAAK,QAEJ/R,EAAImM,YACJnM,EAAIoM,OAAOz2I,KAAKwC,EAAExC,KAAKyC,EAAI45I,GAC3BhS,EAAIqM,OAAO12I,KAAKwC,EAAIxC,KAAK65I,YAAa75I,KAAKyC,GAAK45I,EAAer8I,KAAK65I,cACpExP,EAAIqM,OAAO12I,KAAKwC,EAAIxC,KAAK65I,YAAa75I,KAAKyC,GAAK45I,EAAer8I,KAAK65I,cACpExP,EAAIuM,YACJvM,EAAI/nI,MACJ,MACD,KAAK,QACJo6I,EAAW18I,KAAKyC,EAAI45I,EAAer8I,KAAK65I,YAExCxP,EAAImM,YACJnM,EAAIoM,OAAOz2I,KAAKwC,EAAGxC,KAAKyC,EAAI45I,GAC5BhS,EAAIqM,OAAO12I,KAAKwC,EAAIxC,KAAK65I,YAAa75I,KAAKyC,EAAI45I,EAAer8I,KAAK65I,aACnExP,EAAIqM,OAAO12I,KAAKwC,EAAIxC,KAAK65I,YAAa75I,KAAKyC,EAAI45I,EAAer8I,KAAK65I,aACnExP,EAAIuM,YACJvM,EAAI/nI,OAIL,OAAOtC,KAAKm8I,QAEZ,IAAK,OACJM,EAAWz8I,KAAKwC,EAAI85I,GAAgBt8I,KAAKw5I,aAAex5I,KAAK65I,YAC7D,MACD,KAAK,QACJ4C,EAAWz8I,KAAKwC,GAAKxC,KAAKw5I,aAAex5I,KAAK65I,aAI/CvD,EAAqBjM,EAAIoS,EAASC,EAASJ,EAAaC,EAAkBv8I,KAAKw5I,cAE/EnP,EAAI/nI,OAEJ+nI,EAAI2Q,UAAYh7I,KAAKm5I,UACrB9O,EAAIsS,UAAY,SAChBtS,EAAIuS,aAAe,SACnBvS,EAAIwS,SAAS78I,KAAKwiB,KAAMi6H,EAAWH,EAAa,EAAGI,EAAWH,EAAkB,OAKnFnS,EAAM2O,aAAe3O,EAAMjoH,QAAQvZ,QAClCmuI,WAAa,WACZ/2I,KAAK80B,KAAO+gH,EAAW71I,KAAKw6B,SAASx6B,KAAK+1I,UAAU/1I,KAAKg2I;AAEzDh2I,KAAK88I,UAAYjH,EAAW71I,KAAKu5I,cAAcv5I,KAAKs5I,eAAet5I,KAAKq5I,iBAExEr5I,KAAK4V,OAAU5V,KAAK2mI,OAAO/+H,OAAS5H,KAAKw6B,UAAcx6B,KAAK2mI,OAAO/+H,OAAO,IAAM5H,KAAKw6B,SAAS,GAAqB,EAAdx6B,KAAKi5I,SAAkC,IAApBj5I,KAAKu5I,cAE7Hv5I,KAAKqqI,IAAIv1G,KAAO90B,KAAK88I,SAErB,IAAIC,GAAa/8I,KAAKqqI,IAAIgM,YAAYr2I,KAAK4S,OAAO2C,MAEjDynI,EAAa/G,EAAYj2I,KAAKqqI,IAAIrqI,KAAK80B,KAAK90B,KAAK2mI,QAAU3mI,KAAKw6B,SAAW,EAC3EyiH,EAAmBh8I,GAAK+7I,EAAWD,GAEpC/8I,MAAKuV,MAAQ0nI,EAAkC,EAAdj9I,KAAKg5I,QAGtC,IAAIkE,GAAal9I,KAAK4V,OAAO,CAGzB5V,MAAKyC,EAAIy6I,EAAa,EACzBl9I,KAAKyC,EAAIy6I,EACCl9I,KAAKyC,EAAIy6I,EAAal9I,KAAKs1I,MAAM1/H,SAC3C5V,KAAKyC,EAAIzC,KAAKs1I,MAAM1/H,OAASsnI,GAI1Bl9I,KAAKwC,EAAIxC,KAAKs1I,MAAM//H,MAAM,EAC7BvV,KAAKwC,GAAKxC,KAAKk5I,QAAUl5I,KAAKuV,MAE9BvV,KAAKwC,GAAKxC,KAAKk5I,SAKjBiE,cAAgB,SAASzxI,GACxB,GAAI0xI,GAAiBp9I,KAAKyC,EAAKzC,KAAK4V,OAAO,EAAK5V,KAAKi5I,SACpDoE,EAAkB3xI,EAAM,CAGzB,OAAc,KAAVA,EACI0xI,EAAiBp9I,KAAKu5I,cAAc,EAEpC6D,GAAiC,IAAdp9I,KAAKw6B,SAAa6iH,EAAmBr9I,KAAKw6B,SAAS,GAA0B,IAArBx6B,KAAKu5I,eAIzF94I,KAAO,WAEN,GAAGT,KAAK25I,OACP35I,KAAK25I,OAAO35I,UAET,CACHs2I,EAAqBt2I,KAAKqqI,IAAIrqI,KAAKwC,EAAExC,KAAKyC,EAAIzC,KAAK4V,OAAO,EAAE5V,KAAKuV,MAAMvV,KAAK4V,OAAO5V,KAAKw5I,aACxF,IAAInP,GAAMrqI,KAAKqqI,GACfA,GAAI2Q,UAAYh7I,KAAK64I,UACrBxO,EAAI/nI,OACJ+nI,EAAIuM,YAEJvM,EAAIsS,UAAY,OAChBtS,EAAIuS,aAAe,SACnBvS,EAAI2Q,UAAYh7I,KAAKo5I,eACrB/O,EAAIv1G,KAAO90B,KAAK88I,UAEhBzS,EAAIwS,SAAS78I,KAAK4S,MAAM5S,KAAKwC,EAAIxC,KAAKg5I,SAAUh5I,KAAKm9I,cAAc,IAEnE9S,EAAIv1G,KAAO90B,KAAK80B,KAChB01G,EAAQ/qI,KAAKO,KAAK2mI,OAAO,SAASt0D,EAAM3mE,GACvC2+H,EAAI2Q,UAAYh7I,KAAKm5I,UACrB9O,EAAIwS,SAASxqE,EAAMryE,KAAKwC,EAAIxC,KAAKg5I,SAAWh5I,KAAKw6B,SAAW,EAAGx6B,KAAKm9I,cAAczxI,EAAQ,IAM1F2+H,EAAI2Q,UAAYh7I,KAAK05I,sBACrBrP,EAAIiT,SAASt9I,KAAKwC,EAAIxC,KAAKg5I,SAAUh5I,KAAKm9I,cAAczxI,EAAQ,GAAK1L,KAAKw6B,SAAS,EAAGx6B,KAAKw6B,SAAUx6B,KAAKw6B,UAE1G6vG,EAAI2Q,UAAYh7I,KAAKy5I,aAAa/tI,GAAOpJ,KACzC+nI,EAAIiT,SAASt9I,KAAKwC,EAAIxC,KAAKg5I,SAAUh5I,KAAKm9I,cAAczxI,EAAQ,GAAK1L,KAAKw6B,SAAS,EAAGx6B,KAAKw6B,SAAUx6B,KAAKw6B,WAGzGx6B,UAKLoqI,EAAMmT,MAAQnT,EAAMjoH,QAAQvZ,QAC3BmuI,WAAa,WACZ/2I,KAAKw9I,OAENC,aAAe,WACdz9I,KAAK09I,UAIL,KAAK,GAFDC,GAAoBlP,EAAiBzuI,KAAKmxI,WAErChjI,EAAE,EAAGA,GAAGnO,KAAKqxI,MAAOljI,IAC5BnO,KAAK09I,QAAQx+I,KAAKyT,EAAS3S,KAAKsxI,gBAAgBt9H,OAAOhU,KAAKipB,IAAO9a,EAAInO,KAAKmxI,WAAYxlH,QAAQgyH,KAEjG39I,MAAK49I,YAAe59I,KAAK+U,SAAW/U,KAAK69I,WAAc5H,EAAYj2I,KAAKqqI,IAAIrqI,KAAK80B,KAAK90B,KAAK09I,SAAW,GAEvGI,UAAY,SAASzrE,GACpBryE,KAAK+9I,QAAQ7+I,KAAKmzE,GAClBryE,KAAKg+I,cACLh+I,KAAKw9I,OAENS,aAAe,WACdj+I,KAAK+9I,QAAQ36I,QACbpD,KAAKg+I,cACLh+I,KAAKw9I,OAGNA,IAAK,WAIJx9I,KAAK+qD,WAAc/qD,KAAY,QAAIA,KAAKw6B,SAAW,EACnDx6B,KAAKgrD,SAAYhrD,KAAY,QAAIA,KAAK4V,OAA0B,IAAhB5V,KAAKw6B,SAAkB,EAAIx6B,KAAK4V,OAGhF5V,KAAK+qD,YAAc/qD,KAAKiT,QACxBjT,KAAKgrD,UAAYhrD,KAAKiT,OAGtB,IACCirI,GADGC,EAAen+I,KAAKgrD,SAAWhrD,KAAK+qD,UAqBxC,KARA/qD,KAAKo+I,gBAAgBD,GAIrBn+I,KAAKy9I,eAELz9I,KAAKq+I,0BAEEF,EAAen+I,KAAKgrD,SAAWhrD,KAAK+qD,YAC1CozF,EAAen+I,KAAKgrD,SAAWhrD,KAAK+qD,WACpCmzF,EAAoBl+I,KAAK49I,YAEzB59I,KAAKo+I,gBAAgBD,GACrBn+I,KAAKy9I,eAGDS,EAAoBl+I,KAAK49I,aAC5B59I,KAAKq+I,2BAKRA,wBAA0B,WAIzBr+I,KAAKqqI,IAAIv1G,KAAO90B,KAAK80B,IAErB,IAECwpH,GACAC,EAHGC,EAAax+I,KAAKqqI,IAAIgM,YAAYr2I,KAAK+9I,QAAQ,IAAIxoI,MACtDkpI,EAAYz+I,KAAKqqI,IAAIgM,YAAYr2I,KAAK+9I,QAAQ/9I,KAAK+9I,QAAQn2I,OAAS,IAAI2N,KASzE,IAJAvV,KAAK0+I,mBAAqBD,EAAU,EAAI,EACxCz+I,KAAK2+I,kBAAqBH,EAAW,EAAIx+I,KAAK49I,YAAc,GAAMY,EAAW,EAAIx+I,KAAK49I,YAAc,GAEpG59I,KAAK4+I,eAAiB,EAClB5+I,KAAK+U,QAAQ,CAChB,GACC8pI,GADGC,EAAqB7I,EAAYj2I,KAAKqqI,IAAIrqI,KAAK80B,KAAK90B,KAAK+9I,QAG7D/9I,MAAK++I,YAAcD,CAKnB,KAHA,GAAIE,GAAah+I,KAAK2xC,MAAM3yC,KAAKi/I,WAAW,GAAKj/I,KAAKi/I,WAAW,IAAM,EAG/Dj/I,KAAK++I,YAAcC,GAAsC,IAAxBh/I,KAAK4+I,gBAA0B5+I,KAAK++I,YAAcC,GAAch/I,KAAK4+I,gBAAkB,IAAM5+I,KAAK4+I,eAAiB,GAC3JC,EAAc79I,KAAKq4B,IAAI01G,EAAU/uI,KAAK4+I,iBAEtCN,EAAeO,EAAcL,EAC7BD,EAAcM,EAAcJ,EAGxBH,EAAet+I,KAAKw6B,SAAW,EAAIx6B,KAAK49I,YAAc,IACzD59I,KAAK2+I,kBAAoBL,EAAet+I,KAAKw6B,SAAW,GAEzDx6B,KAAK0+I,mBAAqB1+I,KAAKw6B,SAAS,EAGxCx6B,KAAK4+I,iBACL5+I,KAAK++I,YAAcF,EAAcC,CAG9B9+I,MAAK4+I,eAAiB,IACzB5+I,KAAKgrD,UAAYhqD,KAAK4gB,IAAImtH,EAAU/uI,KAAK4+I,iBAAiBE,EAAqB,OAIhF9+I,MAAK++I,YAAc,EACnB/+I,KAAK0+I,mBAAqB1+I,KAAKiT,QAC/BjT,KAAK2+I,kBAAoB3+I,KAAKiT,SAMhCmrI,gBAAiB9P,EACjB4Q,YAAa,WACZ,MAAOl/I,MAAK+qD,WAAa/qD,KAAKgrD,UAE/Bm0F,WAAa,SAASnrI,GACrB,GAAIorI,GAAgBp/I,KAAKk/I,eAAiBl/I,KAAKipB,IAAMjpB,KAAKiB,IAC1D,OAAOjB,MAAKgrD,SAAYo0F,GAAiBprI,EAAQhU,KAAKipB,MAEvDg2H,WAAa,SAASvzI,GACrB,GAEC0F,IAFgBpR,KAAK4+I,eAAiB,EAEzB5+I,KAAKuV,OAASvV,KAAK2+I,kBAAoB3+I,KAAK0+I,qBACzDW,EAAajuI,EAAWpQ,KAAKC,IAAKjB,KAAKg+I,aAAgBh+I,KAAoB,gBAAI,EAAI,GAAK,GACxFs/I,EAAeD,EAAa3zI,EAAS1L,KAAK2+I,iBAM3C,OAJI3+I,MAAKu/I,kBACRD,GAAgBD,EAAW,GAGrBr+I,KAAKmV,MAAMmpI,IAEnBt/H,OAAS,SAASq6H,GACjB7P,EAAQ5hI,OAAO5I,KAAMq6I,GACrBr6I,KAAKw9I,OAEN/8I,KAAO,WACN,GAAI4pI,GAAMrqI,KAAKqqI,IACdmV,GAAax/I,KAAKgrD,SAAWhrD,KAAK+qD,YAAc/qD,KAAKqxI,MACrDoO,EAASz+I,KAAKmV,MAAMnW,KAAK2+I,kBACtB3+I,MAAK+U,UACRs1H,EAAI2Q,UAAYh7I,KAAKm5I,UACrB9O,EAAIv1G,KAAO90B,KAAK80B,KAChBr1B,EAAKO,KAAK09I,QAAQ,SAASgC,EAAYh0I,GACtC,GAAIi0I,GAAe3/I,KAAKgrD,SAAYw0F,EAAY9zI,EAC/Ck0I,EAAgB5+I,KAAKmV,MAAMwpI,GAC3BE,EAAqB7/I,KAAK8/I,mBAE3BzV,GAAIsS,UAAY,QAChBtS,EAAIuS,aAAe,SACf58I,KAAK69I,YACRxT,EAAIwS,SAAS6C,EAAYD,EAAS,GAAGE,GAIxB,IAAVj0I,GAAgBm0I,IACnBA,GAAqB,GAGlBA,GACHxV,EAAImM,YAGD9qI,EAAQ,GAEX2+H,EAAI0Q,UAAY/6I,KAAK+/I,cACrB1V,EAAIyQ,YAAc96I,KAAKggJ,gBAGvB3V,EAAI0Q,UAAY/6I,KAAK+6I,UACrB1Q,EAAIyQ,YAAc96I,KAAKigJ,WAGxBL,GAAiBpV,EAAQ0E,WAAW7E,EAAI0Q,WAErC8E,IACFxV,EAAIoM,OAAOgJ,EAAQG,GACnBvV,EAAIqM,OAAO12I,KAAKuV,MAAOqqI,GACvBvV,EAAIjoI,SACJioI,EAAIuM,aAGLvM,EAAI0Q,UAAY/6I,KAAK+6I,UACrB1Q,EAAIyQ,YAAc96I,KAAKigJ,UACvB5V,EAAImM,YACJnM,EAAIoM,OAAOgJ,EAAS,EAAGG,GACvBvV,EAAIqM,OAAO+I,EAAQG,GACnBvV,EAAIjoI,SACJioI,EAAIuM,aAEH52I,MAEFP,EAAKO,KAAK+9I,QAAQ,SAAS1rE,EAAM3mE,GAChC,GAAIw0I,GAAOlgJ,KAAKi/I,WAAWvzI,GAASwjI,EAAWlvI,KAAK+6I,WAEnDoF,EAAUngJ,KAAKi/I,WAAWvzI,GAAS1L,KAAKu/I,gBAAkB,GAAM,IAAMrQ,EAAWlvI,KAAK+6I,WACtFqF,EAAapgJ,KAAK4+I,eAAiB,EACnCyB,EAAmBrgJ,KAAKsgJ,iBAGX,KAAV50I,GAAgB20I,IACnBA,GAAmB,GAGhBA,GACHhW,EAAImM,YAGD9qI,EAAQ,GAEX2+H,EAAI0Q,UAAY/6I,KAAK+/I,cACrB1V,EAAIyQ,YAAc96I,KAAKggJ,gBAGvB3V,EAAI0Q,UAAY/6I,KAAK+6I,UACrB1Q,EAAIyQ,YAAc96I,KAAKigJ,WAGpBI,IACHhW,EAAIoM,OAAO0J,EAAQngJ,KAAKgrD,UACxBq/E,EAAIqM,OAAOyJ,EAAQngJ,KAAK+qD,WAAa,GACrCs/E,EAAIjoI,SACJioI,EAAIuM,aAILvM,EAAI0Q,UAAY/6I,KAAK+6I,UACrB1Q,EAAIyQ,YAAc96I,KAAKigJ,UAIvB5V,EAAImM,YACJnM,EAAIoM,OAAO0J,EAAQngJ,KAAKgrD,UACxBq/E,EAAIqM,OAAOyJ,EAAQngJ,KAAKgrD,SAAW,GACnCq/E,EAAIjoI,SACJioI,EAAIuM,YAEJvM,EAAIp/D,OACJo/D,EAAIzkH,UAAUs6H,EAAK,EAAclgJ,KAAKgrD,SAAW,GAAKhrD,KAAKgrD,SAAW,GACtEq/E,EAAIxkH,OAAsC,GAA/BkpH,EAAU/uI,KAAK4+I,iBAC1BvU,EAAIv1G,KAAO90B,KAAK80B,KAChBu1G,EAAIsS,UAAY,EAAc,QAAU,SACxCtS,EAAIuS,aAAe,EAAc,SAAW,MAC5CvS,EAAIwS,SAASxqE,EAAO,EAAG,GACvBg4D,EAAI+P,WACHp6I,UAOLoqI,EAAMmW,YAAcnW,EAAMjoH,QAAQvZ,QACjCmuI,WAAY,WACX/2I,KAAKk5D,KAAOjwC,GAAKjpB,KAAK4V,OAAQ5V,KAAKuV,QACnCvV,KAAKk/I,YAAel/I,KAAY,QAAKA,KAAKk5D,KAAK,GAAMl5D,KAAKw6B,SAAS,EAAIx6B,KAAKwgJ,kBAAqBxgJ,KAAKk5D,KAAK,GAE5GunF,sBAAuB,SAASzsI,GAE/B,GAAIorI,GAAgBp/I,KAAKk/I,aAAel/I,KAAKiB,IAAMjB,KAAKipB,IAExD,QAAQjV,EAAQhU,KAAKipB,KAAOm2H,GAE7Bp/H,OAAS,WACHhgB,KAAK0gJ,QAGT1gJ,KAAKk/I,YAAel/I,KAAY,QAAKA,KAAKk5D,KAAK,GAAMl5D,KAAKw6B,SAAS,EAAIx6B,KAAKwgJ,kBAAqBxgJ,KAAKk5D,KAAK,EAF3Gl5D,KAAK2gJ,eAIN3gJ,KAAKy9I,gBAENA,aAAc,WACbz9I,KAAK09I,UAIL,KAAK,GAFDC,GAAoBlP,EAAiBzuI,KAAKmxI,WAErChjI,EAAE,EAAGA,GAAGnO,KAAKqxI,MAAOljI,IAC5BnO,KAAK09I,QAAQx+I,KAAKyT,EAAS3S,KAAKsxI,gBAAgBt9H,OAAOhU,KAAKipB,IAAO9a,EAAInO,KAAKmxI,WAAYxlH,QAAQgyH,OAGlGiD,iBAAmB,WAClB,MAAiB,GAAR5/I,KAAK6gB,GAAQ7hB,KAAKg+I,aAE5B2C,aAAc,WAgCb,GACCE,GACA1yI,EACAioI,EACA0K,EAEAC,EACAC,EAEAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAdGC,EAAwBt4H,GAAMjpB,KAAK4V,OAAO,EAAI5V,KAAKwhJ,mBAAqB,EAAIxhJ,KAAKuV,MAAM,IAK1FksI,EAAgBzhJ,KAAKuV,MAGrBmsI,EAAe,CAShB,KADA1hJ,KAAKqqI,IAAIv1G,KAAO+gH,EAAW71I,KAAKwhJ,mBAAmBxhJ,KAAK2hJ,oBAAoB3hJ,KAAK4hJ,sBAC5EzzI,EAAE,EAAEA,EAAEnO,KAAKg+I,YAAY7vI,IAE3B0yI,EAAgB7gJ,KAAK6hJ,iBAAiB1zI,EAAGozI,GACzCnL,EAAYp2I,KAAKqqI,IAAIgM,YAAY1jI,EAAS3S,KAAKsxI,gBAAkBt9H,MAAOhU,KAAK2mI,OAAOx4H,MAAOoH,MAAQ,EACzF,IAANpH,GAAWA,IAAMnO,KAAKg+I,YAAY,GAIrC8C,EAAgB1K,EAAU,EACtByK,EAAcr+I,EAAIs+I,EAAgBW,IACrCA,EAAgBZ,EAAcr+I,EAAIs+I,EAClCC,EAAqB5yI,GAElB0yI,EAAcr+I,EAAIs+I,EAAgBY,IACrCA,EAAeb,EAAcr+I,EAAIs+I,EACjCG,EAAoB9yI,IAGbA,EAAInO,KAAKg+I,YAAY,EAEzB6C,EAAcr+I,EAAI4zI,EAAYqL,IACjCA,EAAgBZ,EAAcr+I,EAAI4zI,EAClC2K,EAAqB5yI,GAGdA,EAAInO,KAAKg+I,YAAY,GAEzB6C,EAAcr+I,EAAI4zI,EAAYsL,IACjCA,EAAeb,EAAcr+I,EAAI4zI,EACjC6K,EAAoB9yI,EAKvBgzI,GAAkBO,EAElBN,EAAmBpgJ,KAAK6vE,KAAK4wE,EAAgBzhJ,KAAKuV,OAElDyrI,EAAqBhhJ,KAAK8hJ,cAAcf,GAExCG,EAAoBlhJ,KAAK8hJ,cAAcb,GAEvCI,EAAuBD,EAAmBpgJ,KAAK4gB,IAAIo/H,EAAqBhgJ,KAAK6gB,GAAG,GAEhFy/H,EAAsBH,EAAkBngJ,KAAK4gB,IAAIs/H,EAAoBlgJ,KAAK6gB,GAAG,GAG7Ew/H,EAAwB7S,EAAS6S,GAAyBA,EAAuB,EACjFC,EAAuB9S,EAAS8S,GAAwBA,EAAsB,EAE9EthJ,KAAKk/I,YAAcqC,GAAyBD,EAAsBD,GAAsB,EAGxFrhJ,KAAK+hJ,eAAeT,EAAqBD,IAG1CU,eAAgB,SAASC,EAAcC,GAEtC,GAAIC,GAAWliJ,KAAKuV,MAAQ0sI,EAAgBjiJ,KAAKk/I,YAChDiD,EAAUH,EAAehiJ,KAAKk/I,WAE/Bl/I,MAAKoiJ,SAAWD,EAAUD,GAAU,EAEpCliJ,KAAKqiJ,QAAWriJ,KAAK4V,OAAO,GAG7BksI,cAAgB,SAASp2I,GACxB,GAAI42I,GAA6B,EAAVthJ,KAAK6gB,GAAU7hB,KAAKg+I,WAG3C,OAAOtyI,GAAQ42I,EAAmBthJ,KAAK6gB,GAAG,GAE3CggI,iBAAmB,SAASn2I,EAAO62I,GAClC,GAAIC,GAAYxiJ,KAAK8hJ,cAAcp2I,EACnC,QACClJ,EAAKxB,KAAKq4B,IAAImpH,GAAaD,EAAsBviJ,KAAKoiJ,QACtD3/I,EAAKzB,KAAK4gB,IAAI4gI,GAAaD,EAAsBviJ,KAAKqiJ,UAGxD5hJ,KAAM,WACL,GAAIT,KAAK+U,QAAQ,CAChB,GAAIs1H,GAAMrqI,KAAKqqI,GAqDf,IApDA5qI,EAAKO,KAAK09I,QAAS,SAASrrE,EAAO3mE,GAElC,GAAIA,EAAQ,EAAE,CACb,GAECm1I,GAFG4B,EAAgB/2I,GAAS1L,KAAKk/I,YAAYl/I,KAAKqxI,OAClDqR,EAAU1iJ,KAAKqiJ,QAAUI,CAI1B,IAAIziJ,KAAK+6I,UAAY,EAIpB,GAHA1Q,EAAIyQ,YAAc96I,KAAKigJ,UACvB5V,EAAI0Q,UAAY/6I,KAAK+6I,UAElB/6I,KAAK0gJ,QACPrW,EAAImM,YACJnM,EAAIwQ,IAAI76I,KAAKoiJ,QAASpiJ,KAAKqiJ,QAASI,EAAe,EAAW,EAARzhJ,KAAK6gB,IAC3DwoH,EAAIuM,YACJvM,EAAIjoI,aACC,CACLioI,EAAImM,WACJ,KAAK,GAAIroI,GAAE,EAAEA,EAAEnO,KAAKg+I,YAAY7vI,IAE/B0yI,EAAgB7gJ,KAAK6hJ,iBAAiB1zI,EAAGnO,KAAKygJ,sBAAsBzgJ,KAAKipB,IAAOvd,EAAQ1L,KAAKmxI,YACnF,IAANhjI,EACHk8H,EAAIoM,OAAOoK,EAAcr+I,EAAGq+I,EAAcp+I,GAE1C4nI,EAAIqM,OAAOmK,EAAcr+I,EAAGq+I,EAAcp+I,EAG5C4nI,GAAIuM,YACJvM,EAAIjoI,SAGN,GAAGpC,KAAK69I,WAAW,CAElB,GADAxT,EAAIv1G,KAAO+gH,EAAW71I,KAAKw6B,SAASx6B,KAAK+1I,UAAU/1I,KAAKg2I,YACpDh2I,KAAK2iJ,kBAAkB,CAC1B,GAAI3F,GAAa3S,EAAIgM,YAAYhkE,GAAO98D,KACxC80H,GAAI2Q,UAAYh7I,KAAK4iJ,cACrBvY,EAAIiT,SACHt9I,KAAKoiJ,QAAUpF,EAAW,EAAIh9I,KAAK6iJ,iBACnCH,EAAU1iJ,KAAKw6B,SAAS,EAAIx6B,KAAKwgJ,iBACjCxD,EAAmC,EAAtBh9I,KAAK6iJ,iBAClB7iJ,KAAKw6B,SAAiC,EAAtBx6B,KAAKwgJ,kBAGvBnW,EAAIsS,UAAY,SAChBtS,EAAIuS,aAAe,SACnBvS,EAAI2Q,UAAYh7I,KAAK8iJ,UACrBzY,EAAIwS,SAASxqE,EAAOryE,KAAKoiJ,QAASM,MAGlC1iJ,OAEEA,KAAK0gJ,QAAQ,CACjBrW,EAAI0Q,UAAY/6I,KAAK+iJ,eACrB1Y,EAAIyQ,YAAc96I,KAAKgjJ,cACvB,KAAK,GAAI70I,GAAInO,KAAKg+I,YAAc,EAAG7vI,GAAK,EAAGA,IAAK,CAC/C,GAAInO,KAAK+iJ,eAAiB,EAAE,CAC3B,GAAIE,GAAgBjjJ,KAAK6hJ,iBAAiB1zI,EAAGnO,KAAKygJ,sBAAsBzgJ,KAAKiB,KAC7EopI,GAAImM,YACJnM,EAAIoM,OAAOz2I,KAAKoiJ,QAASpiJ,KAAKqiJ,SAC9BhY,EAAIqM,OAAOuM,EAAczgJ,EAAGygJ,EAAcxgJ,GAC1C4nI,EAAIjoI,SACJioI,EAAIuM,YAGL,GAAIsM,GAAqBljJ,KAAK6hJ,iBAAiB1zI,EAAGnO,KAAKygJ,sBAAsBzgJ,KAAKiB,KAAO,EACzFopI,GAAIv1G,KAAO+gH,EAAW71I,KAAKwhJ,mBAAmBxhJ,KAAK2hJ,oBAAoB3hJ,KAAK4hJ,sBAC5EvX,EAAI2Q,UAAYh7I,KAAKmjJ,mBAErB,IAAIC,GAAcpjJ,KAAK2mI,OAAO/+H,OAC7By7I,EAAkBrjJ,KAAK2mI,OAAO/+H,OAAO,EACrC07I,EAAqBD,EAAgB,EACrCE,EAAiBD,EAAJn1I,GAA0BA,EAAIi1I,EAAcE,EACzDE,EAAgBr1I,IAAMm1I,GAAsBn1I,IAAMi1I,EAAcE,CAEhEjZ,GAAIsS,UADK,IAANxuI,EACa,SACPA,IAAMk1I,EACC,SACFA,EAAJl1I,EACM,OAEA,QAKhBk8H,EAAIuS,aADD4G,EACgB,SACTD,EACS,SAEA,MAGpBlZ,EAAIwS,SAAS78I,KAAK2mI,OAAOx4H,GAAI+0I,EAAmB1gJ,EAAG0gJ,EAAmBzgJ,SAQ3E+nI,EAAQr9F,SAASjgC,OAAQ,SAAU,WAElC,GAAIoF,EACJ,OAAO,YACN8B,aAAa9B,GACbA,EAAU1M,WAAW,WACpBnG,EAAK2qI,EAAMyM,UAAU,SAAS3R,GAGzBA,EAAS58H,QAAQqjI,YACpBzG,EAASp1H,OAAOo1H,EAASnnC,QAAQ,MAGjC,SAKDz/E,EACHD,OAAO,WACN,MAAO+rH,KAEoB,gBAAXjsH,SAAuBA,OAAOC,UAC/CD,OAAOC,QAAUgsH,GAGlB5hH,EAAK4hH,MAAQA,EAEbA,EAAM/hI,WAAa,WAElB,MADAmgB,GAAK4hH,MAAQ/1C,EACN+1C,IAGNtjI,KAAK9G,MAER,WACC,YAEA,IAAIwoB,GAAOxoB,KACVoqI,EAAQ5hH,EAAK4hH,MACbI,EAAUJ,EAAMI,QAGbiZ,GAEHnY,kBAAmB,EAGnBoY,oBAAqB,EAGrBC,mBAAqB,kBAGrBC,mBAAqB,EAGrBC,0BAA0B,EAG1BC,wBAAwB,EAGxBC,eAAgB,EAGhBC,eAAiB,EAGjBC,gBAAkB,EAGlBC,kBAAoB,EAGpB9M,eAAiB,kOAKlBhN,GAAM0M,KAAKluI,QACV/J,KAAM,MACNiV,SAAW2vI,EACX1M,WAAa,SAASnwI,GAGrB,GAAI0B,GAAUtI,KAAKsI,OAEnBtI,MAAKmkJ,WAAa/Z,EAAMmT,MAAM30I,QAC7B22I,iBAAkB,EAClB6E,cAAgB,SAASC,EAAcC,EAAcC,GAEpD,GAAIC,GAASxkJ,KAAKykJ,qBACjBC,EAAY1kJ,KAAKi/I,WAAWsF,GAAaC,EAAO,EAChDG,EAAW3kJ,KAAK4kJ,kBAAkBP,EAEnC,OAAOK,GAAaC,EAAWL,EAAiBA,EAAeh8I,EAAQ47I,kBAAqBS,EAAS,GAEtGF,mBAAqB,WACpB,MAAQzkJ,MAAKi/I,WAAW,GAAKj/I,KAAKi/I,WAAW,GAAO,EAAE32I,EAAQ27I,iBAE/DW,kBAAoB,SAASP,GAE5B,GAAIQ,GAAY7kJ,KAAKykJ,sBAAyBJ,EAAe,GAAK/7I,EAAQ47I,iBAE1E,OAAQW,GAAYR,KAItBrkJ,KAAK43I,YAGD53I,KAAKsI,QAAQujI,cAChBrB,EAAQ4K,WAAWp1I,KAAMA,KAAKsI,QAAQyjI,cAAe,SAAS1rC,GAC7D,GAAIykD,GAA2B,aAAbzkD,EAAIt2F,KAAuB/J,KAAK+kJ,eAAe1kD,KAEjErgG,MAAKglJ,SAAS,SAASC,GACtBA,EAAI7K,SAAS,YAAa,kBAE3B5P,EAAQ/qI,KAAKqlJ,EAAY,SAASI,GACjCA,EAAUrM,UAAYqM,EAAUC,cAChCD,EAAUpM,YAAcoM,EAAUE,kBAEnCplJ,KAAKs3I,YAAYwN,KAKnB9kJ,KAAKqlJ,SAAWjb,EAAM0R,UAAUlzI,QAC/BvG,YAAcrC,KAAKsI,QAAQ07I,eAC3BnI,WAAa77I,KAAKsI,QAAQy7I,cAC1B1Z,IAAMrqI,KAAKs1I,MAAMjL,MAIlBG,EAAQ/qI,KAAKmH,EAAKgxI,SAAS,SAASlV,EAAQ4hB,GAE3C,GAAIgB,IACHjzE,MAAQqwD,EAAQrwD,OAAS,KACzBwmE,UAAYnW,EAAQmW,UACpBC,YAAcpW,EAAQoW,YACtBf,QAGD/3I,MAAK43I,SAAS14I,KAAKomJ,GAEnB9a,EAAQ/qI,KAAKijI,EAAQ97H,KAAK,SAAS2+I,EAAU75I,GAE5C45I,EAAcvN,KAAK74I,KAAK,GAAIc,MAAKqlJ,UAChCrxI,MAAQuxI,EACRlzE,MAAQzrE,EAAK+/H,OAAOj7H,GACpB85I,aAAc9iB,EAAQrwD,MACtBymE,YAAcpW,EAAQoW,YACtBD,UAAYnW,EAAQmW,UACpBsM,cAAgBziB,EAAQyiB,eAAiBziB,EAAQmW,UACjDuM,gBAAkB1iB,EAAQ0iB,iBAAmB1iB,EAAQoW,gBAErD94I,OAEDA,MAEFA,KAAKylJ,WAAW7+I,EAAK+/H,QAErB3mI,KAAKqlJ,SAASj+I,UAAUmmI,KAAOvtI,KAAK8lB,MAAMklC,SAE1ChrD,KAAKglJ,SAAS,SAASC,EAAKv5I,EAAO44I,GAClC9Z,EAAQ5hI,OAAOq8I,GACd1vI,MAAQvV,KAAK8lB,MAAM8+H,kBAAkB5kJ,KAAK43I,SAAShwI,QACnDpF,EAAGxC,KAAK8lB,MAAMs+H,cAAcpkJ,KAAK43I,SAAShwI,OAAQ08I,EAAc54I,GAChEjJ,EAAGzC,KAAK8lB,MAAMklC,WAEfi6F,EAAIh6E,QACFjrE,MAEHA,KAAK+9F,UAEN/9E,OAAS,WACRhgB,KAAK8lB,MAAM9F,SAEXwqH,EAAQ/qI,KAAKO,KAAKy3I,eAAgB,SAASiO,GAC1CA,EAActL,SAAS,YAAa,kBAGrCp6I,KAAKglJ,SAAS,SAASC,GACtBA,EAAIh6E,SAELjrE,KAAK+9F,UAENinD,SAAW,SAASv/I,GACnB+kI,EAAQ/qI,KAAKO,KAAK43I,SAAS,SAASlV,EAAS4hB,GAC5C9Z,EAAQ/qI,KAAKijI,EAAQqV,KAAMtyI,EAAUzF,KAAMskJ,IAC1CtkJ,OAEH+kJ,eAAiB,SAAS5+I,GAQzB,IAAK,GAFJo+I,GALGoB,KACHC,EAAgBpb,EAAQoK,oBAAoBzuI,GAC5C0/I,EAAkB,SAASnjB,GAC1BijB,EAAUzmJ,KAAKwjI,EAAQqV,KAAKwM,KAIrBD,EAAe,EAAGA,EAAetkJ,KAAK43I,SAAShwI,OAAQ08I,IAC/D,IAAKC,EAAW,EAAGA,EAAWvkJ,KAAK43I,SAAS0M,GAAcvM,KAAKnwI,OAAQ28I,IACtE,GAAIvkJ,KAAK43I,SAAS0M,GAAcvM,KAAKwM,GAAU/J,QAAQoL,EAAcpjJ,EAAEojJ,EAAcnjJ,GAEpF,MADA+nI,GAAQ/qI,KAAKO,KAAK43I,SAAUiO,GACrBF,CAKV,OAAOA,IAERF,WAAa,SAAS9e,GACrB,GAAIzyH,GAAOlU,KAEP8lJ,EAAY,WACf,GAAIv7H,KAIJ,OAHArW,GAAK8wI,SAAS,SAASC,GACtB16H,EAAOrrB,KAAK+lJ,EAAIjxI,SAEVuW,GAGJw7H,GACHzU,eAAiBtxI,KAAKsI,QAAQ8iI,WAC9Bx1H,OAAS5V,KAAKs1I,MAAM1/H,OACpBL,MAAQvV,KAAKs1I,MAAM//H,MACnB80H,IAAMrqI,KAAKs1I,MAAMjL,IACjB8O,UAAYn5I,KAAKsI,QAAQojI,eACzBlxG,SAAWx6B,KAAKsI,QAAQkjI,cACxBuK,UAAY/1I,KAAKsI,QAAQmjI,eACzBuK,WAAah2I,KAAKsI,QAAQijI,gBAC1ByS,YAAcrX,EAAO/+H,OACrBo+I,YAAchmJ,KAAKsI,QAAQgjI,iBAC3BoF,aAAe1wI,KAAKsI,QAAQ+iI,kBAC5B+S,gBAAiB,SAAS6H,GACzB,GAAIC,GAAgB1b,EAAQ6F,oBAC3ByV,IACAG,EACAjmJ,KAAKw6B,SACLx6B,KAAKgmJ,YACLhmJ,KAAK0wI,aAENlG,GAAQ5hI,OAAO5I,KAAMkmJ,IAEtBnI,QAAUpX,EACV7xG,KAAO01G,EAAQqL,WAAW71I,KAAKsI,QAAQkjI,cAAexrI,KAAKsI,QAAQmjI,eAAgBzrI,KAAKsI,QAAQijI,iBAChGwP,UAAY/6I,KAAKsI,QAAQ4iI,eACzB+U,UAAYjgJ,KAAKsI,QAAQ2iI,eACzB6U,oBAAsB9/I,KAAKsI,QAAQu7I,yBACnCvD,kBAAoBtgJ,KAAKsI,QAAQw7I,uBACjC/D,cAAiB//I,KAAKsI,QAA0B,mBAAItI,KAAKsI,QAAQs7I,mBAAqB,EACtF5D,cAAiBhgJ,KAAKsI,QAA0B,mBAAItI,KAAKsI,QAAQq7I,mBAAqB,gBACtF1wI,QAAWjT,KAAKsI,QAAiB,UAAI,EAAKtI,KAAKsI,QAAqB,cAAItI,KAAKsI,QAAQ07I,eAAiB,EACtGnG,WAAa79I,KAAKsI,QAAQ6iI,gBAC1Bp2H,QAAU/U,KAAKsI,QAAQsiI,UAGpB5qI,MAAKsI,QAAQuiI,eAChBL,EAAQ5hI,OAAOm9I,GACd3H,gBAAiB5T,EAAQ8D,KACzB+C,MAAOrxI,KAAKsI,QAAQwiI,WACpBqG,UAAWnxI,KAAKsI,QAAQyiI,eACxB9hH,IAAKjpB,KAAKsI,QAAQ0iI,gBAClB/pI,IAAKjB,KAAKsI,QAAQ0iI,gBAAmBhrI,KAAKsI,QAAQwiI,WAAa9qI,KAAKsI,QAAQyiI,iBAI9E/qI,KAAK8lB,MAAQ,GAAI9lB,MAAKmkJ,WAAW4B,IAElCI,QAAU,SAAS7V,EAAYj+D,GAE9Bm4D,EAAQ/qI,KAAK6wI,EAAY,SAASt8H,EAAMswI,GAEvCtkJ,KAAK43I,SAAS0M,GAAcvM,KAAK74I,KAAK,GAAIc,MAAKqlJ,UAC9CrxI,MAAQA,EACRq+D,MAAQA,EACR7vE,EAAGxC,KAAK8lB,MAAMs+H,cAAcpkJ,KAAK43I,SAAShwI,OAAQ08I,EAActkJ,KAAK8lB,MAAMk4H,YAAY,GACvFv7I,EAAGzC,KAAK8lB,MAAMklC,SACdz1C,MAAQvV,KAAK8lB,MAAM8+H,kBAAkB5kJ,KAAK43I,SAAShwI,QACnD2lI,KAAOvtI,KAAK8lB,MAAMklC,SAClB8tF,YAAc94I,KAAK43I,SAAS0M,GAAcxL,YAC1CD,UAAY74I,KAAK43I,SAAS0M,GAAczL,cAExC74I,MAEFA,KAAK8lB,MAAMg4H,UAAUzrE,GAErBryE,KAAKggB,UAENlI,WAAa,WACZ9X,KAAK8lB,MAAMm4H,eAEXzT,EAAQ/qI,KAAKO,KAAK43I,SAAS,SAASlV,GACnCA,EAAQqV,KAAK30I,SACZpD,MACFA,KAAKggB,UAENk3H,OAAS,WACR1M,EAAQ5hI,OAAO5I,KAAKqlJ,SAASj+I,WAC5B3E,EAAGzC,KAAK8lB,MAAMklC,SACduiF,KAAOvtI,KAAK8lB,MAAMklC,UAEnB,IAAIo7F,GAAgB5b,EAAQ5hI,QAC3BgN,OAAS5V,KAAKs1I,MAAM1/H,OACpBL,MAAQvV,KAAKs1I,MAAM//H,OAEpBvV,MAAK8lB,MAAM9F,OAAOomI,IAEnB3lJ,KAAO,SAAS65I,GACf,GAAI+L,GAAgB/L,GAAQ,CAC5Bt6I,MAAKqZ,OAEKrZ,MAAKs1I,MAAMjL,GAErBrqI,MAAK8lB,MAAMrlB,KAAK4lJ,GAGhB7b,EAAQ/qI,KAAKO,KAAK43I,SAAS,SAASlV,EAAQ4hB,GAC3C9Z,EAAQ/qI,KAAKijI,EAAQqV,KAAK,SAASkN,EAAIv5I,GAClCu5I,EAAItM,aACPsM,EAAI1X,KAAOvtI,KAAK8lB,MAAMklC,SAEtBi6F,EAAIjgJ,YACHxC,EAAIxC,KAAK8lB,MAAMs+H,cAAcpkJ,KAAK43I,SAAShwI,OAAQ08I,EAAc54I,GACjEjJ,EAAIzC,KAAK8lB,MAAMq5H,WAAW8F,EAAIjxI,OAC9BuB,MAAQvV,KAAK8lB,MAAM8+H,kBAAkB5kJ,KAAK43I,SAAShwI,SACjDy+I,GAAe5lJ,SAElBT,OAEDA,UAKF8G,KAAK9G,MAER,WACC,YAEA,IAAIwoB,GAAOxoB,KACVoqI,EAAQ5hH,EAAK4hH,MAEbI,EAAUJ,EAAMI,QAEbiZ,GAEH6C,mBAAoB,EAGpBC,mBAAqB,OAGrBC,mBAAqB,EAGrBC,sBAAwB,GAGxB/b,eAAiB,IAGjBC,gBAAkB,gBAGlB+b,eAAgB,EAGhBC,cAAe,EAGfvP,eAAiB,kOAKlBhN,GAAM0M,KAAKluI,QAEV/J,KAAM,WAENiV,SAAW2vI,EAGX1M,WAAa,SAASnwI,GAGrB5G,KAAKg4I,YACLh4I,KAAKw7I,aAAehR,EAAQvhH,KAAKjpB,KAAKs1I,MAAM//H,MAAMvV,KAAKs1I,MAAM1/H,SAAW5V,KAAKsI,QAAQk+I,mBAAmB,GAAG,EAE3GxmJ,KAAK4mJ,WAAaxc,EAAM6Q,IAAIryI,QAC3ByhI,IAAMrqI,KAAKs1I,MAAMjL,IACjB7nI,EAAIxC,KAAKs1I,MAAM//H,MAAM,EACrB9S,EAAIzC,KAAKs1I,MAAM1/H,OAAO,IAInB5V,KAAKsI,QAAQujI,cAChBrB,EAAQ4K,WAAWp1I,KAAMA,KAAKsI,QAAQyjI,cAAe,SAAS1rC,GAC7D,GAAIwmD,GAA+B,aAAbxmD,EAAIt2F,KAAuB/J,KAAK8mJ,mBAAmBzmD,KAEzEmqC,GAAQ/qI,KAAKO,KAAKg4I,SAAS,SAAS+O,GACnCA,EAAQ3M,SAAS,gBAElB5P,EAAQ/qI,KAAKonJ,EAAe,SAASG,GACpCA,EAAcnO,UAAYmO,EAAcC,iBAEzCjnJ,KAAKs3I,YAAYuP,KAGnB7mJ,KAAKknJ,eAAetgJ,GAEpB4jI,EAAQ/qI,KAAKmH,EAAK,SAASugJ,EAAWz7I,GACrC1L,KAAKmmJ,QAAQgB,EAAWz7I,GAAO,IAC9B1L,MAEFA,KAAK+9F,UAEN+oD,mBAAqB,SAAS3gJ,GAC7B,GAAIihJ,MAEAC,EAAW7c,EAAQoK,oBAAoBzuI,EAK3C,OAHAqkI,GAAQ/qI,KAAKO,KAAKg4I,SAAS,SAAS+O,GAC/BA,EAAQvM,QAAQ6M,EAAS7kJ,EAAE6kJ,EAAS5kJ,IAAI2kJ,EAAcloJ,KAAK6nJ,IAC9D/mJ,MACKonJ,GAERjB,QAAU,SAASY,EAASO,EAASC,GACpC,GAAI77I,GAAQ47I,GAAWtnJ,KAAKg4I,SAASpwI,MACrC5H,MAAKg4I,SAASl4I,OAAO4L,EAAO,EAAG,GAAI1L,MAAK4mJ,YACvC5yI,MAAQ+yI,EAAQ/yI,MAChBwnI,YAAex7I,KAAKsI,QAAoB,aAAI,EAAItI,KAAKw7I,YACrDD,YAAev7I,KAAKsI,QAAoB,aAAI,EAAKtI,KAAKw7I,YAAY,IAAOx7I,KAAKsI,QAAQm+I,sBACtF5N,UAAYkO,EAAQhlJ,MACpBklJ,eAAiBF,EAAQS,WAAaT,EAAQhlJ,MAC9C85I,WAAa77I,KAAKsI,QAAQg+I,kBAC1BjkJ,YAAcrC,KAAKsI,QAAQk+I,mBAC3B1N,YAAc94I,KAAKsI,QAAQi+I,mBAC3BnL,WAAuB,IAAVp6I,KAAK6gB,GAClB4lI,cAAiBznJ,KAAKsI,QAAqB,cAAI,EAAItI,KAAK0nJ,uBAAuBX,EAAQ/yI,OACvFq+D,MAAQ00E,EAAQ10E,SAEZk1E,IACJvnJ,KAAKk3I,SACLl3I,KAAKggB,WAGP0nI,uBAAyB,SAAS1zI,GACjC,MAAgB,GAARhT,KAAK6gB,IAAO7gB,KAAKwQ,IAAIwC,GAAShU,KAAKowB,QAE5C82H,eAAiB,SAAStgJ,GACzB5G,KAAKowB,MAAQ,EACbo6G,EAAQ/qI,KAAKmH,EAAK,SAASmgJ,GAC1B/mJ,KAAKowB,OAASpvB,KAAKwQ,IAAIu1I,EAAQ/yI,QAC9BhU,OAEHggB,OAAS,WACRhgB,KAAKknJ,eAAelnJ,KAAKg4I,UAGzBxN,EAAQ/qI,KAAKO,KAAKy3I,eAAgB,SAASiO,GAC1CA,EAActL,SAAS,gBAGxB5P,EAAQ/qI,KAAKO,KAAKg4I,SAAS,SAAS+O,GACnCA,EAAQ97E,SAETjrE,KAAK+9F,UAGNjmF,WAAY,SAASwvI,GACpB,GAAIK,GAAiBnd,EAAQgE,SAAS8Y,GAAYA,EAAUtnJ,KAAKg4I,SAASpwI,OAAO,CACjF5H,MAAKg4I,SAASl4I,OAAO6nJ,EAAe,GACpC3nJ,KAAKk3I,SACLl3I,KAAKggB,UAGNk3H,OAAS,WACR1M,EAAQ5hI,OAAO5I,KAAK4mJ,WAAWx/I,WAC9B5E,EAAIxC,KAAKs1I,MAAM//H,MAAM,EACrB9S,EAAIzC,KAAKs1I,MAAM1/H,OAAO,IAEvB5V,KAAKw7I,aAAehR,EAAQvhH,KAAKjpB,KAAKs1I,MAAM//H,MAAMvV,KAAKs1I,MAAM1/H,SAAW5V,KAAKsI,QAAQk+I,mBAAmB,GAAG,EAC3Ghc,EAAQ/qI,KAAKO,KAAKg4I,SAAU,SAAS+O,GACpCA,EAAQ/mI,QACPw7H,YAAcx7I,KAAKw7I,YACnBD,YAAev7I,KAAKw7I,YAAY,IAAOx7I,KAAKsI,QAAQm+I,yBAEnDzmJ,OAEJS,KAAO,SAASk0I,GACf,GAAIiT,GAAc,EAAgBjT,EAAc,CAChD30I,MAAKqZ,QACLmxH,EAAQ/qI,KAAKO,KAAKg4I,SAAS,SAAS+O,EAAQr7I,GAC3Cq7I,EAAQ/hJ,YACPyiJ,cAAgBznJ,KAAK0nJ,uBAAuBX,EAAQ/yI,OACpDwnI,YAAcx7I,KAAKw7I,YACnBD,YAAev7I,KAAKw7I,YAAY,IAAOx7I,KAAKsI,QAAQm+I,uBACnDmB,GAEFb,EAAQ1L,SAAW0L,EAAQ3L,WAAa2L,EAAQU,cAEhDV,EAAQtmJ,OACM,IAAViL,IACHq7I,EAAQ3L,WAAuB,IAAVp6I,KAAK6gB,IAGvBnW,EAAQ1L,KAAKg4I,SAASpwI,OAAO,IAChC5H,KAAKg4I,SAAStsI,EAAM,GAAG0vI,WAAa2L,EAAQ1L,WAE5Cr7I,SAKJoqI,EAAM+C,MAAM0a,SAASj/I,QACpB/J,KAAO,MACPiV,SAAW02H,EAAQlrI,MAAMmkJ,GAAegD,sBAAwB,OAG/D3/I,KAAK9G,MACR,WACC,YAEA,IAAIwoB,GAAOxoB,KACVoqI,EAAQ5hH,EAAK4hH,MACbI,EAAUJ,EAAMI,QAEbiZ,GAGHC,oBAAqB,EAGrBC,mBAAqB,kBAGrBC,mBAAqB,EAGrBC,0BAA0B,EAG1BC,wBAAwB,EAGxBgE,aAAc,EAGdC,mBAAqB,GAGrBC,UAAW,EAGXC,eAAiB,EAGjBC,oBAAsB,EAGtBC,wBAA0B,GAG1BC,eAAgB,EAGhBC,mBAAqB,EAGrBC,aAAc,EAGdlR,eAAiB,oOAKlBhN,GAAM0M,KAAKluI,QACV/J,KAAM,OACNiV,SAAW2vI,EACX1M,WAAa,SAASnwI,GAErB5G,KAAKuoJ,WAAane,EAAMmQ,MAAM3xI,QAC7BvG,YAAcrC,KAAKsI,QAAQ4/I,oBAC3B3R,OAASv2I,KAAKsI,QAAQ2/I,eACtBlzI,QAAS/U,KAAKsI,QAAQ0/I,SACtBpN,mBAAqB56I,KAAKsI,QAAQ6/I,wBAClC9d,IAAMrqI,KAAKs1I,MAAMjL,IACjBmQ,QAAU,SAAS3F,GAClB,MAAQ7zI,MAAKigB,IAAI4zH,EAAO70I,KAAKwC,EAAG,GAAKxB,KAAKigB,IAAIjhB,KAAKu2I,OAASv2I,KAAK46I,mBAAmB,MAItF56I,KAAK43I,YAGD53I,KAAKsI,QAAQujI,cAChBrB,EAAQ4K,WAAWp1I,KAAMA,KAAKsI,QAAQyjI,cAAe,SAAS1rC,GAC7D,GAAImoD,GAA6B,aAAbnoD,EAAIt2F,KAAuB/J,KAAKyoJ,iBAAiBpoD,KACrErgG,MAAK0oJ,WAAW,SAAS7nH,GACxBA,EAAMu5G,SAAS,YAAa,kBAE7B5P,EAAQ/qI,KAAK+oJ,EAAc,SAASG,GACnCA,EAAY9P,UAAY8P,EAAYxD,cACpCwD,EAAY7P,YAAc6P,EAAYvD,kBAEvCplJ,KAAKs3I,YAAYkR,KAKnBhe,EAAQ/qI,KAAKmH,EAAKgxI,SAAS,SAASlV,GAEnC,GAAI4iB,IACHjzE,MAAQqwD,EAAQrwD,OAAS,KACzBwmE,UAAYnW,EAAQmW,UACpBC,YAAcpW,EAAQoW,YACtB8P,WAAalmB,EAAQkmB,WACrBC,iBAAmBnmB,EAAQmmB,iBAC3B1qH,UAGDn+B,MAAK43I,SAAS14I,KAAKomJ,GAGnB9a,EAAQ/qI,KAAKijI,EAAQ97H,KAAK,SAAS2+I,EAAU75I,GAE5C45I,EAAcnnH,OAAOj/B,KAAK,GAAIc,MAAKuoJ,YAClCv0I,MAAQuxI,EACRlzE,MAAQzrE,EAAK+/H,OAAOj7H,GACpB85I,aAAc9iB,EAAQrwD,MACtBymE,YAAcpW,EAAQmmB,iBACtBhQ,UAAYnW,EAAQkmB,WACpBzD,cAAgBziB,EAAQomB,oBAAsBpmB,EAAQkmB,WACtDxD,gBAAkB1iB,EAAQqmB,sBAAwBrmB,EAAQmmB,qBAE1D7oJ,MAEFA,KAAKylJ,WAAW7+I,EAAK+/H,QAGrB3mI,KAAK0oJ,WAAW,SAAS7nH,EAAOn1B,GAC/B8+H,EAAQ5hI,OAAOi4B,GACdr+B,EAAGxC,KAAK8lB,MAAMm5H,WAAWvzI,GACzBjJ,EAAGzC,KAAK8lB,MAAMklC,WAEfnqB,EAAMoqC,QACJjrE,OAEFA,MAGFA,KAAK+9F,UAEN/9E,OAAS,WACRhgB,KAAK8lB,MAAM9F,SAEXwqH,EAAQ/qI,KAAKO,KAAKy3I,eAAgB,SAASiO,GAC1CA,EAActL,SAAS,YAAa,kBAErCp6I,KAAK0oJ,WAAW,SAAS7nH,GACxBA,EAAMoqC,SAEPjrE,KAAK+9F,UAEN2qD,WAAa,SAASjjJ,GACrB+kI,EAAQ/qI,KAAKO,KAAK43I,SAAS,SAASlV,GACnC8H,EAAQ/qI,KAAKijI,EAAQvkG,OAAO14B,EAASzF,OACpCA,OAEHyoJ,iBAAmB,SAAStiJ,GAC3B,GAAI6iJ,MACHpD,EAAgBpb,EAAQoK,oBAAoBzuI,EAM7C,OALAqkI,GAAQ/qI,KAAKO,KAAK43I,SAAS,SAASlV,GACnC8H,EAAQ/qI,KAAKijI,EAAQvkG,OAAO,SAAS0C,GAChCA,EAAM25G,QAAQoL,EAAcpjJ,EAAEojJ,EAAcnjJ,IAAIumJ,EAAY9pJ,KAAK2hC,MAErE7gC,MACKgpJ,GAERvD,WAAa,SAAS9e,GACrB,GAAIzyH,GAAOlU,KAEP8lJ,EAAY,WACf,GAAIv7H,KAKJ,OAJArW,GAAKw0I,WAAW,SAAS7nH,GACxBtW,EAAOrrB,KAAK2hC,EAAM7sB,SAGZuW,GAGJw7H,GACHzU,eAAiBtxI,KAAKsI,QAAQ8iI,WAC9Bx1H,OAAS5V,KAAKs1I,MAAM1/H,OACpBL,MAAQvV,KAAKs1I,MAAM//H,MACnB80H,IAAMrqI,KAAKs1I,MAAMjL,IACjB8O,UAAYn5I,KAAKsI,QAAQojI,eACzBlxG,SAAWx6B,KAAKsI,QAAQkjI,cACxBuK,UAAY/1I,KAAKsI,QAAQmjI,eACzBuK,WAAah2I,KAAKsI,QAAQijI,gBAC1ByS,YAAcrX,EAAO/+H,OACrBo+I,YAAchmJ,KAAKsI,QAAQgjI,iBAC3BoF,aAAe1wI,KAAKsI,QAAQ+iI,kBAC5B+S,gBAAkB,SAAS6H,GAC1B,GAAIC,GAAgB1b,EAAQ6F,oBAC3ByV,IACAG,EACAjmJ,KAAKw6B,SACLx6B,KAAKgmJ,YACLhmJ,KAAK0wI,aAENlG,GAAQ5hI,OAAO5I,KAAMkmJ,IAEtBnI,QAAUpX,EACV7xG,KAAO01G,EAAQqL,WAAW71I,KAAKsI,QAAQkjI,cAAexrI,KAAKsI,QAAQmjI,eAAgBzrI,KAAKsI,QAAQijI,iBAChGwP,UAAY/6I,KAAKsI,QAAQ4iI,eACzB+U,UAAYjgJ,KAAKsI,QAAQ2iI,eACzB6U,oBAAsB9/I,KAAKsI,QAAQu7I,yBACnCvD,kBAAoBtgJ,KAAKsI,QAAQw7I,uBACjC/D,cAAiB//I,KAAKsI,QAA0B,mBAAItI,KAAKsI,QAAQs7I,mBAAqB,EACtF5D,cAAiBhgJ,KAAKsI,QAA0B,mBAAItI,KAAKsI,QAAQq7I,mBAAqB,gBACtF1wI,QAAUjT,KAAKsI,QAAiB,UAAI,EAAItI,KAAKsI,QAAQ2/I,eAAiBjoJ,KAAKsI,QAAQ4/I,oBACnFrK,WAAa79I,KAAKsI,QAAQ6iI,gBAC1Bp2H,QAAU/U,KAAKsI,QAAQsiI,UAGpB5qI,MAAKsI,QAAQuiI,eAChBL,EAAQ5hI,OAAOm9I,GACd3H,gBAAiB5T,EAAQ8D,KACzB+C,MAAOrxI,KAAKsI,QAAQwiI,WACpBqG,UAAWnxI,KAAKsI,QAAQyiI,eACxB9hH,IAAKjpB,KAAKsI,QAAQ0iI,gBAClB/pI,IAAKjB,KAAKsI,QAAQ0iI,gBAAmBhrI,KAAKsI,QAAQwiI,WAAa9qI,KAAKsI,QAAQyiI,iBAK9E/qI,KAAK8lB,MAAQ,GAAIskH,GAAMmT,MAAMwI,IAE9BI,QAAU,SAAS7V,EAAYj+D,GAG9Bm4D,EAAQ/qI,KAAK6wI,EAAY,SAASt8H,EAAMswI,GAEvCtkJ,KAAK43I,SAAS0M,GAAcnmH,OAAOj/B,KAAK,GAAIc,MAAKuoJ,YAChDv0I,MAAQA,EACRq+D,MAAQA,EACR7vE,EAAGxC,KAAK8lB,MAAMm5H,WAAWj/I,KAAK8lB,MAAMk4H,YAAY,GAChDv7I,EAAGzC,KAAK8lB,MAAMklC,SACd8tF,YAAc94I,KAAK43I,SAAS0M,GAAcuE,iBAC1ChQ,UAAY74I,KAAK43I,SAAS0M,GAAcsE,eAExC5oJ,MAEFA,KAAK8lB,MAAMg4H,UAAUzrE,GAErBryE,KAAKggB,UAENlI,WAAa,WACZ9X,KAAK8lB,MAAMm4H,eAEXzT,EAAQ/qI,KAAKO,KAAK43I,SAAS,SAASlV,GACnCA,EAAQvkG,OAAO/6B,SACdpD,MACFA,KAAKggB,UAENk3H,OAAS,WACR,GAAIkP,GAAgB5b,EAAQ5hI,QAC3BgN,OAAS5V,KAAKs1I,MAAM1/H,OACpBL,MAAQvV,KAAKs1I,MAAM//H,OAEpBvV,MAAK8lB,MAAM9F,OAAOomI,IAEnB3lJ,KAAO,SAAS65I,GACf,GAAI+L,GAAgB/L,GAAQ,CAC5Bt6I,MAAKqZ,OAEL,IAAIgxH,GAAMrqI,KAAKs1I,MAAMjL,IAGjBsO,EAAW,SAASptI,GACvB,MAAsB,QAAfA,EAAKyI,OAEbm2C,EAAY,SAAStpB,EAAOskB,EAAYz5C,GACvC,MAAO8+H,GAAQuD,cAAc5oF,EAAYwzF,EAAUjtI,IAAUm1B,GAE9DooH,EAAgB,SAASpoH,EAAOskB,EAAYz5C,GAC3C,MAAO8+H,GAAQ0D,kBAAkB/oF,EAAYwzF,EAAUjtI,IAAUm1B,EAGlE7gC,MAAK8lB,MAAMrlB,KAAK4lJ,GAGhB7b,EAAQ/qI,KAAKO,KAAK43I,SAAS,SAASlV,GACnC,GAAIwmB,GAAmB1e,EAAQoD,MAAMlL,EAAQvkG,OAAQw6G,EAKrDnO,GAAQ/qI,KAAKijI,EAAQvkG,OAAQ,SAAS0C,EAAOn1B,GACxCm1B,EAAM83G,YACT93G,EAAM77B,YACLvC,EAAIzC,KAAK8lB,MAAMq5H,WAAWt+G,EAAM7sB,OAChCxR,EAAIxC,KAAK8lB,MAAMm5H,WAAWvzI,IACxB26I,IAEHrmJ,MAKEA,KAAKsI,QAAQw/I,aAChBtd,EAAQ/qI,KAAKypJ,EAAkB,SAASroH,EAAOn1B,GAC9C,GAAIy9I,GAAWz9I,EAAQ,GAAKA,EAAQw9I,EAAiBthJ,OAAS,EAAK5H,KAAKsI,QAAQy/I,mBAAqB,CACrGlnH,GAAMuoH,cAAgB5e,EAAQoF,YAC7BqZ,EAAcpoH,EAAOqoH,EAAkBx9I,GACvCm1B,EACAspB,EAAUtpB,EAAOqoH,EAAkBx9I,GACnCy9I,GAMGtoH,EAAMuoH,cAAcjZ,MAAM1tI,EAAIzC,KAAK8lB,MAAMklC,SAC5CnqB,EAAMuoH,cAAcjZ,MAAM1tI,EAAIzC,KAAK8lB,MAAMklC,SAEjCnqB,EAAMuoH,cAAcjZ,MAAM1tI,EAAIzC,KAAK8lB,MAAMilC,aACjDlqB,EAAMuoH,cAAcjZ,MAAM1tI,EAAIzC,KAAK8lB,MAAMilC,YAItClqB,EAAMuoH,cAAclZ,MAAMztI,EAAIzC,KAAK8lB,MAAMklC,SAC5CnqB,EAAMuoH,cAAclZ,MAAMztI,EAAIzC,KAAK8lB,MAAMklC,SAEjCnqB,EAAMuoH,cAAclZ,MAAMztI,EAAIzC,KAAK8lB,MAAMilC,aACjDlqB,EAAMuoH,cAAclZ,MAAMztI,EAAIzC,KAAK8lB,MAAMilC,aAEzC/qD,MAKHqqI,EAAI0Q,UAAY/6I,KAAKsI,QAAQ+/I,mBAC7Bhe,EAAIyQ,YAAcpY,EAAQoW,YAC1BzO,EAAImM,YAEJhM,EAAQ/qI,KAAKypJ,EAAkB,SAASroH,EAAOn1B,GAC9C,GAAc,IAAVA,EACH2+H,EAAIoM,OAAO51G,EAAMr+B,EAAGq+B,EAAMp+B,OAG1B,IAAGzC,KAAKsI,QAAQw/I,YAAY,CAC3B,GAAIzzD,GAAW40D,EAAcpoH,EAAOqoH,EAAkBx9I,EAEtD2+H,GAAIgf,cACHh1D,EAAS+0D,cAAcjZ,MAAM3tI,EAC7B6xF,EAAS+0D,cAAcjZ,MAAM1tI,EAC7Bo+B,EAAMuoH,cAAclZ,MAAM1tI,EAC1Bq+B,EAAMuoH,cAAclZ,MAAMztI,EAC1Bo+B,EAAMr+B,EACNq+B,EAAMp+B,OAIP4nI,GAAIqM,OAAO71G,EAAMr+B,EAAEq+B,EAAMp+B,IAGzBzC,MAEHqqI,EAAIjoI,SAEApC,KAAKsI,QAAQggJ,aAAeY,EAAiBthJ,OAAS,IAEzDyiI,EAAIqM,OAAOwS,EAAiBA,EAAiBthJ,OAAS,GAAGpF,EAAGxC,KAAK8lB,MAAMklC,UACvEq/E,EAAIqM,OAAOwS,EAAiB,GAAG1mJ,EAAGxC,KAAK8lB,MAAMklC,UAC7Cq/E,EAAI2Q,UAAYtY,EAAQmW,UACxBxO,EAAIuM,YACJvM,EAAI/nI,QAMLkoI,EAAQ/qI,KAAKypJ,EAAiB,SAASroH,GACtCA,EAAMpgC,UAENT,UAKF8G,KAAK9G,MAER,WACC,YAEA,IAAIwoB,GAAOxoB,KACVoqI,EAAQ5hH,EAAK4hH,MAEbI,EAAUJ,EAAMI,QAEbiZ,GAEH6F,wBAAyB,EAGzBC,mBAAqB,yBAGrBje,kBAAmB,EAGnBke,sBAAwB,EAGxBC,sBAAwB,EAGxBC,eAAgB,EAGhBpD,mBAAoB,EAGpBC,mBAAqB,OAGrBC,mBAAqB,EAGrB9b,eAAiB,IAGjBC,gBAAkB,gBAGlB+b,eAAgB,EAGhBC,cAAe,EAGfvP,eAAiB,kOAIlBhN,GAAM0M,KAAKluI,QAEV/J,KAAM,YAENiV,SAAW2vI,EAGX1M,WAAa,SAASnwI,GACrB5G,KAAKg4I,YAELh4I,KAAK4mJ,WAAaxc,EAAM6Q,IAAIryI,QAC3BizI,WAAa77I,KAAKsI,QAAQg+I,kBAC1BjkJ,YAAcrC,KAAKsI,QAAQk+I,mBAC3B1N,YAAc94I,KAAKsI,QAAQi+I,mBAC3Blc,IAAMrqI,KAAKs1I,MAAMjL,IACjBkR,YAAc,EACd/4I,EAAIxC,KAAKs1I,MAAM//H,MAAM,EACrB9S,EAAIzC,KAAKs1I,MAAM1/H,OAAO,IAEvB5V,KAAK8lB,MAAQ,GAAIskH,GAAMmW,aACtBxrI,QAAS/U,KAAKsI,QAAQsiI,UACtBmL,UAAW/1I,KAAKsI,QAAQmjI,eACxBjxG,SAAUx6B,KAAKsI,QAAQkjI,cACvBwK,WAAYh2I,KAAKsI,QAAQijI,gBACzBuX,UAAW9iJ,KAAKsI,QAAQojI,eACxBmS,WAAY79I,KAAKsI,QAAQ6iI,gBACzBwX,kBAAmB3iJ,KAAKsI,QAAQghJ,uBAChC1G,cAAe5iJ,KAAKsI,QAAQihJ,mBAC5B/I,iBAAmBxgJ,KAAKsI,QAAQkhJ,sBAChC3G,iBAAkB7iJ,KAAKsI,QAAQmhJ,sBAC/B1O,UAAY/6I,KAAKsI,QAAqB,cAAItI,KAAKsI,QAAQ4iI,eAAiB,EACxE+U,UAAWjgJ,KAAKsI,QAAQ2iI,eACxByV,SAAS,EACTnrI,MAAOvV,KAAKs1I,MAAM//H,MAClBK,OAAQ5V,KAAKs1I,MAAM1/H,OACnBwsI,QAASpiJ,KAAKs1I,MAAM//H,MAAM,EAC1B8sI,QAASriJ,KAAKs1I,MAAM1/H,OAAO,EAC3By0H,IAAMrqI,KAAKs1I,MAAMjL,IACjBiH,eAAgBtxI,KAAKsI,QAAQ8iI,WAC7B4S,YAAap3I,EAAKgB,SAGnB5H,KAAK2pJ,iBAAiB/iJ,GAEtB5G,KAAK8lB,MAAM9F,SAEXwqH,EAAQ/qI,KAAKmH,EAAK,SAASmgJ,EAAQr7I,GAClC1L,KAAKmmJ,QAAQY,EAAQr7I,GAAM,IAC1B1L,MAGEA,KAAKsI,QAAQujI,cAChBrB,EAAQ4K,WAAWp1I,KAAMA,KAAKsI,QAAQyjI,cAAe,SAAS1rC,GAC7D,GAAIwmD,GAA+B,aAAbxmD,EAAIt2F,KAAuB/J,KAAK8mJ,mBAAmBzmD,KACzEmqC,GAAQ/qI,KAAKO,KAAKg4I,SAAS,SAAS+O,GACnCA,EAAQ3M,SAAS,gBAElB5P,EAAQ/qI,KAAKonJ,EAAe,SAASG,GACpCA,EAAcnO,UAAYmO,EAAcC,iBAEzCjnJ,KAAKs3I,YAAYuP,KAInB7mJ,KAAK+9F,UAEN+oD,mBAAqB,SAAS3gJ,GAC7B,GAAIihJ,MAEAC,EAAW7c,EAAQoK,oBAAoBzuI,EAK3C,OAHAqkI,GAAQ/qI,KAAKO,KAAKg4I,SAAS,SAAS+O,GAC/BA,EAAQvM,QAAQ6M,EAAS7kJ,EAAE6kJ,EAAS5kJ,IAAI2kJ,EAAcloJ,KAAK6nJ,IAC9D/mJ,MACKonJ,GAERjB,QAAU,SAASY,EAASO,EAASC,GACpC,GAAI77I,GAAQ47I,GAAWtnJ,KAAKg4I,SAASpwI,MAErC5H,MAAKg4I,SAASl4I,OAAO4L,EAAO,EAAG,GAAI1L,MAAK4mJ,YACvC/N,UAAWkO,EAAQhlJ,MACnBklJ,eAAgBF,EAAQS,WAAaT,EAAQhlJ,MAC7CswE,MAAO00E,EAAQ10E,MACfr+D,MAAO+yI,EAAQ/yI,MACfwnI,YAAcx7I,KAAKsI,QAAoB,aAAI,EAAItI,KAAK8lB,MAAM26H,sBAAsBsG,EAAQ/yI,OACxFyzI,cAAgBznJ,KAAKsI,QAAqB,cAAI,EAAItI,KAAK8lB,MAAM86H,mBAC7DxF,WAAsB,IAAVp6I,KAAK6gB,MAEb0lI,IACJvnJ,KAAKk3I,SACLl3I,KAAKggB,WAGPlI,WAAY,SAASwvI,GACpB,GAAIK,GAAiBnd,EAAQgE,SAAS8Y,GAAYA,EAAUtnJ,KAAKg4I,SAASpwI,OAAO,CACjF5H,MAAKg4I,SAASl4I,OAAO6nJ,EAAe,GACpC3nJ,KAAKk3I,SACLl3I,KAAKggB,UAENknI,eAAgB,SAAStgJ,GACxB5G,KAAKowB,MAAQ,EACbo6G,EAAQ/qI,KAAKmH,EAAK,SAASmgJ,GAC1B/mJ,KAAKowB,OAAS22H,EAAQ/yI,OACrBhU,MACFA,KAAK8lB,MAAMk4H,YAAch+I,KAAKg4I,SAASpwI,QAExC+hJ,iBAAkB,SAASC,GAC1B,GAAItZ,KACJ9F,GAAQ/qI,KAAKmqJ,EAAW,SAAS7C,GAChCzW,EAAYpxI,KAAK6nJ,EAAQ/yI,QAG1B,IAAI61I,GAAc7pJ,KAAKsI,QAAqB,eAE1C+oI,MAAOrxI,KAAKsI,QAAQwiI,WACpBqG,UAAWnxI,KAAKsI,QAAQyiI,eACxB9hH,IAAKjpB,KAAKsI,QAAQ0iI,gBAClB/pI,IAAKjB,KAAKsI,QAAQ0iI,gBAAmBhrI,KAAKsI,QAAQwiI,WAAa9qI,KAAKsI,QAAQyiI,gBAE7EP,EAAQ6F,oBACPC,EACA9F,EAAQvhH,KAAKjpB,KAAKs1I,MAAM//H,MAAOvV,KAAKs1I,MAAM1/H,SAAS,EACnD5V,KAAKsI,QAAQkjI,cACbxrI,KAAKsI,QAAQgjI,iBACbtrI,KAAKsI,QAAQ+iI,kBAGfb,GAAQ5hI,OACP5I,KAAK8lB,MACL+jI,GAEC3wF,KAAMsxE,EAAQvhH,KAAKjpB,KAAKs1I,MAAM//H,MAAOvV,KAAKs1I,MAAM1/H,SAChDwsI,QAASpiJ,KAAKs1I,MAAM//H,MAAM,EAC1B8sI,QAASriJ,KAAKs1I,MAAM1/H,OAAO,KAK9BoK,OAAS,WACRhgB,KAAKknJ,eAAelnJ,KAAKg4I,UAEzBxN,EAAQ/qI,KAAKO,KAAKg4I,SAAS,SAAS+O,GACnCA,EAAQ97E,SAGTjrE,KAAKk3I,SACLl3I,KAAK+9F,UAENm5C,OAAS,WACR1M,EAAQ5hI,OAAO5I,KAAK4mJ,WAAWx/I,WAC9B5E,EAAIxC,KAAKs1I,MAAM//H,MAAM,EACrB9S,EAAIzC,KAAKs1I,MAAM1/H,OAAO,IAEvB5V,KAAK2pJ,iBAAiB3pJ,KAAKg4I,UAC3Bh4I,KAAK8lB,MAAM9F,SAEXwqH,EAAQ5hI,OAAO5I,KAAK8lB,OACnBs8H,QAASpiJ,KAAKs1I,MAAM//H,MAAM,EAC1B8sI,QAASriJ,KAAKs1I,MAAM1/H,OAAO,IAG5B40H,EAAQ/qI,KAAKO,KAAKg4I,SAAU,SAAS+O,GACpCA,EAAQ/mI,QACPw7H,YAAcx7I,KAAK8lB,MAAM26H,sBAAsBsG,EAAQ/yI,UAEtDhU,OAGJS,KAAO,SAAS65I,GACf,GAAI+L,GAAgB/L,GAAQ,CAE5Bt6I,MAAKqZ,QACLmxH,EAAQ/qI,KAAKO,KAAKg4I,SAAS,SAAS+O,EAASr7I,GAC5Cq7I,EAAQ/hJ,YACPyiJ,cAAgBznJ,KAAK8lB,MAAM86H,mBAC3BpF,YAAcx7I,KAAK8lB,MAAM26H,sBAAsBsG,EAAQ/yI,QACtDqyI,GAEFU,EAAQ1L,SAAW0L,EAAQ3L,WAAa2L,EAAQU,cAIlC,IAAV/7I,IACHq7I,EAAQ3L,WAAuB,IAAVp6I,KAAK6gB,IAIvBnW,EAAQ1L,KAAKg4I,SAASpwI,OAAS,IAClC5H,KAAKg4I,SAAStsI,EAAM,GAAG0vI,WAAa2L,EAAQ1L,UAE7C0L,EAAQtmJ,QACNT,MACHA,KAAK8lB,MAAMrlB,WAIXqG,KAAK9G,MACR,WACC,YAEA,IAAIwoB,GAAOxoB,KACVoqI,EAAQ5hH,EAAK4hH,MACbI,EAAUJ,EAAMI,OAIjBJ,GAAM0M,KAAKluI,QACV/J,KAAM,QACNiV,UAEC41I,eAAgB,EAGhBI,kBAAmB,EAGnB3e,iBAAkB,EAGlBG,kBAAmB,EAGnB0X,eAAiB,iBAGjBD,eAAiB,EAGjBnB,qBAAuB,UAGvBD,oBAAsB,SAGtBH,mBAAqB,GAGrB2B,oBAAsB,OAGtB6E,UAAW,EAGXC,eAAiB,EAGjBC,oBAAsB,EAGtBC,wBAA0B,GAG1BC,eAAgB,EAGhBC,mBAAqB,EAGrBC,aAAc,EAGdlR,eAAiB,qOAIlBL,WAAY,SAASnwI,GACpB5G,KAAKuoJ,WAAane,EAAMmQ,MAAM3xI,QAC7BvG,YAAcrC,KAAKsI,QAAQ4/I,oBAC3B3R,OAASv2I,KAAKsI,QAAQ2/I,eACtBlzI,QAAS/U,KAAKsI,QAAQ0/I,SACtBpN,mBAAqB56I,KAAKsI,QAAQ6/I,wBAClC9d,IAAMrqI,KAAKs1I,MAAMjL,MAGlBrqI,KAAK43I,YAEL53I,KAAKylJ,WAAW7+I,GAGZ5G,KAAKsI,QAAQujI,cAChBrB,EAAQ4K,WAAWp1I,KAAMA,KAAKsI,QAAQyjI,cAAe,SAAS1rC,GAC7D,GAAI0pD,GAAuC,aAAb1pD,EAAIt2F,KAAuB/J,KAAKyoJ,iBAAiBpoD,KAE/ErgG,MAAK0oJ,WAAW,SAAS7nH,GACxBA,EAAMu5G,SAAS,YAAa,kBAE7B5P,EAAQ/qI,KAAKsqJ,EAAwB,SAASpB,GAC7CA,EAAY9P,UAAY8P,EAAYxD,cACpCwD,EAAY7P,YAAc6P,EAAYvD,kBAGvCplJ,KAAKs3I,YAAYyS,KAKnBvf,EAAQ/qI,KAAKmH,EAAKgxI,SAAS,SAASlV,GAEnC,GAAI4iB,IACHjzE,MAAOqwD,EAAQrwD,OAAS,KACxBwmE,UAAYnW,EAAQmW,UACpBC,YAAcpW,EAAQoW,YACtB8P,WAAalmB,EAAQkmB,WACrBC,iBAAmBnmB,EAAQmmB,iBAC3B1qH,UAGDn+B,MAAK43I,SAAS14I,KAAKomJ,GAEnB9a,EAAQ/qI,KAAKijI,EAAQ97H,KAAK,SAAS2+I,EAAU75I,GAE5C,GAAIm1I,EACC7gJ,MAAK8lB,MAAMrT,YACfouI,EAAgB7gJ,KAAK8lB,MAAM+7H,iBAAiBn2I,EAAO1L,KAAK8lB,MAAM26H,sBAAsB8E,KAErFD,EAAcnnH,OAAOj/B,KAAK,GAAIc,MAAKuoJ,YAClCv0I,MAAQuxI,EACRlzE,MAAQzrE,EAAK+/H,OAAOj7H,GACpB85I,aAAc9iB,EAAQrwD,MACtB7vE,EAAIxC,KAAKsI,QAAiB,UAAItI,KAAK8lB,MAAMs8H,QAAUvB,EAAcr+I,EACjEC,EAAIzC,KAAKsI,QAAiB,UAAItI,KAAK8lB,MAAMu8H,QAAUxB,EAAcp+I,EACjEq2I,YAAcpW,EAAQmmB,iBACtBhQ,UAAYnW,EAAQkmB,WACpBzD,cAAgBziB,EAAQomB,oBAAsBpmB,EAAQkmB,WACtDxD,gBAAkB1iB,EAAQqmB,sBAAwBrmB,EAAQmmB,qBAE1D7oJ,OAEDA,MAEFA,KAAK+9F,UAEN2qD,WAAa,SAASjjJ,GACrB+kI,EAAQ/qI,KAAKO,KAAK43I,SAAS,SAASlV,GACnC8H,EAAQ/qI,KAAKijI,EAAQvkG,OAAO14B,EAASzF,OACpCA,OAGHyoJ,iBAAmB,SAASpoD,GAC3B,GAAI2pD,GAAgBxf,EAAQoK,oBAAoBv0C,GAC/C4pD,EAAazf,EAAQ2E,mBACpB3sI,EAAGxC,KAAK8lB,MAAMs8H,QACd3/I,EAAGzC,KAAK8lB,MAAMu8H,SACZ2H,GAEAE,EAA2B,EAAVlpJ,KAAK6gB,GAAS7hB,KAAK8lB,MAAMk4H,YAC7CmM,EAAanpJ,KAAKmV,OAAO8zI,EAAWlmI,MAAkB,IAAV/iB,KAAK6gB,IAAYqoI,GAC7DH,IAaD,QAVII,GAAcnqJ,KAAK8lB,MAAMk4H,aAA4B,EAAbmM,KAC3CA,EAAa,GAGVF,EAAWxa,UAAYzvI,KAAK8lB,MAAMo5H,aACrC1U,EAAQ/qI,KAAKO,KAAK43I,SAAU,SAASlV,GACpCqnB,EAAuB7qJ,KAAKwjI,EAAQvkG,OAAOgsH,MAItCJ,GAGRtE,WAAa,SAAS7+I,GACrB5G,KAAK8lB,MAAQ,GAAIskH,GAAMmW,aACtBxrI,QAAS/U,KAAKsI,QAAQsiI,UACtBmL,UAAW/1I,KAAKsI,QAAQmjI,eACxBjxG,SAAUx6B,KAAKsI,QAAQkjI,cACvBwK,WAAYh2I,KAAKsI,QAAQijI,gBACzBuX,UAAW9iJ,KAAKsI,QAAQojI,eACxBmS,WAAY79I,KAAKsI,QAAQ6iI,gBACzBwX,kBAAmB3iJ,KAAKsI,QAAQghJ,uBAChC1G,cAAe5iJ,KAAKsI,QAAQihJ,mBAC5B/I,iBAAmBxgJ,KAAKsI,QAAQkhJ,sBAChC3G,iBAAkB7iJ,KAAKsI,QAAQmhJ,sBAC/B1O,UAAY/6I,KAAKsI,QAAqB,cAAItI,KAAKsI,QAAQ4iI,eAAiB,EACxE+U,UAAWjgJ,KAAKsI,QAAQ2iI,eACxB+X,eAAiBhjJ,KAAKsI,QAAQ06I,eAC9BD,eAAkB/iJ,KAAKsI,QAAwB,iBAAItI,KAAKsI,QAAQy6I,eAAiB,EAEjFI,oBAAsBnjJ,KAAKsI,QAAQ66I,oBACnC3B,mBAAqBxhJ,KAAKsI,QAAQk5I,mBAClCI,qBAAuB5hJ,KAAKsI,QAAQs5I,qBACpCD,oBAAsB3hJ,KAAKsI,QAAQq5I,oBACnC/rI,OAAS5V,KAAKs1I,MAAM1/H,OACpBL,MAAOvV,KAAKs1I,MAAM//H,MAClB6sI,QAASpiJ,KAAKs1I,MAAM//H,MAAM,EAC1B8sI,QAASriJ,KAAKs1I,MAAM1/H,OAAO,EAC3By0H,IAAMrqI,KAAKs1I,MAAMjL,IACjBiH,eAAgBtxI,KAAKsI,QAAQ8iI,WAC7BzE,OAAQ//H,EAAK+/H,OACbqX,YAAap3I,EAAKgxI,SAAS,GAAGhxI,KAAKgB,SAGpC5H,KAAK8lB,MAAM66H,eACX3gJ,KAAK2pJ,iBAAiB/iJ,EAAKgxI,UAC3B53I,KAAK8lB,MAAM23H,gBAEZkM,iBAAkB,SAAS/R,GAC1B,GAAItH,GAAc,WACjB,GAAI8Z,KAWJ,OAVA5f,GAAQ/qI,KAAKm4I,EAAS,SAASlV,GAC1BA,EAAQ97H,KACXwjJ,EAAiBA,EAAehtI,OAAOslH,EAAQ97H,MAG/C4jI,EAAQ/qI,KAAKijI,EAAQvkG,OAAQ,SAAS0C,GACrCupH,EAAelrJ,KAAK2hC,EAAM7sB,WAItBo2I,KAIJP,EAAc7pJ,KAAKsI,QAAqB,eAE1C+oI,MAAOrxI,KAAKsI,QAAQwiI,WACpBqG,UAAWnxI,KAAKsI,QAAQyiI,eACxB9hH,IAAKjpB,KAAKsI,QAAQ0iI,gBAClB/pI,IAAKjB,KAAKsI,QAAQ0iI,gBAAmBhrI,KAAKsI,QAAQwiI,WAAa9qI,KAAKsI,QAAQyiI;EAE7EP,EAAQ6F,oBACPC,EACA9F,EAAQvhH,KAAKjpB,KAAKs1I,MAAM//H,MAAOvV,KAAKs1I,MAAM1/H,SAAS,EACnD5V,KAAKsI,QAAQkjI,cACbxrI,KAAKsI,QAAQgjI,iBACbtrI,KAAKsI,QAAQ+iI,kBAGfb,GAAQ5hI,OACP5I,KAAK8lB,MACL+jI,IAIF1D,QAAU,SAAS7V,EAAYj+D,GAE9BryE,KAAK8lB,MAAMk4H,cACXxT,EAAQ/qI,KAAK6wI,EAAY,SAASt8H,EAAMswI,GACvC,GAAIzD,GAAgB7gJ,KAAK8lB,MAAM+7H,iBAAiB7hJ,KAAK8lB,MAAMk4H,YAAah+I,KAAK8lB,MAAM26H,sBAAsBzsI,GACzGhU,MAAK43I,SAAS0M,GAAcnmH,OAAOj/B,KAAK,GAAIc,MAAKuoJ,YAChDv0I,MAAQA,EACRq+D,MAAQA,EACR7vE,EAAGq+I,EAAcr+I,EACjBC,EAAGo+I,EAAcp+I,EACjBq2I,YAAc94I,KAAK43I,SAAS0M,GAAcuE,iBAC1ChQ,UAAY74I,KAAK43I,SAAS0M,GAAcsE,eAExC5oJ,MAEFA,KAAK8lB,MAAM6gH,OAAOznI,KAAKmzE,GAEvBryE,KAAKk3I,SAELl3I,KAAKggB,UAENlI,WAAa,WACZ9X,KAAK8lB,MAAMk4H,cACXh+I,KAAK8lB,MAAM6gH,OAAOvjI,QAClBonI,EAAQ/qI,KAAKO,KAAK43I,SAAS,SAASlV,GACnCA,EAAQvkG,OAAO/6B,SACdpD,MACFA,KAAKk3I,SACLl3I,KAAKggB,UAENA,OAAS,WACRhgB,KAAK0oJ,WAAW,SAAS7nH,GACxBA,EAAMoqC,SAEPjrE,KAAKk3I,SACLl3I,KAAK+9F,UAENm5C,OAAQ,WACP1M,EAAQ5hI,OAAO5I,KAAK8lB,OACnBvQ,MAAQvV,KAAKs1I,MAAM//H,MACnBK,OAAQ5V,KAAKs1I,MAAM1/H,OACnBsjD,KAAOsxE,EAAQvhH,KAAKjpB,KAAKs1I,MAAM//H,MAAOvV,KAAKs1I,MAAM1/H,SACjDwsI,QAASpiJ,KAAKs1I,MAAM//H,MAAM,EAC1B8sI,QAASriJ,KAAKs1I,MAAM1/H,OAAO,IAE5B5V,KAAK2pJ,iBAAiB3pJ,KAAK43I,UAC3B53I,KAAK8lB,MAAM66H,eACX3gJ,KAAK8lB,MAAM23H,gBAEZh9I,KAAO,SAAS65I,GACf,GAAI3F,GAAc2F,GAAQ,EACzBjQ,EAAMrqI,KAAKs1I,MAAMjL,GAClBrqI,MAAKqZ,QACLrZ,KAAK8lB,MAAMrlB,OAEX+pI,EAAQ/qI,KAAKO,KAAK43I,SAAS,SAASlV,GAGnC8H,EAAQ/qI,KAAKijI,EAAQvkG,OAAO,SAAS0C,EAAMn1B,GACtCm1B,EAAM83G,YACT93G,EAAM77B,WAAWhF,KAAK8lB,MAAM+7H,iBAAiBn2I,EAAO1L,KAAK8lB,MAAM26H,sBAAsB5/G,EAAM7sB,QAAS2gI,IAEpG30I,MAKFqqI,EAAI0Q,UAAY/6I,KAAKsI,QAAQ+/I,mBAC7Bhe,EAAIyQ,YAAcpY,EAAQoW,YAC1BzO,EAAImM,YACJhM,EAAQ/qI,KAAKijI,EAAQvkG,OAAO,SAAS0C,EAAMn1B,GAC5B,IAAVA,EACH2+H,EAAIoM,OAAO51G,EAAMr+B,EAAEq+B,EAAMp+B,GAGzB4nI,EAAIqM,OAAO71G,EAAMr+B,EAAEq+B,EAAMp+B,IAEzBzC,MACFqqI,EAAIuM,YACJvM,EAAIjoI,SAEJioI,EAAI2Q,UAAYtY,EAAQmW,UACxBxO,EAAI/nI,OAKJkoI,EAAQ/qI,KAAKijI,EAAQvkG,OAAO,SAAS0C,GAChCA,EAAM83G,YACT93G,EAAMpgC,UAIPT,UAUF8G,KAAK9G,MAYP,SAAUR,EAAG0N,EAAQxI,EAAUO,GAuH/B,QAASolJ,GAAI3hJ,EAASJ,GAGrBI,EAAQ4hJ,aACPzrJ,KAAQ,eACR0rJ,OAAU,wBACVnmJ,QAAW,kBAOZpE,KAAKwqJ,SAAW,KAOhBxqJ,KAAKsI,QAAU9I,EAAEoJ,UAAWyhJ,EAAIrqB,SAAU13H,GAM1CtI,KAAKyqJ,SAAWjrJ,EAAEoJ,UAAW2C,GAM7BvL,KAAKyoB,IAAMjpB,EAAEoJ,UAAW6f,GAMxBzoB,KAAKuV,MAAQ/V,EAAEoJ,UAAW2M,GAM1BvV,KAAK8uI,IAAMtvI,EAAEoJ,UAAWkmI,GAKxB9uI,KAAKguC,KAAOxuC,EAAEoJ,UAAWolC,GAMzBhuC,KAAKgJ,MAAQxJ,EAAEoJ,UAAWI,GAM1BhJ,KAAKmG,EAAI3G,EAAEoJ,UAAWzC,GAMtBnG,KAAKkyE,WAMLlyE,KAAK0qJ,YAML1qJ,KAAK2qJ,SAAW,KAMhB3qJ,KAAK4qJ,OAAS,KAKd5qJ,KAAK6qJ,aAAe,KAEpB7qJ,KAAKyoB,IAAIhkB,GAAKiE,EACd1I,KAAKyoB,IAAIljB,IAAM/F,EAAEkJ,EAEjB,KAAK,GAAIqwB,KAAUsxH,GAAIS,QACtB9qJ,KAAKkyE,QAAQn5C,EAAO,GAAG5V,cAAgB4V,EAAO3c,MAAM,IACjD,GAAIiuI,GAAIS,QAAQ/xH,GAAQ/4B,KAG5BA,MAAKwS,OA2pDN,QAASu4I,GAAiBvnI,GACzB,GAAIzB,GAAGtC,EAAGurI,EAAOtmJ,EAASC,cAAc,OAAQ8iB,EAAOjE,CACvD,KAAKzB,IAAK0F,GAET,GADAhI,EAAIgI,EAAK1F,GACoB,mBAAlBipI,GAAK9lJ,MAAMua,GAErB,MADAurI,GAAO,MACEvrI,EAAGsC,EAGd,SAAS,GASV,QAASkpI,KACR,MAAOF,IAAmB,aAAc,mBAAoB,gBAAiB,gBAAiB,GAQ/F,QAASG,KACR,MAAOH,IAAmB,YAAa,kBAAmB,eAAgB,aAAc,gBAAiB,GAQ1G,QAASI,KACR,MAAOJ,IAAmB,cAAe,oBAAqB,iBAAkB,eAAgB,kBAAmB,GAQpH,QAASK,KACR,MAAO,gBAAkBl+I,MAAa61C,UAA0B,iBAQjE,QAASsoG,KACR,MAAOn+I,GAAO61C,UAAUuoG,iBA36DzB,GAAI//I,GAAMkd,EAAKlT,EAAOu5H,EAAK3iI,EAAK6hC,EAAahlC,EAAO7C,CAMpDoF,IACCG,OAAO,EACP6/I,UAAU,EACVC,SAAS,EACTloI,OAAO,EACPzX,QAAQ,EACR4/I,QAAQ,EACRC,UAAU,EACVtiG,SAAS,EACT7zC,OAAO,EACPqmD,QAAQ,EACRy/D,MAAM,EACNswB,UAAU,EACVC,WAAW,GAOZnjI,GACChkB,GAAI,KACJc,IAAK,KACLsmJ,MAAO,KACPC,OAAQ,KACRC,OAAQ,KACRC,QAAS,KACTrhJ,OAAQ,KACRshJ,QAAS,KACTC,QAAS,KACTx3E,SAAU,MAOXn/D,GACC9Q,GAAI,EACJonJ,MAAO,EACPtgJ,KAAM,EACN4gJ,WAAY,EACZC,UAAW,GAOZtd,GACCjyH,MAAO,EACPwvI,OAAQ,EACRC,OAAQ,EACRzgJ,OAAQ,EACR0gJ,WAODv+G,GACC3tB,MAAO,EACPmsI,OAAQ,EACRC,OAAQ,EACRrjG,QAAS,EACTsjG,SAAU,EACVC,SAAU,EACVn8E,QAAS,EACTI,QAAS,EACT6+D,SAAU,KACVmd,UAAW,EACXC,QAAS,EACTC,SAAU,EACVC,SAAU,MAOX/jJ,GACCgkJ,SAAS,EACTC,aAAa,EACbC,WAAW,EACXthJ,WAAW,EACXuhJ,UAAU,GAOXhnJ,GACCinJ,aAAc,KACdC,YAAa,KACbC,WAAY,KACZC,eAAgB,KAChBC,SAAU,KACVC,gBAAiB,KACjBC,UAAW,KACXC,eAAgB,MAqHjBtD,EAAIrqB,UACHnjH,MAAO,EACP+wI,MAAM,EACNhyF,QAAQ,EAERiyF,WAAW,EACXC,WAAW,EACXC,UAAU,EACVC,UAAU,EAEVC,OAAQ,EACRC,aAAc,EAEd5uJ,OAAO,EACP6uJ,UAAU,EACVC,WAAW,EAEXC,cAAe,EAEfC,WAAY,IACZC,YAAY,EACZC,cAAc,EAEd7iB,cACA8iB,sBAAuB,IACvBC,sBAAuBxhJ,EACvByhJ,iBAAiB,EAEjBC,eAAgB,QAEhB3/F,MAAM,EAEN4/F,oBAAoB,EACpBC,YAAa,MACbC,aAAc,MAGdC,WAAY,YACZC,UAAW,eACXC,UAAW,WACXC,YAAa,SACbC,YAAa,UAOd/E,EAAIS,WAMJT,EAAIjjJ,UAAUoL,KAAO,WAyBpB,GAtBAxS,KAAKqvJ,uBAELrvJ,KAAK0F,QAAQ,cAGR1F,KAAKyoB,IAAIljB,IAAI0C,SAASjI,KAAKwqJ,SAASyE,YACxCjvJ,KAAKyoB,IAAIljB,IAAI8D,SAASrJ,KAAKwqJ,SAASyE,WAIhCjvJ,KAAKyoB,IAAIljB,IAAI0C,SAASjI,KAAKwqJ,SAASwE,aACxChvJ,KAAKyoB,IAAIljB,IAAI8D,SAASrJ,KAAKwqJ,SAASwE,YAIjChvJ,KAAKwqJ,SAAS8E,KACjBtvJ,KAAKyoB,IAAIljB,IAAI8D,SAAS,WAIvBrJ,KAAKuvJ,iBAEDvvJ,KAAKwqJ,SAAS4D,WAAapuJ,KAAKgJ,MAAMwmJ,gBAAiB,EAAM,CAChE,GAAIC,GAAMC,EAAgBn6I,CAK1B,IAJAk6I,EAAOzvJ,KAAKyoB,IAAIljB,IAAIkE,KAAK,OACzBimJ,EAAiB1vJ,KAAKwqJ,SAASqE,mBAAqB,IAAM7uJ,KAAKwqJ,SAASqE,mBAAqB5pJ,EAC7FsQ,EAAQvV,KAAKyoB,IAAIljB,IAAIkG,SAASikJ,GAAgBn6I,QAE1Ck6I,EAAK7nJ,QAAmB,GAAT2N,EAElB,MADAvV,MAAK2vJ,uBAAuBF,IACrB,EAMTzvJ,KAAKuV,MAAM42I,WAAansJ,KAAKgT,WAG7BhT,KAAK4vJ,cAGL5vJ,KAAK6vJ,eAGL7vJ,KAAK8vJ,aAGL9vJ,KAAK+vJ,iBAEL/vJ,KAAKyoB,IAAIljB,IAAI8D,SAAS,eACtBrJ,KAAK0Y,SAAQ,GACb1Y,KAAKyoB,IAAIljB,IAAIyC,YAAY,eAAeqB,SAAS,cAEjDrJ,KAAK0F,QAAQ,eAGb1F,KAAKgwJ,wBAON3F,EAAIjjJ,UAAUioJ,qBAAuB,WACpC,GAAKrvJ,KAAKsI,QAAQqjI,WAEX,CACN,GAAI34H,GAAWhT,KAAKgT,WACnBi9I,EAAajwJ,KAAKsI,QAAQqjI,WAC1BrgH,EAAQ,EAET9rB,GAAEC,KAAKwwJ,EAAY,SAASC,GACTl9I,GAAdk9I,GAA0BA,EAAa5kI,IAC1CA,EAAQ6kI,OAAOD,MAIjBlwJ,KAAKwqJ,SAAWhrJ,EAAEoJ,UAAW5I,KAAKsI,QAAS2nJ,EAAW3kI,UAC/CtrB,MAAKwqJ,SAAS7e,WAGjB3rI,KAAKwqJ,SAASmE,iBACjB3uJ,KAAKyoB,IAAIljB,IAAIpD,KAAK,QAAS,SAASgM,EAAGif,GACtC,MAAOA,GAAE1lB,QAAQ,yBAA0B,MACzC2B,SAAS,kBAAoBiiB,OAnBjCtrB,MAAKwqJ,SAAWhrJ,EAAEoJ,UAAW5I,KAAKsI,UA4BpC+hJ,EAAIjjJ,UAAUgpJ,aAAe,WAE5BpwJ,KAAKyoB,IAAIljB,IAAIoE,YAAY,aAAc3J,KAAKwqJ,SAAS5uF,QAGjD57D,KAAKwqJ,SAASoD,MAAQ5tJ,KAAK8uI,IAAIud,OAASrsJ,KAAKwqJ,SAAS3tI,QACzD7c,KAAKwqJ,SAASoD,MAAO,GAGlB5tJ,KAAKwqJ,SAAS4D,YACjBpuJ,KAAKwqJ,SAAS0D,cAAe,EAC7BluJ,KAAKwqJ,SAASlrJ,OAAQ,IAQxB+qJ,EAAIjjJ,UAAUwoJ,YAAc,WAC3B,GAAI7D,GAASrnJ,EAASC,cAAc,OACnCknJ,EAAQnnJ,EAASC,cAAc3E,KAAKwqJ,SAASuE,aAE9ChD,GAAOh6I,UAAY,kBACnB85I,EAAM95I,UAAY,YAElBg6I,EAAOxkI,YAAYskI,GACnB7rJ,KAAKyoB,IAAIhkB,GAAG8iB,YAAYwkI,GAExB/rJ,KAAKyoB,IAAIsjI,OAASA,EAClB/rJ,KAAKyoB,IAAIujI,QAAUxsJ,EAAEusJ,GACrB/rJ,KAAKyoB,IAAIojI,MAAQA,EACjB7rJ,KAAKyoB,IAAIqjI,OAAStsJ,EAAEqsJ,GAEpBE,EAAS,KACTF,EAAQ,MAQTxB,EAAIjjJ,UAAUipJ,oBAAsB,WACnC,GAAI9kJ,GAAO7G,EAASC,cAAc3E,KAAKwqJ,SAASsE,YAEhD,OADAvjJ,GAAKwG,UAAY/R,KAAKwqJ,SAAS0E,UACxB1vJ,EAAE+L,IAOV8+I,EAAIjjJ,UAAUyoJ,aAAe,SAASS,GAEpCtwJ,KAAKyoB,IAAIisD,SADN47E,EACkBA,YAAsBpsJ,QAAUosJ,EAAa9wJ,EAAE8wJ,GAC1DtwJ,KAAKwqJ,SAASqE,mBACJ7uJ,KAAKyoB,IAAIljB,IAAIkE,KAAK,IAAMzJ,KAAKwqJ,SAASqE,oBAAoB7qG,IAAI,oBAE9DhkD,KAAKyoB,IAAIljB,IAAIkG,WAAWu4C,IAAI,oBAGjDhkD,KAAK8uI,IAAIud,OAASrsJ,KAAKyoB,IAAIisD,SAAS9sE,OAGZ,IAApB5H,KAAK8uI,IAAIud,QACZrsJ,KAAKuwJ,iBAQPlG,EAAIjjJ,UAAUmpJ,cAAgB,WAC7BvwJ,KAAKwwJ,yBAaNnG,EAAIjjJ,UAAUopJ,sBAAwB,WACrC,GAAIriJ,GAAGsiJ,CACP,KAAKtiJ,EAAI,EAAGA,EAAInO,KAAK8uI,IAAIud,OAAQl+I,IAChCsiJ,EAAQzwJ,KAAKqwJ,sBACbrwJ,KAAK0wJ,wBAAwBD,EAAOzwJ,KAAKyoB,IAAIisD,SAASvmE,IACtDnO,KAAKyoB,IAAIqjI,OAAO95I,OAAOy+I,EAExBzwJ,MAAKyoB,IAAIisD,SAAW,MAOrB21E,EAAIjjJ,UAAUupJ,sBAAwB,SAASC,GAC9C,GAAIziJ,GAAGsiJ,CACP,KAAKtiJ,EAAI,EAAOyiJ,EAAJziJ,EAAkBA,IAC7BsiJ,EAAQzwJ,KAAKqwJ,sBACbrwJ,KAAK6wJ,wBAAwBJ,GAC7BzwJ,KAAKyoB,IAAIqjI,OAAO95I,OAAOy+I,IAUzBpG,EAAIjjJ,UAAUspJ,wBAA0B,SAASnlJ,EAAM0M,GACtDjY,KAAK0F,QAAQ,UAAYorJ,UAAYjyJ,KAAM,OAAQmV,MAAOzI,KAE1DvL,KAAK6wJ,wBAAwBtlJ,GAC7BA,EAAKyG,OAAOiG,GAEZjY,KAAK0F,QAAQ,WAAaorJ,UAAYjyJ,KAAM,OAAQmV,MAAOzI,MAS5D8+I,EAAIjjJ,UAAUypJ,wBAA0B,SAAStlJ,EAAM09E,GACtD,GAAIriF,GAAOpH,EAAEoJ,UAAW5I,KAAKyqJ,SAEzBxhE,IACHzpF,EAAEoJ,OAAOhC,EAAMqiF,EAAOriF,KAAK,aAG5B2E,EAAK3E,KAAK,WAAYA,IASvByjJ,EAAIjjJ,UAAU2pJ,mBAAqB,SAASxlJ,GAC3C,GAAIylJ,GAASzlJ,EAAK+X,OAAM,GAAM,GAAMja,SAAS,SAI7C,OAFArJ,MAAK6wJ,wBAAwBG,EAAQA,GACrCA,EAAOpqJ,KAAK,YAAY0c,OAAQ,EACzB0tI,GAOR3G,EAAIjjJ,UAAU6pJ,mBAAqB,WAElC,GAAIn0I,GAAGvR,CASP,KAPAvL,KAAKyoB,IAAIwjI,QAAUjsJ,KAAKyoB,IAAIqjI,OAAOriJ,KAAK,IAAMzJ,KAAKwqJ,SAAS0E,WAAWv6H,OAAO,WAC7E,MAAOn1B,GAAEQ,MAAM4G,KAAK,YAAY0c,SAAU,IAG3CtjB,KAAK8uI,IAAIud,OAASrsJ,KAAKyoB,IAAIwjI,QAAQrkJ,OAG9BkV,EAAI,EAAGA,EAAI9c,KAAK8uI,IAAIud,OAAQvvI,IAChCvR,EAAOvL,KAAKyoB,IAAIwjI,QAAQ//I,GAAG4Q,GAC3BvR,EAAK3E,KAAK,YAAY8E,MAAQoR,GAQhCutI,EAAIjjJ,UAAU8pJ,UAAY,WACzB,IAAKlxJ,KAAKwqJ,SAASoD,MAAQ5tJ,KAAK8uI,IAAIud,OAASrsJ,KAAKwqJ,SAAS3tI,MAC1D,OAAO,CAGR,IAAI7K,GAAQue,EAASpiB,EACpB0O,EAAQ7c,KAAKwqJ,SAAS3tI,MACtBgoC,EAAO7kD,KAAK8uI,IAAIud,OAAS,CAQ1B,KALIrsJ,KAAKwqJ,SAAS0D,cAAwC,IAAxBluJ,KAAKwqJ,SAAS3tI,QAC/CA,GAAS,GAEV7c,KAAK8uI,IAAIwd,OAAiB,EAARzvI,EAEb1O,EAAI,EAAO0O,EAAJ1O,EAAWA,IACtB6D,EAAShS,KAAK+wJ,mBAAmB/wJ,KAAKyoB,IAAIwjI,QAAQ//I,GAAGiC,IACrDoiB,EAAUvwB,KAAK+wJ,mBAAmB/wJ,KAAKyoB,IAAIwjI,QAAQ//I,GAAG24C,EAAO12C,IAE7DnO,KAAKyoB,IAAIqjI,OAAO95I,OAAOA,GACvBhS,KAAKyoB,IAAIqjI,OAAOv7H,QAAQA,EAGzBvwB,MAAKyoB,IAAIyjI,QAAUlsJ,KAAKyoB,IAAIqjI,OAAOriJ,KAAK,IAAMzJ,KAAKwqJ,SAAS0E,WAAWv6H,OAAO,WAC7E,MAAOn1B,GAAEQ,MAAM4G,KAAK,YAAY0c,SAAU,KAQ5C+mI,EAAIjjJ,UAAU+pJ,QAAU,WAEE,OAArBnxJ,KAAKyoB,IAAIyjI,UAGZlsJ,KAAKyoB,IAAIyjI,QAAQ1kJ,SACjBxH,KAAKyoB,IAAIyjI,QAAU,KACnBlsJ,KAAK8uI,IAAIwd,OAAS,GAGdtsJ,KAAKwqJ,SAASoD,MAInB5tJ,KAAKkxJ,aAON7G,EAAIjjJ,UAAUgqJ,UAAY,WAEzB,GAAIjjJ,GAAG4O,EAAGs0I,EAAeC,EAAMC,EAAUC,EAASC,EAAcjG,EAAU,EAAGkG,EAAY,CAqCzF,KAlCA1xJ,KAAKuV,MAAM9Q,GAAKzE,KAAKyoB,IAAIljB,IAAIgQ,QAAwC,EAA7BvV,KAAKwqJ,SAAS0D,aAGtDluJ,KAAKuV,MAAMo8I,KAAO3xJ,KAAKyoB,IAAIljB,IAAIgQ,QAG/B87I,EAAgBrxJ,KAAKuV,MAAM9Q,GAAMzE,KAAKwqJ,SAASyD,QAAkC,IAAxBjuJ,KAAKwqJ,SAAS3tI,MAAc,EAAI7c,KAAKwqJ,SAAS3tI,MAAQ,GAG/G7c,KAAKuV,MAAM9Q,GAAKzE,KAAKuV,MAAM9Q,GAAKzE,KAAKwqJ,SAASyD,OAC9CjuJ,KAAKuV,MAAMhK,MAAS8lJ,EAAgBrxJ,KAAKwqJ,SAAS3tI,MAAS7c,KAAKwqJ,SAASyD,QAAQtiI,QAAQ,GAEzF3rB,KAAKyoB,IAAI9d,OAAS3K,KAAKyoB,IAAIqjI,OAAOriJ,KAAK,aACvCzJ,KAAK8uI,IAAIjyH,MAAQ7c,KAAKyoB,IAAI9d,OAAO/C,OAG7B5H,KAAKwqJ,SAAS4D,WACjBpuJ,KAAKyoB,IAAI9d,OAAOrJ,IAAI,QAAS,IAI9BtB,KAAK6qJ,gBACL7qJ,KAAK8uI,IAAIyd,UAIR+E,EADGtxJ,KAAKwqJ,SAAS8E,IACVtvJ,KAAKwqJ,SAAS5uF,SAAY57D,KAAKuV,MAAQ,GAAI,GAAK,EAEhDvV,KAAKwqJ,SAAS5uF,OAAU57D,KAAKuV,MAAQ,GAAI,EAAI,EAGrDvV,KAAKuV,MAAMq8I,WAAa,EAGnBzjJ,EAAI,EAAGA,EAAInO,KAAK8uI,IAAIjyH,MAAO1O,IAI3BnO,KAAKwqJ,SAASlrJ,OACjBmyJ,EAAczxJ,KAAKyoB,IAAI9d,OAAOuB,GAAGiC,GAAG1E,KAAK,gBAAgBtH,KAAK,eAAiB,EAC3EnC,KAAKwqJ,SAAS2D,UAAYsD,EAAczxJ,KAAKwqJ,SAAS3tI,QACzD40I,EAAczxJ,KAAKwqJ,SAAS3tI,OAE7B7c,KAAK8uI,IAAIyd,OAAOrtJ,KAAK2S,SAAS4/I,IAC9BzxJ,KAAKuV,MAAMq8I,YAAc5xJ,KAAKuV,MAAMhK,KAAOvL,KAAK8uI,IAAIyd,OAAOp+I,IAE3DnO,KAAK8uI,IAAIyd,OAAOrtJ,KAAK,GAGtBsyJ,EAASxxJ,KAAKuV,MAAMhK,KAAOvL,KAAK8uI,IAAIyd,OAAOp+I,GAGvCnO,KAAKwqJ,SAAS4D,YACjBoD,EAASxxJ,KAAKyoB,IAAI9d,OAAOuB,GAAGiC,GAAGoH,QAAUvV,KAAKwqJ,SAASyD,OACnDjuJ,KAAKwqJ,SAAS8E,IACjBtvJ,KAAKyoB,IAAI9d,OAAOwD,GAAGjJ,MAAM4Q,WAAa9V,KAAKwqJ,SAASyD,OAAS,KAE7DjuJ,KAAKyoB,IAAI9d,OAAOwD,GAAGjJ,MAAM2sJ,YAAc7xJ,KAAKwqJ,SAASyD,OAAS,MAKhEjuJ,KAAK6qJ,aAAa3rJ,KAAKoyJ,GAGvBtxJ,KAAKyoB,IAAI9d,OAAOuB,GAAGiC,GAAGvH,KAAK,YAAY4kJ,QAAUA,EACjDxrJ,KAAKyoB,IAAI9d,OAAOuB,GAAGiC,GAAGvH,KAAK,YAAY2O,MAAQi8I,EAI3CxxJ,KAAKwqJ,SAAS8E,KACjBgC,GAAQE,EACRhG,GAAWgG,IAEXF,GAAQE,EACRhG,GAAWgG,GAGZE,GAAa1wJ,KAAKwQ,IAAIggJ,GAGlBxxJ,KAAKwqJ,SAAS5uF,SACjB57D,KAAK6qJ,aAAa18I,GAAMnO,KAAKwqJ,SAAS8E,IAA4CtvJ,KAAK6qJ,aAAa18I,GAChGqjJ,EAAS,EAD+BxxJ,KAAK6qJ,aAAa18I,GAAMqjJ,EAAS,EAc/E,KARCxxJ,KAAKuV,MAAMs2I,MAA+B7qJ,KAAKwQ,IAD5CxR,KAAKwqJ,SAAS4D,UACEpuJ,KAAKwqJ,SAAS5uF,OAAkB81F,EAAsBJ,EAE7CI,GAI7BH,EAAWvxJ,KAAK8uI,IAAIud,OAASrsJ,KAAK8uI,IAAIwd,OAEjCvvI,EAAI,EAAOw0I,EAAJx0I,EAAcA,IACzB/c,KAAKyoB,IAAI9d,OAAOuB,GAAG6Q,GAAGnW,KAAK,YAAY2kJ,SAAWxuI,CAInD/c,MAAK8xJ,YAQNzH,EAAIjjJ,UAAU0qJ,SAAW,WAGpB9xJ,KAAKwqJ,SAAS0D,gBAAiB,IAClCluJ,KAAKyoB,IAAIsjI,OAAO7mJ,MAAM8L,YAAchR,KAAKwqJ,SAAS0D,aAAe,KACjEluJ,KAAKyoB,IAAIsjI,OAAO7mJ,MAAMgM,aAAelR,KAAKwqJ,SAAS0D,aAAe,MAI/DluJ,KAAKwqJ,SAAS8E,IACjBpiJ,EAAOtH,WAAWpG,EAAE4J,MAAM,WACzBpJ,KAAKyoB,IAAIojI,MAAM3mJ,MAAMqQ,MAAQvV,KAAKuV,MAAMs2I,MAAQ,MAC9C7rJ,MAAO,GAEVA,KAAKyoB,IAAIojI,MAAM3mJ,MAAMqQ,MAAQvV,KAAKuV,MAAMs2I,MAAQ,IAGjD,KAAK,GAAI19I,GAAI,EAAGA,EAAInO,KAAK8uI,IAAIjyH,MAAO1O,IAG9BnO,KAAKwqJ,SAAS4D,YAClBpuJ,KAAKyoB,IAAI9d,OAAOwD,GAAGjJ,MAAMqQ,MAAQvV,KAAKuV,MAAMhK,KAAQvL,KAAKwqJ,SAAe,OAAI,MAGzExqJ,KAAKwqJ,SAAS8E,IACjBtvJ,KAAKyoB,IAAI9d,OAAOwD,GAAGjJ,MAAM4Q,WAAa9V,KAAKwqJ,SAASyD,OAAS,KAE7DjuJ,KAAKyoB,IAAI9d,OAAOwD,GAAGjJ,MAAM2sJ,YAAc7xJ,KAAKwqJ,SAASyD,OAAS,KAGpC,IAAvBjuJ,KAAK8uI,IAAIyd,OAAOp+I,IAAanO,KAAKwqJ,SAAS4D,YAC9CpuJ,KAAKyoB,IAAI9d,OAAOwD,GAAGjJ,MAAMqQ,MAASvV,KAAKuV,MAAMhK,KAAOvL,KAAK8uI,IAAIyd,OAAOp+I,GAAOnO,KAAKwqJ,SAAe,OAAI,KAKrGxqJ,MAAKuV,MAAMw8I,UAAY/xJ,KAAKuV,MAAMs2I,OAOnCxB,EAAIjjJ,UAAUukI,WAAa,WAE1B,IAAK3rI,KAAK8uI,IAAIud,OACb,OAAO,CAGR,IAAI2F,GAAYhyJ,KAAKiyJ,kBACrB,OAAKD,GAIDhyJ,KAAK0F,QAAQ,UAAUqC,sBACnB,GAGR/H,KAAKgJ,MAAM2iI,YAAa,EACxB3rI,KAAK0Y,UACL1Y,KAAKgJ,MAAM2iI,YAAa,MAExB3rI,MAAK0F,QAAQ,aAXL,GAkBT2kJ,EAAIjjJ,UAAUsR,QAAU,WACvB,GAAI0wC,GAAUppD,KAAKyoB,IAAIwjI,SAAWjsJ,KAAKyoB,IAAIwjI,QAAQ//I,GAAGlM,KAAKk5B,UAAUl5B,KAAKopD,WAAW,GAcrF,OAZAppD,MAAK0F,QAAQ,WAGb1F,KAAKqvJ,uBAGLrvJ,KAAKixJ,qBAGLjxJ,KAAKowJ,eAGmB,IAApBpwJ,KAAK8uI,IAAIud,QACL,GAKRrsJ,KAAKyoB,IAAIqjI,OAAOziJ,SAAS,eAGzBrJ,KAAKmxJ,UAGLnxJ,KAAKoxJ,YAGLpxJ,KAAKyoB,IAAIqjI,OAAO9jJ,YAAY,eAEvBohD,EAIJppD,KAAKo8D,MAAMhT,EAAQxiD,KAAK,YAAY2kJ,WAHpCvrJ,KAAKyoB,IAAIsjI,OAAO1zH,WAAa,EAC7Br4B,KAAKo8D,MAAMp8D,KAAKyoB,IAAIwjI,QAAQ//I,GAAG,GAAGtF,KAAK,YAAY2kJ,WAKpDvrJ,KAAKgJ,MAAMkpJ,YAAchlJ,EAAOglJ,YAEhClyJ,KAAKmyJ,sBAELnyJ,MAAK0F,QAAQ,eAOd2kJ,EAAIjjJ,UAAUgrJ,kBAAoB,WACjCpyJ,KAAK0F,QAAQ,UAAYorJ,UAAYjyJ,KAAM,QAASmV,MAAOhU,KAAKyoB,IAAI9d,SAEpE,IAAIwD,GAAG4O,EAAGxR,EAAM8mJ,EAAMC,EAAQC,CAG9B,KAAKpkJ,EAAI,EAAGA,EAAInO,KAAK8uI,IAAIjyH,MAAO1O,IAC/BnO,KAAKyoB,IAAI9d,OAAOuB,GAAGiC,GAAGvH,KAAK,YAAYiF,QAAS,EAChD7L,KAAKyoB,IAAI9d,OAAOuB,GAAGiC,GAAGvH,KAAK,YAAYwiD,SAAU,EACjDppD,KAAKyoB,IAAI9d,OAAOuB,GAAGiC,GAAGnG,YAAYhI,KAAKwqJ,SAAS4E,aAAapnJ,YAAYhI,KAAKwqJ,SAAS2E,YAQxF,KALAnvJ,KAAK8uI,IAAIjjI,OAAS,EAClBoH,QAAuC,EAA7BjT,KAAKwqJ,SAAS0D,aACxBsE,OAASxyJ,KAAKyyJ,YAAYzyJ,KAAKopD,WAAan2C,QAC5C0+I,KAAO3xJ,KAAKwqJ,SAAS8E,IAAMtvJ,KAAKuV,MAAMo8I,MAAQ3xJ,KAAKuV,MAAMo8I,KAEpD50I,EAAI,EAAGA,EAAI/c,KAAK8uI,IAAIjyH,MAAOE,IAE/BxR,EAAOvL,KAAKyoB,IAAI9d,OAAOuB,GAAG6Q,GAC1Bs1I,EAAO9mJ,EAAK3E,KAAK,YAAY4kJ,QAC7B8G,EAAS/mJ,EAAK3E,KAAK,YAAY2O,MAC/Bg9I,EAAcvyJ,KAAKwqJ,SAAS8E,IAAM+C,EAAOC,EAASr/I,QAAUo/I,EAAOC,EAASr/I,SAEvEjT,KAAK28B,GAAG01H,EAAM,KAAMG,SAAYxyJ,KAAK28B,GAAG01H,EAAM,IAAKG,OAASb,OAC5D3xJ,KAAK28B,GAAG41H,EAAa,IAAKC,SAAWxyJ,KAAK28B,GAAG41H,EAAa,IAAKC,OAASb,SAE5E3xJ,KAAK8uI,IAAIjjI,SAETN,EAAK3E,KAAK,YAAYiF,QAAS,EAC/BN,EAAK3E,KAAK,YAAYwiD,SAAU,EAChC79C,EAAKlC,SAASrJ,KAAKwqJ,SAAS4E,aAEvBpvJ,KAAKwqJ,SAASkB,WAClBngJ,EAAK3E,KAAK,YAAY6kJ,QAAS,GAE5BzrJ,KAAKwqJ,SAASoD,MACjB5tJ,KAAK0yJ,uBAAuBnnJ,EAAK3E,KAAK,YAAY8E,OAKjD1L,MAAKwqJ,SAAS5uF,SACjB57D,KAAKyoB,IAAI9d,OAAOuB,GAAGlM,KAAKopD,WAAW//C,SAASrJ,KAAKwqJ,SAAS2E,aAAavoJ,KAAK,YAAYg1D,QAAS,GAElG57D,KAAK0F,QAAQ,WAAaorJ,UAAYjyJ,KAAM,QAASmV,MAAOhU,KAAKyoB,IAAI9d,WAOtE0/I,EAAIjjJ,UAAUsrJ,uBAAyB,SAAS5mJ,GAG/C,GAAI8vD,GAAQr2D,EAAK4I,CAKjB,KAJInO,KAAKwqJ,SAAS5uF,SACjBA,EAAS57D,KAAKyoB,IAAI9d,OAAOuB,GAAGlM,KAAKopD,WAAWxiD,KAAK,YAAY8E,OAGzDyC,EAAI,EAAGA,EAAInO,KAAK8uI,IAAIjyH,MAAO1O,IAC/B5I,EAAMvF,KAAKyoB,IAAI9d,OAAOuB,GAAGiC,GACrB5I,EAAIqB,KAAK,YAAY8E,QAAUI,IAClCvG,EAAIqB,KAAK,YAAYwiD,SAAU,EAC3B7jD,EAAIqB,KAAK,YAAY8E,QAAUkwD,GAClCr2D,EAAI8D,SAASrJ,KAAKwqJ,SAAS2E,eAU/B9E,EAAIjjJ,UAAU0oJ,WAAa,WAE1B9vJ,KAAKmG,EAAEinJ,aAAe5tJ,EAAE4J,MAAM,SAASjD,GACtCnG,KAAK2yJ,YAAYxsJ,IACfnG,MACHA,KAAKmG,EAAEknJ,YAAc7tJ,EAAE4J,MAAM,SAASjD,GACrCnG,KAAK4yJ,WAAWzsJ,IACdnG,MACHA,KAAKmG,EAAEmnJ,WAAa9tJ,EAAE4J,MAAM,SAASjD,GACpCnG,KAAK6yJ,UAAU1sJ,IACbnG,MACHA,KAAKmG,EAAEonJ,eAAiB/tJ,EAAE4J,MAAM,SAASjD,GACxCnG,KAAKwE,cAAc2B,IACjBnG,MACHA,KAAKmG,EAAEqnJ,SAAWhuJ,EAAE4J,MAAM,WACzBpJ,KAAK8yJ,mBACH9yJ,MACHA,KAAKmG,EAAEsnJ,gBAAkBjuJ,EAAE4J,MAAM,WAChCpJ,KAAK2rI,cACH3rI,MACHA,KAAKmG,EAAE4sJ,cAAgBvzJ,EAAE4J,MAAM,SAASjD,GACvCnG,KAAKgzJ,aAAa7sJ,IAChBnG,OAOJqqJ,EAAIjjJ,UAAU0rJ,gBAAkB,WAC/B,MAAI9yJ,MAAKgT,aAAehT,KAAKuV,MAAM42I,YAC3B,GAERj/I,EAAOkH,aAAapU,KAAKizJ,aAEzBjzJ,KAAKizJ,YAAc/lJ,EAAOtH,WAAW5F,KAAKmG,EAAEsnJ,gBAAiBztJ,KAAKwqJ,SAASiE,4BAC3EzuJ,KAAKuV,MAAM42I,WAAansJ,KAAKgT,cAO9Bq3I,EAAIjjJ,UAAU2oJ,eAAiB,WAC9B,GAAI/C,GAAU5B,IACb8H,EAAY7H,GAGZrrJ,MAAKmzJ,SADFnG,IAAYkG,GACG,aAAc,YAAa,WAAY,eAC/ClG,GAAWkG,GACH,gBAAiB,gBAAiB,cAAe,oBAEjD,YAAa,YAAa,YAGxClG,GAAWkG,IAAclzJ,KAAKwqJ,SAASsD,UAE3C9tJ,KAAKgH,GAAGtC,EAAU1E,KAAKmzJ,SAAS,GAAInzJ,KAAKmG,EAAEmnJ,aAI3CttJ,KAAKyoB,IAAIqjI,OAAO9kJ,GAAG,YAAa,WAC/B,OAAO,IAGJhH,KAAKwqJ,SAASqD,UAEjB7tJ,KAAKyoB,IAAIojI,MAAMuH,cAAgB,WAC9B,OAAO,GAIRpzJ,KAAKyoB,IAAIljB,IAAI8D,SAAS,uBAKpBrJ,KAAKqzJ,qBACRrzJ,KAAKgH,GAAGhH,KAAKyoB,IAAIojI,MAAO7rJ,KAAKqzJ,oBAAqBrzJ,KAAKmG,EAAEonJ,gBAAgB,GAItEvtJ,KAAKwqJ,SAAS7e,cAAe,GAChC3rI,KAAKgH,GAAGkG,EAAQ,SAAUlN,KAAKmG,EAAEqnJ,UAAU,GAG5CxtJ,KAAKszJ,cAONjJ,EAAIjjJ,UAAUksJ,WAAa,YAEtBtzJ,KAAKwqJ,SAASsD,WAAmC,eAArB9tJ,KAAKmzJ,SAAS,IAA4C,kBAArBnzJ,KAAKmzJ,SAAS,GAExEnzJ,KAAKwqJ,SAASqD,WAAkC,cAArB7tJ,KAAKmzJ,SAAS,GACnDnzJ,KAAKgH,GAAGhH,KAAKyoB,IAAIojI,MAAO7rJ,KAAKmzJ,SAAS,GAAInzJ,KAAKmG,EAAEinJ,cAAc,GAE/DptJ,KAAKkQ,IAAIlQ,KAAKyoB,IAAIojI,MAAO7rJ,KAAKmzJ,SAAS,GAAInzJ,KAAKmG,EAAEinJ,cAJlDptJ,KAAKgH,GAAGhH,KAAKyoB,IAAIojI,MAAO7rJ,KAAKmzJ,SAAS,GAAInzJ,KAAKmG,EAAEinJ,cAAc,IAajE/C,EAAIjjJ,UAAUurJ,YAAc,SAAS9sJ,GACpC,GAAIm4H,GAAIu1B,EAAc7iF,EAAOC,EAAO6iF,CAKpC,IAHAx1B,EAAKn4H,EAAMmnC,eAAiBnnC,GAASqH,EAAOrH,MAG3B,IAAbm4H,EAAG/yH,MACN,OAAO,CA8BR,IA3ByB,cAArBjL,KAAKmzJ,SAAS,IACjBnzJ,KAAKyoB,IAAIqjI,OAAOziJ,SAAS,YAG1BrJ,KAAK0F,QAAQ,QACb1F,KAAKguC,KAAK4+G,WAAY,GAAIxtI,OAAOq6D,UACjCz5E,KAAK6f,MAAM,GACX7f,KAAKgJ,MAAMgkJ,SAAU,EACrBhtJ,KAAKgJ,MAAMikJ,aAAc,EACzBjtJ,KAAKgJ,MAAMkkJ,WAAY,EACvBltJ,KAAKguC,KAAKyhG,SAAW,EAGrB8jB,EAA2B,eAAZv1B,EAAGj0H,KAClB2mE,EAAQ6iF,EAAe1tJ,EAAM2nC,cAAc,GAAGkjC,MAASstD,EAAGttD,OAASstD,EAAGtwF,QACtEijC,EAAQ4iF,EAAe1tJ,EAAM2nC,cAAc,GAAGmjC,MAASqtD,EAAGrtD,OAASqtD,EAAGrwF,QAGtE3tC,KAAKguC,KAAKwiC,QAAUxwE,KAAKyoB,IAAIqjI,OAAOrxI,WAAWhJ,KAAOzR,KAAKwqJ,SAAS0D,aACpEluJ,KAAKguC,KAAK4iC,QAAU5wE,KAAKyoB,IAAIqjI,OAAOrxI,WAAW9W,IAE3C3D,KAAKwqJ,SAAS8E,MACjBtvJ,KAAKguC,KAAKwiC,QAAUxwE,KAAKyoB,IAAIqjI,OAAOrxI,WAAWhJ,KAAOzR,KAAKuV,MAAMs2I,MAAQ7rJ,KAAKuV,MAAM9Q,GACjFzE,KAAKwqJ,SAASyD,QAIdjuJ,KAAKgJ,MAAMmkJ,UAAYntJ,KAAKyzJ,UAC/BD,EAAcxzJ,KAAK0zJ,uBACnB1zJ,KAAKguC,KAAKwiC,QAAUgjF,EACpBxzJ,KAAKwD,QAAQgwJ,GACbxzJ,KAAKgJ,MAAMmkJ,UAAW,MAChB,IAAIntJ,KAAKgJ,MAAMmkJ,WAAantJ,KAAKyzJ,UAEvC,MADAzzJ,MAAKgJ,MAAMmkJ,UAAW,GACf,CAGRntJ,MAAKguC,KAAKw+G,OAAS97E,EAAQ1wE,KAAKguC,KAAKwiC,QACrCxwE,KAAKguC,KAAKy+G,OAAS97E,EAAQ3wE,KAAKguC,KAAK4iC,QAErC5wE,KAAKguC,KAAK3tB,MAAQqwD,EAAQ1wE,KAAKguC,KAAKw+G,OACpCxsJ,KAAKguC,KAAK++G,SAAW/uB,EAAG53H,QAAU43H,EAAG+W,WACrC/0I,KAAKguC,KAAK8+G,SAAW9sJ,KAAKguC,KAAK3tB,OAII,QAA/BrgB,KAAKguC,KAAK++G,SAAS/hJ,SAAoD,MAA/BhL,KAAKguC,KAAK++G,SAAS/hJ,WAC9DhL,KAAKguC,KAAK++G,SAASv9G,WAAY,GAGhCxvC,KAAKgH,GAAGtC,EAAU1E,KAAKmzJ,SAAS,GAAInzJ,KAAKmG,EAAEknJ,aAAa,GACxDrtJ,KAAKgH,GAAGtC,EAAU1E,KAAKmzJ,SAAS,GAAInzJ,KAAKmG,EAAEmnJ,YAAY,IASxDjD,EAAIjjJ,UAAUwrJ,WAAa,SAAS/sJ,GACnC,GAAIm4H,GAAIu1B,EAAc7iF,EAAOC,EAAOk+D,EAAUD,EAAU+kB,CAEnD3zJ,MAAKgJ,MAAMgkJ,UAIZhtJ,KAAKgJ,MAAMikJ,cAIfjvB,EAAKn4H,EAAMmnC,eAAiBnnC,GAASqH,EAAOrH,MAG5C0tJ,EAA0B,aAAXv1B,EAAGj0H,KAClB2mE,EAAQ6iF,EAAev1B,EAAGxwF,cAAc,GAAGkjC,MAASstD,EAAGttD,OAASstD,EAAGtwF,QACnEijC,EAAQ4iF,EAAev1B,EAAGxwF,cAAc,GAAGmjC,MAASqtD,EAAGrtD,OAASqtD,EAAGrwF,QAGnE3tC,KAAKguC,KAAK0+G,SAAWh8E,EAAQ1wE,KAAKguC,KAAKw+G,OACvCxsJ,KAAKguC,KAAK2+G,SAAWh8E,EAAQ3wE,KAAKguC,KAAKy+G,OACvCzsJ,KAAKguC,KAAKyhG,SAAWzvI,KAAKguC,KAAK0+G,SAAW1sJ,KAAKguC,KAAKwiC,QAGhDxwE,KAAKguC,KAAKyhG,SAAW,EACxBzvI,KAAKgJ,MAAM4C,UAAY5L,KAAKwqJ,SAAS8E,IAAM,QAAU,OAC3CtvJ,KAAKguC,KAAKyhG,SAAW,IAC/BzvI,KAAKgJ,MAAM4C,UAAY5L,KAAKwqJ,SAAS8E,IAAM,OAAS,SAGjDtvJ,KAAKwqJ,SAASoD,KACb5tJ,KAAK28B,GAAG38B,KAAKguC,KAAK0+G,SAAU,IAAK1sJ,KAAKyyJ,YAAYzyJ,KAAK+7H,aAAwC,UAAzB/7H,KAAKgJ,MAAM4C,UACpF5L,KAAKguC,KAAK0+G,WAAa1sJ,KAAKwqJ,SAAS5uF,QAAU57D,KAAKyyJ,YAAY,IAAMzyJ,KAAKyyJ,YAAYzyJ,KAAK8uI,IAAIud,QACtFrsJ,KAAK28B,GAAG38B,KAAKguC,KAAK0+G,SAAU,IAAK1sJ,KAAKyyJ,YAAYzyJ,KAAKk8H,aAAwC,SAAzBl8H,KAAKgJ,MAAM4C,YAC3F5L,KAAKguC,KAAK0+G,WAAa1sJ,KAAKwqJ,SAAS5uF,QAAU57D,KAAKyyJ,YAAY,IAAMzyJ,KAAKyyJ,YAAYzyJ,KAAK8uI,IAAIud,UAIjGxd,EAA+B7uI,KAAKyyJ,YAAzBzyJ,KAAKwqJ,SAAS8E,IAAuBtvJ,KAAKk8H,UAA8Bl8H,KAAK+7H,WACxF6S,EAA+B5uI,KAAKyyJ,YAAzBzyJ,KAAKwqJ,SAAS8E,IAAuBtvJ,KAAK+7H,UAA8B/7H,KAAKk8H,WACxFy3B,EAAO3zJ,KAAKwqJ,SAASuD,SAAW/tJ,KAAKguC,KAAKyhG,SAAW,EAAI,EACzDzvI,KAAKguC,KAAK0+G,SAAW1rJ,KAAKC,IAAID,KAAKioB,IAAIjpB,KAAKguC,KAAK0+G,SAAU7d,EAAW8kB,GAAO/kB,EAAW+kB,KAKpF3zJ,KAAKguC,KAAKyhG,SAAW,GAAKzvI,KAAKguC,KAAKyhG,SAAW,MAC/CzR,EAAGr2H,iBAAmB1C,EACzB+4H,EAAGr2H,iBAEHq2H,EAAGlxF,aAAc,EAElB9sC,KAAKgJ,MAAMkkJ,WAAY,GAGxBltJ,KAAKguC,KAAK8+G,SAAW9sJ,KAAKguC,KAAK0+G,UAG1B1sJ,KAAKguC,KAAK2+G,SAAW,IAAM3sJ,KAAKguC,KAAK2+G,SAAW,MAAQ3sJ,KAAKgJ,MAAMkkJ,aAAc,IACrFltJ,KAAKgJ,MAAMikJ,aAAc,EACzBjtJ,KAAKguC,KAAK8+G,SAAW9sJ,KAAKguC,KAAK3tB,OAGhCrgB,KAAKwD,QAAQxD,KAAKguC,KAAK8+G,aAOxBzC,EAAIjjJ,UAAUyrJ,UAAY,WACzB,GAAIe,GAAcC,EAAahsJ,CAE/B,IAAK7H,KAAKgJ,MAAMgkJ,QAAhB,CAmBA,GAhByB,cAArBhtJ,KAAKmzJ,SAAS,IACjBnzJ,KAAKyoB,IAAIqjI,OAAO9jJ,YAAY,YAG7BhI,KAAK0F,QAAQ,WAGb1F,KAAKguC,KAAK++G,SAAS9pI,gBAAgB,aAInCjjB,KAAKgJ,MAAMgkJ,SAAU,EACrBhtJ,KAAKgJ,MAAMikJ,aAAc,EACzBjtJ,KAAKgJ,MAAMkkJ,WAAY,EAGI,IAAvBltJ,KAAKguC,KAAKyhG,UAAkBzvI,KAAKgJ,MAAMmkJ,YAAa,EAEvD,MADAntJ,MAAKgJ,MAAMmkJ,UAAW,GACf,CAKRntJ,MAAKguC,KAAK6+G,SAAU,GAAIztI,OAAOq6D,UAC/Bm6E,EAAe5zJ,KAAKguC,KAAK6+G,QAAU7sJ,KAAKguC,KAAK4+G,UAC7CiH,EAAc7yJ,KAAKwQ,IAAIxR,KAAKguC,KAAKyhG,WAG7BokB,EAAc,GAAKD,EAAe,MACrC5zJ,KAAK8zJ,YAAY9zJ,KAAKguC,KAAK++G,UAG5BllJ,EAAU7H,KAAK6H,QAAQ7H,KAAKguC,KAAK8+G,UAEjC9sJ,KAAK6f,MAAM7f,KAAKwqJ,SAASgE,cAAgBxuJ,KAAKwqJ,SAAS8D,YACvDtuJ,KAAKopD,QAAQvhD,GAIR7H,KAAKwqJ,SAASuD,UAAY/tJ,KAAKguC,KAAK8+G,WAAa9sJ,KAAKyyJ,YAAY5qJ,IACtE7H,KAAKwE,gBAGNxE,KAAKguC,KAAKyhG,SAAW,EAErBzvI,KAAKkQ,IAAIxL,EAAU1E,KAAKmzJ,SAAS,GAAInzJ,KAAKmG,EAAEknJ,aAC5CrtJ,KAAKkQ,IAAIxL,EAAU1E,KAAKmzJ,SAAS,GAAInzJ,KAAKmG,EAAEmnJ,cAQ7CjD,EAAIjjJ,UAAU0sJ,YAAc,SAAS1tJ,GACpCpG,KAAKguC,KAAK++G,SAAW3mJ,EACrB5G,EAAE4G,GAAQY,GAAG,qBAAsBhH,KAAKmG,EAAE4sJ,eAE1C7lJ,EAAOtH,WAAW,WACjBpG,EAAE4G,GAAQ8J,IAAI,uBACZ,MAQJm6I,EAAIjjJ,UAAU4rJ,aAAe,SAASh1B,GACjCA,EAAGr2H,eACNq2H,EAAGr2H,iBAEHq2H,EAAGlxF,aAAc,EAEdkxF,EAAGrvH,iBACNqvH,EAAGrvH,kBAEJnP,EAAEw+H,EAAG53H,QAAQ8J,IAAI,uBAQlBm6I,EAAIjjJ,UAAUssJ,qBAAuB,WACpC,GAAIrtI,GAAW0tI,CAOf,OALA1tI,GAAYnZ,EAAO2e,iBAAiB7rB,KAAKyoB,IAAIojI,MAAO,MAAM//H,iBAAiB9rB,KAAKg0J,WAAa,aAE7F3tI,EAAYA,EAAU3e,QAAQ,oBAAqB,IAAInD,MAAM,KAC7DwvJ,EAAgC,KAArB1tI,EAAUze,OAEdmsJ,KAAa,EAAO1tI,EAAU,GAAKA,EAAU,KASrDgkI,EAAIjjJ,UAAUS,QAAU,SAASosJ,GAChC,GAAIx5I,GAAW,EAAGk5I,EAAO,EAuBzB,OArBK3zJ,MAAKwqJ,SAASwD,UAElBxuJ,EAAEC,KAAKO,KAAKyyJ,cAAejzJ,EAAE4J,MAAM,SAASsC,EAAOsI,GAC9CigJ,EAAajgJ,EAAQ2/I,GAAqB3/I,EAAQ2/I,EAArBM,EAChCx5I,EAAW/O,EACD1L,KAAK28B,GAAGs3H,EAAY,IAAKjgJ,IAChChU,KAAK28B,GAAGs3H,EAAY,IAAKj0J,KAAKyyJ,YAAY/mJ,EAAQ,IAAMsI,EAAQhU,KAAKuV,MAAM9Q,MAC9EgW,EAAoC,SAAzBza,KAAKgJ,MAAM4C,UAAuBF,EAAQ,EAAIA,IAExD1L,OAGCA,KAAKwqJ,SAASoD,OAEd5tJ,KAAK28B,GAAGs3H,EAAY,IAAKj0J,KAAKyyJ,YAAYzyJ,KAAK+7H,YAClDthH,EAAWw5I,EAAaj0J,KAAK+7H,UACnB/7H,KAAK28B,GAAGs3H,EAAY,IAAKj0J,KAAKyyJ,YAAYzyJ,KAAKk8H,cACzDzhH,EAAWw5I,EAAaj0J,KAAKk8H,YAIxBzhH,GAQR4vI,EAAIjjJ,UAAU5D,QAAU,SAASywJ,GAChCj0J,KAAK0F,QAAQ,aACb1F,KAAKgJ,MAAMmkJ,SAAWntJ,KAAK6f,QAAU,EAEjC7f,KAAKyzJ,UACRzzJ,KAAKyoB,IAAIqjI,OAAOxqJ,KACf+kB,UAAW,eAAiB4tI,EAAa,eACzCjvJ,WAAahF,KAAK6f,QAAU,IAAQ,MAE3B7f,KAAKgJ,MAAMgkJ,QACrBhtJ,KAAKyoB,IAAIqjI,OAAOxqJ,KACfmQ,KAAMwiJ,EAAa,OAGpBj0J,KAAKyoB,IAAIqjI,OAAOtoJ,SACfiO,KAAMwiJ,GACJj0J,KAAK6f,QAAU,IAAM7f,KAAKwqJ,SAASoE,eAAgBpvJ,EAAE4J,MAAM,WACzDpJ,KAAKgJ,MAAMmkJ,UACdntJ,KAAKwE,iBAEJxE,QAULqqJ,EAAIjjJ,UAAUgiD,QAAU,SAAS3uC,GAChC,GAAIA,IAAaxV,EAChB,MAAOjF,MAAK2qJ,QAGb,IAAwB,IAApB3qJ,KAAK8uI,IAAIud,OACZ,MAAOpnJ,EAKR,IAFAwV,EAAWza,KAAKk5B,UAAUze,GAEtBza,KAAK2qJ,WAAalwI,EACrBza,KAAKwD,QAAQxD,KAAKyyJ,YAAYzyJ,KAAK2qJ,eAC7B,CACN,GAAI9kJ,GAAQ7F,KAAK0F,QAAQ,UAAYorJ,UAAYjyJ,KAAM,WAAYmV,MAAOyG,IAEtE5U,GAAMe,OAAS3B,IAClBwV,EAAWza,KAAKk5B,UAAUrzB,EAAMe,OAGjC5G,KAAK2qJ,SAAWlwI,EAEhBza,KAAKwD,QAAQxD,KAAKyyJ,YAAYzyJ,KAAK2qJ,WAEnC3qJ,KAAKoyJ,oBAELpyJ,KAAK0F,QAAQ,WAAaorJ,UAAYjyJ,KAAM,WAAYmV,MAAOhU,KAAK2qJ,YAGrE,MAAO3qJ,MAAK2qJ,UAQbN,EAAIjjJ,UAAUg1D,MAAQ,SAAS3hD,GAC9Bza,KAAKk0J,UAAW,SAAU,YAC1Bl0J,KAAK6f,MAAM,GACX7f,KAAKopD,QAAQ3uC,GACbza,KAAKm0J,SAAU,SAAU,aAU1B9J,EAAIjjJ,UAAU8xB,UAAY,SAASze,EAAU25I,GAC5C,GAAI35I,IAAaxV,IAAcjF,KAAKyoB,IAAI9d,OACvC,MAAO1F,EAGR,IAAIjF,KAAKwqJ,SAASoD,KAAM,CACvB,GAAInyI,GAAIzb,KAAKyoB,IAAI9d,OAAO/C,MACxB6S,IAAaA,EAAWgB,EAAKA,GAAKA,MAElChB,GAAWzZ,KAAKC,IAAIjB,KAAK+7H,UAAW/6H,KAAKioB,IAAIjpB,KAAKk8H,UAAWzhH,GAG9D,OAAO25I,GAAWp0J,KAAKyoB,IAAI9d,OAAOuB,GAAGuO,GAAU7T,KAAK,YAAY8E,MAAQ+O,GAQzE4vI,EAAIjjJ,UAAU80H,QAAU,WACvB,GAAIA,GAAS3mH,EACZi1I,EAAWxqJ,KAAKwqJ,QAEjB,KAAKA,EAASoD,MAAQpD,EAAS5uF,OAC9BsgE,EAAUl8H,KAAK8uI,IAAIud,OAAS,MACtB,IAAK7B,EAASoD,MAASpD,EAAS5uF,OAEhC,GAAI4uF,EAASoD,MAAQpD,EAAS5uF,OACpCsgE,EAAUl8H,KAAK8uI,IAAIud,OAAS7B,EAAS3tI,UAC/B,CAAA,IAAI2tI,EAAS4D,YAAa5D,EAASlrJ,MAUzC,KAAM,2CATN+0J,QAAS7J,EAAS8E,IAAM,EAAI,GAC5B/5I,EAAQvV,KAAKyoB,IAAIqjI,OAAOv2I,QAAUvV,KAAKuF,IAAIgQ,QAC3C/V,EAAEC,KAAKO,KAAKyyJ,cAAe,SAAS/mJ,EAAOuoJ,GAC1C,MAAIA,GAAaI,QAAU9+I,GACnB,OAER2mH,EAAUxwH,EAAQ,SAVnBwwH,GAAUl8H,KAAK8uI,IAAIud,OAAS7B,EAAS3tI,KAgBtC,OAAOq/G,IAQRmuB,EAAIjjJ,UAAU20H,QAAU,WACvB,MAAO/7H,MAAKyoB,IAAIwjI,QAAQ//I,GAAG,GAAGtF,KAAK,YAAY2kJ,UAShDlB,EAAIjjJ,UAAUyY,MAAQ,SAASA,GAK9B,MAJIA,KAAU5a,IACbjF,KAAK4qJ,OAAS/qI,GAGR7f,KAAK4qJ,QASbP,EAAIjjJ,UAAUqrJ,YAAc,SAASh4I,GACpC,MAAOA,KAAaxV,EAAYjF,KAAK6qJ,aAAapwI,GAAYza,KAAK6qJ,cAWpER,EAAIjjJ,UAAU/B,SAAW,SAASqpB,EAAMvkB,EAAImqJ,GAC3C,MAAOtzJ,MAAKioB,IAAIjoB,KAAKC,IAAID,KAAKwQ,IAAIrH,EAAKukB,GAAO,GAAI,GAAK1tB,KAAKwQ,IAAK8iJ,GAAUt0J,KAAKwqJ,SAAS8D,aAS1FjE,EAAIjjJ,UAAU+C,GAAK,SAASsQ,EAAUoF,GACrC,GAAI7f,KAAKwqJ,SAASoD,KAAM,CACvB,GAAIne,GAAWh1H,EAAWza,KAAKk5B,UAAUl5B,KAAKopD,WAAW,GACxDirG,EAASr0J,KAAKopD,UACdv4B,EAAS7wB,KAAKopD,UACd34B,EAAQzwB,KAAKopD,UAAYqmF,EACzB7jI,EAA6B,EAAjBilB,EAASJ,GAAY,GAAO,CAErCA,GAAQzwB,KAAKwqJ,SAAS3tI,OAASjR,KAAc,GAChDyoJ,EAASr0J,KAAK8uI,IAAIjyH,OAAS7c,KAAKwqJ,SAAS3tI,MAAQgU,GAAU7wB,KAAKwqJ,SAAS3tI,MACzE7c,KAAKo8D,MAAMi4F,IACD5jI,GAASzwB,KAAK8uI,IAAIjyH,MAAQ7c,KAAKwqJ,SAAS3tI,OAASjR,KAAc,IACzEyoJ,EAASxjI,EAAS7wB,KAAK8uI,IAAIud,OAC3BrsJ,KAAKo8D,MAAMi4F,IAEZnnJ,EAAOkH,aAAapU,KAAKmG,EAAEunJ,WAC3B1tJ,KAAKmG,EAAEunJ,UAAYxgJ,EAAOtH,WAAWpG,EAAE4J,MAAM,WAC5CpJ,KAAK6f,MAAM7f,KAAKqF,SAASrF,KAAKopD,UAAWirG,EAAS5kB,EAAU5vH,IAC5D7f,KAAKopD,QAAQirG,EAAS5kB,IACpBzvI,MAAO,QAEVA,MAAK6f,MAAM7f,KAAKqF,SAASrF,KAAKopD,UAAW3uC,EAAUoF,IACnD7f,KAAKopD,QAAQ3uC,IASf4vI,EAAIjjJ,UAAU+D,KAAO,SAAS0U,GAC7BA,EAAQA,IAAS,EACjB7f,KAAKmK,GAAGnK,KAAKk5B,UAAUl5B,KAAKopD,WAAW,GAAQ,EAAGvpC,IAQnDwqI,EAAIjjJ,UAAU8D,KAAO,SAAS2U,GAC7BA,EAAQA,IAAS,EACjB7f,KAAKmK,GAAGnK,KAAKk5B,UAAUl5B,KAAKopD,WAAW,GAAQ,EAAGvpC,IAQnDwqI,EAAIjjJ,UAAU5C,cAAgB,SAASqB,GAGtC,GAAIA,IAAUZ,EAAW,CACxBY,EAAM8I,iBAGN,IAAI4lJ,GAAc1uJ,EAAMO,QAAUP,EAAMkvI,YAAclvI,EAAM2uJ,cAC5D,IAAID,IAAgBv0J,KAAKyoB,IAAIojI,MAC5B,OAAO,EAIT7rJ,KAAKgJ,MAAMmkJ,UAAW,EACtBntJ,KAAK0F,QAAQ,eAQd2kJ,EAAIjjJ,UAAU6qJ,iBAAmB,WAChC,GAAIwC,GAAaz0J,KAAKyoB,IAAIljB,IAAIgQ,QAAUvV,KAAKwqJ,SAAS0D,aAEtDwG,EAAc10J,KAAKuV,MAAM9Q,GAAKzE,KAAKwqJ,SAASyD,MAC5C,OAAOwG,KAAeC,GAQvBrK,EAAIjjJ,UAAU4L,SAAW,WACxB,GAAIuC,EACJ,IAAIvV,KAAKsI,QAAQomJ,wBAA0BxhJ,EAC1CqI,EAAQ/V,EAAEQ,KAAKsI,QAAQomJ,uBAAuBn5I,YACxC,IAAIrI,EAAOkE,WACjBmE,EAAQrI,EAAOkE,eACT,CAAA,IAAI1M,EAASoG,kBAAmBpG,EAASoG,gBAAgB4G,YAG/D,KAAM,gCAFN6D,GAAQ7Q,EAASoG,gBAAgB4G,YAIlC,MAAO6D,IAQR80I,EAAIjjJ,UAAUutJ,cAAgB,SAAS18I,GACtCjY,KAAKyoB,IAAIqjI,OAAOnzE,QAChB34E,KAAK6vJ,aAAa53I,GAClBjY,KAAK0Y,WASN2xI,EAAIjjJ,UAAUwtJ,QAAU,SAAS38I,EAASwC,GACzC,GAAIg2I,GAAQzwJ,KAAKqwJ,qBAEjB51I,GAAWA,GAAY,EAEvBza,KAAK0wJ,wBAAwBD,EAAOx4I,GAEJ,IAA5BjY,KAAKyoB,IAAIwjI,QAAQrkJ,OACpB5H,KAAKyoB,IAAIqjI,OAAO95I,OAAOy+I,GAGX,KAARtkJ,EACHnM,KAAKyoB,IAAIwjI,QAAQ//I,GAAGuO,GAAUoW,OAAO4/H,GAErCzwJ,KAAKyoB,IAAIwjI,QAAQ//I,GAAGuO,GAAUgW,MAAMggI,GAItCzwJ,KAAK0Y,WAQN2xI,EAAIjjJ,UAAUytJ,WAAa,SAAS1oJ,GACnCnM,KAAKyoB,IAAIwjI,QAAQ//I,GAAGC,GAAK3E,SACzBxH,KAAK0Y,WAON2xI,EAAIjjJ,UAAU4oJ,qBAAuB,WACpC,GAAIzpJ,GAAU/G,EAAE4J,MAAM,SAAS3D,EAAUI,GACxC,MAAOrG,GAAE4J,MAAM,SAASjD,GACnBA,EAAEoG,gBAAkBvM,OACvBA,KAAKk0J,UAAWruJ,IAChBJ,EAASvE,MAAMlB,QAASoc,MAAMtV,KAAKN,UAAW,IAC9CxG,KAAKm0J,SAAUtuJ,MAEd7F,OACDA,KAEHR,GAAEC,MACD0L,KAAQnL,KAAKmL,KACbD,KAAQlL,KAAKkL,KACbf,GAAMnK,KAAKmK,GACX0N,QAAW7X,KAAK6X,QAChBa,QAAW1Y,KAAK0Y,QAChBhR,QAAW1H,KAAK20J,cAChB5uI,IAAO/lB,KAAK40J,QACZptJ,OAAUxH,KAAK60J,YACbr1J,EAAE4J,MAAM,SAASvD,EAAOJ,GAC1BzF,KAAKyoB,IAAIljB,IAAIyB,GAAGnB,EAAQ,gBAAiBU,EAAQd,EAAUI,EAAQ,mBACjE7F,QAQJqqJ,EAAIjjJ,UAAU+qJ,gBAAkB,WAS/B,QAAS2C,GAAYrwJ,GACpB,MAAOA,GAAGkI,YAAc,GAAKlI,EAAGyJ,aAAe,EAGhD,QAAS6mJ,KACJD,EAAY90J,KAAKyoB,IAAIhkB,MACxBzE,KAAKyoB,IAAIljB,IAAIyC,YAAY,cACzBhI,KAAK0Y,UACLxL,EAAO9B,cAAcpL,KAAKmG,EAAEwnJ,iBAdzBmH,EAAY90J,KAAKyoB,IAAIhkB,MACzBzE,KAAKyoB,IAAIljB,IAAI8D,SAAS,cACtB6D,EAAO9B,cAAcpL,KAAKmG,EAAEwnJ,gBAC5B3tJ,KAAKmG,EAAEwnJ,eAAiBzgJ,EAAO7B,YAAY7L,EAAE4J,MAAM2rJ,EAAc/0J,MAAO,OAqB1EqqJ,EAAIjjJ,UAAUuoJ,uBAAyB,SAASF,GAC/C,GAAIhE,GAAQr/I,EAAM7G,EAAK03B,CAEvBwuH,GAAS,EACTr/I,EAAOpM,KACPyvJ,EAAKhwJ,KAAK,SAAS0O,EAAG1J,GACrBc,EAAM/F,EAAEiF,GACRw4B,EAAM,GAAI+3H,OAEV/3H,EAAIE,OAAS,WACZsuH,IACAlmJ,EAAIpD,KAAK,MAAO86B,EAAID,KACpBz3B,EAAIjE,IAAI,UAAW,GACfmqJ,GAAUgE,EAAK7nJ,SAClBwE,EAAKpD,MAAMwmJ,cAAe,EAC1BpjJ,EAAKoG,SAIPyqB,EAAID,IAAMz3B,EAAIpD,KAAK,QAAUoD,EAAIpD,KAAK,aAAeoD,EAAIpD,KAAK,sBAQhEkoJ,EAAIjjJ,UAAUyQ,QAAU,WAEnB7X,KAAKyoB,IAAIljB,IAAI0C,SAASjI,KAAKwqJ,SAASwE,aACvChvJ,KAAKyoB,IAAIljB,IAAIyC,YAAYhI,KAAKwqJ,SAASwE,YAGpChvJ,KAAKwqJ,SAAS7e,cAAe,GAChC3rI,KAAKkQ,IAAIhD,EAAQ,SAAUlN,KAAKmG,EAAEqnJ,UAG/BxtJ,KAAKqzJ,qBACRrzJ,KAAKkQ,IAAIlQ,KAAKyoB,IAAIojI,MAAO7rJ,KAAKqzJ,oBAAqBrzJ,KAAKmG,EAAEonJ,eAG3D,KAAM,GAAIp/I,KAAKnO,MAAKkyE,QACnBlyE,KAAKkyE,QAAQ/jE,GAAG0J,WAGb7X,KAAKwqJ,SAASqD,WAAa7tJ,KAAKwqJ,SAASsD,aAC5C9tJ,KAAKkQ,IAAIlQ,KAAKyoB,IAAIojI,MAAO7rJ,KAAKmzJ,SAAS,GAAInzJ,KAAKmG,EAAEinJ,cAC9CptJ,KAAKwqJ,SAASqD,WACjB7tJ,KAAKkQ,IAAIxL,EAAU1E,KAAKmzJ,SAAS,GAAInzJ,KAAKmG,EAAEinJ,cAEzCptJ,KAAKwqJ,SAASqD,YACjB7tJ,KAAKyoB,IAAIqjI,OAAO57I,IAAI,YAAa,WAChC,OAAO,IAERlQ,KAAKyoB,IAAIojI,MAAMuH,cAAgB,eAMjCpzJ,KAAKyoB,IAAIljB,IAAI2K,IAAI,QAEQ,OAArBlQ,KAAKyoB,IAAIyjI,SACZlsJ,KAAKyoB,IAAIyjI,QAAQ1kJ,SAElBxH,KAAKmG,EAAI,KACTnG,KAAKyoB,IAAIljB,IAAIqB,KAAK,cAAe,YAC1B5G,MAAKyoB,IAAIhkB,GAAG6lJ,YAEnBtqJ,KAAKyoB,IAAIqjI,OAAOmJ,SAChBj1J,KAAKyoB,IAAI9d,OAAOsqJ,SAChBj1J,KAAKyoB,IAAI9d,OAAOi1D,WAAWq1F,SAC3Bj1J,KAAKyoB,IAAM,MAUZ4hI,EAAIjjJ,UAAUu1B,GAAK,SAAS1jB,EAAG3B,EAAG4B,GACjC,GAAIo2I,GAAMtvJ,KAAKwqJ,SAAS8E,GACxB,QAAQh4I,GACR,IAAK,IACJ,MAAOg4I,GAAMr2I,EAAIC,EAAQA,EAAJD,CACtB,KAAK,IACJ,MAAOq2I,GAAUp2I,EAAJD,EAAQA,EAAIC,CAC1B,KAAK,KACJ,MAAOo2I,GAAWp2I,GAALD,EAASA,GAAKC,CAC5B,KAAK,KACJ,MAAOo2I,GAAMr2I,GAAKC,EAASA,GAALD,IAcxBoxI,EAAIjjJ,UAAUJ,GAAK,SAAS0B,EAAS7C,EAAOqvJ,EAAUC,GACjDzsJ,EAAQ0kC,iBACX1kC,EAAQ0kC,iBAAiBvnC,EAAOqvJ,EAAUC,GAChCzsJ,EAAQmlC,aAClBnlC,EAAQmlC,YAAY,KAAOhoC,EAAOqvJ,IAYpC7K,EAAIjjJ,UAAU8I,IAAM,SAASxH,EAAS7C,EAAOqvJ,EAAUC,GAClDzsJ,EAAQklC,oBACXllC,EAAQklC,oBAAoB/nC,EAAOqvJ,EAAUC,GACnCzsJ,EAAQqlC,aAClBrlC,EAAQqlC,YAAY,KAAOloC,EAAOqvJ,IAYpC7K,EAAIjjJ,UAAU1B,QAAU,SAAS7G,EAAM+H,EAAM+9C,GAC5C,GAAI9jC,IACHtV,MAAQuY,MAAO9jB,KAAK8uI,IAAIud,OAAQ3gJ,MAAO1L,KAAKopD,YAC1C7iD,EAAU/G,EAAEyO,UACdzO,EAAE41J,MAAO,KAAMv2J,EAAM8lD,GAAa,SAASp4B,GAAK,MAAOA,KACrD3f,KAAK,KAAKuW,eACVtd,EAAQrG,EAAEsI,OACVjJ,EAAM,MAAO8lD,GAAa,YAAa/3C,KAAK,KAAKuW,cACnD3jB,EAAEoJ,QAAS2D,cAAevM,MAAQ6gB,EAAQja,GAiB3C,OAdK5G,MAAK0qJ,SAAS7kJ,EAAMkE,QACxBvK,EAAEC,KAAKO,KAAKkyE,QAAS,SAASrzE,EAAMk6B,GAC/BA,EAAOs8H,WACVt8H,EAAOs8H,UAAUxvJ,KAInB7F,KAAKyoB,IAAIljB,IAAIG,QAAQG,GAEiB,kBAA3B7F,MAAKwqJ,SAASjkJ,IACxBvG,KAAKwqJ,SAASjkJ,GAASrF,MAAMlB,KAAM6F,IAI9BA,GAQRwkJ,EAAIjjJ,UAAU8sJ,SAAW,SAAS14I,GACjChc,EAAEC,KAAK+b,EAAQhc,EAAE4J,MAAM,SAASsC,EAAO7F,GACtC7F,KAAK0qJ,SAAS7kJ,IAAS,GACrB7F,QAQJqqJ,EAAIjjJ,UAAU+sJ,QAAU,SAAS34I,GAChChc,EAAEC,KAAK+b,EAAQhc,EAAE4J,MAAM,SAASsC,EAAO7F,SAC/B7F,MAAK0qJ,SAAS7kJ,IACnB7F,QAOJqqJ,EAAIjjJ,UAAUmoJ,eAAiB,WAG9B,GAFAvvJ,KAAKyzJ,UAAYtI,IAEbnrJ,KAAKyzJ,UAAW,CACnBzzJ,KAAKs1J,gBAAkBpK,GAGvB,IAAIqK,IAAe,gBAAiB,sBAAuB,gBAAiB,iBAC5Ev1J,MAAKqzJ,oBAAsBkC,EAAWtK,KAGtCjrJ,KAAKg0J,WAAah0J,KAAKs1J,gBAAgB5tJ,QAAQ,aAAc,IAC7D1H,KAAKg0J,WAAiC,KAApBh0J,KAAKg0J,WAAoB,IAAMh0J,KAAKg0J,WAAW7wI,cAAgB,IAAM,GAGxFnjB,KAAKgJ,MAAMkpJ,YAAchlJ,EAAOglJ,aAuEjC1yJ,EAAE6E,GAAGimJ,YAAc,SAAShiJ,GAC3B,MAAOtI,MAAKP,KAAK,WACXD,EAAEQ,MAAM4G,KAAK,gBACjBpH,EAAEQ,MAAM4G,KAAK,cAAe,GAAIyjJ,GAAIrqJ,KAAMsI,OAS7C9I,EAAE6E,GAAGimJ,YAAYliJ,YAAciiJ,GAE7Bn9I,OAAOsoJ,OAAStoJ,OAAOhJ,OAAQgJ,OAAQxI,UAQzC,SAAUlF,EAAG0N,EAAQxI,EAAUO,GAO/BwwJ,SAAW,SAAS35I,GACnB9b,KAAK01J,IAAM55I,EACX9b,KAAK01J,IAAIptJ,QAAU9I,EAAEoJ,UAAW6sJ,SAASz1B,SAAUhgI,KAAK01J,IAAIptJ,SAE5DtI,KAAKk6F,UACJy7D,uBAAwBn2J,EAAE4J,MAAM,SAASjD,GACjB,SAAnBA,EAAE2qJ,SAASjyJ,MAAmBsH,EAAE2qJ,SAAS98I,QAAU7N,EAAE2qJ,SAAS98I,MAAM3N,GAAG,WAC1ErG,KAAK41J,SAEJ51J,OAGJA,KAAK01J,IAAIjtI,IAAIljB,IAAIyB,GAAGhH,KAAKk6F,WAO1Bu7D,SAASz1B,UACR0rB,UAAU,GAOX+J,SAASruJ,UAAUwuJ,MAAQ,WAC1B,GACC54H,GAAKC,EAAK9uB,EAAGsiJ,EADVtuJ,EAAO+K,EAAOyoI,iBAAmB,EAAI,kBAAoB,UAG7D,KAAKxnI,EAAI,EAAGA,EAAInO,KAAK01J,IAAI5mB,IAAIjyH,MAAO1O,IACnCsiJ,EAAQzwJ,KAAK01J,IAAIjtI,IAAI9d,OAAOuB,GAAGiC,GAE3BsiJ,EAAM7pJ,KAAK,YAAYwiD,WAAY,GAAQqnG,EAAM7pJ,KAAK,YAAY6kJ,UAAW,IAChFxuH,EAAMwzH,EAAMhnJ,KAAK,aACjBuzB,EAAMC,EAAI96B,KAAKA,GACf66B,EAAMA,GAAOC,EAAI96B,KAAK,YAClB66B,IACHC,EAAI37B,IAAI,UAAW,KACnBtB,KAAK88B,QAAQG,EAAKwzH,MAYtBgF,SAASruJ,UAAU01B,QAAU,SAAS+4H,EAAQpF,GAC7C,GAAIlrJ,GAAK03B,EAAK64H,CAEdD,GAAOp2J,KAAKD,EAAE4J,MAAM,SAAS+E,EAAG1J,GAE/BzE,KAAK01J,IAAIhwJ,QAAQ,OAAQ,KAAM,QAE/BH,EAAM/F,EAAEiF,GACRw4B,EAAM,GAAI+3H,OACVc,EAAwCvwJ,EAAIpD,KAAlC+K,EAAOyoI,iBAAmB,EAAa,kBAA8B,YAC/EmgB,EAAUA,GAAWvwJ,EAAIpD,KAAK,YAE9B86B,EAAIE,OAAS39B,EAAE4J,MAAM,WACpBqnJ,EAAM7pJ,KAAK,YAAY6kJ,QAAS,EAC5BlmJ,EAAIc,GAAG,OACVd,EAAIpD,KAAK,MAAO86B,EAAID,KAEpBz3B,EAAIjE,IAAI,mBAAoB,OAAS27B,EAAID,IAAM,KAGhDz3B,EAAIjE,IAAI,UAAW,GACnBtB,KAAK01J,IAAIhwJ,QAAQ,SAAU,KAAM,SAC/B1F,MACHi9B,EAAID,IAAM84H,GACR91J,QAOJy1J,SAASruJ,UAAUyQ,QAAU,WAC5B,GAAItR,GAASuqJ,CAEb,KAAKvqJ,IAAWvG,MAAKk6F,SACpBl6F,KAAK01J,IAAIjtI,IAAIljB,IAAI2K,IAAI3J,EAASvG,KAAKk6F,SAAS3zF,GAE7C,KAAKuqJ,IAAY7xI,QAAO82I,oBAAoB/1J,MAClB,kBAAlBA,MAAK8wJ,KAA4B9wJ,KAAK8wJ,GAAY,OAI3DtxJ,EAAE6E,GAAGimJ,YAAYliJ,YAAY0iJ,QAAQY,SAAW+J,UAE9CvoJ,OAAOsoJ,OAAStoJ,OAAOhJ,OAAQgJ,OAAQxI,UAQzC,SAAUlF,EAAG0N,EAAQxI,EAAUO,GAO/B+wJ,WAAa,SAASl6I,GACrB9b,KAAK01J,IAAM55I,EACX9b,KAAK01J,IAAIptJ,QAAU9I,EAAEoJ,UAAWotJ,WAAWh2B,SAAUhgI,KAAK01J,IAAIptJ,SAE9DtI,KAAKk6F,UACJy7D,uBAAwBn2J,EAAE4J,MAAM,SAASjD,GACjB,YAAnBA,EAAE2qJ,SAASjyJ,MAAsBmB,KAAK01J,IAAIlL,SAASyL,YACtDj2J,KAAKk2J,aAEJl2J,OAGJA,KAAK01J,IAAIjtI,IAAIljB,IAAIyB,GAAGhH,KAAKk6F,WAO1B87D,WAAWh2B,UACVi2B,YAAY,EACZE,gBAAiB,cAQlBH,WAAW5uJ,UAAU8uJ,UAAY,WAChC,GAGCE,GAHG3K,EAASzrJ,KAAK01J,IAAIjtI,IAAI9d,OAAOuB,GAAGlM,KAAK01J,IAAItsG,WAC5CyiG,EAAQ7rJ,KAAK01J,IAAIjtI,IAAIujI,QACrBqK,EAAa,CAGTr2J,MAAK01J,IAAIjtI,IAAIujI,QAAQ/jJ,SAASjI,KAAK01J,IAAIlL,SAAS2L,kBACpDn2J,KAAK01J,IAAIjtI,IAAIujI,QAAQ3iJ,SAASrJ,KAAK01J,IAAIlL,SAAS2L,iBAGjDC,EAAWlpJ,EAAO7B,YAAY,WAC7BgrJ,GAAc,EACV5K,EAAO7kJ,KAAK,YAAY6kJ,QAC3BI,EAAMj2I,OAAO61I,EAAO71I,SAAW,MAC/BxK,cAAcgrJ,IACW,MAAfC,GACVjrJ,cAAcgrJ,IAEb,MAIJJ,WAAW5uJ,UAAUyQ,QAAU,WAC9B,GAAItR,GAASuqJ,CAEb,KAAKvqJ,IAAWvG,MAAKk6F,SACpBl6F,KAAK01J,IAAIjtI,IAAIljB,IAAI2K,IAAI3J,EAASvG,KAAKk6F,SAAS3zF,GAE7C,KAAKuqJ,IAAY7xI,QAAO82I,oBAAoB/1J,MAClB,kBAAlBA,MAAK8wJ,KAA4B9wJ,KAAK8wJ,GAAY,OAI3DtxJ,EAAE6E,GAAGimJ,YAAYliJ,YAAY0iJ,QAAQmL,WAAaD,YAEhD9oJ,OAAOsoJ,OAAStoJ,OAAOhJ,OAAQgJ,OAAQxI,UAQzC,SAAUlF,EAAG0N,EAAQxI,EAAUO,GAO/BqxJ,MAAQ,SAASx6I,GAChB9b,KAAK01J,IAAM55I,EACX9b,KAAK01J,IAAIptJ,QAAU9I,EAAEoJ,UAAW0tJ,MAAMt2B,SAAUhgI,KAAK01J,IAAIptJ,SAEzDtI,KAAKk6F,UACJq8D,sBAAuB/2J,EAAE4J,MAAM,SAASjD,GACnCnG,KAAK01J,IAAIlL,SAASgM,QAAUx2J,KAAKy2J,kBACpCtwJ,EAAEwB,kBAED3H,MACH02J,4CAA6Cl3J,EAAE4J,MAAM,SAASjD,GACzDnG,KAAK01J,IAAI1sJ,MAAM2tJ,WAClB32J,KAAK42J,aAEJ52J,MACH62J,8CAA+Cr3J,EAAE4J,MAAM,SAASjD,GAC/D,MAAKnG,MAAK01J,IAAIlL,SAASgM,WAGvBx2J,KAAK82J,WAAuB,WAAV3wJ,EAAE4D,OAFZ,GAGN/J,MACH21J,uBAAwBn2J,EAAE4J,MAAM,SAASjD,GACpCnG,KAAK82J,YAAiC,SAAnB3wJ,EAAE2qJ,SAASjyJ,MAAmBsH,EAAE2qJ,SAAS98I,QAAU7N,EAAE2qJ,SAAS98I,MAAM3N,GAAG,WAC7FrG,KAAK+2J,mBAEJ/2J,OAGJA,KAAK01J,IAAIjtI,IAAIljB,IAAIyB,GAAGhH,KAAKk6F,UAEzBl6F,KAAK01J,IAAIjtI,IAAIljB,IAAIyB,GAAG,kBAAmB,uBAAwBxH,EAAE4J,MAAM,SAASjD,GAC/EnG,KAAK4rJ,UAAUzlJ,IACbnG,QAOJs2J,MAAMt2B,UACLw2B,OAAO,EACPQ,aAAa,EACbC,YAAY,GAObX,MAAMlvJ,UAAU2vJ,gBAAkB,WACjC,GAAIG,GAAS3rJ,EAAM4C,CAEnB,KAAKA,EAAI,EAAGA,EAAInO,KAAK01J,IAAI5mB,IAAIjyH,MAAO1O,IAEnC5C,EAAOvL,KAAK01J,IAAIjtI,IAAI9d,OAAOuB,GAAGiC,GAC1B5C,EAAK3E,KAAK,YAAY+kJ,WAI1BuL,EAAU3rJ,EAAK9B,KAAK,cAChBytJ,EAAQtvJ,SACX5H,KAAK01J,IAAI1sJ,MAAMmuJ,WAAY,EAC3Bn3J,KAAK01J,IAAIjtI,IAAI9d,OAAOuB,GAAGiC,GAAGvH,KAAK,YAAY+kJ,UAAW,EACtDuL,EAAQ51J,IAAI,UAAW,QACvBtB,KAAKo3J,aAAaF,EAAS3rJ,MAW9B+qJ,MAAMlvJ,UAAUgwJ,aAAe,SAASF,EAAS3rJ,GAEhD,GAAI0jD,GAAMllD,EAAMnL,EAAIy4J,EACnBC,EAAUJ,EAAQtwJ,KAAK,YACvB2wJ,EAAYL,EAAQtwJ,KAAK,cACzB2O,EAAQ2hJ,EAAQtwJ,KAAK,UAAY5G,KAAK01J,IAAIlL,SAASyM,WACnDrhJ,EAASshJ,EAAQtwJ,KAAK,WAAa5G,KAAK01J,IAAIlL,SAASwM,YACrDntI,EAAMqtI,EAAQ/0J,KAAK,OAEpB,IAAIm1J,EACHvtJ,EAAO,QACPnL,EAAK04J,MACC,IAAIC,EACVxtJ,EAAO,UACPnL,EAAK24J,MACC,CAAA,IAAI1tI,EAUV,KAAM,IAAI1lB,OAAM,sBAThBvF,GAAKirB,EAAIyB,MAAM,sJAEX1sB,EAAG,GAAGgsB,QAAQ,SAAW,GAC5B7gB,EAAO,UACGnL,EAAG,GAAGgsB,QAAQ,SAAW,KACnC7gB,EAAO,SAERnL,EAAKA,EAAG,GAKT2M,EAAK3E,KAAK,YAAY4wJ,UAAYztJ,EAClCwB,EAAK3E,KAAK,YAAY6wJ,QAAU74J,EAChC2M,EAAK3E,KAAK,YAAYqwJ,WAAa1hJ,EACnChK,EAAK3E,KAAK,YAAYowJ,YAAcphJ,EAEpCq5C,GACCllD,KAAMA,EACNnL,GAAIA,GAILy4J,EAAa9hJ,GAASK,EAAS,gBAAkBL,EAAQ,aAAeK,EAAS,OAAS,GAG1FshJ,EAAQnsJ,KAAK,iCAAmCssJ,EAAa,WAE7Dr3J,KAAK03J,cAAcR,EAASjoG,IAU7BqnG,MAAMlvJ,UAAUswJ,cAAgB,SAASR,EAASjoG,GAqBjD,QAAS0oG,GAAaC,GACrBC,EAAO,0CAGNC,EADG1rJ,EAAKo+I,SAASkB,SACR,4BAA8BqM,EAAY,KAAOjC,EAAU,KAAO8B,EAAS,WAE3E,mEAAqEA,EAAS;AAExFV,EAAQzmI,MAAMqnI,GACdZ,EAAQzmI,MAAMonI,GA5Bf,GAAIC,GAAQD,EAAM31J,EACjB81J,EAAWd,EAAQztJ,KAAK,OACxBqsJ,EAAU,MACViC,EAAY,GACZ3rJ,EAAOpM,KAAK01J,GASb,OAPI11J,MAAK01J,IAAIlL,SAASkB,WACrBoK,EAAU,WACViC,EAAY,YAKTC,EAASpwJ,QACZ+vJ,EAAaK,EAAS71J,KAAK2zJ,IAC3BkC,EAASxwJ,UACF,QAeU,YAAdynD,EAAKllD,MACR7H,EAAO,6BAA+B+sD,EAAKrwD,GAAK,iBAChD+4J,EAAaz1J,IACW,UAAd+sD,EAAKllD,MACfvK,EAAE23B,MACDptB,KAAM,MACN8f,IAAK,iCAAmColC,EAAKrwD,GAAK,QAClDq5J,MAAO,WACPC,SAAU,QACV59B,QAAS,SAAS1zH,GACjB1E,EAAO0E,EAAK,GAAGuxJ,gBACfR,EAAaz1J,GACTkK,EAAKo+I,SAASoD,MACjBxhJ,EAAKgmJ,yBAWVkE,MAAMlvJ,UAAUwvJ,UAAY,WAC3B52J,KAAK01J,IAAIhwJ,QAAQ,OAAQ,KAAM,QAC/B,IAAI6F,GAAOvL,KAAK01J,IAAIjtI,IAAI9d,OAAOuB,GAAGlM,KAAK01J,IAAI1sJ,MAAMovJ,eACjD7sJ,GAAK9B,KAAK,oBAAoBjC,SAC9B+D,EAAKvD,YAAY,qBACjBhI,KAAK01J,IAAI1sJ,MAAM2tJ,WAAY,GAQ5BL,MAAMlvJ,UAAUwkJ,UAAY,SAAS5tB,GACpCh+H,KAAK01J,IAAIhwJ,QAAQ,OAAQ,KAAM,SAE3B1F,KAAK01J,IAAI1sJ,MAAM2tJ,WAClB32J,KAAK42J,WAEN,IAAIyB,GAAWC,EAAWd,EACzBpxJ,EAAS5G,EAAEw+H,EAAG53H,QAAU43H,EAAG+W,YAC3BxpI,EAAOnF,EAAOyB,QAAQ,IAAM7H,KAAK01J,IAAIlL,SAAS0E,UAE/CsI,GAAYjsJ,EAAK3E,KAAK,YAAY4wJ,UAAW54J,GAAK2M,EAAK3E,KAAK,YAAY6wJ,QAASliJ,MAAQhK,EACvF3E,KAAK,YAAYqwJ,YACfj2J,KAAK2xC,MAAMpnC,EAAK3E,KAAK,YAAY2O,MAAQvV,KAAK01J,IAAIlL,SAASyD,QAASr4I,OAASrK,EAAK3E,KAAK,YAAYowJ,aACnGh3J,KAAK01J,IAAIjtI,IAAIqjI,OAAOl2I,SAEN,YAAd4hJ,EACHa,EAAY,kBAAqB9iJ,MAAQ,aAAiBK,OAAS,uCAChEhX,GAAK,iBAAmBA,GAAK,8CACR,UAAd44J,IACVa,EAAY,8CAAgDz5J,GAAK,uBAAyB2W,MACvF,aAAeK,OACf,wFAGJrK,EAAKlC,SAAS,qBACdrJ,KAAK01J,IAAI1sJ,MAAM2tJ,WAAY,EAC3B32J,KAAK01J,IAAI1sJ,MAAMovJ,eAAiB7sJ,EAAK3E,KAAK,YAAY2kJ,SAEtD+M,EAAY94J,EAAE,sBAAwBoW,OAAS,aAAeL,MAAQ,+BACnE8iJ,EAAY,UACfjyJ,EAAOqqB,MAAM6nI,IAQdhC,MAAMlvJ,UAAUqvJ,eAAiB,WAGhC,GAAI8B,GAAoB7zJ,EAAS6zJ,mBAAqB7zJ,EAAS8zJ,sBAC3D9zJ,EAAS+zJ,uBAQb,OAPIF,IACC/4J,EAAE+4J,EAAkB5xI,YAAY1e,SAAS,qBAC5CjI,KAAK01J,IAAI71I,MAAM,GACf7f,KAAK01J,IAAI1sJ,MAAM0vJ,cAAe,GAI5BH,GAAqBv4J,KAAK01J,IAAI1sJ,MAAM0vJ,cAAgB14J,KAAK01J,IAAI1sJ,MAAM2tJ,WAC/D,EAIJ32J,KAAK01J,IAAI1sJ,MAAM0vJ,cAClB14J,KAAK01J,IAAI1sJ,MAAM0vJ,cAAe,GACvB,GAIJ14J,KAAK01J,IAAI1sJ,MAAM2tJ,WACd32J,KAAK01J,IAAI1sJ,MAAMkpJ,cAAgBhlJ,EAAOglJ,aACzClyJ,KAAK01J,IAAI1sJ,MAAMkpJ,YAAchlJ,EAAOglJ,aAC7B,IAGF,GAMRoE,MAAMlvJ,UAAUyQ,QAAU,WACzB,GAAItR,GAASuqJ,CAEb9wJ,MAAK01J,IAAIjtI,IAAIljB,IAAI2K,IAAI,kBAErB,KAAK3J,IAAWvG,MAAKk6F,SACpBl6F,KAAK01J,IAAIjtI,IAAIljB,IAAI2K,IAAI3J,EAASvG,KAAKk6F,SAAS3zF,GAE7C,KAAKuqJ,IAAY7xI,QAAO82I,oBAAoB/1J,MAClB,kBAAlBA,MAAK8wJ,KAA4B9wJ,KAAK8wJ,GAAY,OAI3DtxJ,EAAE6E,GAAGimJ,YAAYliJ,YAAY0iJ,QAAQ0L,MAAQF,OAE3CppJ,OAAOsoJ,OAAStoJ,OAAOhJ,OAAQgJ,OAAQxI,UAQzC,SAAUlF,EAAG0N,EAAQxI,EAAUO,GAO/B0zJ,QAAU,SAAS78I,GAClB9b,KAAKk4E,KAAOp8D,EACZ9b,KAAKk4E,KAAK5vE,QAAU9I,EAAEoJ,UAAW+vJ,QAAQ34B,SAAUhgI,KAAKk4E,KAAK5vE,SAC7DtI,KAAK44J,UAAW,EAChB54J,KAAKq0F,SAAWpvF,EAChBjF,KAAKmL,KAAOlG,EAEZjF,KAAKk6F,UACJ2+D,sBAAuBr5J,EAAE4J,MAAM,SAASjD,GAChB,YAAnBA,EAAE2qJ,SAASjyJ,OACdmB,KAAKq0F,SAAWr0F,KAAKk4E,KAAK9uB,UAC1BppD,KAAKmL,KAAOhF,EAAE2qJ,SAAS98I,QAEtBhU,MACH84J,iEAAkEt5J,EAAE4J,MAAM,SAASjD,GAClFnG,KAAK44J,SAAqB,cAAVzyJ,EAAE4D,MAChB/J,MACH+4J,yBAA0Bv5J,EAAE4J,MAAM,SAASjD,GACtCnG,KAAK44J,WAAa54J,KAAKk4E,KAAK5vE,QAAQ0wJ,YAAch5J,KAAKk4E,KAAK5vE,QAAQ2wJ,YACvEj5J,KAAKk5J,QAEJl5J,OAGJA,KAAKk4E,KAAKzvD,IAAIljB,IAAIyB,GAAGhH,KAAKk6F,WAO3By+D,QAAQ34B,UACPg5B,YAAY,EACZC,WAAW,GAQZN,QAAQvxJ,UAAU8xJ,KAAO,WAExB,GAAiC,IAA7Bl5J,KAAKk4E,KAAKsyE,SAAS3tI,OAAgB7c,KAAKk4E,KAAKu7E,UAAjD,CAIAzzJ,KAAKk4E,KAAKr4D,MAAM,EAEhB,IAAIpO,GACH4H,EAAQ7Z,EAAE4J,MAAMpJ,KAAKqZ,MAAOrZ,MAC5Bq0F,EAAWr0F,KAAKk4E,KAAKzvD,IAAI9d,OAAOuB,GAAGlM,KAAKq0F,UACxClpF,EAAOnL,KAAKk4E,KAAKzvD,IAAI9d,OAAOuB,GAAGlM,KAAKmL,MACpCguJ,EAAWn5J,KAAKk4E,KAAKsyE,SAASyO,UAC9BG,EAAWp5J,KAAKk4E,KAAKsyE,SAASwO,UAE3Bh5J,MAAKk4E,KAAK9uB,YAAcppD,KAAKq0F,WAI7B+kE,IACH3nJ,EAAOzR,KAAKk4E,KAAKu6E,YAAYzyJ,KAAKq0F,UAAYr0F,KAAKk4E,KAAKu6E,YAAYzyJ,KAAKmL,MACzEkpF,EAAS/yF,KAAOmQ,KAAQA,EAAO,OAC7BpI,SAAS,6BACTA,SAAS+vJ,GACT5zJ,IAAI,+EAAgF6T,IAGnF8/I,GACHhuJ,EAAK9B,SAAS,4BACZA,SAAS8vJ,GACT3zJ,IAAI,+EAAgF6T,MAIxFs/I,QAAQvxJ,UAAUiS,MAAQ,SAASlT,GAClC3G,EAAE2G,EAAEC,QAAQ9E,KAAOmQ,KAAQ,KACzBzJ,YAAY,6CACZA,YAAYhI,KAAKk4E,KAAKsyE,SAASyO,WAC/BjxJ,YAAYhI,KAAKk4E,KAAKsyE,SAASwO,YACjCh5J,KAAKk4E,KAAK1zE,iBAOXm0J,QAAQvxJ,UAAUyQ,QAAU,WAC3B,GAAItR,GAASuqJ,CAEb,KAAKvqJ,IAAWvG,MAAKk6F,SACpBl6F,KAAKk4E,KAAKzvD,IAAIljB,IAAI2K,IAAI3J,EAASvG,KAAKk6F,SAAS3zF,GAE9C,KAAKuqJ,IAAY7xI,QAAO82I,oBAAoB/1J,MAClB,kBAAlBA,MAAK8wJ,KAA4B9wJ,KAAK8wJ,GAAY,OAI3DtxJ,EAAE6E,GAAGimJ,YAAYliJ,YAAY0iJ,QAAQ6N,QAAUA,SAE7CzrJ,OAAOsoJ,OAAStoJ,OAAOhJ,OAAQgJ,OAAQxI,UAQzC,SAAUlF,EAAG0N,EAAQxI,EAAUO,GAO/Bo0J,SAAW,SAASv9I,GACnB9b,KAAKk4E,KAAOp8D,EACZ9b,KAAKk4E,KAAK5vE,QAAU9I,EAAEoJ,UAAWywJ,SAASr5B,SAAUhgI,KAAKk4E,KAAK5vE,SAE9DtI,KAAKk6F,UACJo/D,iDAAkD95J,EAAE4J,MAAM,WACzDpJ,KAAKu5J,YACHv5J,MACHw5J,oBAAqBh6J,EAAE4J,MAAM,SAASjD,EAAGhD,EAAGsc,GAC3Czf,KAAKy5J,KAAKt2J,EAAGsc,IACXzf,MACH05J,oBAAqBl6J,EAAE4J,MAAM,WAC5BpJ,KAAKmb,QACHnb,MACH25J,yBAA0Bn6J,EAAE4J,MAAM,WAC7BpJ,KAAKk4E,KAAKsyE,SAASoP,oBACtB55J,KAAKqK,SAEJrK,MACH65J,0BAA2Br6J,EAAE4J,MAAM,WAC9BpJ,KAAKk4E,KAAKsyE,SAASoP,oBACtB55J,KAAKu5J,YAEJv5J,OAGJA,KAAKk4E,KAAKzvD,IAAIljB,IAAIyB,GAAGhH,KAAKk6F,WAO3Bm/D,SAASr5B,UACRu5B,UAAU,EACVO,gBAAiB,IACjBF,oBAAoB,EACpBG,eAAe,GAOhBV,SAASjyJ,UAAUmyJ,SAAW,WACzBv5J,KAAKk4E,KAAKsyE,SAAS+O,WAAav5J,KAAKk4E,KAAKlvE,MAAM2tJ,WACnDzpJ,EAAO9B,cAAcpL,KAAKoK,UAE1BpK,KAAKoK,SAAW8C,EAAO7B,YAAY7L,EAAE4J,MAAM,WAC1CpJ,KAAKy5J,QACHz5J,MAAOA,KAAKk4E,KAAKsyE,SAASsP,kBAE7B5sJ,EAAO9B,cAAcpL,KAAKoK,WAY5BivJ,SAASjyJ,UAAUqyJ,KAAO,SAASnnJ,EAASuN,GAE3C,MAAInb,GAAS0gI,UAAW,GAIpBplI,KAAKk4E,KAAKlvE,MAAMgkJ,SAAWhtJ,KAAKk4E,KAAKlvE,MAAMikJ,aAC3CjtJ,KAAKk4E,KAAKlvE,MAAMkkJ,WAAaltJ,KAAKk4E,KAAKlvE,MAAMmkJ,SALjD,OASIntJ,KAAKk4E,KAAKsyE,SAAS+O,YAAa,MACnCrsJ,GAAO9B,cAAcpL,KAAKoK,cAI3BpK,MAAKk4E,KAAK/sE,KAAKnL,KAAKk4E,KAAKsyE,SAASuP,gBAOnCV,SAASjyJ,UAAU+T,KAAO,WACzBjO,EAAO9B,cAAcpL,KAAKoK,WAO3BivJ,SAASjyJ,UAAUiD,MAAQ,WAC1B6C,EAAO9B,cAAcpL,KAAKoK,WAM3BivJ,SAASjyJ,UAAUyQ,QAAU,WAC5B,GAAItR,GAASuqJ,CAEb5jJ,GAAO9B,cAAcpL,KAAKoK,SAE1B,KAAK7D,IAAWvG,MAAKk6F,SACpBl6F,KAAKk4E,KAAKzvD,IAAIljB,IAAI2K,IAAI3J,EAASvG,KAAKk6F,SAAS3zF,GAE9C,KAAKuqJ,IAAY7xI,QAAO82I,oBAAoB/1J,MAClB,kBAAlBA,MAAK8wJ,KAA4B9wJ,KAAK8wJ,GAAY,OAI3DtxJ,EAAE6E,GAAGimJ,YAAYliJ,YAAY0iJ,QAAQyO,SAAWF,UAE9CnsJ,OAAOsoJ,OAAStoJ,OAAOhJ,OAAQgJ,OAAQxI,UAQzC,SAAUlF,EAAG0N,EAAQxI,EAAUO,GAC/B,YAOA,IAAI+0J,GAAa,SAASntJ,GAKzB7M,KAAKk4E,KAAOrrE,EAMZ7M,KAAKi6J,aAAc,EAMnBj6J,KAAKk6J,SAMLl6J,KAAKm6J,YAMLn6J,KAAK2S,SAAW,KAMhB3S,KAAK2I,SAAW3I,KAAKk4E,KAAKzvD,IAAIljB,IAM9BvF,KAAKo6J,WACJjvJ,KAAMnL,KAAKk4E,KAAK/sE,KAChBD,KAAMlL,KAAKk4E,KAAKhtE,KAChBf,GAAInK,KAAKk4E,KAAK/tE,IAOfnK,KAAKk6F,UACJy7D,uBAAwBn2J,EAAE4J,MAAM,SAASjD,GACjB,SAAnBA,EAAE2qJ,SAASjyJ,OACTmB,KAAKi6J,cACTj6J,KAAK+2I,aACL/2I,KAAKi6J,aAAc,GAEpBj6J,KAAKggB,SACLhgB,KAAKS,QAEFT,KAAKq6J,UACRl0J,EAAE2qJ,SAAS98I,MAAMpN,KAAK,YAAY0zJ,IAAM96J,EAAE,eAAgB2G,EAAE2qJ,SAAS98I,OACnEvK,KAAK,cAAc8wJ,UAAU3zJ,KAAK,SAEnC5G,MACH64J,sBAAuBr5J,EAAE4J,MAAM,SAASjD,GACvC,GAAuB,YAAnBA,EAAE2qJ,SAASjyJ,OAAuBmB,KAAKk4E,KAAKlvE,MAAMqrJ,SACjDr0J,KAAKk4E,KAAKsyE,SAASoD,MAAQ5tJ,KAAKk4E,KAAKsyE,SAASgQ,UAAW,CAC7D,GAAIpxG,GAAUppD,KAAKk4E,KAAK9uB,UACvB8yE,EAAUl8H,KAAKk4E,KAAKgkD,UACpBH,EAAU/7H,KAAKk4E,KAAK6jD,SACrB51H,GAAES,KAAOT,EAAE2qJ,SAAS98I,MAAQkoH,EACzB9yE,GAAW8yE,EAAUH,EAAUG,EAC/B/1H,EAAE2qJ,SAAS98I,MAAQ+nH,EAAUG,EAAU/1H,EAAE2qJ,SAAS98I,MAEtDhU,KAAKq6J,QAAUr6J,KAAKk4E,KAAKsyE,SAASiQ,UAA+B,QAAnBt0J,EAAE2qJ,SAASjyJ,MACrDsH,EAAE2qJ,SAAS98I,OAAS7N,EAAE2qJ,SAAS98I,MAAM3N,GAAG,WAC1CrG,MACH06J,yBAA0Bl7J,EAAE4J,MAAM,WAC7BpJ,KAAKi6J,cACRj6J,KAAKggB,SACLhgB,KAAKS,SAEJT,OAIJA,KAAKk4E,KAAK5vE,QAAU9I,EAAEoJ,UAAWoxJ,EAAWh6B,SAAUhgI,KAAKk4E,KAAK5vE,SAGhEtI,KAAK2I,SAAS3B,GAAGhH,KAAKk6F,UAQvB8/D,GAAWh6B,UACV26B,KAAK,EACLH,WAAW,EACXI,SAAW,OAAQ,QACnBC,UAAU,EACVC,WAAY,MACZC,cAAc,EACdC,kBAAmB,UACnBC,UAAY,WAAY,YACxBC,QAAS,EACTC,SAAU,UACVC,UAAW,WACX70H,MAAM,EACN80H,UAAU,EACVC,SAAS,EACTC,WAAW,EACXC,eAAe,EACfC,cAAe,gBAOhBzB,EAAW5yJ,UAAU2vI,WAAa,WACjC,GAAI3hI,GAAYsmJ,EACfpzJ,EAAUtI,KAAKk4E,KAAKsyE,QAGhBliJ,GAAQmyJ,WACZz6J,KAAK2S,SAAWnT,EAAE,SAChB6J,SAASf,EAAQ6yJ,UACjBnpJ,OAAOxS,EAAE,WACTkK,KAAK,cAIHpB,EAAQyyJ,cAAiBzyJ,EAAQkzJ,gBACrCx7J,KAAKm6J,SAAS/kJ,WAAa5V,EAAE,SAC3B6J,SAASf,EAAQmzJ,eACjB1rJ,SAAS/P,KAAK2I,WAIjB3I,KAAKm6J,SAAS5vJ,YAAcjC,EAAQkzJ,cAAgBh8J,EAAE8I,EAAQkzJ,eAC3Dh8J,EAAE,SAASqE,OAAOwF,SAASf,EAAQ8yJ,WAAWrrJ,SAAS/P,KAAKm6J,SAAS/kJ,YAExEpV,KAAKm6J,SAAS5vJ,YAAYvD,GAAGhH,KAAKk4E,KAAKi7E,SAAS,GAAI,MAAO3zJ,EAAE4J,MAAM,SAASjD,GAC3E,GAAIuF,GAAQlM,EAAE2G,EAAEC,QAAQoF,SAASnF,GAAGrG,KAAKm6J,SAAS5vJ,aAC/C/K,EAAE2G,EAAEC,QAAQsF,QAAUlM,EAAE2G,EAAEC,QAAQoF,SAASE,OAE9CvF,GAAEwB,iBAEF3H,KAAKmK,GAAGuB,EAAOpD,EAAQizJ,YACrBv7J,OAGHoV,EAAa9M,EAAQyyJ,aAAev7J,EAAE8I,EAAQyyJ,cAC3Cv7J,EAAE,SAAS6J,SAASf,EAAQ0yJ,mBAAmBpqI,UAAU5wB,KAAKm6J,SAAS/kJ,YAE1EpV,KAAKm6J,SAAS9tJ,MAAQ7M,EAAE,IAAM8I,EAAQwyJ,WAAa,KACnD96J,KAAKm6J,SAASvgJ,UAAY5Z,KAAKm6J,SAAS9tJ,MAAMiX,QAE9CtjB,KAAKm6J,SAASvgJ,UACZvQ,SAASf,EAAQ2yJ,SAAS,IAC1BnoJ,KAAKxK,EAAQsyJ,QAAQ,IACrB/2J,OACA+sB,UAAUxb,GACVpO,GAAGhH,KAAKk4E,KAAKi7E,SAAS,GAAI3zJ,EAAE4J,MAAM,SAASjD,GAC3CnG,KAAKkL,QACHlL,OACJA,KAAKm6J,SAAS9tJ,MACZhD,SAASf,EAAQ2yJ,SAAS,IAC1BnoJ,KAAKxK,EAAQsyJ,QAAQ,IACrB/2J,OACAkM,SAASqF,GACTpO,GAAGhH,KAAKk4E,KAAKi7E,SAAS,GAAI3zJ,EAAE4J,MAAM,SAASjD,GAC3CnG,KAAKmL,QACHnL,MAGJ,KAAK07J,IAAY17J,MAAKo6J,UACrBp6J,KAAKk4E,KAAKwjF,GAAYl8J,EAAE4J,MAAMpJ,KAAK07J,GAAW17J,OAQhDg6J,EAAW5yJ,UAAUyQ,QAAU,WAC9B,GAAItR,GAASstF,EAASi9D,EAAU4K,CAEhC,KAAKn1J,IAAWvG,MAAKk6F,SACpBl6F,KAAK2I,SAASuH,IAAI3J,EAASvG,KAAKk6F,SAAS3zF,GAE1C,KAAKstF,IAAW7zF,MAAKm6J,SACpBn6J,KAAKm6J,SAAStmE,GAASrsF,QAExB,KAAKk0J,IAAY17J,MAAK27J,SACrB37J,KAAKk4E,KAAKwjF,GAAY17J,KAAKo6J,UAAUsB,EAEtC,KAAK5K,IAAY7xI,QAAO82I,oBAAoB/1J,MAClB,kBAAlBA,MAAK8wJ,KAA4B9wJ,KAAK8wJ,GAAY,OAQ3DkJ,EAAW5yJ,UAAU4Y,OAAS,WAC7B,GAAI7R,GAAG4O,EAAGD,EACTxU,EAAUtI,KAAKk4E,KAAKsyE,SACpBoR,EAAQ57J,KAAKk4E,KAAK42D,IAAIwd,OAAS,EAC/BuP,EAAQ77J,KAAKk4E,KAAK42D,IAAIjyH,MAAQ++I,EAC9B1iG,EAAO5wD,EAAQszD,QAAUtzD,EAAQ8lJ,WAAa9lJ,EAAQgzJ,QACnD,EAAIhzJ,EAAQ+yJ,UAAY/yJ,EAAQuU,KAMpC,IAJwB,SAApBvU,EAAQ4yJ,UACX5yJ,EAAQ4yJ,QAAUl6J,KAAKioB,IAAI3gB,EAAQ4yJ,QAAS5yJ,EAAQuU,QAGjDvU,EAAQi+B,KAGX,IAFAvmC,KAAKk6J,SAEA/rJ,EAAIytJ,EAAO7+I,EAAI,EAAGD,EAAI,EAAO++I,EAAJ1tJ,EAAWA,KACpC4O,GAAKm8C,GAAc,IAANn8C,KAChB/c,KAAKk6J,MAAMh7J,MACVmhB,MAAOlS,EAAIytJ,EACXz2J,IAAKgJ,EAAIytJ,EAAQ1iG,EAAO,IAEzBn8C,EAAI,IAAKD,GAEVC,GAAK/c,KAAKk4E,KAAK42D,IAAIyd,OAAOp+I,IAS7B6rJ,EAAW5yJ,UAAU3G,KAAO,WAC3B,GAAIq7J,GAAY3tJ,EAAG2E,EAAO,GACzBxK,EAAUtI,KAAKk4E,KAAKsyE,SACpB7/I,EAAS3K,KAAKk4E,KAAKzvD,IAAIwjI,QACvBvgJ,EAAQ1L,KAAKk4E,KAAKh/C,UAAUl5B,KAAKk4E,KAAK9uB,WAAW,EAUlD,KARI9gD,EAAQqyJ,KAAQryJ,EAAQslJ,MAAStlJ,EAAQkyJ,YAC5Cx6J,KAAKm6J,SAASvgJ,UAAUjQ,YAAY,WAAqB,GAAT+B,GAChD1L,KAAKm6J,SAAS9tJ,MAAM1C,YAAY,WAAY+B,GAAS1L,KAAKk4E,KAAKgkD,YAGhEl8H,KAAKm6J,SAASvgJ,UAAUpR,OAAOF,EAAQqyJ,KACvC36J,KAAKm6J,SAAS9tJ,MAAM7D,OAAOF,EAAQqyJ,KAE/BryJ,EAAQi+B,KAAM,CAGjB,GAFAu1H,EAAa97J,KAAKk6J,MAAMtyJ,OAAS5H,KAAKm6J,SAAS5vJ,YAAYkB,WAAW7D,OAElEk0J,EAAa,EAAG,CACnB,IAAK3tJ,EAAI,EAAGA,EAAInN,KAAKwQ,IAAIsqJ,GAAa3tJ,IACrC2E,GAAQxK,EAAQgzJ,QAAU3wJ,EAAOuB,GAAGiC,GAAGvH,KAAK,YAAY0zJ,IAAMt6J,KAAK2S,QAEpE3S,MAAKm6J,SAAS5vJ,YAAYyH,OAAOc,OACV,GAAbgpJ,GACV97J,KAAKm6J,SAAS5vJ,YAAYkB,WAAW2Q,MAAM0/I,GAAYt0J,QAGxDxH,MAAKm6J,SAAS5vJ,YAAYd,KAAK,WAAWzB,YAAY,UACtDhI,KAAKm6J,SAAS5vJ,YAAYkB,WAAWS,GAAG1M,EAAEylD,QAAQjlD,KAAKopD,UAAWppD,KAAKk6J,QAAQ7wJ,SAAS,UAGzFrJ,KAAKm6J,SAAS5vJ,YAAY/B,OAAOF,EAAQi+B,OAQ1CyzH,EAAW5yJ,UAAUiuJ,UAAY,SAASxvJ,GACzC,GAAIyC,GAAUtI,KAAKk4E,KAAKsyE,QAExB3kJ,GAAMw1H,MACL3vH,MAAOlM,EAAEylD,QAAQjlD,KAAKopD,UAAWppD,KAAKk6J,OACtCp2I,MAAO9jB,KAAKk6J,MAAMtyJ,OAClBsxD,KAAM5wD,EAAQszD,QAAUtzD,EAAQ8lJ,WAAa9lJ,EAAQgzJ,QAClD,EAAIhzJ,EAAQ+yJ,UAAY/yJ,EAAQuU,QASrCm9I,EAAW5yJ,UAAUgiD,QAAU,WAC9B,GAAI19C,GAAQ1L,KAAKk4E,KAAKh/C,UAAUl5B,KAAKk4E,KAAK9uB,WAAW,EACrD,OAAO5pD,GAAE41J,KAAKp1J,KAAKk6J,MAAO,SAAS5iJ,GAClC,MAAOA,GAAE+I,OAAS3U,GAAS4L,EAAEnS,KAAOuG,IAClC86B,OAQJwzH,EAAW5yJ,UAAU4N,YAAc,SAAS+mJ,GAC3C,GAAIthJ,GAAU7S,EACbU,EAAUtI,KAAKk4E,KAAKsyE,QAYrB,OAVuB,QAAnBliJ,EAAQ4yJ,SACXzgJ,EAAWjb,EAAEylD,QAAQjlD,KAAKopD,UAAWppD,KAAKk6J,OAC1CtyJ,EAAS5H,KAAKk6J,MAAMtyJ,OACpBm0J,IAActhJ,IAAaA,EAC3BA,EAAWza,KAAKk6J,OAAQz/I,EAAW7S,EAAUA,GAAUA,GAAQyY,QAE/D5F,EAAWza,KAAKk4E,KAAKh/C,UAAUl5B,KAAKk4E,KAAK9uB,WAAW,GACpDxhD,EAAS5H,KAAKk4E,KAAK42D,IAAIud,OACvB0P,EAAYthJ,GAAYnS,EAAQ4yJ,QAAUzgJ,GAAYnS,EAAQ4yJ,SAExDzgJ,GAQRu/I,EAAW5yJ,UAAU+D,KAAO,SAAS0U,GACpCrgB,EAAE4J,MAAMpJ,KAAKo6J,UAAUjwJ,GAAInK,KAAKk4E,MAAMl4E,KAAKgV,aAAY,GAAO6K,IAQ/Dm6I,EAAW5yJ,UAAU8D,KAAO,SAAS2U,GACpCrgB,EAAE4J,MAAMpJ,KAAKo6J,UAAUjwJ,GAAInK,KAAKk4E,MAAMl4E,KAAKgV,aAAY,GAAQ6K,IAUhEm6I,EAAW5yJ,UAAU+C,GAAK,SAASsQ,EAAUoF,EAAOm8I,GACnD,GAAIp0J,EAECo0J,GAIJx8J,EAAE4J,MAAMpJ,KAAKo6J,UAAUjwJ,GAAInK,KAAKk4E,MAAMz9D,EAAUoF,IAHhDjY,EAAS5H,KAAKk6J,MAAMtyJ,OACpBpI,EAAE4J,MAAMpJ,KAAKo6J,UAAUjwJ,GAAInK,KAAKk4E,MAAMl4E,KAAKk6J,OAAQz/I,EAAW7S,EAAUA,GAAUA,GAAQyY,MAAOR,KAMnGrgB,EAAE6E,GAAGimJ,YAAYliJ,YAAY0iJ,QAAQkP,WAAaA,GAEhD9sJ,OAAOsoJ,OAAStoJ,OAAOhJ,OAAQgJ,OAAQxI,UAQzC,SAAUlF,EAAG0N,EAAQxI,EAAUO,GAC/B,YAOA,IAAIg3J,GAAO,SAASpvJ,GAKnB7M,KAAKk4E,KAAOrrE,EAMZ7M,KAAKk8J,UAMLl8J,KAAK2I,SAAW3I,KAAKk4E,KAAKzvD,IAAIljB,IAM9BvF,KAAKk6F,UACJiiE,2BAA4B38J,EAAE4J,MAAM,WAC/B8D,EAAOm6I,SAAS+U,KAAK35I,UAAU,IAClCjjB,EAAE0N,GAAQxH,QAAQ,8BAEjB1F,MACH21J,uBAAwBn2J,EAAE4J,MAAM,SAASjD,GACpCnG,KAAKq6J,UACRl0J,EAAE2qJ,SAAS98I,MAAMpN,KAAK,YAAYw1J,KAC/B58J,EAAE,eAAgB2G,EAAE2qJ,SAAS98I,OAAOvK,KAAK,eAAe8wJ,UAAU3zJ,KAAK,QAC1E5G,KAAKk8J,OAAO/1J,EAAE2qJ,SAAS98I,MAAMpN,KAAK,YAAYw1J,MAAQj2J,EAAE2qJ,SAAS98I,QAEhEhU,MACH64J,sBAAuBr5J,EAAE4J,MAAM,SAASjD,GAChB,YAAnBA,EAAE2qJ,SAASjyJ,MAAsBmB,KAAKk4E,KAAK9uB,YAAcnkD,GACrB,WAApCjF,KAAKk4E,KAAKsyE,SAAS6D,gBACtBloJ,EAAES,KAAO5G,KAAKk8J,OAAOhvJ,EAAOm6I,SAAS+U,KAAK35I,UAAU,KAErDziB,KAAKq6J,QAA6B,QAAnBl0J,EAAE2qJ,SAASjyJ,MAAkBsH,EAAE2qJ,SAAS98I,OAAS7N,EAAE2qJ,SAAS98I,MAAM3N,GAAG,WAClFrG,OAIJA,KAAKk4E,KAAK5vE,QAAU9I,EAAEoJ,UAAWqzJ,EAAKj8B,SAAUhgI,KAAKk4E,KAAK5vE,SAG1DtI,KAAK2I,SAAS3B,GAAGhH,KAAKk6F,UAGtB16F,EAAE0N,GAAQlG,GAAG,4BAA6BxH,EAAE4J,MAAM,WACjD,GAAIgzJ,GAAOlvJ,EAAOm6I,SAAS+U,KAAK35I,UAAU,GACzC5F,EAAQ7c,KAAKk4E,KAAKzvD,IAAIwjI,QACtBxxI,EAAWza,KAAKk8J,OAAOE,IAASv/I,EAAMnR,MAAM1L,KAAKk8J,OAAOE,KAAU,CAEnE,OAAKA,IAILp8J,KAAKk4E,KAAKzvD,IAAIsjI,OAAO1zH,WAAa,MAClCr4B,MAAKk4E,KAAK/tE,GAAGsQ,GAAU,GAAO,KAJtB,GAKNza,OAOJi8J,GAAKj8B,UACJq8B,iBAAiB,GAOlBJ,EAAK70J,UAAUyQ,QAAU,WACxB,GAAItR,GAASuqJ,CAEbtxJ,GAAE0N,GAAQgD,IAAI,4BAEd,KAAK3J,IAAWvG,MAAKk6F,SACpBl6F,KAAK01J,IAAIjtI,IAAIljB,IAAI2K,IAAI3J,EAASvG,KAAKk6F,SAAS3zF,GAE7C,KAAKuqJ,IAAY7xI,QAAO82I,oBAAoB/1J,MAClB,kBAAlBA,MAAK8wJ,KAA4B9wJ,KAAK8wJ,GAAY,OAI3DtxJ,EAAE6E,GAAGimJ,YAAYliJ,YAAY0iJ,QAAQmR,KAAOA,GAE1C/uJ,OAAOsoJ,OAAStoJ,OAAOhJ,OAAQgJ,OAAQxI,UAsS1ClF,EAAEkF,UAAUsC,GAAG,QAAS,2BAA4B,SAASb,GAEzD,GAAIg0D,GAAO36D,EAAEQ,MAAMyJ,KAAK,IACrB0wD,GAAKh4D,KAAK,UAENg4D,EAAKh4D,KAAK,UAET+K,OAAOuqB,KAAK0iC,EAAKh4D,KAAK,QAASg4D,EAAKh4D,KAAK,WAIzC+K,OAAOm6I,SAAWltF,EAAKh4D,KAAK,WAIxC3C,EAAEkF,UAAUsC,GAAG,QAAS,SAAU,WAEiB,GAA5CxH,EAAE,IAAIA,EAAEQ,MAAM4G,KAAK,eAAegB,SAEjC5D,eACAJ,aAAapE,EAAEQ,MAAM4G,KAAK,kBAIlCpH,EAAEkF,UAAUsC,GAAG,YAAa,SAAU,WAElC,GAAIs1J,GAAU98J,EAAE,wBAAyBA,EAAEQ,MAAM4G,KAAK,cAAe,MAAMiB,QAAQ,WACnFy0J,GAAQh7J,IAAI,UAAW,KAG3B9B,EAAEkF,UAAUsC,GAAG,WAAY,SAAU,WAEjC,GAAIs1J,GAAU98J,EAAE,wBAAyBA,EAAEQ,MAAM4G,KAAK,cAAe,MAAMiB,QAAQ,WACnFy0J,GAAQh7J,IAAI,UAAW,MAG3B9B,EAAEkF,UAAUsC,GAAG,QAAS,cAAe,WAEnCpD,aAAapE,EAAEQ,MAAM4G,KAAK,iBAG9BpH,EAAEkF,UAAUsC,GAAG,QAAS,iBAAkB,WAEtC/C,gBACAD,gBAGJ,IAAIV,WAAY9D,EAAE,YA8BlBA,GAAE,gBAAgBy4F,SACd5kC,YAAa,0BACbl8B,MACItN,IAAK,UACLquI,SAAU,OACVrlJ,MAAO,IACPjM,KAAM,SAASie,GAEX,OACIzD,EAAGyD,EAAO4+E,KACV43B,KAAMx2G,EAAOw2G,OAGrBjB,eAAgB,SAASxzH,EAAMy0H,GAE3B,OACIrnF,QAASptC,IAGjBid,OAAO,GAEXi4G,mBAAoB,EACpB5+B,aAAc,SAASzwC,GAEnB,MAAOA,IAEXu1E,eAAgB,SAASp7H,GAErB,MAAGA,GAAK4b,KAEG,mBAAqB5b,EAAKqD,OAAS,KAAOrD,EAAK4b,KAAO,UAFjE,QAKJy/G,kBAAmB,SAASr7H,GAErBA,EAAKqD,SAEJiD,OAAOm6I,SAAWzgJ,EAAKqD,QAE3BsyJ","file":"admin.js","sourcesContent":["/*!\n * Bootstrap v3.3.4 (http://getbootstrap.com)\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n */\n\nif (typeof jQuery === 'undefined') {\n  throw new Error('Bootstrap\\'s JavaScript requires jQuery')\n}\n\n+function ($) {\n  'use strict';\n  var version = $.fn.jquery.split(' ')[0].split('.')\n  if ((version[0] < 2 && version[1] < 9) || (version[0] == 1 && version[1] == 9 && version[2] < 1)) {\n    throw new Error('Bootstrap\\'s JavaScript requires jQuery version 1.9.1 or higher')\n  }\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: transition.js v3.3.4\n * http://getbootstrap.com/javascript/#transitions\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)\n  // ============================================================\n\n  function transitionEnd() {\n    var el = document.createElement('bootstrap')\n\n    var transEndEventNames = {\n      WebkitTransition : 'webkitTransitionEnd',\n      MozTransition    : 'transitionend',\n      OTransition      : 'oTransitionEnd otransitionend',\n      transition       : 'transitionend'\n    }\n\n    for (var name in transEndEventNames) {\n      if (el.style[name] !== undefined) {\n        return { end: transEndEventNames[name] }\n      }\n    }\n\n    return false // explicit for ie8 (  ._.)\n  }\n\n  // http://blog.alexmaccaw.com/css-transitions\n  $.fn.emulateTransitionEnd = function (duration) {\n    var called = false\n    var $el = this\n    $(this).one('bsTransitionEnd', function () { called = true })\n    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }\n    setTimeout(callback, duration)\n    return this\n  }\n\n  $(function () {\n    $.support.transition = transitionEnd()\n\n    if (!$.support.transition) return\n\n    $.event.special.bsTransitionEnd = {\n      bindType: $.support.transition.end,\n      delegateType: $.support.transition.end,\n      handle: function (e) {\n        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)\n      }\n    }\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: alert.js v3.3.4\n * http://getbootstrap.com/javascript/#alerts\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // ALERT CLASS DEFINITION\n  // ======================\n\n  var dismiss = '[data-dismiss=\"alert\"]'\n  var Alert   = function (el) {\n    $(el).on('click', dismiss, this.close)\n  }\n\n  Alert.VERSION = '3.3.4'\n\n  Alert.TRANSITION_DURATION = 150\n\n  Alert.prototype.close = function (e) {\n    var $this    = $(this)\n    var selector = $this.attr('data-target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    var $parent = $(selector)\n\n    if (e) e.preventDefault()\n\n    if (!$parent.length) {\n      $parent = $this.closest('.alert')\n    }\n\n    $parent.trigger(e = $.Event('close.bs.alert'))\n\n    if (e.isDefaultPrevented()) return\n\n    $parent.removeClass('in')\n\n    function removeElement() {\n      // detach from parent, fire event then clean up data\n      $parent.detach().trigger('closed.bs.alert').remove()\n    }\n\n    $.support.transition && $parent.hasClass('fade') ?\n      $parent\n        .one('bsTransitionEnd', removeElement)\n        .emulateTransitionEnd(Alert.TRANSITION_DURATION) :\n      removeElement()\n  }\n\n\n  // ALERT PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.alert')\n\n      if (!data) $this.data('bs.alert', (data = new Alert(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.alert\n\n  $.fn.alert             = Plugin\n  $.fn.alert.Constructor = Alert\n\n\n  // ALERT NO CONFLICT\n  // =================\n\n  $.fn.alert.noConflict = function () {\n    $.fn.alert = old\n    return this\n  }\n\n\n  // ALERT DATA-API\n  // ==============\n\n  $(document).on('click.bs.alert.data-api', dismiss, Alert.prototype.close)\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: button.js v3.3.4\n * http://getbootstrap.com/javascript/#buttons\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // BUTTON PUBLIC CLASS DEFINITION\n  // ==============================\n\n  var Button = function (element, options) {\n    this.$element  = $(element)\n    this.options   = $.extend({}, Button.DEFAULTS, options)\n    this.isLoading = false\n  }\n\n  Button.VERSION  = '3.3.4'\n\n  Button.DEFAULTS = {\n    loadingText: 'loading...'\n  }\n\n  Button.prototype.setState = function (state) {\n    var d    = 'disabled'\n    var $el  = this.$element\n    var val  = $el.is('input') ? 'val' : 'html'\n    var data = $el.data()\n\n    state = state + 'Text'\n\n    if (data.resetText == null) $el.data('resetText', $el[val]())\n\n    // push to event loop to allow forms to submit\n    setTimeout($.proxy(function () {\n      $el[val](data[state] == null ? this.options[state] : data[state])\n\n      if (state == 'loadingText') {\n        this.isLoading = true\n        $el.addClass(d).attr(d, d)\n      } else if (this.isLoading) {\n        this.isLoading = false\n        $el.removeClass(d).removeAttr(d)\n      }\n    }, this), 0)\n  }\n\n  Button.prototype.toggle = function () {\n    var changed = true\n    var $parent = this.$element.closest('[data-toggle=\"buttons\"]')\n\n    if ($parent.length) {\n      var $input = this.$element.find('input')\n      if ($input.prop('type') == 'radio') {\n        if ($input.prop('checked') && this.$element.hasClass('active')) changed = false\n        else $parent.find('.active').removeClass('active')\n      }\n      if (changed) $input.prop('checked', !this.$element.hasClass('active')).trigger('change')\n    } else {\n      this.$element.attr('aria-pressed', !this.$element.hasClass('active'))\n    }\n\n    if (changed) this.$element.toggleClass('active')\n  }\n\n\n  // BUTTON PLUGIN DEFINITION\n  // ========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.button')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.button', (data = new Button(this, options)))\n\n      if (option == 'toggle') data.toggle()\n      else if (option) data.setState(option)\n    })\n  }\n\n  var old = $.fn.button\n\n  $.fn.button             = Plugin\n  $.fn.button.Constructor = Button\n\n\n  // BUTTON NO CONFLICT\n  // ==================\n\n  $.fn.button.noConflict = function () {\n    $.fn.button = old\n    return this\n  }\n\n\n  // BUTTON DATA-API\n  // ===============\n\n  $(document)\n    .on('click.bs.button.data-api', '[data-toggle^=\"button\"]', function (e) {\n      var $btn = $(e.target)\n      if (!$btn.hasClass('btn')) $btn = $btn.closest('.btn')\n      Plugin.call($btn, 'toggle')\n      e.preventDefault()\n    })\n    .on('focus.bs.button.data-api blur.bs.button.data-api', '[data-toggle^=\"button\"]', function (e) {\n      $(e.target).closest('.btn').toggleClass('focus', /^focus(in)?$/.test(e.type))\n    })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: carousel.js v3.3.4\n * http://getbootstrap.com/javascript/#carousel\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // CAROUSEL CLASS DEFINITION\n  // =========================\n\n  var Carousel = function (element, options) {\n    this.$element    = $(element)\n    this.$indicators = this.$element.find('.carousel-indicators')\n    this.options     = options\n    this.paused      = null\n    this.sliding     = null\n    this.interval    = null\n    this.$active     = null\n    this.$items      = null\n\n    this.options.keyboard && this.$element.on('keydown.bs.carousel', $.proxy(this.keydown, this))\n\n    this.options.pause == 'hover' && !('ontouchstart' in document.documentElement) && this.$element\n      .on('mouseenter.bs.carousel', $.proxy(this.pause, this))\n      .on('mouseleave.bs.carousel', $.proxy(this.cycle, this))\n  }\n\n  Carousel.VERSION  = '3.3.4'\n\n  Carousel.TRANSITION_DURATION = 600\n\n  Carousel.DEFAULTS = {\n    interval: 5000,\n    pause: 'hover',\n    wrap: true,\n    keyboard: true\n  }\n\n  Carousel.prototype.keydown = function (e) {\n    if (/input|textarea/i.test(e.target.tagName)) return\n    switch (e.which) {\n      case 37: this.prev(); break\n      case 39: this.next(); break\n      default: return\n    }\n\n    e.preventDefault()\n  }\n\n  Carousel.prototype.cycle = function (e) {\n    e || (this.paused = false)\n\n    this.interval && clearInterval(this.interval)\n\n    this.options.interval\n      && !this.paused\n      && (this.interval = setInterval($.proxy(this.next, this), this.options.interval))\n\n    return this\n  }\n\n  Carousel.prototype.getItemIndex = function (item) {\n    this.$items = item.parent().children('.item')\n    return this.$items.index(item || this.$active)\n  }\n\n  Carousel.prototype.getItemForDirection = function (direction, active) {\n    var activeIndex = this.getItemIndex(active)\n    var willWrap = (direction == 'prev' && activeIndex === 0)\n                || (direction == 'next' && activeIndex == (this.$items.length - 1))\n    if (willWrap && !this.options.wrap) return active\n    var delta = direction == 'prev' ? -1 : 1\n    var itemIndex = (activeIndex + delta) % this.$items.length\n    return this.$items.eq(itemIndex)\n  }\n\n  Carousel.prototype.to = function (pos) {\n    var that        = this\n    var activeIndex = this.getItemIndex(this.$active = this.$element.find('.item.active'))\n\n    if (pos > (this.$items.length - 1) || pos < 0) return\n\n    if (this.sliding)       return this.$element.one('slid.bs.carousel', function () { that.to(pos) }) // yes, \"slid\"\n    if (activeIndex == pos) return this.pause().cycle()\n\n    return this.slide(pos > activeIndex ? 'next' : 'prev', this.$items.eq(pos))\n  }\n\n  Carousel.prototype.pause = function (e) {\n    e || (this.paused = true)\n\n    if (this.$element.find('.next, .prev').length && $.support.transition) {\n      this.$element.trigger($.support.transition.end)\n      this.cycle(true)\n    }\n\n    this.interval = clearInterval(this.interval)\n\n    return this\n  }\n\n  Carousel.prototype.next = function () {\n    if (this.sliding) return\n    return this.slide('next')\n  }\n\n  Carousel.prototype.prev = function () {\n    if (this.sliding) return\n    return this.slide('prev')\n  }\n\n  Carousel.prototype.slide = function (type, next) {\n    var $active   = this.$element.find('.item.active')\n    var $next     = next || this.getItemForDirection(type, $active)\n    var isCycling = this.interval\n    var direction = type == 'next' ? 'left' : 'right'\n    var that      = this\n\n    if ($next.hasClass('active')) return (this.sliding = false)\n\n    var relatedTarget = $next[0]\n    var slideEvent = $.Event('slide.bs.carousel', {\n      relatedTarget: relatedTarget,\n      direction: direction\n    })\n    this.$element.trigger(slideEvent)\n    if (slideEvent.isDefaultPrevented()) return\n\n    this.sliding = true\n\n    isCycling && this.pause()\n\n    if (this.$indicators.length) {\n      this.$indicators.find('.active').removeClass('active')\n      var $nextIndicator = $(this.$indicators.children()[this.getItemIndex($next)])\n      $nextIndicator && $nextIndicator.addClass('active')\n    }\n\n    var slidEvent = $.Event('slid.bs.carousel', { relatedTarget: relatedTarget, direction: direction }) // yes, \"slid\"\n    if ($.support.transition && this.$element.hasClass('slide')) {\n      $next.addClass(type)\n      $next[0].offsetWidth // force reflow\n      $active.addClass(direction)\n      $next.addClass(direction)\n      $active\n        .one('bsTransitionEnd', function () {\n          $next.removeClass([type, direction].join(' ')).addClass('active')\n          $active.removeClass(['active', direction].join(' '))\n          that.sliding = false\n          setTimeout(function () {\n            that.$element.trigger(slidEvent)\n          }, 0)\n        })\n        .emulateTransitionEnd(Carousel.TRANSITION_DURATION)\n    } else {\n      $active.removeClass('active')\n      $next.addClass('active')\n      this.sliding = false\n      this.$element.trigger(slidEvent)\n    }\n\n    isCycling && this.cycle()\n\n    return this\n  }\n\n\n  // CAROUSEL PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.carousel')\n      var options = $.extend({}, Carousel.DEFAULTS, $this.data(), typeof option == 'object' && option)\n      var action  = typeof option == 'string' ? option : options.slide\n\n      if (!data) $this.data('bs.carousel', (data = new Carousel(this, options)))\n      if (typeof option == 'number') data.to(option)\n      else if (action) data[action]()\n      else if (options.interval) data.pause().cycle()\n    })\n  }\n\n  var old = $.fn.carousel\n\n  $.fn.carousel             = Plugin\n  $.fn.carousel.Constructor = Carousel\n\n\n  // CAROUSEL NO CONFLICT\n  // ====================\n\n  $.fn.carousel.noConflict = function () {\n    $.fn.carousel = old\n    return this\n  }\n\n\n  // CAROUSEL DATA-API\n  // =================\n\n  var clickHandler = function (e) {\n    var href\n    var $this   = $(this)\n    var $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '')) // strip for ie7\n    if (!$target.hasClass('carousel')) return\n    var options = $.extend({}, $target.data(), $this.data())\n    var slideIndex = $this.attr('data-slide-to')\n    if (slideIndex) options.interval = false\n\n    Plugin.call($target, options)\n\n    if (slideIndex) {\n      $target.data('bs.carousel').to(slideIndex)\n    }\n\n    e.preventDefault()\n  }\n\n  $(document)\n    .on('click.bs.carousel.data-api', '[data-slide]', clickHandler)\n    .on('click.bs.carousel.data-api', '[data-slide-to]', clickHandler)\n\n  $(window).on('load', function () {\n    $('[data-ride=\"carousel\"]').each(function () {\n      var $carousel = $(this)\n      Plugin.call($carousel, $carousel.data())\n    })\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: collapse.js v3.3.4\n * http://getbootstrap.com/javascript/#collapse\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // COLLAPSE PUBLIC CLASS DEFINITION\n  // ================================\n\n  var Collapse = function (element, options) {\n    this.$element      = $(element)\n    this.options       = $.extend({}, Collapse.DEFAULTS, options)\n    this.$trigger      = $('[data-toggle=\"collapse\"][href=\"#' + element.id + '\"],' +\n                           '[data-toggle=\"collapse\"][data-target=\"#' + element.id + '\"]')\n    this.transitioning = null\n\n    if (this.options.parent) {\n      this.$parent = this.getParent()\n    } else {\n      this.addAriaAndCollapsedClass(this.$element, this.$trigger)\n    }\n\n    if (this.options.toggle) this.toggle()\n  }\n\n  Collapse.VERSION  = '3.3.4'\n\n  Collapse.TRANSITION_DURATION = 350\n\n  Collapse.DEFAULTS = {\n    toggle: true\n  }\n\n  Collapse.prototype.dimension = function () {\n    var hasWidth = this.$element.hasClass('width')\n    return hasWidth ? 'width' : 'height'\n  }\n\n  Collapse.prototype.show = function () {\n    if (this.transitioning || this.$element.hasClass('in')) return\n\n    var activesData\n    var actives = this.$parent && this.$parent.children('.panel').children('.in, .collapsing')\n\n    if (actives && actives.length) {\n      activesData = actives.data('bs.collapse')\n      if (activesData && activesData.transitioning) return\n    }\n\n    var startEvent = $.Event('show.bs.collapse')\n    this.$element.trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) return\n\n    if (actives && actives.length) {\n      Plugin.call(actives, 'hide')\n      activesData || actives.data('bs.collapse', null)\n    }\n\n    var dimension = this.dimension()\n\n    this.$element\n      .removeClass('collapse')\n      .addClass('collapsing')[dimension](0)\n      .attr('aria-expanded', true)\n\n    this.$trigger\n      .removeClass('collapsed')\n      .attr('aria-expanded', true)\n\n    this.transitioning = 1\n\n    var complete = function () {\n      this.$element\n        .removeClass('collapsing')\n        .addClass('collapse in')[dimension]('')\n      this.transitioning = 0\n      this.$element\n        .trigger('shown.bs.collapse')\n    }\n\n    if (!$.support.transition) return complete.call(this)\n\n    var scrollSize = $.camelCase(['scroll', dimension].join('-'))\n\n    this.$element\n      .one('bsTransitionEnd', $.proxy(complete, this))\n      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])\n  }\n\n  Collapse.prototype.hide = function () {\n    if (this.transitioning || !this.$element.hasClass('in')) return\n\n    var startEvent = $.Event('hide.bs.collapse')\n    this.$element.trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) return\n\n    var dimension = this.dimension()\n\n    this.$element[dimension](this.$element[dimension]())[0].offsetHeight\n\n    this.$element\n      .addClass('collapsing')\n      .removeClass('collapse in')\n      .attr('aria-expanded', false)\n\n    this.$trigger\n      .addClass('collapsed')\n      .attr('aria-expanded', false)\n\n    this.transitioning = 1\n\n    var complete = function () {\n      this.transitioning = 0\n      this.$element\n        .removeClass('collapsing')\n        .addClass('collapse')\n        .trigger('hidden.bs.collapse')\n    }\n\n    if (!$.support.transition) return complete.call(this)\n\n    this.$element\n      [dimension](0)\n      .one('bsTransitionEnd', $.proxy(complete, this))\n      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)\n  }\n\n  Collapse.prototype.toggle = function () {\n    this[this.$element.hasClass('in') ? 'hide' : 'show']()\n  }\n\n  Collapse.prototype.getParent = function () {\n    return $(this.options.parent)\n      .find('[data-toggle=\"collapse\"][data-parent=\"' + this.options.parent + '\"]')\n      .each($.proxy(function (i, element) {\n        var $element = $(element)\n        this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)\n      }, this))\n      .end()\n  }\n\n  Collapse.prototype.addAriaAndCollapsedClass = function ($element, $trigger) {\n    var isOpen = $element.hasClass('in')\n\n    $element.attr('aria-expanded', isOpen)\n    $trigger\n      .toggleClass('collapsed', !isOpen)\n      .attr('aria-expanded', isOpen)\n  }\n\n  function getTargetFromTrigger($trigger) {\n    var href\n    var target = $trigger.attr('data-target')\n      || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '') // strip for ie7\n\n    return $(target)\n  }\n\n\n  // COLLAPSE PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.collapse')\n      var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n      if (!data && options.toggle && /show|hide/.test(option)) options.toggle = false\n      if (!data) $this.data('bs.collapse', (data = new Collapse(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.collapse\n\n  $.fn.collapse             = Plugin\n  $.fn.collapse.Constructor = Collapse\n\n\n  // COLLAPSE NO CONFLICT\n  // ====================\n\n  $.fn.collapse.noConflict = function () {\n    $.fn.collapse = old\n    return this\n  }\n\n\n  // COLLAPSE DATA-API\n  // =================\n\n  $(document).on('click.bs.collapse.data-api', '[data-toggle=\"collapse\"]', function (e) {\n    var $this   = $(this)\n\n    if (!$this.attr('data-target')) e.preventDefault()\n\n    var $target = getTargetFromTrigger($this)\n    var data    = $target.data('bs.collapse')\n    var option  = data ? 'toggle' : $this.data()\n\n    Plugin.call($target, option)\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: dropdown.js v3.3.4\n * http://getbootstrap.com/javascript/#dropdowns\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // DROPDOWN CLASS DEFINITION\n  // =========================\n\n  var backdrop = '.dropdown-backdrop'\n  var toggle   = '[data-toggle=\"dropdown\"]'\n  var Dropdown = function (element) {\n    $(element).on('click.bs.dropdown', this.toggle)\n  }\n\n  Dropdown.VERSION = '3.3.4'\n\n  Dropdown.prototype.toggle = function (e) {\n    var $this = $(this)\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    clearMenus()\n\n    if (!isActive) {\n      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {\n        // if mobile we use a backdrop because click events don't delegate\n        $('<div class=\"dropdown-backdrop\"/>').insertAfter($(this)).on('click', clearMenus)\n      }\n\n      var relatedTarget = { relatedTarget: this }\n      $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this\n        .trigger('focus')\n        .attr('aria-expanded', 'true')\n\n      $parent\n        .toggleClass('open')\n        .trigger('shown.bs.dropdown', relatedTarget)\n    }\n\n    return false\n  }\n\n  Dropdown.prototype.keydown = function (e) {\n    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return\n\n    var $this = $(this)\n\n    e.preventDefault()\n    e.stopPropagation()\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    if ((!isActive && e.which != 27) || (isActive && e.which == 27)) {\n      if (e.which == 27) $parent.find(toggle).trigger('focus')\n      return $this.trigger('click')\n    }\n\n    var desc = ' li:not(.disabled):visible a'\n    var $items = $parent.find('[role=\"menu\"]' + desc + ', [role=\"listbox\"]' + desc)\n\n    if (!$items.length) return\n\n    var index = $items.index(e.target)\n\n    if (e.which == 38 && index > 0)                 index--                        // up\n    if (e.which == 40 && index < $items.length - 1) index++                        // down\n    if (!~index)                                      index = 0\n\n    $items.eq(index).trigger('focus')\n  }\n\n  function clearMenus(e) {\n    if (e && e.which === 3) return\n    $(backdrop).remove()\n    $(toggle).each(function () {\n      var $this         = $(this)\n      var $parent       = getParent($this)\n      var relatedTarget = { relatedTarget: this }\n\n      if (!$parent.hasClass('open')) return\n\n      $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this.attr('aria-expanded', 'false')\n      $parent.removeClass('open').trigger('hidden.bs.dropdown', relatedTarget)\n    })\n  }\n\n  function getParent($this) {\n    var selector = $this.attr('data-target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    var $parent = selector && $(selector)\n\n    return $parent && $parent.length ? $parent : $this.parent()\n  }\n\n\n  // DROPDOWN PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.dropdown')\n\n      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.dropdown\n\n  $.fn.dropdown             = Plugin\n  $.fn.dropdown.Constructor = Dropdown\n\n\n  // DROPDOWN NO CONFLICT\n  // ====================\n\n  $.fn.dropdown.noConflict = function () {\n    $.fn.dropdown = old\n    return this\n  }\n\n\n  // APPLY TO STANDARD DROPDOWN ELEMENTS\n  // ===================================\n\n  $(document)\n    .on('click.bs.dropdown.data-api', clearMenus)\n    .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })\n    .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)\n    .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)\n    .on('keydown.bs.dropdown.data-api', '[role=\"menu\"]', Dropdown.prototype.keydown)\n    .on('keydown.bs.dropdown.data-api', '[role=\"listbox\"]', Dropdown.prototype.keydown)\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: modal.js v3.3.4\n * http://getbootstrap.com/javascript/#modals\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // MODAL CLASS DEFINITION\n  // ======================\n\n  var Modal = function (element, options) {\n    this.options             = options\n    this.$body               = $(document.body)\n    this.$element            = $(element)\n    this.$dialog             = this.$element.find('.modal-dialog')\n    this.$backdrop           = null\n    this.isShown             = null\n    this.originalBodyPad     = null\n    this.scrollbarWidth      = 0\n    this.ignoreBackdropClick = false\n\n    if (this.options.remote) {\n      this.$element\n        .find('.modal-content')\n        .load(this.options.remote, $.proxy(function () {\n          this.$element.trigger('loaded.bs.modal')\n        }, this))\n    }\n  }\n\n  Modal.VERSION  = '3.3.4'\n\n  Modal.TRANSITION_DURATION = 300\n  Modal.BACKDROP_TRANSITION_DURATION = 150\n\n  Modal.DEFAULTS = {\n    backdrop: true,\n    keyboard: true,\n    show: true\n  }\n\n  Modal.prototype.toggle = function (_relatedTarget) {\n    return this.isShown ? this.hide() : this.show(_relatedTarget)\n  }\n\n  Modal.prototype.show = function (_relatedTarget) {\n    var that = this\n    var e    = $.Event('show.bs.modal', { relatedTarget: _relatedTarget })\n\n    this.$element.trigger(e)\n\n    if (this.isShown || e.isDefaultPrevented()) return\n\n    this.isShown = true\n\n    this.checkScrollbar()\n    this.setScrollbar()\n    this.$body.addClass('modal-open')\n\n    this.escape()\n    this.resize()\n\n    this.$element.on('click.dismiss.bs.modal', '[data-dismiss=\"modal\"]', $.proxy(this.hide, this))\n\n    this.$dialog.on('mousedown.dismiss.bs.modal', function () {\n      that.$element.one('mouseup.dismiss.bs.modal', function (e) {\n        if ($(e.target).is(that.$element)) that.ignoreBackdropClick = true\n      })\n    })\n\n    this.backdrop(function () {\n      var transition = $.support.transition && that.$element.hasClass('fade')\n\n      if (!that.$element.parent().length) {\n        that.$element.appendTo(that.$body) // don't move modals dom position\n      }\n\n      that.$element\n        .show()\n        .scrollTop(0)\n\n      that.adjustDialog()\n\n      if (transition) {\n        that.$element[0].offsetWidth // force reflow\n      }\n\n      that.$element\n        .addClass('in')\n        .attr('aria-hidden', false)\n\n      that.enforceFocus()\n\n      var e = $.Event('shown.bs.modal', { relatedTarget: _relatedTarget })\n\n      transition ?\n        that.$dialog // wait for modal to slide in\n          .one('bsTransitionEnd', function () {\n            that.$element.trigger('focus').trigger(e)\n          })\n          .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\n        that.$element.trigger('focus').trigger(e)\n    })\n  }\n\n  Modal.prototype.hide = function (e) {\n    if (e) e.preventDefault()\n\n    e = $.Event('hide.bs.modal')\n\n    this.$element.trigger(e)\n\n    if (!this.isShown || e.isDefaultPrevented()) return\n\n    this.isShown = false\n\n    this.escape()\n    this.resize()\n\n    $(document).off('focusin.bs.modal')\n\n    this.$element\n      .removeClass('in')\n      .attr('aria-hidden', true)\n      .off('click.dismiss.bs.modal')\n      .off('mouseup.dismiss.bs.modal')\n\n    this.$dialog.off('mousedown.dismiss.bs.modal')\n\n    $.support.transition && this.$element.hasClass('fade') ?\n      this.$element\n        .one('bsTransitionEnd', $.proxy(this.hideModal, this))\n        .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\n      this.hideModal()\n  }\n\n  Modal.prototype.enforceFocus = function () {\n    $(document)\n      .off('focusin.bs.modal') // guard against infinite focus loop\n      .on('focusin.bs.modal', $.proxy(function (e) {\n        if (this.$element[0] !== e.target && !this.$element.has(e.target).length) {\n          this.$element.trigger('focus')\n        }\n      }, this))\n  }\n\n  Modal.prototype.escape = function () {\n    if (this.isShown && this.options.keyboard) {\n      this.$element.on('keydown.dismiss.bs.modal', $.proxy(function (e) {\n        e.which == 27 && this.hide()\n      }, this))\n    } else if (!this.isShown) {\n      this.$element.off('keydown.dismiss.bs.modal')\n    }\n  }\n\n  Modal.prototype.resize = function () {\n    if (this.isShown) {\n      $(window).on('resize.bs.modal', $.proxy(this.handleUpdate, this))\n    } else {\n      $(window).off('resize.bs.modal')\n    }\n  }\n\n  Modal.prototype.hideModal = function () {\n    var that = this\n    this.$element.hide()\n    this.backdrop(function () {\n      that.$body.removeClass('modal-open')\n      that.resetAdjustments()\n      that.resetScrollbar()\n      that.$element.trigger('hidden.bs.modal')\n    })\n  }\n\n  Modal.prototype.removeBackdrop = function () {\n    this.$backdrop && this.$backdrop.remove()\n    this.$backdrop = null\n  }\n\n  Modal.prototype.backdrop = function (callback) {\n    var that = this\n    var animate = this.$element.hasClass('fade') ? 'fade' : ''\n\n    if (this.isShown && this.options.backdrop) {\n      var doAnimate = $.support.transition && animate\n\n      this.$backdrop = $('<div class=\"modal-backdrop ' + animate + '\" />')\n        .appendTo(this.$body)\n\n      this.$element.on('click.dismiss.bs.modal', $.proxy(function (e) {\n        if (this.ignoreBackdropClick) {\n          this.ignoreBackdropClick = false\n          return\n        }\n        if (e.target !== e.currentTarget) return\n        this.options.backdrop == 'static'\n          ? this.$element[0].focus()\n          : this.hide()\n      }, this))\n\n      if (doAnimate) this.$backdrop[0].offsetWidth // force reflow\n\n      this.$backdrop.addClass('in')\n\n      if (!callback) return\n\n      doAnimate ?\n        this.$backdrop\n          .one('bsTransitionEnd', callback)\n          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\n        callback()\n\n    } else if (!this.isShown && this.$backdrop) {\n      this.$backdrop.removeClass('in')\n\n      var callbackRemove = function () {\n        that.removeBackdrop()\n        callback && callback()\n      }\n      $.support.transition && this.$element.hasClass('fade') ?\n        this.$backdrop\n          .one('bsTransitionEnd', callbackRemove)\n          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\n        callbackRemove()\n\n    } else if (callback) {\n      callback()\n    }\n  }\n\n  // these following methods are used to handle overflowing modals\n\n  Modal.prototype.handleUpdate = function () {\n    this.adjustDialog()\n  }\n\n  Modal.prototype.adjustDialog = function () {\n    var modalIsOverflowing = this.$element[0].scrollHeight > document.documentElement.clientHeight\n\n    this.$element.css({\n      paddingLeft:  !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : '',\n      paddingRight: this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth : ''\n    })\n  }\n\n  Modal.prototype.resetAdjustments = function () {\n    this.$element.css({\n      paddingLeft: '',\n      paddingRight: ''\n    })\n  }\n\n  Modal.prototype.checkScrollbar = function () {\n    var fullWindowWidth = window.innerWidth\n    if (!fullWindowWidth) { // workaround for missing window.innerWidth in IE8\n      var documentElementRect = document.documentElement.getBoundingClientRect()\n      fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left)\n    }\n    this.bodyIsOverflowing = document.body.clientWidth < fullWindowWidth\n    this.scrollbarWidth = this.measureScrollbar()\n  }\n\n  Modal.prototype.setScrollbar = function () {\n    var bodyPad = parseInt((this.$body.css('padding-right') || 0), 10)\n    this.originalBodyPad = document.body.style.paddingRight || ''\n    if (this.bodyIsOverflowing) this.$body.css('padding-right', bodyPad + this.scrollbarWidth)\n  }\n\n  Modal.prototype.resetScrollbar = function () {\n    this.$body.css('padding-right', this.originalBodyPad)\n  }\n\n  Modal.prototype.measureScrollbar = function () { // thx walsh\n    var scrollDiv = document.createElement('div')\n    scrollDiv.className = 'modal-scrollbar-measure'\n    this.$body.append(scrollDiv)\n    var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth\n    this.$body[0].removeChild(scrollDiv)\n    return scrollbarWidth\n  }\n\n\n  // MODAL PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option, _relatedTarget) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.modal')\n      var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n      if (!data) $this.data('bs.modal', (data = new Modal(this, options)))\n      if (typeof option == 'string') data[option](_relatedTarget)\n      else if (options.show) data.show(_relatedTarget)\n    })\n  }\n\n  var old = $.fn.modal\n\n  $.fn.modal             = Plugin\n  $.fn.modal.Constructor = Modal\n\n\n  // MODAL NO CONFLICT\n  // =================\n\n  $.fn.modal.noConflict = function () {\n    $.fn.modal = old\n    return this\n  }\n\n\n  // MODAL DATA-API\n  // ==============\n\n  $(document).on('click.bs.modal.data-api', '[data-toggle=\"modal\"]', function (e) {\n    var $this   = $(this)\n    var href    = $this.attr('href')\n    var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\\s]+$)/, ''))) // strip for ie7\n    var option  = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())\n\n    if ($this.is('a')) e.preventDefault()\n\n    $target.one('show.bs.modal', function (showEvent) {\n      if (showEvent.isDefaultPrevented()) return // only register focus restorer if modal will actually get shown\n      $target.one('hidden.bs.modal', function () {\n        $this.is(':visible') && $this.trigger('focus')\n      })\n    })\n    Plugin.call($target, option, this)\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: tooltip.js v3.3.4\n * http://getbootstrap.com/javascript/#tooltip\n * Inspired by the original jQuery.tipsy by Jason Frame\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // TOOLTIP PUBLIC CLASS DEFINITION\n  // ===============================\n\n  var Tooltip = function (element, options) {\n    this.type       = null\n    this.options    = null\n    this.enabled    = null\n    this.timeout    = null\n    this.hoverState = null\n    this.$element   = null\n\n    this.init('tooltip', element, options)\n  }\n\n  Tooltip.VERSION  = '3.3.4'\n\n  Tooltip.TRANSITION_DURATION = 150\n\n  Tooltip.DEFAULTS = {\n    animation: true,\n    placement: 'top',\n    selector: false,\n    template: '<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',\n    trigger: 'hover focus',\n    title: '',\n    delay: 0,\n    html: false,\n    container: false,\n    viewport: {\n      selector: 'body',\n      padding: 0\n    }\n  }\n\n  Tooltip.prototype.init = function (type, element, options) {\n    this.enabled   = true\n    this.type      = type\n    this.$element  = $(element)\n    this.options   = this.getOptions(options)\n    this.$viewport = this.options.viewport && $(this.options.viewport.selector || this.options.viewport)\n\n    if (this.$element[0] instanceof document.constructor && !this.options.selector) {\n      throw new Error('`selector` option must be specified when initializing ' + this.type + ' on the window.document object!')\n    }\n\n    var triggers = this.options.trigger.split(' ')\n\n    for (var i = triggers.length; i--;) {\n      var trigger = triggers[i]\n\n      if (trigger == 'click') {\n        this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this))\n      } else if (trigger != 'manual') {\n        var eventIn  = trigger == 'hover' ? 'mouseenter' : 'focusin'\n        var eventOut = trigger == 'hover' ? 'mouseleave' : 'focusout'\n\n        this.$element.on(eventIn  + '.' + this.type, this.options.selector, $.proxy(this.enter, this))\n        this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this))\n      }\n    }\n\n    this.options.selector ?\n      (this._options = $.extend({}, this.options, { trigger: 'manual', selector: '' })) :\n      this.fixTitle()\n  }\n\n  Tooltip.prototype.getDefaults = function () {\n    return Tooltip.DEFAULTS\n  }\n\n  Tooltip.prototype.getOptions = function (options) {\n    options = $.extend({}, this.getDefaults(), this.$element.data(), options)\n\n    if (options.delay && typeof options.delay == 'number') {\n      options.delay = {\n        show: options.delay,\n        hide: options.delay\n      }\n    }\n\n    return options\n  }\n\n  Tooltip.prototype.getDelegateOptions = function () {\n    var options  = {}\n    var defaults = this.getDefaults()\n\n    this._options && $.each(this._options, function (key, value) {\n      if (defaults[key] != value) options[key] = value\n    })\n\n    return options\n  }\n\n  Tooltip.prototype.enter = function (obj) {\n    var self = obj instanceof this.constructor ?\n      obj : $(obj.currentTarget).data('bs.' + this.type)\n\n    if (self && self.$tip && self.$tip.is(':visible')) {\n      self.hoverState = 'in'\n      return\n    }\n\n    if (!self) {\n      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n      $(obj.currentTarget).data('bs.' + this.type, self)\n    }\n\n    clearTimeout(self.timeout)\n\n    self.hoverState = 'in'\n\n    if (!self.options.delay || !self.options.delay.show) return self.show()\n\n    self.timeout = setTimeout(function () {\n      if (self.hoverState == 'in') self.show()\n    }, self.options.delay.show)\n  }\n\n  Tooltip.prototype.leave = function (obj) {\n    var self = obj instanceof this.constructor ?\n      obj : $(obj.currentTarget).data('bs.' + this.type)\n\n    if (!self) {\n      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n      $(obj.currentTarget).data('bs.' + this.type, self)\n    }\n\n    clearTimeout(self.timeout)\n\n    self.hoverState = 'out'\n\n    if (!self.options.delay || !self.options.delay.hide) return self.hide()\n\n    self.timeout = setTimeout(function () {\n      if (self.hoverState == 'out') self.hide()\n    }, self.options.delay.hide)\n  }\n\n  Tooltip.prototype.show = function () {\n    var e = $.Event('show.bs.' + this.type)\n\n    if (this.hasContent() && this.enabled) {\n      this.$element.trigger(e)\n\n      var inDom = $.contains(this.$element[0].ownerDocument.documentElement, this.$element[0])\n      if (e.isDefaultPrevented() || !inDom) return\n      var that = this\n\n      var $tip = this.tip()\n\n      var tipId = this.getUID(this.type)\n\n      this.setContent()\n      $tip.attr('id', tipId)\n      this.$element.attr('aria-describedby', tipId)\n\n      if (this.options.animation) $tip.addClass('fade')\n\n      var placement = typeof this.options.placement == 'function' ?\n        this.options.placement.call(this, $tip[0], this.$element[0]) :\n        this.options.placement\n\n      var autoToken = /\\s?auto?\\s?/i\n      var autoPlace = autoToken.test(placement)\n      if (autoPlace) placement = placement.replace(autoToken, '') || 'top'\n\n      $tip\n        .detach()\n        .css({ top: 0, left: 0, display: 'block' })\n        .addClass(placement)\n        .data('bs.' + this.type, this)\n\n      this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element)\n\n      var pos          = this.getPosition()\n      var actualWidth  = $tip[0].offsetWidth\n      var actualHeight = $tip[0].offsetHeight\n\n      if (autoPlace) {\n        var orgPlacement = placement\n        var $container   = this.options.container ? $(this.options.container) : this.$element.parent()\n        var containerDim = this.getPosition($container)\n\n        placement = placement == 'bottom' && pos.bottom + actualHeight > containerDim.bottom ? 'top'    :\n                    placement == 'top'    && pos.top    - actualHeight < containerDim.top    ? 'bottom' :\n                    placement == 'right'  && pos.right  + actualWidth  > containerDim.width  ? 'left'   :\n                    placement == 'left'   && pos.left   - actualWidth  < containerDim.left   ? 'right'  :\n                    placement\n\n        $tip\n          .removeClass(orgPlacement)\n          .addClass(placement)\n      }\n\n      var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight)\n\n      this.applyPlacement(calculatedOffset, placement)\n\n      var complete = function () {\n        var prevHoverState = that.hoverState\n        that.$element.trigger('shown.bs.' + that.type)\n        that.hoverState = null\n\n        if (prevHoverState == 'out') that.leave(that)\n      }\n\n      $.support.transition && this.$tip.hasClass('fade') ?\n        $tip\n          .one('bsTransitionEnd', complete)\n          .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\n        complete()\n    }\n  }\n\n  Tooltip.prototype.applyPlacement = function (offset, placement) {\n    var $tip   = this.tip()\n    var width  = $tip[0].offsetWidth\n    var height = $tip[0].offsetHeight\n\n    // manually read margins because getBoundingClientRect includes difference\n    var marginTop = parseInt($tip.css('margin-top'), 10)\n    var marginLeft = parseInt($tip.css('margin-left'), 10)\n\n    // we must check for NaN for ie 8/9\n    if (isNaN(marginTop))  marginTop  = 0\n    if (isNaN(marginLeft)) marginLeft = 0\n\n    offset.top  = offset.top  + marginTop\n    offset.left = offset.left + marginLeft\n\n    // $.fn.offset doesn't round pixel values\n    // so we use setOffset directly with our own function B-0\n    $.offset.setOffset($tip[0], $.extend({\n      using: function (props) {\n        $tip.css({\n          top: Math.round(props.top),\n          left: Math.round(props.left)\n        })\n      }\n    }, offset), 0)\n\n    $tip.addClass('in')\n\n    // check to see if placing tip in new offset caused the tip to resize itself\n    var actualWidth  = $tip[0].offsetWidth\n    var actualHeight = $tip[0].offsetHeight\n\n    if (placement == 'top' && actualHeight != height) {\n      offset.top = offset.top + height - actualHeight\n    }\n\n    var delta = this.getViewportAdjustedDelta(placement, offset, actualWidth, actualHeight)\n\n    if (delta.left) offset.left += delta.left\n    else offset.top += delta.top\n\n    var isVertical          = /top|bottom/.test(placement)\n    var arrowDelta          = isVertical ? delta.left * 2 - width + actualWidth : delta.top * 2 - height + actualHeight\n    var arrowOffsetPosition = isVertical ? 'offsetWidth' : 'offsetHeight'\n\n    $tip.offset(offset)\n    this.replaceArrow(arrowDelta, $tip[0][arrowOffsetPosition], isVertical)\n  }\n\n  Tooltip.prototype.replaceArrow = function (delta, dimension, isVertical) {\n    this.arrow()\n      .css(isVertical ? 'left' : 'top', 50 * (1 - delta / dimension) + '%')\n      .css(isVertical ? 'top' : 'left', '')\n  }\n\n  Tooltip.prototype.setContent = function () {\n    var $tip  = this.tip()\n    var title = this.getTitle()\n\n    $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title)\n    $tip.removeClass('fade in top bottom left right')\n  }\n\n  Tooltip.prototype.hide = function (callback) {\n    var that = this\n    var $tip = $(this.$tip)\n    var e    = $.Event('hide.bs.' + this.type)\n\n    function complete() {\n      if (that.hoverState != 'in') $tip.detach()\n      that.$element\n        .removeAttr('aria-describedby')\n        .trigger('hidden.bs.' + that.type)\n      callback && callback()\n    }\n\n    this.$element.trigger(e)\n\n    if (e.isDefaultPrevented()) return\n\n    $tip.removeClass('in')\n\n    $.support.transition && $tip.hasClass('fade') ?\n      $tip\n        .one('bsTransitionEnd', complete)\n        .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\n      complete()\n\n    this.hoverState = null\n\n    return this\n  }\n\n  Tooltip.prototype.fixTitle = function () {\n    var $e = this.$element\n    if ($e.attr('title') || typeof ($e.attr('data-original-title')) != 'string') {\n      $e.attr('data-original-title', $e.attr('title') || '').attr('title', '')\n    }\n  }\n\n  Tooltip.prototype.hasContent = function () {\n    return this.getTitle()\n  }\n\n  Tooltip.prototype.getPosition = function ($element) {\n    $element   = $element || this.$element\n\n    var el     = $element[0]\n    var isBody = el.tagName == 'BODY'\n\n    var elRect    = el.getBoundingClientRect()\n    if (elRect.width == null) {\n      // width and height are missing in IE8, so compute them manually; see https://github.com/twbs/bootstrap/issues/14093\n      elRect = $.extend({}, elRect, { width: elRect.right - elRect.left, height: elRect.bottom - elRect.top })\n    }\n    var elOffset  = isBody ? { top: 0, left: 0 } : $element.offset()\n    var scroll    = { scroll: isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.scrollTop() }\n    var outerDims = isBody ? { width: $(window).width(), height: $(window).height() } : null\n\n    return $.extend({}, elRect, scroll, outerDims, elOffset)\n  }\n\n  Tooltip.prototype.getCalculatedOffset = function (placement, pos, actualWidth, actualHeight) {\n    return placement == 'bottom' ? { top: pos.top + pos.height,   left: pos.left + pos.width / 2 - actualWidth / 2 } :\n           placement == 'top'    ? { top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2 } :\n           placement == 'left'   ? { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth } :\n        /* placement == 'right' */ { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width }\n\n  }\n\n  Tooltip.prototype.getViewportAdjustedDelta = function (placement, pos, actualWidth, actualHeight) {\n    var delta = { top: 0, left: 0 }\n    if (!this.$viewport) return delta\n\n    var viewportPadding = this.options.viewport && this.options.viewport.padding || 0\n    var viewportDimensions = this.getPosition(this.$viewport)\n\n    if (/right|left/.test(placement)) {\n      var topEdgeOffset    = pos.top - viewportPadding - viewportDimensions.scroll\n      var bottomEdgeOffset = pos.top + viewportPadding - viewportDimensions.scroll + actualHeight\n      if (topEdgeOffset < viewportDimensions.top) { // top overflow\n        delta.top = viewportDimensions.top - topEdgeOffset\n      } else if (bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height) { // bottom overflow\n        delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset\n      }\n    } else {\n      var leftEdgeOffset  = pos.left - viewportPadding\n      var rightEdgeOffset = pos.left + viewportPadding + actualWidth\n      if (leftEdgeOffset < viewportDimensions.left) { // left overflow\n        delta.left = viewportDimensions.left - leftEdgeOffset\n      } else if (rightEdgeOffset > viewportDimensions.width) { // right overflow\n        delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset\n      }\n    }\n\n    return delta\n  }\n\n  Tooltip.prototype.getTitle = function () {\n    var title\n    var $e = this.$element\n    var o  = this.options\n\n    title = $e.attr('data-original-title')\n      || (typeof o.title == 'function' ? o.title.call($e[0]) :  o.title)\n\n    return title\n  }\n\n  Tooltip.prototype.getUID = function (prefix) {\n    do prefix += ~~(Math.random() * 1000000)\n    while (document.getElementById(prefix))\n    return prefix\n  }\n\n  Tooltip.prototype.tip = function () {\n    return (this.$tip = this.$tip || $(this.options.template))\n  }\n\n  Tooltip.prototype.arrow = function () {\n    return (this.$arrow = this.$arrow || this.tip().find('.tooltip-arrow'))\n  }\n\n  Tooltip.prototype.enable = function () {\n    this.enabled = true\n  }\n\n  Tooltip.prototype.disable = function () {\n    this.enabled = false\n  }\n\n  Tooltip.prototype.toggleEnabled = function () {\n    this.enabled = !this.enabled\n  }\n\n  Tooltip.prototype.toggle = function (e) {\n    var self = this\n    if (e) {\n      self = $(e.currentTarget).data('bs.' + this.type)\n      if (!self) {\n        self = new this.constructor(e.currentTarget, this.getDelegateOptions())\n        $(e.currentTarget).data('bs.' + this.type, self)\n      }\n    }\n\n    self.tip().hasClass('in') ? self.leave(self) : self.enter(self)\n  }\n\n  Tooltip.prototype.destroy = function () {\n    var that = this\n    clearTimeout(this.timeout)\n    this.hide(function () {\n      that.$element.off('.' + that.type).removeData('bs.' + that.type)\n    })\n  }\n\n\n  // TOOLTIP PLUGIN DEFINITION\n  // =========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.tooltip')\n      var options = typeof option == 'object' && option\n\n      if (!data && /destroy|hide/.test(option)) return\n      if (!data) $this.data('bs.tooltip', (data = new Tooltip(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.tooltip\n\n  $.fn.tooltip             = Plugin\n  $.fn.tooltip.Constructor = Tooltip\n\n\n  // TOOLTIP NO CONFLICT\n  // ===================\n\n  $.fn.tooltip.noConflict = function () {\n    $.fn.tooltip = old\n    return this\n  }\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: popover.js v3.3.4\n * http://getbootstrap.com/javascript/#popovers\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // POPOVER PUBLIC CLASS DEFINITION\n  // ===============================\n\n  var Popover = function (element, options) {\n    this.init('popover', element, options)\n  }\n\n  if (!$.fn.tooltip) throw new Error('Popover requires tooltip.js')\n\n  Popover.VERSION  = '3.3.4'\n\n  Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {\n    placement: 'right',\n    trigger: 'click',\n    content: '',\n    template: '<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'\n  })\n\n\n  // NOTE: POPOVER EXTENDS tooltip.js\n  // ================================\n\n  Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype)\n\n  Popover.prototype.constructor = Popover\n\n  Popover.prototype.getDefaults = function () {\n    return Popover.DEFAULTS\n  }\n\n  Popover.prototype.setContent = function () {\n    var $tip    = this.tip()\n    var title   = this.getTitle()\n    var content = this.getContent()\n\n    $tip.find('.popover-title')[this.options.html ? 'html' : 'text'](title)\n    $tip.find('.popover-content').children().detach().end()[ // we use append for html objects to maintain js events\n      this.options.html ? (typeof content == 'string' ? 'html' : 'append') : 'text'\n    ](content)\n\n    $tip.removeClass('fade top bottom left right in')\n\n    // IE8 doesn't accept hiding via the `:empty` pseudo selector, we have to do\n    // this manually by checking the contents.\n    if (!$tip.find('.popover-title').html()) $tip.find('.popover-title').hide()\n  }\n\n  Popover.prototype.hasContent = function () {\n    return this.getTitle() || this.getContent()\n  }\n\n  Popover.prototype.getContent = function () {\n    var $e = this.$element\n    var o  = this.options\n\n    return $e.attr('data-content')\n      || (typeof o.content == 'function' ?\n            o.content.call($e[0]) :\n            o.content)\n  }\n\n  Popover.prototype.arrow = function () {\n    return (this.$arrow = this.$arrow || this.tip().find('.arrow'))\n  }\n\n\n  // POPOVER PLUGIN DEFINITION\n  // =========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.popover')\n      var options = typeof option == 'object' && option\n\n      if (!data && /destroy|hide/.test(option)) return\n      if (!data) $this.data('bs.popover', (data = new Popover(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.popover\n\n  $.fn.popover             = Plugin\n  $.fn.popover.Constructor = Popover\n\n\n  // POPOVER NO CONFLICT\n  // ===================\n\n  $.fn.popover.noConflict = function () {\n    $.fn.popover = old\n    return this\n  }\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: scrollspy.js v3.3.4\n * http://getbootstrap.com/javascript/#scrollspy\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // SCROLLSPY CLASS DEFINITION\n  // ==========================\n\n  function ScrollSpy(element, options) {\n    this.$body          = $(document.body)\n    this.$scrollElement = $(element).is(document.body) ? $(window) : $(element)\n    this.options        = $.extend({}, ScrollSpy.DEFAULTS, options)\n    this.selector       = (this.options.target || '') + ' .nav li > a'\n    this.offsets        = []\n    this.targets        = []\n    this.activeTarget   = null\n    this.scrollHeight   = 0\n\n    this.$scrollElement.on('scroll.bs.scrollspy', $.proxy(this.process, this))\n    this.refresh()\n    this.process()\n  }\n\n  ScrollSpy.VERSION  = '3.3.4'\n\n  ScrollSpy.DEFAULTS = {\n    offset: 10\n  }\n\n  ScrollSpy.prototype.getScrollHeight = function () {\n    return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)\n  }\n\n  ScrollSpy.prototype.refresh = function () {\n    var that          = this\n    var offsetMethod  = 'offset'\n    var offsetBase    = 0\n\n    this.offsets      = []\n    this.targets      = []\n    this.scrollHeight = this.getScrollHeight()\n\n    if (!$.isWindow(this.$scrollElement[0])) {\n      offsetMethod = 'position'\n      offsetBase   = this.$scrollElement.scrollTop()\n    }\n\n    this.$body\n      .find(this.selector)\n      .map(function () {\n        var $el   = $(this)\n        var href  = $el.data('target') || $el.attr('href')\n        var $href = /^#./.test(href) && $(href)\n\n        return ($href\n          && $href.length\n          && $href.is(':visible')\n          && [[$href[offsetMethod]().top + offsetBase, href]]) || null\n      })\n      .sort(function (a, b) { return a[0] - b[0] })\n      .each(function () {\n        that.offsets.push(this[0])\n        that.targets.push(this[1])\n      })\n  }\n\n  ScrollSpy.prototype.process = function () {\n    var scrollTop    = this.$scrollElement.scrollTop() + this.options.offset\n    var scrollHeight = this.getScrollHeight()\n    var maxScroll    = this.options.offset + scrollHeight - this.$scrollElement.height()\n    var offsets      = this.offsets\n    var targets      = this.targets\n    var activeTarget = this.activeTarget\n    var i\n\n    if (this.scrollHeight != scrollHeight) {\n      this.refresh()\n    }\n\n    if (scrollTop >= maxScroll) {\n      return activeTarget != (i = targets[targets.length - 1]) && this.activate(i)\n    }\n\n    if (activeTarget && scrollTop < offsets[0]) {\n      this.activeTarget = null\n      return this.clear()\n    }\n\n    for (i = offsets.length; i--;) {\n      activeTarget != targets[i]\n        && scrollTop >= offsets[i]\n        && (offsets[i + 1] === undefined || scrollTop < offsets[i + 1])\n        && this.activate(targets[i])\n    }\n  }\n\n  ScrollSpy.prototype.activate = function (target) {\n    this.activeTarget = target\n\n    this.clear()\n\n    var selector = this.selector +\n      '[data-target=\"' + target + '\"],' +\n      this.selector + '[href=\"' + target + '\"]'\n\n    var active = $(selector)\n      .parents('li')\n      .addClass('active')\n\n    if (active.parent('.dropdown-menu').length) {\n      active = active\n        .closest('li.dropdown')\n        .addClass('active')\n    }\n\n    active.trigger('activate.bs.scrollspy')\n  }\n\n  ScrollSpy.prototype.clear = function () {\n    $(this.selector)\n      .parentsUntil(this.options.target, '.active')\n      .removeClass('active')\n  }\n\n\n  // SCROLLSPY PLUGIN DEFINITION\n  // ===========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.scrollspy')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.scrollspy', (data = new ScrollSpy(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.scrollspy\n\n  $.fn.scrollspy             = Plugin\n  $.fn.scrollspy.Constructor = ScrollSpy\n\n\n  // SCROLLSPY NO CONFLICT\n  // =====================\n\n  $.fn.scrollspy.noConflict = function () {\n    $.fn.scrollspy = old\n    return this\n  }\n\n\n  // SCROLLSPY DATA-API\n  // ==================\n\n  $(window).on('load.bs.scrollspy.data-api', function () {\n    $('[data-spy=\"scroll\"]').each(function () {\n      var $spy = $(this)\n      Plugin.call($spy, $spy.data())\n    })\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: tab.js v3.3.4\n * http://getbootstrap.com/javascript/#tabs\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // TAB CLASS DEFINITION\n  // ====================\n\n  var Tab = function (element) {\n    this.element = $(element)\n  }\n\n  Tab.VERSION = '3.3.4'\n\n  Tab.TRANSITION_DURATION = 150\n\n  Tab.prototype.show = function () {\n    var $this    = this.element\n    var $ul      = $this.closest('ul:not(.dropdown-menu)')\n    var selector = $this.data('target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    if ($this.parent('li').hasClass('active')) return\n\n    var $previous = $ul.find('.active:last a')\n    var hideEvent = $.Event('hide.bs.tab', {\n      relatedTarget: $this[0]\n    })\n    var showEvent = $.Event('show.bs.tab', {\n      relatedTarget: $previous[0]\n    })\n\n    $previous.trigger(hideEvent)\n    $this.trigger(showEvent)\n\n    if (showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented()) return\n\n    var $target = $(selector)\n\n    this.activate($this.closest('li'), $ul)\n    this.activate($target, $target.parent(), function () {\n      $previous.trigger({\n        type: 'hidden.bs.tab',\n        relatedTarget: $this[0]\n      })\n      $this.trigger({\n        type: 'shown.bs.tab',\n        relatedTarget: $previous[0]\n      })\n    })\n  }\n\n  Tab.prototype.activate = function (element, container, callback) {\n    var $active    = container.find('> .active')\n    var transition = callback\n      && $.support.transition\n      && (($active.length && $active.hasClass('fade')) || !!container.find('> .fade').length)\n\n    function next() {\n      $active\n        .removeClass('active')\n        .find('> .dropdown-menu > .active')\n          .removeClass('active')\n        .end()\n        .find('[data-toggle=\"tab\"]')\n          .attr('aria-expanded', false)\n\n      element\n        .addClass('active')\n        .find('[data-toggle=\"tab\"]')\n          .attr('aria-expanded', true)\n\n      if (transition) {\n        element[0].offsetWidth // reflow for transition\n        element.addClass('in')\n      } else {\n        element.removeClass('fade')\n      }\n\n      if (element.parent('.dropdown-menu').length) {\n        element\n          .closest('li.dropdown')\n            .addClass('active')\n          .end()\n          .find('[data-toggle=\"tab\"]')\n            .attr('aria-expanded', true)\n      }\n\n      callback && callback()\n    }\n\n    $active.length && transition ?\n      $active\n        .one('bsTransitionEnd', next)\n        .emulateTransitionEnd(Tab.TRANSITION_DURATION) :\n      next()\n\n    $active.removeClass('in')\n  }\n\n\n  // TAB PLUGIN DEFINITION\n  // =====================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.tab')\n\n      if (!data) $this.data('bs.tab', (data = new Tab(this)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.tab\n\n  $.fn.tab             = Plugin\n  $.fn.tab.Constructor = Tab\n\n\n  // TAB NO CONFLICT\n  // ===============\n\n  $.fn.tab.noConflict = function () {\n    $.fn.tab = old\n    return this\n  }\n\n\n  // TAB DATA-API\n  // ============\n\n  var clickHandler = function (e) {\n    e.preventDefault()\n    Plugin.call($(this), 'show')\n  }\n\n  $(document)\n    .on('click.bs.tab.data-api', '[data-toggle=\"tab\"]', clickHandler)\n    .on('click.bs.tab.data-api', '[data-toggle=\"pill\"]', clickHandler)\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: affix.js v3.3.4\n * http://getbootstrap.com/javascript/#affix\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // AFFIX CLASS DEFINITION\n  // ======================\n\n  var Affix = function (element, options) {\n    this.options = $.extend({}, Affix.DEFAULTS, options)\n\n    this.$target = $(this.options.target)\n      .on('scroll.bs.affix.data-api', $.proxy(this.checkPosition, this))\n      .on('click.bs.affix.data-api',  $.proxy(this.checkPositionWithEventLoop, this))\n\n    this.$element     = $(element)\n    this.affixed      = null\n    this.unpin        = null\n    this.pinnedOffset = null\n\n    this.checkPosition()\n  }\n\n  Affix.VERSION  = '3.3.4'\n\n  Affix.RESET    = 'affix affix-top affix-bottom'\n\n  Affix.DEFAULTS = {\n    offset: 0,\n    target: window\n  }\n\n  Affix.prototype.getState = function (scrollHeight, height, offsetTop, offsetBottom) {\n    var scrollTop    = this.$target.scrollTop()\n    var position     = this.$element.offset()\n    var targetHeight = this.$target.height()\n\n    if (offsetTop != null && this.affixed == 'top') return scrollTop < offsetTop ? 'top' : false\n\n    if (this.affixed == 'bottom') {\n      if (offsetTop != null) return (scrollTop + this.unpin <= position.top) ? false : 'bottom'\n      return (scrollTop + targetHeight <= scrollHeight - offsetBottom) ? false : 'bottom'\n    }\n\n    var initializing   = this.affixed == null\n    var colliderTop    = initializing ? scrollTop : position.top\n    var colliderHeight = initializing ? targetHeight : height\n\n    if (offsetTop != null && scrollTop <= offsetTop) return 'top'\n    if (offsetBottom != null && (colliderTop + colliderHeight >= scrollHeight - offsetBottom)) return 'bottom'\n\n    return false\n  }\n\n  Affix.prototype.getPinnedOffset = function () {\n    if (this.pinnedOffset) return this.pinnedOffset\n    this.$element.removeClass(Affix.RESET).addClass('affix')\n    var scrollTop = this.$target.scrollTop()\n    var position  = this.$element.offset()\n    return (this.pinnedOffset = position.top - scrollTop)\n  }\n\n  Affix.prototype.checkPositionWithEventLoop = function () {\n    setTimeout($.proxy(this.checkPosition, this), 1)\n  }\n\n  Affix.prototype.checkPosition = function () {\n    if (!this.$element.is(':visible')) return\n\n    var height       = this.$element.height()\n    var offset       = this.options.offset\n    var offsetTop    = offset.top\n    var offsetBottom = offset.bottom\n    var scrollHeight = $(document.body).height()\n\n    if (typeof offset != 'object')         offsetBottom = offsetTop = offset\n    if (typeof offsetTop == 'function')    offsetTop    = offset.top(this.$element)\n    if (typeof offsetBottom == 'function') offsetBottom = offset.bottom(this.$element)\n\n    var affix = this.getState(scrollHeight, height, offsetTop, offsetBottom)\n\n    if (this.affixed != affix) {\n      if (this.unpin != null) this.$element.css('top', '')\n\n      var affixType = 'affix' + (affix ? '-' + affix : '')\n      var e         = $.Event(affixType + '.bs.affix')\n\n      this.$element.trigger(e)\n\n      if (e.isDefaultPrevented()) return\n\n      this.affixed = affix\n      this.unpin = affix == 'bottom' ? this.getPinnedOffset() : null\n\n      this.$element\n        .removeClass(Affix.RESET)\n        .addClass(affixType)\n        .trigger(affixType.replace('affix', 'affixed') + '.bs.affix')\n    }\n\n    if (affix == 'bottom') {\n      this.$element.offset({\n        top: scrollHeight - height - offsetBottom\n      })\n    }\n  }\n\n\n  // AFFIX PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.affix')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.affix', (data = new Affix(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.affix\n\n  $.fn.affix             = Plugin\n  $.fn.affix.Constructor = Affix\n\n\n  // AFFIX NO CONFLICT\n  // =================\n\n  $.fn.affix.noConflict = function () {\n    $.fn.affix = old\n    return this\n  }\n\n\n  // AFFIX DATA-API\n  // ==============\n\n  $(window).on('load', function () {\n    $('[data-spy=\"affix\"]').each(function () {\n      var $spy = $(this)\n      var data = $spy.data()\n\n      data.offset = data.offset || {}\n\n      if (data.offsetBottom != null) data.offset.bottom = data.offsetBottom\n      if (data.offsetTop    != null) data.offset.top    = data.offsetTop\n\n      Plugin.call($spy, data)\n    })\n  })\n\n}(jQuery);\n\n// Snap.svg 0.3.0\n// \n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// \n// build: 2014-06-03\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// ┌────────────────────────────────────────────────────────────┐ \\\\\n// │ Eve 0.4.2 - JavaScript Events Library                      │ \\\\\n// ├────────────────────────────────────────────────────────────┤ \\\\\n// │ Author Dmitry Baranovskiy (http://dmitry.baranovskiy.com/) │ \\\\\n// └────────────────────────────────────────────────────────────┘ \\\\\n\n(function (glob) {\n    var version = \"0.4.2\",\n        has = \"hasOwnProperty\",\n        separator = /[\\.\\/]/,\n        comaseparator = /\\s*,\\s*/,\n        wildcard = \"*\",\n        fun = function () {},\n        numsort = function (a, b) {\n            return a - b;\n        },\n        current_event,\n        stop,\n        events = {n: {}},\n        firstDefined = function () {\n            for (var i = 0, ii = this.length; i < ii; i++) {\n                if (typeof this[i] != \"undefined\") {\n                    return this[i];\n                }\n            }\n        },\n        lastDefined = function () {\n            var i = this.length;\n            while (--i) {\n                if (typeof this[i] != \"undefined\") {\n                    return this[i];\n                }\n            }\n        },\n    /*\\\n     * eve\n     [ method ]\n\n     * Fires event with given `name`, given scope and other parameters.\n\n     > Arguments\n\n     - name (string) name of the *event*, dot (`.`) or slash (`/`) separated\n     - scope (object) context for the event handlers\n     - varargs (...) the rest of arguments will be sent to event handlers\n\n     = (object) array of returned values from the listeners. Array has two methods `.firstDefined()` and `.lastDefined()` to get first or last not `undefined` value.\n    \\*/\n        eve = function (name, scope) {\n            name = String(name);\n            var e = events,\n                oldstop = stop,\n                args = Array.prototype.slice.call(arguments, 2),\n                listeners = eve.listeners(name),\n                z = 0,\n                f = false,\n                l,\n                indexed = [],\n                queue = {},\n                out = [],\n                ce = current_event,\n                errors = [];\n            out.firstDefined = firstDefined;\n            out.lastDefined = lastDefined;\n            current_event = name;\n            stop = 0;\n            for (var i = 0, ii = listeners.length; i < ii; i++) if (\"zIndex\" in listeners[i]) {\n                indexed.push(listeners[i].zIndex);\n                if (listeners[i].zIndex < 0) {\n                    queue[listeners[i].zIndex] = listeners[i];\n                }\n            }\n            indexed.sort(numsort);\n            while (indexed[z] < 0) {\n                l = queue[indexed[z++]];\n                out.push(l.apply(scope, args));\n                if (stop) {\n                    stop = oldstop;\n                    return out;\n                }\n            }\n            for (i = 0; i < ii; i++) {\n                l = listeners[i];\n                if (\"zIndex\" in l) {\n                    if (l.zIndex == indexed[z]) {\n                        out.push(l.apply(scope, args));\n                        if (stop) {\n                            break;\n                        }\n                        do {\n                            z++;\n                            l = queue[indexed[z]];\n                            l && out.push(l.apply(scope, args));\n                            if (stop) {\n                                break;\n                            }\n                        } while (l)\n                    } else {\n                        queue[l.zIndex] = l;\n                    }\n                } else {\n                    out.push(l.apply(scope, args));\n                    if (stop) {\n                        break;\n                    }\n                }\n            }\n            stop = oldstop;\n            current_event = ce;\n            return out;\n        };\n        // Undocumented. Debug only.\n        eve._events = events;\n    /*\\\n     * eve.listeners\n     [ method ]\n\n     * Internal method which gives you array of all event handlers that will be triggered by the given `name`.\n\n     > Arguments\n\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated\n\n     = (array) array of event handlers\n    \\*/\n    eve.listeners = function (name) {\n        var names = name.split(separator),\n            e = events,\n            item,\n            items,\n            k,\n            i,\n            ii,\n            j,\n            jj,\n            nes,\n            es = [e],\n            out = [];\n        for (i = 0, ii = names.length; i < ii; i++) {\n            nes = [];\n            for (j = 0, jj = es.length; j < jj; j++) {\n                e = es[j].n;\n                items = [e[names[i]], e[wildcard]];\n                k = 2;\n                while (k--) {\n                    item = items[k];\n                    if (item) {\n                        nes.push(item);\n                        out = out.concat(item.f || []);\n                    }\n                }\n            }\n            es = nes;\n        }\n        return out;\n    };\n    \n    /*\\\n     * eve.on\n     [ method ]\n     **\n     * Binds given event handler with a given name. You can use wildcards “`*`” for the names:\n     | eve.on(\"*.under.*\", f);\n     | eve(\"mouse.under.floor\"); // triggers f\n     * Use @eve to trigger the listener.\n     **\n     > Arguments\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n     **\n     = (function) returned function accepts a single numeric parameter that represents z-index of the handler. It is an optional feature and only used when you need to ensure that some subset of handlers will be invoked in a given order, despite of the order of assignment. \n     > Example:\n     | eve.on(\"mouse\", eatIt)(2);\n     | eve.on(\"mouse\", scream);\n     | eve.on(\"mouse\", catchIt)(1);\n     * This will ensure that `catchIt` function will be called before `eatIt`.\n     *\n     * If you want to put your handler before non-indexed handlers, specify a negative value.\n     * Note: I assume most of the time you don’t need to worry about z-index, but it’s nice to have this feature “just in case”.\n    \\*/\n    eve.on = function (name, f) {\n        name = String(name);\n        if (typeof f != \"function\") {\n            return function () {};\n        }\n        var names = name.split(comaseparator);\n        for (var i = 0, ii = names.length; i < ii; i++) {\n            (function (name) {\n                var names = name.split(separator),\n                    e = events,\n                    exist;\n                for (var i = 0, ii = names.length; i < ii; i++) {\n                    e = e.n;\n                    e = e.hasOwnProperty(names[i]) && e[names[i]] || (e[names[i]] = {n: {}});\n                }\n                e.f = e.f || [];\n                for (i = 0, ii = e.f.length; i < ii; i++) if (e.f[i] == f) {\n                    exist = true;\n                    break;\n                }\n                !exist && e.f.push(f);\n            }(names[i]));\n        }\n        return function (zIndex) {\n            if (+zIndex == +zIndex) {\n                f.zIndex = +zIndex;\n            }\n        };\n    };\n    /*\\\n     * eve.f\n     [ method ]\n     **\n     * Returns function that will fire given event with optional arguments.\n     * Arguments that will be passed to the result function will be also\n     * concated to the list of final arguments.\n     | el.onclick = eve.f(\"click\", 1, 2);\n     | eve.on(\"click\", function (a, b, c) {\n     |     console.log(a, b, c); // 1, 2, [event object]\n     | });\n     > Arguments\n     - event (string) event name\n     - varargs (…) and any other arguments\n     = (function) possible event handler function\n    \\*/\n    eve.f = function (event) {\n        var attrs = [].slice.call(arguments, 1);\n        return function () {\n            eve.apply(null, [event, null].concat(attrs).concat([].slice.call(arguments, 0)));\n        };\n    };\n    /*\\\n     * eve.stop\n     [ method ]\n     **\n     * Is used inside an event handler to stop the event, preventing any subsequent listeners from firing.\n    \\*/\n    eve.stop = function () {\n        stop = 1;\n    };\n    /*\\\n     * eve.nt\n     [ method ]\n     **\n     * Could be used inside event handler to figure out actual name of the event.\n     **\n     > Arguments\n     **\n     - subname (string) #optional subname of the event\n     **\n     = (string) name of the event, if `subname` is not specified\n     * or\n     = (boolean) `true`, if current event’s name contains `subname`\n    \\*/\n    eve.nt = function (subname) {\n        if (subname) {\n            return new RegExp(\"(?:\\\\.|\\\\/|^)\" + subname + \"(?:\\\\.|\\\\/|$)\").test(current_event);\n        }\n        return current_event;\n    };\n    /*\\\n     * eve.nts\n     [ method ]\n     **\n     * Could be used inside event handler to figure out actual name of the event.\n     **\n     **\n     = (array) names of the event\n    \\*/\n    eve.nts = function () {\n        return current_event.split(separator);\n    };\n    /*\\\n     * eve.off\n     [ method ]\n     **\n     * Removes given function from the list of event listeners assigned to given name.\n     * If no arguments specified all the events will be cleared.\n     **\n     > Arguments\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n    \\*/\n    /*\\\n     * eve.unbind\n     [ method ]\n     **\n     * See @eve.off\n    \\*/\n    eve.off = eve.unbind = function (name, f) {\n        if (!name) {\n            eve._events = events = {n: {}};\n            return;\n        }\n        var names = name.split(comaseparator);\n        if (names.length > 1) {\n            for (var i = 0, ii = names.length; i < ii; i++) {\n                eve.off(names[i], f);\n            }\n            return;\n        }\n        names = name.split(separator);\n        var e,\n            key,\n            splice,\n            i, ii, j, jj,\n            cur = [events];\n        for (i = 0, ii = names.length; i < ii; i++) {\n            for (j = 0; j < cur.length; j += splice.length - 2) {\n                splice = [j, 1];\n                e = cur[j].n;\n                if (names[i] != wildcard) {\n                    if (e[names[i]]) {\n                        splice.push(e[names[i]]);\n                    }\n                } else {\n                    for (key in e) if (e[has](key)) {\n                        splice.push(e[key]);\n                    }\n                }\n                cur.splice.apply(cur, splice);\n            }\n        }\n        for (i = 0, ii = cur.length; i < ii; i++) {\n            e = cur[i];\n            while (e.n) {\n                if (f) {\n                    if (e.f) {\n                        for (j = 0, jj = e.f.length; j < jj; j++) if (e.f[j] == f) {\n                            e.f.splice(j, 1);\n                            break;\n                        }\n                        !e.f.length && delete e.f;\n                    }\n                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\n                        var funcs = e.n[key].f;\n                        for (j = 0, jj = funcs.length; j < jj; j++) if (funcs[j] == f) {\n                            funcs.splice(j, 1);\n                            break;\n                        }\n                        !funcs.length && delete e.n[key].f;\n                    }\n                } else {\n                    delete e.f;\n                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\n                        delete e.n[key].f;\n                    }\n                }\n                e = e.n;\n            }\n        }\n    };\n    /*\\\n     * eve.once\n     [ method ]\n     **\n     * Binds given event handler with a given name to only run once then unbind itself.\n     | eve.once(\"login\", f);\n     | eve(\"login\"); // triggers f\n     | eve(\"login\"); // no listeners\n     * Use @eve to trigger the listener.\n     **\n     > Arguments\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n     **\n     = (function) same return function as @eve.on\n    \\*/\n    eve.once = function (name, f) {\n        var f2 = function () {\n            eve.unbind(name, f2);\n            return f.apply(this, arguments);\n        };\n        return eve.on(name, f2);\n    };\n    /*\\\n     * eve.version\n     [ property (string) ]\n     **\n     * Current version of the library.\n    \\*/\n    eve.version = version;\n    eve.toString = function () {\n        return \"You are running Eve \" + version;\n    };\n    (typeof module != \"undefined\" && module.exports) ? (module.exports = eve) : (typeof define === \"function\" && define.amd ? (define(\"eve\", [], function() { return eve; })) : (glob.eve = eve));\n})(this);\n\n(function (glob, factory) {\n    // AMD support\n    if (typeof define === \"function\" && define.amd) {\n        // Define as an anonymous module\n        define([\"eve\"], function( eve ) {\n            return factory(glob, eve);\n        });\n    } else {\n        // Browser globals (glob is window)\n        // Snap adds itself to window\n        factory(glob, glob.eve);\n    }\n}(this, function (window, eve) {\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar mina = (function (eve) {\n    var animations = {},\n    requestAnimFrame = window.requestAnimationFrame       ||\n                       window.webkitRequestAnimationFrame ||\n                       window.mozRequestAnimationFrame    ||\n                       window.oRequestAnimationFrame      ||\n                       window.msRequestAnimationFrame     ||\n                       function (callback) {\n                           setTimeout(callback, 16);\n                       },\n    isArray = Array.isArray || function (a) {\n        return a instanceof Array ||\n            Object.prototype.toString.call(a) == \"[object Array]\";\n    },\n    idgen = 0,\n    idprefix = \"M\" + (+new Date).toString(36),\n    ID = function () {\n        return idprefix + (idgen++).toString(36);\n    },\n    diff = function (a, b, A, B) {\n        if (isArray(a)) {\n            res = [];\n            for (var i = 0, ii = a.length; i < ii; i++) {\n                res[i] = diff(a[i], b, A[i], B);\n            }\n            return res;\n        }\n        var dif = (A - a) / (B - b);\n        return function (bb) {\n            return a + dif * (bb - b);\n        };\n    },\n    timer = Date.now || function () {\n        return +new Date;\n    },\n    sta = function (val) {\n        var a = this;\n        if (val == null) {\n            return a.s;\n        }\n        var ds = a.s - val;\n        a.b += a.dur * ds;\n        a.B += a.dur * ds;\n        a.s = val;\n    },\n    speed = function (val) {\n        var a = this;\n        if (val == null) {\n            return a.spd;\n        }\n        a.spd = val;\n    },\n    duration = function (val) {\n        var a = this;\n        if (val == null) {\n            return a.dur;\n        }\n        a.s = a.s * val / a.dur;\n        a.dur = val;\n    },\n    stopit = function () {\n        var a = this;\n        delete animations[a.id];\n        a.update();\n        eve(\"mina.stop.\" + a.id, a);\n    },\n    pause = function () {\n        var a = this;\n        if (a.pdif) {\n            return;\n        }\n        delete animations[a.id];\n        a.update();\n        a.pdif = a.get() - a.b;\n    },\n    resume = function () {\n        var a = this;\n        if (!a.pdif) {\n            return;\n        }\n        a.b = a.get() - a.pdif;\n        delete a.pdif;\n        animations[a.id] = a;\n    },\n    update = function () {\n        var a = this,\n            res;\n        if (isArray(a.start)) {\n            res = [];\n            for (var j = 0, jj = a.start.length; j < jj; j++) {\n                res[j] = +a.start[j] +\n                    (a.end[j] - a.start[j]) * a.easing(a.s);\n            }\n        } else {\n            res = +a.start + (a.end - a.start) * a.easing(a.s);\n        }\n        a.set(res);\n    },\n    frame = function () {\n        var len = 0;\n        for (var i in animations) if (animations.hasOwnProperty(i)) {\n            var a = animations[i],\n                b = a.get(),\n                res;\n            len++;\n            a.s = (b - a.b) / (a.dur / a.spd);\n            if (a.s >= 1) {\n                delete animations[i];\n                a.s = 1;\n                len--;\n                (function (a) {\n                    setTimeout(function () {\n                        eve(\"mina.finish.\" + a.id, a);\n                    });\n                }(a));\n            }\n            a.update();\n        }\n        len && requestAnimFrame(frame);\n    },\n    /*\\\n     * mina\n     [ method ]\n     **\n     * Generic animation of numbers\n     **\n     - a (number) start _slave_ number\n     - A (number) end _slave_ number\n     - b (number) start _master_ number (start time in general case)\n     - B (number) end _master_ number (end time in gereal case)\n     - get (function) getter of _master_ number (see @mina.time)\n     - set (function) setter of _slave_ number\n     - easing (function) #optional easing function, default is @mina.linear\n     = (object) animation descriptor\n     o {\n     o         id (string) animation id,\n     o         start (number) start _slave_ number,\n     o         end (number) end _slave_ number,\n     o         b (number) start _master_ number,\n     o         s (number) animation status (0..1),\n     o         dur (number) animation duration,\n     o         spd (number) animation speed,\n     o         get (function) getter of _master_ number (see @mina.time),\n     o         set (function) setter of _slave_ number,\n     o         easing (function) easing function, default is @mina.linear,\n     o         status (function) status getter/setter,\n     o         speed (function) speed getter/setter,\n     o         duration (function) duration getter/setter,\n     o         stop (function) animation stopper\n     o         pause (function) pauses the animation\n     o         resume (function) resumes the animation\n     o         update (function) calles setter with the right value of the animation\n     o }\n    \\*/\n    mina = function (a, A, b, B, get, set, easing) {\n        var anim = {\n            id: ID(),\n            start: a,\n            end: A,\n            b: b,\n            s: 0,\n            dur: B - b,\n            spd: 1,\n            get: get,\n            set: set,\n            easing: easing || mina.linear,\n            status: sta,\n            speed: speed,\n            duration: duration,\n            stop: stopit,\n            pause: pause,\n            resume: resume,\n            update: update\n        };\n        animations[anim.id] = anim;\n        var len = 0, i;\n        for (i in animations) if (animations.hasOwnProperty(i)) {\n            len++;\n            if (len == 2) {\n                break;\n            }\n        }\n        len == 1 && requestAnimFrame(frame);\n        return anim;\n    };\n    /*\\\n     * mina.time\n     [ method ]\n     **\n     * Returns the current time. Equivalent to:\n     | function () {\n     |     return (new Date).getTime();\n     | }\n    \\*/\n    mina.time = timer;\n    /*\\\n     * mina.getById\n     [ method ]\n     **\n     * Returns an animation by its id\n     - id (string) animation's id\n     = (object) See @mina\n    \\*/\n    mina.getById = function (id) {\n        return animations[id] || null;\n    };\n\n    /*\\\n     * mina.linear\n     [ method ]\n     **\n     * Default linear easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.linear = function (n) {\n        return n;\n    };\n    /*\\\n     * mina.easeout\n     [ method ]\n     **\n     * Easeout easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.easeout = function (n) {\n        return Math.pow(n, 1.7);\n    };\n    /*\\\n     * mina.easein\n     [ method ]\n     **\n     * Easein easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.easein = function (n) {\n        return Math.pow(n, .48);\n    };\n    /*\\\n     * mina.easeinout\n     [ method ]\n     **\n     * Easeinout easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.easeinout = function (n) {\n        if (n == 1) {\n            return 1;\n        }\n        if (n == 0) {\n            return 0;\n        }\n        var q = .48 - n / 1.04,\n            Q = Math.sqrt(.1734 + q * q),\n            x = Q - q,\n            X = Math.pow(Math.abs(x), 1 / 3) * (x < 0 ? -1 : 1),\n            y = -Q - q,\n            Y = Math.pow(Math.abs(y), 1 / 3) * (y < 0 ? -1 : 1),\n            t = X + Y + .5;\n        return (1 - t) * 3 * t * t + t * t * t;\n    };\n    /*\\\n     * mina.backin\n     [ method ]\n     **\n     * Backin easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.backin = function (n) {\n        if (n == 1) {\n            return 1;\n        }\n        var s = 1.70158;\n        return n * n * ((s + 1) * n - s);\n    };\n    /*\\\n     * mina.backout\n     [ method ]\n     **\n     * Backout easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.backout = function (n) {\n        if (n == 0) {\n            return 0;\n        }\n        n = n - 1;\n        var s = 1.70158;\n        return n * n * ((s + 1) * n + s) + 1;\n    };\n    /*\\\n     * mina.elastic\n     [ method ]\n     **\n     * Elastic easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.elastic = function (n) {\n        if (n == !!n) {\n            return n;\n        }\n        return Math.pow(2, -10 * n) * Math.sin((n - .075) *\n            (2 * Math.PI) / .3) + 1;\n    };\n    /*\\\n     * mina.bounce\n     [ method ]\n     **\n     * Bounce easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.bounce = function (n) {\n        var s = 7.5625,\n            p = 2.75,\n            l;\n        if (n < (1 / p)) {\n            l = s * n * n;\n        } else {\n            if (n < (2 / p)) {\n                n -= (1.5 / p);\n                l = s * n * n + .75;\n            } else {\n                if (n < (2.5 / p)) {\n                    n -= (2.25 / p);\n                    l = s * n * n + .9375;\n                } else {\n                    n -= (2.625 / p);\n                    l = s * n * n + .984375;\n                }\n            }\n        }\n        return l;\n    };\n    window.mina = mina;\n    return mina;\n})(typeof eve == \"undefined\" ? function () {} : eve);\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nvar Snap = (function() {\nSnap.version = \"0.3.0\";\n/*\\\n * Snap\n [ method ]\n **\n * Creates a drawing surface or wraps existing SVG element.\n **\n - width (number|string) width of surface\n - height (number|string) height of surface\n * or\n - DOM (SVGElement) element to be wrapped into Snap structure\n * or\n - array (array) array of elements (will return set of elements)\n * or\n - query (string) CSS query selector\n = (object) @Element\n\\*/\nfunction Snap(w, h) {\n    if (w) {\n        if (w.tagName) {\n            return wrap(w);\n        }\n        if (is(w, \"array\") && Snap.set) {\n            return Snap.set.apply(Snap, w);\n        }\n        if (w instanceof Element) {\n            return w;\n        }\n        if (h == null) {\n            w = glob.doc.querySelector(w);\n            return wrap(w);\n        }\n    }\n    w = w == null ? \"100%\" : w;\n    h = h == null ? \"100%\" : h;\n    return new Paper(w, h);\n}\nSnap.toString = function () {\n    return \"Snap v\" + this.version;\n};\nSnap._ = {};\nvar glob = {\n    win: window,\n    doc: window.document\n};\nSnap._.glob = glob;\nvar has = \"hasOwnProperty\",\n    Str = String,\n    toFloat = parseFloat,\n    toInt = parseInt,\n    math = Math,\n    mmax = math.max,\n    mmin = math.min,\n    abs = math.abs,\n    pow = math.pow,\n    PI = math.PI,\n    round = math.round,\n    E = \"\",\n    S = \" \",\n    objectToString = Object.prototype.toString,\n    ISURL = /^url\\(['\"]?([^\\)]+?)['\"]?\\)$/i,\n    colourRegExp = /^\\s*((#[a-f\\d]{6})|(#[a-f\\d]{3})|rgba?\\(\\s*([\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?(?:\\s*,\\s*[\\d\\.]+%?)?)\\s*\\)|hsba?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?%?)\\s*\\)|hsla?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?%?)\\s*\\))\\s*$/i,\n    bezierrg = /^(?:cubic-)?bezier\\(([^,]+),([^,]+),([^,]+),([^\\)]+)\\)/,\n    reURLValue = /^url\\(#?([^)]+)\\)$/,\n    spaces = \"\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029\",\n    separator = Snap._.separator = new RegExp(\"[,\" + spaces + \"]+\"),\n    whitespace = new RegExp(\"[\" + spaces + \"]\", \"g\"),\n    commaSpaces = new RegExp(\"[\" + spaces + \"]*,[\" + spaces + \"]*\"),\n    hsrg = {hs: 1, rg: 1},\n    pathCommand = new RegExp(\"([a-z])[\" + spaces + \",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\" + spaces + \"]*,?[\" + spaces + \"]*)+)\", \"ig\"),\n    tCommand = new RegExp(\"([rstm])[\" + spaces + \",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\" + spaces + \"]*,?[\" + spaces + \"]*)+)\", \"ig\"),\n    pathValues = new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\" + spaces + \"]*,?[\" + spaces + \"]*\", \"ig\"),\n    idgen = 0,\n    idprefix = \"S\" + (+new Date).toString(36),\n    ID = function () {\n        return idprefix + (idgen++).toString(36);\n    },\n    xlink = \"http://www.w3.org/1999/xlink\",\n    xmlns = \"http://www.w3.org/2000/svg\",\n    hub = {},\n    URL = Snap.url = function (url) {\n        return \"url('#\" + url + \"')\";\n    };\n\nfunction $(el, attr) {\n    if (attr) {\n        if (el == \"#text\") {\n            el = glob.doc.createTextNode(attr.text || \"\");\n        }\n        if (typeof el == \"string\") {\n            el = $(el);\n        }\n        if (typeof attr == \"string\") {\n            if (attr.substring(0, 6) == \"xlink:\") {\n                return el.getAttributeNS(xlink, attr.substring(6));\n            }\n            if (attr.substring(0, 4) == \"xml:\") {\n                return el.getAttributeNS(xmlns, attr.substring(4));\n            }\n            return el.getAttribute(attr);\n        }\n        for (var key in attr) if (attr[has](key)) {\n            var val = Str(attr[key]);\n            if (val) {\n                if (key.substring(0, 6) == \"xlink:\") {\n                    el.setAttributeNS(xlink, key.substring(6), val);\n                } else if (key.substring(0, 4) == \"xml:\") {\n                    el.setAttributeNS(xmlns, key.substring(4), val);\n                } else {\n                    el.setAttribute(key, val);\n                }\n            } else {\n                el.removeAttribute(key);\n            }\n        }\n    } else {\n        el = glob.doc.createElementNS(xmlns, el);\n        // el.style && (el.style.webkitTapHighlightColor = \"rgba(0,0,0,0)\");\n    }\n    return el;\n}\nSnap._.$ = $;\nSnap._.id = ID;\nfunction getAttrs(el) {\n    var attrs = el.attributes,\n        name,\n        out = {};\n    for (var i = 0; i < attrs.length; i++) {\n        if (attrs[i].namespaceURI == xlink) {\n            name = \"xlink:\";\n        } else {\n            name = \"\";\n        }\n        name += attrs[i].name;\n        out[name] = attrs[i].textContent;\n    }\n    return out;\n}\nfunction is(o, type) {\n    type = Str.prototype.toLowerCase.call(type);\n    if (type == \"finite\") {\n        return isFinite(o);\n    }\n    if (type == \"array\" &&\n        (o instanceof Array || Array.isArray && Array.isArray(o))) {\n        return true;\n    }\n    return  (type == \"null\" && o === null) ||\n            (type == typeof o && o !== null) ||\n            (type == \"object\" && o === Object(o)) ||\n            objectToString.call(o).slice(8, -1).toLowerCase() == type;\n}\n/*\\\n * Snap.format\n [ method ]\n **\n * Replaces construction of type `{<name>}` to the corresponding argument\n **\n - token (string) string to format\n - json (object) object which properties are used as a replacement\n = (string) formatted string\n > Usage\n | // this draws a rectangular shape equivalent to \"M10,20h40v50h-40z\"\n | paper.path(Snap.format(\"M{x},{y}h{dim.width}v{dim.height}h{dim['negative width']}z\", {\n |     x: 10,\n |     y: 20,\n |     dim: {\n |         width: 40,\n |         height: 50,\n |         \"negative width\": -40\n |     }\n | }));\n\\*/\nSnap.format = (function () {\n    var tokenRegex = /\\{([^\\}]+)\\}/g,\n        objNotationRegex = /(?:(?:^|\\.)(.+?)(?=\\[|\\.|$|\\()|\\[('|\")(.+?)\\2\\])(\\(\\))?/g, // matches .xxxxx or [\"xxxxx\"] to run over object properties\n        replacer = function (all, key, obj) {\n            var res = obj;\n            key.replace(objNotationRegex, function (all, name, quote, quotedName, isFunc) {\n                name = name || quotedName;\n                if (res) {\n                    if (name in res) {\n                        res = res[name];\n                    }\n                    typeof res == \"function\" && isFunc && (res = res());\n                }\n            });\n            res = (res == null || res == obj ? all : res) + \"\";\n            return res;\n        };\n    return function (str, obj) {\n        return Str(str).replace(tokenRegex, function (all, key) {\n            return replacer(all, key, obj);\n        });\n    };\n})();\nfunction clone(obj) {\n    if (typeof obj == \"function\" || Object(obj) !== obj) {\n        return obj;\n    }\n    var res = new obj.constructor;\n    for (var key in obj) if (obj[has](key)) {\n        res[key] = clone(obj[key]);\n    }\n    return res;\n}\nSnap._.clone = clone;\nfunction repush(array, item) {\n    for (var i = 0, ii = array.length; i < ii; i++) if (array[i] === item) {\n        return array.push(array.splice(i, 1)[0]);\n    }\n}\nfunction cacher(f, scope, postprocessor) {\n    function newf() {\n        var arg = Array.prototype.slice.call(arguments, 0),\n            args = arg.join(\"\\u2400\"),\n            cache = newf.cache = newf.cache || {},\n            count = newf.count = newf.count || [];\n        if (cache[has](args)) {\n            repush(count, args);\n            return postprocessor ? postprocessor(cache[args]) : cache[args];\n        }\n        count.length >= 1e3 && delete cache[count.shift()];\n        count.push(args);\n        cache[args] = f.apply(scope, arg);\n        return postprocessor ? postprocessor(cache[args]) : cache[args];\n    }\n    return newf;\n}\nSnap._.cacher = cacher;\nfunction angle(x1, y1, x2, y2, x3, y3) {\n    if (x3 == null) {\n        var x = x1 - x2,\n            y = y1 - y2;\n        if (!x && !y) {\n            return 0;\n        }\n        return (180 + math.atan2(-y, -x) * 180 / PI + 360) % 360;\n    } else {\n        return angle(x1, y1, x3, y3) - angle(x2, y2, x3, y3);\n    }\n}\nfunction rad(deg) {\n    return deg % 360 * PI / 180;\n}\nfunction deg(rad) {\n    return rad * 180 / PI % 360;\n}\nfunction x_y() {\n    return this.x + S + this.y;\n}\nfunction x_y_w_h() {\n    return this.x + S + this.y + S + this.width + \" \\xd7 \" + this.height;\n}\n\n/*\\\n * Snap.rad\n [ method ]\n **\n * Transform angle to radians\n - deg (number) angle in degrees\n = (number) angle in radians\n\\*/\nSnap.rad = rad;\n/*\\\n * Snap.deg\n [ method ]\n **\n * Transform angle to degrees\n - rad (number) angle in radians\n = (number) angle in degrees\n\\*/\nSnap.deg = deg;\n/*\\\n * Snap.angle\n [ method ]\n **\n * Returns an angle between two or three points\n > Parameters\n - x1 (number) x coord of first point\n - y1 (number) y coord of first point\n - x2 (number) x coord of second point\n - y2 (number) y coord of second point\n - x3 (number) #optional x coord of third point\n - y3 (number) #optional y coord of third point\n = (number) angle in degrees\n\\*/\nSnap.angle = angle;\n/*\\\n * Snap.is\n [ method ]\n **\n * Handy replacement for the `typeof` operator\n - o (…) any object or primitive\n - type (string) name of the type, e.g., `string`, `function`, `number`, etc.\n = (boolean) `true` if given value is of given type\n\\*/\nSnap.is = is;\n/*\\\n * Snap.snapTo\n [ method ]\n **\n * Snaps given value to given grid\n - values (array|number) given array of values or step of the grid\n - value (number) value to adjust\n - tolerance (number) #optional maximum distance to the target value that would trigger the snap. Default is `10`.\n = (number) adjusted value\n\\*/\nSnap.snapTo = function (values, value, tolerance) {\n    tolerance = is(tolerance, \"finite\") ? tolerance : 10;\n    if (is(values, \"array\")) {\n        var i = values.length;\n        while (i--) if (abs(values[i] - value) <= tolerance) {\n            return values[i];\n        }\n    } else {\n        values = +values;\n        var rem = value % values;\n        if (rem < tolerance) {\n            return value - rem;\n        }\n        if (rem > values - tolerance) {\n            return value - rem + values;\n        }\n    }\n    return value;\n};\n// Colour\n/*\\\n * Snap.getRGB\n [ method ]\n **\n * Parses color string as RGB object\n - color (string) color string in one of the following formats:\n # <ul>\n #     <li>Color name (<code>red</code>, <code>green</code>, <code>cornflowerblue</code>, etc)</li>\n #     <li>#••• — shortened HTML color: (<code>#000</code>, <code>#fc0</code>, etc.)</li>\n #     <li>#•••••• — full length HTML color: (<code>#000000</code>, <code>#bd2300</code>)</li>\n #     <li>rgb(•••, •••, •••) — red, green and blue channels values: (<code>rgb(200,&nbsp;100,&nbsp;0)</code>)</li>\n #     <li>rgba(•••, •••, •••, •••) — also with opacity</li>\n #     <li>rgb(•••%, •••%, •••%) — same as above, but in %: (<code>rgb(100%,&nbsp;175%,&nbsp;0%)</code>)</li>\n #     <li>rgba(•••%, •••%, •••%, •••%) — also with opacity</li>\n #     <li>hsb(•••, •••, •••) — hue, saturation and brightness values: (<code>hsb(0.5,&nbsp;0.25,&nbsp;1)</code>)</li>\n #     <li>hsba(•••, •••, •••, •••) — also with opacity</li>\n #     <li>hsb(•••%, •••%, •••%) — same as above, but in %</li>\n #     <li>hsba(•••%, •••%, •••%, •••%) — also with opacity</li>\n #     <li>hsl(•••, •••, •••) — hue, saturation and luminosity values: (<code>hsb(0.5,&nbsp;0.25,&nbsp;0.5)</code>)</li>\n #     <li>hsla(•••, •••, •••, •••) — also with opacity</li>\n #     <li>hsl(•••%, •••%, •••%) — same as above, but in %</li>\n #     <li>hsla(•••%, •••%, •••%, •••%) — also with opacity</li>\n # </ul>\n * Note that `%` can be used any time: `rgb(20%, 255, 50%)`.\n = (object) RGB object in the following format:\n o {\n o     r (number) red,\n o     g (number) green,\n o     b (number) blue,\n o     hex (string) color in HTML/CSS format: #••••••,\n o     error (boolean) true if string can't be parsed\n o }\n\\*/\nSnap.getRGB = cacher(function (colour) {\n    if (!colour || !!((colour = Str(colour)).indexOf(\"-\") + 1)) {\n        return {r: -1, g: -1, b: -1, hex: \"none\", error: 1, toString: rgbtoString};\n    }\n    if (colour == \"none\") {\n        return {r: -1, g: -1, b: -1, hex: \"none\", toString: rgbtoString};\n    }\n    !(hsrg[has](colour.toLowerCase().substring(0, 2)) || colour.charAt() == \"#\") && (colour = toHex(colour));\n    if (!colour) {\n        return {r: -1, g: -1, b: -1, hex: \"none\", error: 1, toString: rgbtoString};\n    }\n    var res,\n        red,\n        green,\n        blue,\n        opacity,\n        t,\n        values,\n        rgb = colour.match(colourRegExp);\n    if (rgb) {\n        if (rgb[2]) {\n            blue = toInt(rgb[2].substring(5), 16);\n            green = toInt(rgb[2].substring(3, 5), 16);\n            red = toInt(rgb[2].substring(1, 3), 16);\n        }\n        if (rgb[3]) {\n            blue = toInt((t = rgb[3].charAt(3)) + t, 16);\n            green = toInt((t = rgb[3].charAt(2)) + t, 16);\n            red = toInt((t = rgb[3].charAt(1)) + t, 16);\n        }\n        if (rgb[4]) {\n            values = rgb[4].split(commaSpaces);\n            red = toFloat(values[0]);\n            values[0].slice(-1) == \"%\" && (red *= 2.55);\n            green = toFloat(values[1]);\n            values[1].slice(-1) == \"%\" && (green *= 2.55);\n            blue = toFloat(values[2]);\n            values[2].slice(-1) == \"%\" && (blue *= 2.55);\n            rgb[1].toLowerCase().slice(0, 4) == \"rgba\" && (opacity = toFloat(values[3]));\n            values[3] && values[3].slice(-1) == \"%\" && (opacity /= 100);\n        }\n        if (rgb[5]) {\n            values = rgb[5].split(commaSpaces);\n            red = toFloat(values[0]);\n            values[0].slice(-1) == \"%\" && (red /= 100);\n            green = toFloat(values[1]);\n            values[1].slice(-1) == \"%\" && (green /= 100);\n            blue = toFloat(values[2]);\n            values[2].slice(-1) == \"%\" && (blue /= 100);\n            (values[0].slice(-3) == \"deg\" || values[0].slice(-1) == \"\\xb0\") && (red /= 360);\n            rgb[1].toLowerCase().slice(0, 4) == \"hsba\" && (opacity = toFloat(values[3]));\n            values[3] && values[3].slice(-1) == \"%\" && (opacity /= 100);\n            return Snap.hsb2rgb(red, green, blue, opacity);\n        }\n        if (rgb[6]) {\n            values = rgb[6].split(commaSpaces);\n            red = toFloat(values[0]);\n            values[0].slice(-1) == \"%\" && (red /= 100);\n            green = toFloat(values[1]);\n            values[1].slice(-1) == \"%\" && (green /= 100);\n            blue = toFloat(values[2]);\n            values[2].slice(-1) == \"%\" && (blue /= 100);\n            (values[0].slice(-3) == \"deg\" || values[0].slice(-1) == \"\\xb0\") && (red /= 360);\n            rgb[1].toLowerCase().slice(0, 4) == \"hsla\" && (opacity = toFloat(values[3]));\n            values[3] && values[3].slice(-1) == \"%\" && (opacity /= 100);\n            return Snap.hsl2rgb(red, green, blue, opacity);\n        }\n        red = mmin(math.round(red), 255);\n        green = mmin(math.round(green), 255);\n        blue = mmin(math.round(blue), 255);\n        opacity = mmin(mmax(opacity, 0), 1);\n        rgb = {r: red, g: green, b: blue, toString: rgbtoString};\n        rgb.hex = \"#\" + (16777216 | blue | (green << 8) | (red << 16)).toString(16).slice(1);\n        rgb.opacity = is(opacity, \"finite\") ? opacity : 1;\n        return rgb;\n    }\n    return {r: -1, g: -1, b: -1, hex: \"none\", error: 1, toString: rgbtoString};\n}, Snap);\n// SIERRA It seems odd that the following 3 conversion methods are not expressed as .this2that(), like the others.\n/*\\\n * Snap.hsb\n [ method ]\n **\n * Converts HSB values to a hex representation of the color\n - h (number) hue\n - s (number) saturation\n - b (number) value or brightness\n = (string) hex representation of the color\n\\*/\nSnap.hsb = cacher(function (h, s, b) {\n    return Snap.hsb2rgb(h, s, b).hex;\n});\n/*\\\n * Snap.hsl\n [ method ]\n **\n * Converts HSL values to a hex representation of the color\n - h (number) hue\n - s (number) saturation\n - l (number) luminosity\n = (string) hex representation of the color\n\\*/\nSnap.hsl = cacher(function (h, s, l) {\n    return Snap.hsl2rgb(h, s, l).hex;\n});\n/*\\\n * Snap.rgb\n [ method ]\n **\n * Converts RGB values to a hex representation of the color\n - r (number) red\n - g (number) green\n - b (number) blue\n = (string) hex representation of the color\n\\*/\nSnap.rgb = cacher(function (r, g, b, o) {\n    if (is(o, \"finite\")) {\n        var round = math.round;\n        return \"rgba(\" + [round(r), round(g), round(b), +o.toFixed(2)] + \")\";\n    }\n    return \"#\" + (16777216 | b | (g << 8) | (r << 16)).toString(16).slice(1);\n});\nvar toHex = function (color) {\n    var i = glob.doc.getElementsByTagName(\"head\")[0] || glob.doc.getElementsByTagName(\"svg\")[0],\n        red = \"rgb(255, 0, 0)\";\n    toHex = cacher(function (color) {\n        if (color.toLowerCase() == \"red\") {\n            return red;\n        }\n        i.style.color = red;\n        i.style.color = color;\n        var out = glob.doc.defaultView.getComputedStyle(i, E).getPropertyValue(\"color\");\n        return out == red ? null : out;\n    });\n    return toHex(color);\n},\nhsbtoString = function () {\n    return \"hsb(\" + [this.h, this.s, this.b] + \")\";\n},\nhsltoString = function () {\n    return \"hsl(\" + [this.h, this.s, this.l] + \")\";\n},\nrgbtoString = function () {\n    return this.opacity == 1 || this.opacity == null ?\n            this.hex :\n            \"rgba(\" + [this.r, this.g, this.b, this.opacity] + \")\";\n},\nprepareRGB = function (r, g, b) {\n    if (g == null && is(r, \"object\") && \"r\" in r && \"g\" in r && \"b\" in r) {\n        b = r.b;\n        g = r.g;\n        r = r.r;\n    }\n    if (g == null && is(r, string)) {\n        var clr = Snap.getRGB(r);\n        r = clr.r;\n        g = clr.g;\n        b = clr.b;\n    }\n    if (r > 1 || g > 1 || b > 1) {\n        r /= 255;\n        g /= 255;\n        b /= 255;\n    }\n    \n    return [r, g, b];\n},\npackageRGB = function (r, g, b, o) {\n    r = math.round(r * 255);\n    g = math.round(g * 255);\n    b = math.round(b * 255);\n    var rgb = {\n        r: r,\n        g: g,\n        b: b,\n        opacity: is(o, \"finite\") ? o : 1,\n        hex: Snap.rgb(r, g, b),\n        toString: rgbtoString\n    };\n    is(o, \"finite\") && (rgb.opacity = o);\n    return rgb;\n};\n// SIERRA Clarify if Snap does not support consolidated HSLA/RGBA colors. E.g., can you specify a semi-transparent value for Snap.filter.shadow()?\n/*\\\n * Snap.color\n [ method ]\n **\n * Parses the color string and returns an object featuring the color's component values\n - clr (string) color string in one of the supported formats (see @Snap.getRGB)\n = (object) Combined RGB/HSB object in the following format:\n o {\n o     r (number) red,\n o     g (number) green,\n o     b (number) blue,\n o     hex (string) color in HTML/CSS format: #••••••,\n o     error (boolean) `true` if string can't be parsed,\n o     h (number) hue,\n o     s (number) saturation,\n o     v (number) value (brightness),\n o     l (number) lightness\n o }\n\\*/\nSnap.color = function (clr) {\n    var rgb;\n    if (is(clr, \"object\") && \"h\" in clr && \"s\" in clr && \"b\" in clr) {\n        rgb = Snap.hsb2rgb(clr);\n        clr.r = rgb.r;\n        clr.g = rgb.g;\n        clr.b = rgb.b;\n        clr.opacity = 1;\n        clr.hex = rgb.hex;\n    } else if (is(clr, \"object\") && \"h\" in clr && \"s\" in clr && \"l\" in clr) {\n        rgb = Snap.hsl2rgb(clr);\n        clr.r = rgb.r;\n        clr.g = rgb.g;\n        clr.b = rgb.b;\n        clr.opacity = 1;\n        clr.hex = rgb.hex;\n    } else {\n        if (is(clr, \"string\")) {\n            clr = Snap.getRGB(clr);\n        }\n        if (is(clr, \"object\") && \"r\" in clr && \"g\" in clr && \"b\" in clr && !(\"error\" in clr)) {\n            rgb = Snap.rgb2hsl(clr);\n            clr.h = rgb.h;\n            clr.s = rgb.s;\n            clr.l = rgb.l;\n            rgb = Snap.rgb2hsb(clr);\n            clr.v = rgb.b;\n        } else {\n            clr = {hex: \"none\"};\n            clr.r = clr.g = clr.b = clr.h = clr.s = clr.v = clr.l = -1;\n            clr.error = 1;\n        }\n    }\n    clr.toString = rgbtoString;\n    return clr;\n};\n/*\\\n * Snap.hsb2rgb\n [ method ]\n **\n * Converts HSB values to an RGB object\n - h (number) hue\n - s (number) saturation\n - v (number) value or brightness\n = (object) RGB object in the following format:\n o {\n o     r (number) red,\n o     g (number) green,\n o     b (number) blue,\n o     hex (string) color in HTML/CSS format: #••••••\n o }\n\\*/\nSnap.hsb2rgb = function (h, s, v, o) {\n    if (is(h, \"object\") && \"h\" in h && \"s\" in h && \"b\" in h) {\n        v = h.b;\n        s = h.s;\n        h = h.h;\n        o = h.o;\n    }\n    h *= 360;\n    var R, G, B, X, C;\n    h = (h % 360) / 60;\n    C = v * s;\n    X = C * (1 - abs(h % 2 - 1));\n    R = G = B = v - C;\n\n    h = ~~h;\n    R += [C, X, 0, 0, X, C][h];\n    G += [X, C, C, X, 0, 0][h];\n    B += [0, 0, X, C, C, X][h];\n    return packageRGB(R, G, B, o);\n};\n/*\\\n * Snap.hsl2rgb\n [ method ]\n **\n * Converts HSL values to an RGB object\n - h (number) hue\n - s (number) saturation\n - l (number) luminosity\n = (object) RGB object in the following format:\n o {\n o     r (number) red,\n o     g (number) green,\n o     b (number) blue,\n o     hex (string) color in HTML/CSS format: #••••••\n o }\n\\*/\nSnap.hsl2rgb = function (h, s, l, o) {\n    if (is(h, \"object\") && \"h\" in h && \"s\" in h && \"l\" in h) {\n        l = h.l;\n        s = h.s;\n        h = h.h;\n    }\n    if (h > 1 || s > 1 || l > 1) {\n        h /= 360;\n        s /= 100;\n        l /= 100;\n    }\n    h *= 360;\n    var R, G, B, X, C;\n    h = (h % 360) / 60;\n    C = 2 * s * (l < .5 ? l : 1 - l);\n    X = C * (1 - abs(h % 2 - 1));\n    R = G = B = l - C / 2;\n\n    h = ~~h;\n    R += [C, X, 0, 0, X, C][h];\n    G += [X, C, C, X, 0, 0][h];\n    B += [0, 0, X, C, C, X][h];\n    return packageRGB(R, G, B, o);\n};\n/*\\\n * Snap.rgb2hsb\n [ method ]\n **\n * Converts RGB values to an HSB object\n - r (number) red\n - g (number) green\n - b (number) blue\n = (object) HSB object in the following format:\n o {\n o     h (number) hue,\n o     s (number) saturation,\n o     b (number) brightness\n o }\n\\*/\nSnap.rgb2hsb = function (r, g, b) {\n    b = prepareRGB(r, g, b);\n    r = b[0];\n    g = b[1];\n    b = b[2];\n\n    var H, S, V, C;\n    V = mmax(r, g, b);\n    C = V - mmin(r, g, b);\n    H = (C == 0 ? null :\n         V == r ? (g - b) / C :\n         V == g ? (b - r) / C + 2 :\n                  (r - g) / C + 4\n        );\n    H = ((H + 360) % 6) * 60 / 360;\n    S = C == 0 ? 0 : C / V;\n    return {h: H, s: S, b: V, toString: hsbtoString};\n};\n/*\\\n * Snap.rgb2hsl\n [ method ]\n **\n * Converts RGB values to an HSL object\n - r (number) red\n - g (number) green\n - b (number) blue\n = (object) HSL object in the following format:\n o {\n o     h (number) hue,\n o     s (number) saturation,\n o     l (number) luminosity\n o }\n\\*/\nSnap.rgb2hsl = function (r, g, b) {\n    b = prepareRGB(r, g, b);\n    r = b[0];\n    g = b[1];\n    b = b[2];\n\n    var H, S, L, M, m, C;\n    M = mmax(r, g, b);\n    m = mmin(r, g, b);\n    C = M - m;\n    H = (C == 0 ? null :\n         M == r ? (g - b) / C :\n         M == g ? (b - r) / C + 2 :\n                  (r - g) / C + 4);\n    H = ((H + 360) % 6) * 60 / 360;\n    L = (M + m) / 2;\n    S = (C == 0 ? 0 :\n         L < .5 ? C / (2 * L) :\n                  C / (2 - 2 * L));\n    return {h: H, s: S, l: L, toString: hsltoString};\n};\n\n// Transformations\n// SIERRA Snap.parsePathString(): By _array of arrays,_ I assume you mean a format like this for two separate segments? [ [\"M10,10\",\"L90,90\"], [\"M90,10\",\"L10,90\"] ] Otherwise how is each command structured?\n/*\\\n * Snap.parsePathString\n [ method ]\n **\n * Utility method\n **\n * Parses given path string into an array of arrays of path segments\n - pathString (string|array) path string or array of segments (in the last case it is returned straight away)\n = (array) array of segments\n\\*/\nSnap.parsePathString = function (pathString) {\n    if (!pathString) {\n        return null;\n    }\n    var pth = Snap.path(pathString);\n    if (pth.arr) {\n        return Snap.path.clone(pth.arr);\n    }\n    \n    var paramCounts = {a: 7, c: 6, o: 2, h: 1, l: 2, m: 2, r: 4, q: 4, s: 4, t: 2, v: 1, u: 3, z: 0},\n        data = [];\n    if (is(pathString, \"array\") && is(pathString[0], \"array\")) { // rough assumption\n        data = Snap.path.clone(pathString);\n    }\n    if (!data.length) {\n        Str(pathString).replace(pathCommand, function (a, b, c) {\n            var params = [],\n                name = b.toLowerCase();\n            c.replace(pathValues, function (a, b) {\n                b && params.push(+b);\n            });\n            if (name == \"m\" && params.length > 2) {\n                data.push([b].concat(params.splice(0, 2)));\n                name = \"l\";\n                b = b == \"m\" ? \"l\" : \"L\";\n            }\n            if (name == \"o\" && params.length == 1) {\n                data.push([b, params[0]]);\n            }\n            if (name == \"r\") {\n                data.push([b].concat(params));\n            } else while (params.length >= paramCounts[name]) {\n                data.push([b].concat(params.splice(0, paramCounts[name])));\n                if (!paramCounts[name]) {\n                    break;\n                }\n            }\n        });\n    }\n    data.toString = Snap.path.toString;\n    pth.arr = Snap.path.clone(data);\n    return data;\n};\n/*\\\n * Snap.parseTransformString\n [ method ]\n **\n * Utility method\n **\n * Parses given transform string into an array of transformations\n - TString (string|array) transform string or array of transformations (in the last case it is returned straight away)\n = (array) array of transformations\n\\*/\nvar parseTransformString = Snap.parseTransformString = function (TString) {\n    if (!TString) {\n        return null;\n    }\n    var paramCounts = {r: 3, s: 4, t: 2, m: 6},\n        data = [];\n    if (is(TString, \"array\") && is(TString[0], \"array\")) { // rough assumption\n        data = Snap.path.clone(TString);\n    }\n    if (!data.length) {\n        Str(TString).replace(tCommand, function (a, b, c) {\n            var params = [],\n                name = b.toLowerCase();\n            c.replace(pathValues, function (a, b) {\n                b && params.push(+b);\n            });\n            data.push([b].concat(params));\n        });\n    }\n    data.toString = Snap.path.toString;\n    return data;\n};\nfunction svgTransform2string(tstr) {\n    var res = [];\n    tstr = tstr.replace(/(?:^|\\s)(\\w+)\\(([^)]+)\\)/g, function (all, name, params) {\n        params = params.split(/\\s*,\\s*|\\s+/);\n        if (name == \"rotate\" && params.length == 1) {\n            params.push(0, 0);\n        }\n        if (name == \"scale\") {\n            if (params.length > 2) {\n                params = params.slice(0, 2);\n            } else if (params.length == 2) {\n                params.push(0, 0);\n            }\n            if (params.length == 1) {\n                params.push(params[0], 0, 0);\n            }\n        }\n        if (name == \"skewX\") {\n            res.push([\"m\", 1, 0, math.tan(rad(params[0])), 1, 0, 0]);\n        } else if (name == \"skewY\") {\n            res.push([\"m\", 1, math.tan(rad(params[0])), 0, 1, 0, 0]);\n        } else {\n            res.push([name.charAt(0)].concat(params));\n        }\n        return all;\n    });\n    return res;\n}\nSnap._.svgTransform2string = svgTransform2string;\nSnap._.rgTransform = new RegExp(\"^[a-z][\" + spaces + \"]*-?\\\\.?\\\\d\", \"i\");\nfunction transform2matrix(tstr, bbox) {\n    var tdata = parseTransformString(tstr),\n        m = new Snap.Matrix;\n    if (tdata) {\n        for (var i = 0, ii = tdata.length; i < ii; i++) {\n            var t = tdata[i],\n                tlen = t.length,\n                command = Str(t[0]).toLowerCase(),\n                absolute = t[0] != command,\n                inver = absolute ? m.invert() : 0,\n                x1,\n                y1,\n                x2,\n                y2,\n                bb;\n            if (command == \"t\" && tlen == 2){\n                m.translate(t[1], 0);\n            } else if (command == \"t\" && tlen == 3) {\n                if (absolute) {\n                    x1 = inver.x(0, 0);\n                    y1 = inver.y(0, 0);\n                    x2 = inver.x(t[1], t[2]);\n                    y2 = inver.y(t[1], t[2]);\n                    m.translate(x2 - x1, y2 - y1);\n                } else {\n                    m.translate(t[1], t[2]);\n                }\n            } else if (command == \"r\") {\n                if (tlen == 2) {\n                    bb = bb || bbox;\n                    m.rotate(t[1], bb.x + bb.width / 2, bb.y + bb.height / 2);\n                } else if (tlen == 4) {\n                    if (absolute) {\n                        x2 = inver.x(t[2], t[3]);\n                        y2 = inver.y(t[2], t[3]);\n                        m.rotate(t[1], x2, y2);\n                    } else {\n                        m.rotate(t[1], t[2], t[3]);\n                    }\n                }\n            } else if (command == \"s\") {\n                if (tlen == 2 || tlen == 3) {\n                    bb = bb || bbox;\n                    m.scale(t[1], t[tlen - 1], bb.x + bb.width / 2, bb.y + bb.height / 2);\n                } else if (tlen == 4) {\n                    if (absolute) {\n                        x2 = inver.x(t[2], t[3]);\n                        y2 = inver.y(t[2], t[3]);\n                        m.scale(t[1], t[1], x2, y2);\n                    } else {\n                        m.scale(t[1], t[1], t[2], t[3]);\n                    }\n                } else if (tlen == 5) {\n                    if (absolute) {\n                        x2 = inver.x(t[3], t[4]);\n                        y2 = inver.y(t[3], t[4]);\n                        m.scale(t[1], t[2], x2, y2);\n                    } else {\n                        m.scale(t[1], t[2], t[3], t[4]);\n                    }\n                }\n            } else if (command == \"m\" && tlen == 7) {\n                m.add(t[1], t[2], t[3], t[4], t[5], t[6]);\n            }\n        }\n    }\n    return m;\n}\nSnap._.transform2matrix = transform2matrix;\nfunction extractTransform(el, tstr) {\n    if (tstr == null) {\n        var doReturn = true;\n        if (el.type == \"linearGradient\" || el.type == \"radialGradient\") {\n            tstr = el.node.getAttribute(\"gradientTransform\");\n        } else if (el.type == \"pattern\") {\n            tstr = el.node.getAttribute(\"patternTransform\");\n        } else {\n            tstr = el.node.getAttribute(\"transform\");\n        }\n        if (!tstr) {\n            return new Snap.Matrix;\n        }\n        tstr = svgTransform2string(tstr);\n    } else {\n        if (!Snap._.rgTransform.test(tstr)) {\n            tstr = svgTransform2string(tstr);\n        } else {\n            tstr = Str(tstr).replace(/\\.{3}|\\u2026/g, el._.transform || E);\n        }\n        if (is(tstr, \"array\")) {\n            tstr = Snap.path ? Snap.path.toString.call(tstr) : Str(tstr);\n        }\n        el._.transform = tstr;\n    }\n    var m = transform2matrix(tstr, el.getBBox(1));\n    if (doReturn) {\n        return m;\n    } else {\n        el.matrix = m;\n    }\n}\nSnap._unit2px = unit2px;\nvar contains = glob.doc.contains || glob.doc.compareDocumentPosition ?\n    function (a, b) {\n        var adown = a.nodeType == 9 ? a.documentElement : a,\n            bup = b && b.parentNode;\n            return a == bup || !!(bup && bup.nodeType == 1 && (\n                adown.contains ?\n                    adown.contains(bup) :\n                    a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16\n            ));\n    } :\n    function (a, b) {\n        if (b) {\n            while (b) {\n                b = b.parentNode;\n                if (b == a) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\nfunction getSomeDefs(el) {\n    var p = (el.node.ownerSVGElement && wrap(el.node.ownerSVGElement)) ||\n            (el.node.parentNode && wrap(el.node.parentNode)) ||\n            Snap.select(\"svg\") ||\n            Snap(0, 0),\n        pdefs = p.select(\"defs\"),\n        defs  = pdefs == null ? false : pdefs.node;\n    if (!defs) {\n        defs = make(\"defs\", p.node).node;\n    }\n    return defs;\n}\nfunction getSomeSVG(el) {\n    return el.node.ownerSVGElement && wrap(el.node.ownerSVGElement) || Snap.select(\"svg\");\n}\nSnap._.getSomeDefs = getSomeDefs;\nSnap._.getSomeSVG = getSomeSVG;\nfunction unit2px(el, name, value) {\n    var svg = getSomeSVG(el).node,\n        out = {},\n        mgr = svg.querySelector(\".svg---mgr\");\n    if (!mgr) {\n        mgr = $(\"rect\");\n        $(mgr, {x: -9e9, y: -9e9, width: 10, height: 10, \"class\": \"svg---mgr\", fill: \"none\"});\n        svg.appendChild(mgr);\n    }\n    function getW(val) {\n        if (val == null) {\n            return E;\n        }\n        if (val == +val) {\n            return val;\n        }\n        $(mgr, {width: val});\n        try {\n            return mgr.getBBox().width;\n        } catch (e) {\n            return 0;\n        }\n    }\n    function getH(val) {\n        if (val == null) {\n            return E;\n        }\n        if (val == +val) {\n            return val;\n        }\n        $(mgr, {height: val});\n        try {\n            return mgr.getBBox().height;\n        } catch (e) {\n            return 0;\n        }\n    }\n    function set(nam, f) {\n        if (name == null) {\n            out[nam] = f(el.attr(nam) || 0);\n        } else if (nam == name) {\n            out = f(value == null ? el.attr(nam) || 0 : value);\n        }\n    }\n    switch (el.type) {\n        case \"rect\":\n            set(\"rx\", getW);\n            set(\"ry\", getH);\n        case \"image\":\n            set(\"width\", getW);\n            set(\"height\", getH);\n        case \"text\":\n            set(\"x\", getW);\n            set(\"y\", getH);\n        break;\n        case \"circle\":\n            set(\"cx\", getW);\n            set(\"cy\", getH);\n            set(\"r\", getW);\n        break;\n        case \"ellipse\":\n            set(\"cx\", getW);\n            set(\"cy\", getH);\n            set(\"rx\", getW);\n            set(\"ry\", getH);\n        break;\n        case \"line\":\n            set(\"x1\", getW);\n            set(\"x2\", getW);\n            set(\"y1\", getH);\n            set(\"y2\", getH);\n        break;\n        case \"marker\":\n            set(\"refX\", getW);\n            set(\"markerWidth\", getW);\n            set(\"refY\", getH);\n            set(\"markerHeight\", getH);\n        break;\n        case \"radialGradient\":\n            set(\"fx\", getW);\n            set(\"fy\", getH);\n        break;\n        case \"tspan\":\n            set(\"dx\", getW);\n            set(\"dy\", getH);\n        break;\n        default:\n            set(name, getW);\n    }\n    svg.removeChild(mgr);\n    return out;\n}\n/*\\\n * Snap.select\n [ method ]\n **\n * Wraps a DOM element specified by CSS selector as @Element\n - query (string) CSS selector of the element\n = (Element) the current element\n\\*/\nSnap.select = function (query) {\n    return wrap(glob.doc.querySelector(query));\n};\n/*\\\n * Snap.selectAll\n [ method ]\n **\n * Wraps DOM elements specified by CSS selector as set or array of @Element\n - query (string) CSS selector of the element\n = (Element) the current element\n\\*/\nSnap.selectAll = function (query) {\n    var nodelist = glob.doc.querySelectorAll(query),\n        set = (Snap.set || Array)();\n    for (var i = 0; i < nodelist.length; i++) {\n        set.push(wrap(nodelist[i]));\n    }\n    return set;\n};\n\nfunction add2group(list) {\n    if (!is(list, \"array\")) {\n        list = Array.prototype.slice.call(arguments, 0);\n    }\n    var i = 0,\n        j = 0,\n        node = this.node;\n    while (this[i]) delete this[i++];\n    for (i = 0; i < list.length; i++) {\n        if (list[i].type == \"set\") {\n            list[i].forEach(function (el) {\n                node.appendChild(el.node);\n            });\n        } else {\n            node.appendChild(list[i].node);\n        }\n    }\n    var children = node.childNodes;\n    for (i = 0; i < children.length; i++) {\n        this[j++] = wrap(children[i]);\n    }\n    return this;\n}\n// Hub garbage collector every 10s\nsetInterval(function () {\n    for (var key in hub) if (hub[has](key)) {\n        var el = hub[key],\n            node = el.node;\n        if (el.type != \"svg\" && !node.ownerSVGElement || el.type == \"svg\" && (!node.parentNode || \"ownerSVGElement\" in node.parentNode && !node.ownerSVGElement)) {\n            delete hub[key];\n        }\n    }\n}, 1e4);\nfunction Element(el) {\n    if (el.snap in hub) {\n        return hub[el.snap];\n    }\n    var id = this.id = ID(),\n        svg;\n    try {\n        svg = el.ownerSVGElement;\n    } catch(e) {}\n    /*\\\n     * Element.node\n     [ property (object) ]\n     **\n     * Gives you a reference to the DOM object, so you can assign event handlers or just mess around.\n     > Usage\n     | // draw a circle at coordinate 10,10 with radius of 10\n     | var c = paper.circle(10, 10, 10);\n     | c.node.onclick = function () {\n     |     c.attr(\"fill\", \"red\");\n     | };\n    \\*/\n    this.node = el;\n    if (svg) {\n        this.paper = new Paper(svg);\n    }\n    /*\\\n     * Element.type\n     [ property (string) ]\n     **\n     * SVG tag name of the given element.\n    \\*/\n    this.type = el.tagName;\n    this.anims = {};\n    this._ = {\n        transform: []\n    };\n    el.snap = id;\n    hub[id] = this;\n    if (this.type == \"g\") {\n        this.add = add2group;\n    }\n    if (this.type in {\"g\": 1, \"mask\": 1, \"pattern\": 1}) {\n        for (var method in Paper.prototype) if (Paper.prototype[has](method)) {\n            this[method] = Paper.prototype[method];\n        }\n    }\n}\n(function (elproto) {\n    /*\\\n     * Element.attr\n     [ method ]\n     **\n     * Gets or sets given attributes of the element.\n     **\n     - params (object) contains key-value pairs of attributes you want to set\n     * or\n     - param (string) name of the attribute\n     = (Element) the current element\n     * or\n     = (string) value of attribute\n     > Usage\n     | el.attr({\n     |     fill: \"#fc0\",\n     |     stroke: \"#000\",\n     |     strokeWidth: 2, // CamelCase...\n     |     \"fill-opacity\": 0.5, // or dash-separated names\n     |     width: \"*=2\" // prefixed values\n     | });\n     | console.log(el.attr(\"fill\")); // #fc0\n     * Prefixed values in format `\"+=10\"` supported. All four operations\n     * (`+`, `-`, `*` and `/`) could be used. Optionally you can use units for `+`\n     * and `-`: `\"+=2em\"`.\n    \\*/\n    elproto.attr = function (params, value) {\n        var el = this,\n            node = el.node;\n        if (!params) {\n            return el;\n        }\n        if (is(params, \"string\")) {\n            if (arguments.length > 1) {\n                var json = {};\n                json[params] = value;\n                params = json;\n            } else {\n                return eve(\"snap.util.getattr.\" + params, el).firstDefined();\n            }\n        }\n        for (var att in params) {\n            if (params[has](att)) {\n                eve(\"snap.util.attr.\" + att, el, params[att]);\n            }\n        }\n        return el;\n    };\n    /*\\\n     * Element.getBBox\n     [ method ]\n     **\n     * Returns the bounding box descriptor for the given element\n     **\n     = (object) bounding box descriptor:\n     o {\n     o     cx: (number) x of the center,\n     o     cy: (number) x of the center,\n     o     h: (number) height,\n     o     height: (number) height,\n     o     path: (string) path command for the box,\n     o     r0: (number) radius of a circle that fully encloses the box,\n     o     r1: (number) radius of the smallest circle that can be enclosed,\n     o     r2: (number) radius of the largest circle that can be enclosed,\n     o     vb: (string) box as a viewbox command,\n     o     w: (number) width,\n     o     width: (number) width,\n     o     x2: (number) x of the right side,\n     o     x: (number) x of the left side,\n     o     y2: (number) y of the bottom edge,\n     o     y: (number) y of the top edge\n     o }\n    \\*/\n    elproto.getBBox = function (isWithoutTransform) {\n        if (!Snap.Matrix || !Snap.path) {\n            return this.node.getBBox();\n        }\n        var el = this,\n            m = new Snap.Matrix;\n        if (el.removed) {\n            return Snap._.box();\n        }\n        while (el.type == \"use\") {\n            if (!isWithoutTransform) {\n                m = m.add(el.transform().localMatrix.translate(el.attr(\"x\") || 0, el.attr(\"y\") || 0));\n            }\n            if (el.original) {\n                el = el.original;\n            } else {\n                var href = el.attr(\"xlink:href\");\n                el = el.original = el.node.ownerDocument.getElementById(href.substring(href.indexOf(\"#\") + 1));\n            }\n        }\n        var _ = el._,\n            pathfinder = Snap.path.get[el.type] || Snap.path.get.deflt;\n        try {\n            if (isWithoutTransform) {\n                _.bboxwt = pathfinder ? Snap.path.getBBox(el.realPath = pathfinder(el)) : Snap._.box(el.node.getBBox());\n                return Snap._.box(_.bboxwt);\n            } else {\n                el.realPath = pathfinder(el);\n                el.matrix = el.transform().localMatrix;\n                _.bbox = Snap.path.getBBox(Snap.path.map(el.realPath, m.add(el.matrix)));\n                return Snap._.box(_.bbox);\n            }\n        } catch (e) {\n            // Firefox doesn’t give you bbox of hidden element\n            return Snap._.box();\n        }\n    };\n    var propString = function () {\n        return this.string;\n    };\n    /*\\\n     * Element.transform\n     [ method ]\n     **\n     * Gets or sets transformation of the element\n     **\n     - tstr (string) transform string in Snap or SVG format\n     = (Element) the current element\n     * or\n     = (object) transformation descriptor:\n     o {\n     o     string (string) transform string,\n     o     globalMatrix (Matrix) matrix of all transformations applied to element or its parents,\n     o     localMatrix (Matrix) matrix of transformations applied only to the element,\n     o     diffMatrix (Matrix) matrix of difference between global and local transformations,\n     o     global (string) global transformation as string,\n     o     local (string) local transformation as string,\n     o     toString (function) returns `string` property\n     o }\n    \\*/\n    elproto.transform = function (tstr) {\n        var _ = this._;\n        if (tstr == null) {\n            var papa = this,\n                global = new Snap.Matrix(this.node.getCTM()),\n                local = extractTransform(this),\n                ms = [local],\n                m = new Snap.Matrix,\n                i,\n                localString = local.toTransformString(),\n                string = Str(local) == Str(this.matrix) ?\n                            Str(_.transform) : localString;\n            while (papa.type != \"svg\" && (papa = papa.parent())) {\n                ms.push(extractTransform(papa));\n            }\n            i = ms.length;\n            while (i--) {\n                m.add(ms[i]);\n            }\n            return {\n                string: string,\n                globalMatrix: global,\n                totalMatrix: m,\n                localMatrix: local,\n                diffMatrix: global.clone().add(local.invert()),\n                global: global.toTransformString(),\n                total: m.toTransformString(),\n                local: localString,\n                toString: propString\n            };\n        }\n        if (tstr instanceof Snap.Matrix) {\n            this.matrix = tstr;\n        } else {\n            extractTransform(this, tstr);\n        }\n\n        if (this.node) {\n            if (this.type == \"linearGradient\" || this.type == \"radialGradient\") {\n                $(this.node, {gradientTransform: this.matrix});\n            } else if (this.type == \"pattern\") {\n                $(this.node, {patternTransform: this.matrix});\n            } else {\n                $(this.node, {transform: this.matrix});\n            }\n        }\n\n        return this;\n    };\n    /*\\\n     * Element.parent\n     [ method ]\n     **\n     * Returns the element's parent\n     **\n     = (Element) the parent element\n    \\*/\n    elproto.parent = function () {\n        return wrap(this.node.parentNode);\n    };\n    /*\\\n     * Element.append\n     [ method ]\n     **\n     * Appends the given element to current one\n     **\n     - el (Element|Set) element to append\n     = (Element) the parent element\n    \\*/\n    /*\\\n     * Element.add\n     [ method ]\n     **\n     * See @Element.append\n    \\*/\n    elproto.append = elproto.add = function (el) {\n        if (el) {\n            if (el.type == \"set\") {\n                var it = this;\n                el.forEach(function (el) {\n                    it.add(el);\n                });\n                return this;\n            }\n            el = wrap(el);\n            this.node.appendChild(el.node);\n            el.paper = this.paper;\n        }\n        return this;\n    };\n    /*\\\n     * Element.appendTo\n     [ method ]\n     **\n     * Appends the current element to the given one\n     **\n     - el (Element) parent element to append to\n     = (Element) the child element\n    \\*/\n    elproto.appendTo = function (el) {\n        if (el) {\n            el = wrap(el);\n            el.append(this);\n        }\n        return this;\n    };\n    /*\\\n     * Element.prepend\n     [ method ]\n     **\n     * Prepends the given element to the current one\n     **\n     - el (Element) element to prepend\n     = (Element) the parent element\n    \\*/\n    elproto.prepend = function (el) {\n        if (el) {\n            if (el.type == \"set\") {\n                var it = this,\n                    first;\n                el.forEach(function (el) {\n                    if (first) {\n                        first.after(el);\n                    } else {\n                        it.prepend(el);\n                    }\n                    first = el;\n                });\n                return this;\n            }\n            el = wrap(el);\n            var parent = el.parent();\n            this.node.insertBefore(el.node, this.node.firstChild);\n            this.add && this.add();\n            el.paper = this.paper;\n            this.parent() && this.parent().add();\n            parent && parent.add();\n        }\n        return this;\n    };\n    /*\\\n     * Element.prependTo\n     [ method ]\n     **\n     * Prepends the current element to the given one\n     **\n     - el (Element) parent element to prepend to\n     = (Element) the child element\n    \\*/\n    elproto.prependTo = function (el) {\n        el = wrap(el);\n        el.prepend(this);\n        return this;\n    };\n    /*\\\n     * Element.before\n     [ method ]\n     **\n     * Inserts given element before the current one\n     **\n     - el (Element) element to insert\n     = (Element) the parent element\n    \\*/\n    elproto.before = function (el) {\n        if (el.type == \"set\") {\n            var it = this;\n            el.forEach(function (el) {\n                var parent = el.parent();\n                it.node.parentNode.insertBefore(el.node, it.node);\n                parent && parent.add();\n            });\n            this.parent().add();\n            return this;\n        }\n        el = wrap(el);\n        var parent = el.parent();\n        this.node.parentNode.insertBefore(el.node, this.node);\n        this.parent() && this.parent().add();\n        parent && parent.add();\n        el.paper = this.paper;\n        return this;\n    };\n    /*\\\n     * Element.after\n     [ method ]\n     **\n     * Inserts given element after the current one\n     **\n     - el (Element) element to insert\n     = (Element) the parent element\n    \\*/\n    elproto.after = function (el) {\n        el = wrap(el);\n        var parent = el.parent();\n        if (this.node.nextSibling) {\n            this.node.parentNode.insertBefore(el.node, this.node.nextSibling);\n        } else {\n            this.node.parentNode.appendChild(el.node);\n        }\n        this.parent() && this.parent().add();\n        parent && parent.add();\n        el.paper = this.paper;\n        return this;\n    };\n    /*\\\n     * Element.insertBefore\n     [ method ]\n     **\n     * Inserts the element after the given one\n     **\n     - el (Element) element next to whom insert to\n     = (Element) the parent element\n    \\*/\n    elproto.insertBefore = function (el) {\n        el = wrap(el);\n        var parent = this.parent();\n        el.node.parentNode.insertBefore(this.node, el.node);\n        this.paper = el.paper;\n        parent && parent.add();\n        el.parent() && el.parent().add();\n        return this;\n    };\n    /*\\\n     * Element.insertAfter\n     [ method ]\n     **\n     * Inserts the element after the given one\n     **\n     - el (Element) element next to whom insert to\n     = (Element) the parent element\n    \\*/\n    elproto.insertAfter = function (el) {\n        el = wrap(el);\n        var parent = this.parent();\n        el.node.parentNode.insertBefore(this.node, el.node.nextSibling);\n        this.paper = el.paper;\n        parent && parent.add();\n        el.parent() && el.parent().add();\n        return this;\n    };\n    /*\\\n     * Element.remove\n     [ method ]\n     **\n     * Removes element from the DOM\n     = (Element) the detached element\n    \\*/\n    elproto.remove = function () {\n        var parent = this.parent();\n        this.node.parentNode && this.node.parentNode.removeChild(this.node);\n        delete this.paper;\n        this.removed = true;\n        parent && parent.add();\n        return this;\n    };\n    /*\\\n     * Element.select\n     [ method ]\n     **\n     * Gathers the nested @Element matching the given set of CSS selectors\n     **\n     - query (string) CSS selector\n     = (Element) result of query selection\n    \\*/\n    elproto.select = function (query) {\n        return wrap(this.node.querySelector(query));\n    };\n    /*\\\n     * Element.selectAll\n     [ method ]\n     **\n     * Gathers nested @Element objects matching the given set of CSS selectors\n     **\n     - query (string) CSS selector\n     = (Set|array) result of query selection\n    \\*/\n    elproto.selectAll = function (query) {\n        var nodelist = this.node.querySelectorAll(query),\n            set = (Snap.set || Array)();\n        for (var i = 0; i < nodelist.length; i++) {\n            set.push(wrap(nodelist[i]));\n        }\n        return set;\n    };\n    /*\\\n     * Element.asPX\n     [ method ]\n     **\n     * Returns given attribute of the element as a `px` value (not %, em, etc.)\n     **\n     - attr (string) attribute name\n     - value (string) #optional attribute value\n     = (Element) result of query selection\n    \\*/\n    elproto.asPX = function (attr, value) {\n        if (value == null) {\n            value = this.attr(attr);\n        }\n        return +unit2px(this, attr, value);\n    };\n    // SIERRA Element.use(): I suggest adding a note about how to access the original element the returned <use> instantiates. It's a part of SVG with which ordinary web developers may be least familiar.\n    /*\\\n     * Element.use\n     [ method ]\n     **\n     * Creates a `<use>` element linked to the current element\n     **\n     = (Element) the `<use>` element\n    \\*/\n    elproto.use = function () {\n        var use,\n            id = this.node.id;\n        if (!id) {\n            id = this.id;\n            $(this.node, {\n                id: id\n            });\n        }\n        if (this.type == \"linearGradient\" || this.type == \"radialGradient\" ||\n            this.type == \"pattern\") {\n            use = make(this.type, this.node.parentNode);\n        } else {\n            use = make(\"use\", this.node.parentNode);\n        }\n        $(use.node, {\n            \"xlink:href\": \"#\" + id\n        });\n        use.original = this;\n        return use;\n    };\n    /*\\\n     * Element.clone\n     [ method ]\n     **\n     * Creates a clone of the element and inserts it after the element\n     **\n     = (Element) the clone\n    \\*/\n    function fixids(el) {\n        var els = el.selectAll(\"*\"),\n            it,\n            url = /^\\s*url\\((\"|'|)(.*)\\1\\)\\s*$/,\n            ids = [],\n            uses = {};\n        function urltest(it, name) {\n            var val = $(it.node, name);\n            val = val && val.match(url);\n            val = val && val[2];\n            if (val && val.charAt() == \"#\") {\n                val = val.substring(1);\n            } else {\n                return;\n            }\n            if (val) {\n                uses[val] = (uses[val] || []).concat(function (id) {\n                    var attr = {};\n                    attr[name] = URL(id);\n                    $(it.node, attr);\n                });\n            }\n        }\n        function linktest(it) {\n            var val = $(it.node, \"xlink:href\");\n            if (val && val.charAt() == \"#\") {\n                val = val.substring(1);\n            } else {\n                return;\n            }\n            if (val) {\n                uses[val] = (uses[val] || []).concat(function (id) {\n                    it.attr(\"xlink:href\", \"#\" + id);\n                });\n            }\n        }\n        for (var i = 0, ii = els.length; i < ii; i++) {\n            it = els[i];\n            urltest(it, \"fill\");\n            urltest(it, \"stroke\");\n            urltest(it, \"filter\");\n            urltest(it, \"mask\");\n            urltest(it, \"clip-path\");\n            linktest(it);\n            var oldid = $(it.node, \"id\");\n            if (oldid) {\n                $(it.node, {id: it.id});\n                ids.push({\n                    old: oldid,\n                    id: it.id\n                });\n            }\n        }\n        for (i = 0, ii = ids.length; i < ii; i++) {\n            var fs = uses[ids[i].old];\n            if (fs) {\n                for (var j = 0, jj = fs.length; j < jj; j++) {\n                    fs[j](ids[i].id);\n                }\n            }\n        }\n    }\n    var rgNotSpace = /\\S+/g,\n        rgBadSpace = /[\\t\\r\\n\\f]/g,\n        rgTrim = /(^\\s+|\\s+$)/g;\n    elproto.addClass = function (value) {\n        var classes = (value || \"\").match(rgNotSpace) || [],\n            elem = this.node,\n            className = elem.className.baseVal,\n            curClasses = className.match(rgNotSpace) || [],\n            j,\n            pos,\n            clazz,\n            finalValue;\n\n        if (classes.length) {\n            j = 0;\n            while ((clazz = classes[j++])) {\n                pos = curClasses.indexOf(clazz);\n                if (!~pos) {\n                    curClasses.push(clazz);\n                }\n            }\n\n            finalValue = curClasses.join(\" \");\n            if (className != finalValue) {\n                elem.className.baseVal = finalValue;\n            }\n        }\n        return this;\n    };\n    elproto.removeClass = function (value) {\n        var classes = (value || \"\").match(rgNotSpace) || [],\n            elem = this.node,\n            className = elem.className.baseVal,\n            curClasses = className.match(rgNotSpace) || [],\n            j,\n            pos,\n            clazz,\n            finalValue;\n        if (curClasses.length) {\n            j = 0;\n            while ((clazz = classes[j++])) {\n                pos = curClasses.indexOf(clazz);\n                if (~pos) {\n                    curClasses.splice(pos, 1);\n                }\n            }\n\n            finalValue = curClasses.join(\" \");\n            if (className != finalValue) {\n                elem.className.baseVal = finalValue;\n            }\n        }\n        return this;\n    };\n    elproto.hasClass = function (value) {\n        var elem = this.node,\n            className = elem.className.baseVal,\n            curClasses = className.match(rgNotSpace) || [];\n        return !!~curClasses.indexOf(value);\n    };\n    elproto.toggleClass = function (value, flag) {\n        if (flag != null) {\n            if (flag) {\n                return this.addClass(value);\n            } else {\n                return this.removeClass(value);\n            }\n        }\n        var classes = (value || \"\").match(rgNotSpace) || [],\n            elem = this.node,\n            className = elem.className.baseVal,\n            curClasses = className.match(rgNotSpace) || [],\n            j,\n            pos,\n            clazz,\n            finalValue;\n        j = 0;\n        while ((clazz = classes[j++])) {\n            pos = curClasses.indexOf(clazz);\n            if (~pos) {\n                curClasses.splice(pos, 1);\n            } else {\n                curClasses.push(clazz);\n            }\n        }\n\n        finalValue = curClasses.join(\" \");\n        if (className != finalValue) {\n            elem.className.baseVal = finalValue;\n        }\n        return this;\n    };\n    elproto.clone = function () {\n        var clone = wrap(this.node.cloneNode(true));\n        if ($(clone.node, \"id\")) {\n            $(clone.node, {id: clone.id});\n        }\n        fixids(clone);\n        clone.insertAfter(this);\n        return clone;\n    };\n    /*\\\n     * Element.toDefs\n     [ method ]\n     **\n     * Moves element to the shared `<defs>` area\n     **\n     = (Element) the element\n    \\*/\n    elproto.toDefs = function () {\n        var defs = getSomeDefs(this);\n        defs.appendChild(this.node);\n        return this;\n    };\n    /*\\\n     * Element.pattern\n     [ method ]\n     **\n     * Depricated. Use @Element.toPattern instead.\n    \\*/\n    /*\\\n     * Element.toPattern\n     [ method ]\n     **\n     * Creates a `<pattern>` element from the current element\n     **\n     * To create a pattern you have to specify the pattern rect:\n     - x (string|number)\n     - y (string|number)\n     - width (string|number)\n     - height (string|number)\n     = (Element) the `<pattern>` element\n     * You can use pattern later on as an argument for `fill` attribute:\n     | var p = paper.path(\"M10-5-10,15M15,0,0,15M0-5-20,15\").attr({\n     |         fill: \"none\",\n     |         stroke: \"#bada55\",\n     |         strokeWidth: 5\n     |     }).pattern(0, 0, 10, 10),\n     |     c = paper.circle(200, 200, 100);\n     | c.attr({\n     |     fill: p\n     | });\n    \\*/\n    elproto.pattern = elproto.toPattern = function (x, y, width, height) {\n        var p = make(\"pattern\", getSomeDefs(this));\n        if (x == null) {\n            x = this.getBBox();\n        }\n        if (is(x, \"object\") && \"x\" in x) {\n            y = x.y;\n            width = x.width;\n            height = x.height;\n            x = x.x;\n        }\n        $(p.node, {\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n            patternUnits: \"userSpaceOnUse\",\n            id: p.id,\n            viewBox: [x, y, width, height].join(\" \")\n        });\n        p.node.appendChild(this.node);\n        return p;\n    };\n// SIERRA Element.marker(): clarify what a reference point is. E.g., helps you offset the object from its edge such as when centering it over a path.\n// SIERRA Element.marker(): I suggest the method should accept default reference point values.  Perhaps centered with (refX = width/2) and (refY = height/2)? Also, couldn't it assume the element's current _width_ and _height_? And please specify what _x_ and _y_ mean: offsets? If so, from where?  Couldn't they also be assigned default values?\n    /*\\\n     * Element.marker\n     [ method ]\n     **\n     * Creates a `<marker>` element from the current element\n     **\n     * To create a marker you have to specify the bounding rect and reference point:\n     - x (number)\n     - y (number)\n     - width (number)\n     - height (number)\n     - refX (number)\n     - refY (number)\n     = (Element) the `<marker>` element\n     * You can specify the marker later as an argument for `marker-start`, `marker-end`, `marker-mid`, and `marker` attributes. The `marker` attribute places the marker at every point along the path, and `marker-mid` places them at every point except the start and end.\n    \\*/\n    // TODO add usage for markers\n    elproto.marker = function (x, y, width, height, refX, refY) {\n        var p = make(\"marker\", getSomeDefs(this));\n        if (x == null) {\n            x = this.getBBox();\n        }\n        if (is(x, \"object\") && \"x\" in x) {\n            y = x.y;\n            width = x.width;\n            height = x.height;\n            refX = x.refX || x.cx;\n            refY = x.refY || x.cy;\n            x = x.x;\n        }\n        $(p.node, {\n            viewBox: [x, y, width, height].join(S),\n            markerWidth: width,\n            markerHeight: height,\n            orient: \"auto\",\n            refX: refX || 0,\n            refY: refY || 0,\n            id: p.id\n        });\n        p.node.appendChild(this.node);\n        return p;\n    };\n    // animation\n    function slice(from, to, f) {\n        return function (arr) {\n            var res = arr.slice(from, to);\n            if (res.length == 1) {\n                res = res[0];\n            }\n            return f ? f(res) : res;\n        };\n    }\n    var Animation = function (attr, ms, easing, callback) {\n        if (typeof easing == \"function\" && !easing.length) {\n            callback = easing;\n            easing = mina.linear;\n        }\n        this.attr = attr;\n        this.dur = ms;\n        easing && (this.easing = easing);\n        callback && (this.callback = callback);\n    };\n    Snap._.Animation = Animation;\n    /*\\\n     * Snap.animation\n     [ method ]\n     **\n     * Creates an animation object\n     **\n     - attr (object) attributes of final destination\n     - duration (number) duration of the animation, in milliseconds\n     - easing (function) #optional one of easing functions of @mina or custom one\n     - callback (function) #optional callback function that fires when animation ends\n     = (object) animation object\n    \\*/\n    Snap.animation = function (attr, ms, easing, callback) {\n        return new Animation(attr, ms, easing, callback);\n    };\n    /*\\\n     * Element.inAnim\n     [ method ]\n     **\n     * Returns a set of animations that may be able to manipulate the current element\n     **\n     = (object) in format:\n     o {\n     o     anim (object) animation object,\n     o     mina (object) @mina object,\n     o     curStatus (number) 0..1 — status of the animation: 0 — just started, 1 — just finished,\n     o     status (function) gets or sets the status of the animation,\n     o     stop (function) stops the animation\n     o }\n    \\*/\n    elproto.inAnim = function () {\n        var el = this,\n            res = [];\n        for (var id in el.anims) if (el.anims[has](id)) {\n            (function (a) {\n                res.push({\n                    anim: new Animation(a._attrs, a.dur, a.easing, a._callback),\n                    mina: a,\n                    curStatus: a.status(),\n                    status: function (val) {\n                        return a.status(val);\n                    },\n                    stop: function () {\n                        a.stop();\n                    }\n                });\n            }(el.anims[id]));\n        }\n        return res;\n    };\n    /*\\\n     * Snap.animate\n     [ method ]\n     **\n     * Runs generic animation of one number into another with a caring function\n     **\n     - from (number|array) number or array of numbers\n     - to (number|array) number or array of numbers\n     - setter (function) caring function that accepts one number argument\n     - duration (number) duration, in milliseconds\n     - easing (function) #optional easing function from @mina or custom\n     - callback (function) #optional callback function to execute when animation ends\n     = (object) animation object in @mina format\n     o {\n     o     id (string) animation id, consider it read-only,\n     o     duration (function) gets or sets the duration of the animation,\n     o     easing (function) easing,\n     o     speed (function) gets or sets the speed of the animation,\n     o     status (function) gets or sets the status of the animation,\n     o     stop (function) stops the animation\n     o }\n     | var rect = Snap().rect(0, 0, 10, 10);\n     | Snap.animate(0, 10, function (val) {\n     |     rect.attr({\n     |         x: val\n     |     });\n     | }, 1000);\n     | // in given context is equivalent to\n     | rect.animate({x: 10}, 1000);\n    \\*/\n    Snap.animate = function (from, to, setter, ms, easing, callback) {\n        if (typeof easing == \"function\" && !easing.length) {\n            callback = easing;\n            easing = mina.linear;\n        }\n        var now = mina.time(),\n            anim = mina(from, to, now, now + ms, mina.time, setter, easing);\n        callback && eve.once(\"mina.finish.\" + anim.id, callback);\n        return anim;\n    };\n    /*\\\n     * Element.stop\n     [ method ]\n     **\n     * Stops all the animations for the current element\n     **\n     = (Element) the current element\n    \\*/\n    elproto.stop = function () {\n        var anims = this.inAnim();\n        for (var i = 0, ii = anims.length; i < ii; i++) {\n            anims[i].stop();\n        }\n        return this;\n    };\n    /*\\\n     * Element.animate\n     [ method ]\n     **\n     * Animates the given attributes of the element\n     **\n     - attrs (object) key-value pairs of destination attributes\n     - duration (number) duration of the animation in milliseconds\n     - easing (function) #optional easing function from @mina or custom\n     - callback (function) #optional callback function that executes when the animation ends\n     = (Element) the current element\n    \\*/\n    elproto.animate = function (attrs, ms, easing, callback) {\n        if (typeof easing == \"function\" && !easing.length) {\n            callback = easing;\n            easing = mina.linear;\n        }\n        if (attrs instanceof Animation) {\n            callback = attrs.callback;\n            easing = attrs.easing;\n            ms = easing.dur;\n            attrs = attrs.attr;\n        }\n        var fkeys = [], tkeys = [], keys = {}, from, to, f, eq,\n            el = this;\n        for (var key in attrs) if (attrs[has](key)) {\n            if (el.equal) {\n                eq = el.equal(key, Str(attrs[key]));\n                from = eq.from;\n                to = eq.to;\n                f = eq.f;\n            } else {\n                from = +el.attr(key);\n                to = +attrs[key];\n            }\n            var len = is(from, \"array\") ? from.length : 1;\n            keys[key] = slice(fkeys.length, fkeys.length + len, f);\n            fkeys = fkeys.concat(from);\n            tkeys = tkeys.concat(to);\n        }\n        var now = mina.time(),\n            anim = mina(fkeys, tkeys, now, now + ms, mina.time, function (val) {\n                var attr = {};\n                for (var key in keys) if (keys[has](key)) {\n                    attr[key] = keys[key](val);\n                }\n                el.attr(attr);\n            }, easing);\n        el.anims[anim.id] = anim;\n        anim._attrs = attrs;\n        anim._callback = callback;\n        eve(\"snap.animcreated.\" + el.id, anim);\n        eve.once(\"mina.finish.\" + anim.id, function () {\n            delete el.anims[anim.id];\n            callback && callback.call(el);\n        });\n        eve.once(\"mina.stop.\" + anim.id, function () {\n            delete el.anims[anim.id];\n        });\n        return el;\n    };\n    var eldata = {};\n    /*\\\n     * Element.data\n     [ method ]\n     **\n     * Adds or retrieves given value associated with given key. (Don’t confuse\n     * with `data-` attributes)\n     *\n     * See also @Element.removeData\n     - key (string) key to store data\n     - value (any) #optional value to store\n     = (object) @Element\n     * or, if value is not specified:\n     = (any) value\n     > Usage\n     | for (var i = 0, i < 5, i++) {\n     |     paper.circle(10 + 15 * i, 10, 10)\n     |          .attr({fill: \"#000\"})\n     |          .data(\"i\", i)\n     |          .click(function () {\n     |             alert(this.data(\"i\"));\n     |          });\n     | }\n    \\*/\n    elproto.data = function (key, value) {\n        var data = eldata[this.id] = eldata[this.id] || {};\n        if (arguments.length == 0){\n            eve(\"snap.data.get.\" + this.id, this, data, null);\n            return data;\n        }\n        if (arguments.length == 1) {\n            if (Snap.is(key, \"object\")) {\n                for (var i in key) if (key[has](i)) {\n                    this.data(i, key[i]);\n                }\n                return this;\n            }\n            eve(\"snap.data.get.\" + this.id, this, data[key], key);\n            return data[key];\n        }\n        data[key] = value;\n        eve(\"snap.data.set.\" + this.id, this, value, key);\n        return this;\n    };\n    /*\\\n     * Element.removeData\n     [ method ]\n     **\n     * Removes value associated with an element by given key.\n     * If key is not provided, removes all the data of the element.\n     - key (string) #optional key\n     = (object) @Element\n    \\*/\n    elproto.removeData = function (key) {\n        if (key == null) {\n            eldata[this.id] = {};\n        } else {\n            eldata[this.id] && delete eldata[this.id][key];\n        }\n        return this;\n    };\n    /*\\\n     * Element.outerSVG\n     [ method ]\n     **\n     * Returns SVG code for the element, equivalent to HTML's `outerHTML`.\n     *\n     * See also @Element.innerSVG\n     = (string) SVG code for the element\n    \\*/\n    /*\\\n     * Element.toString\n     [ method ]\n     **\n     * See @Element.outerSVG\n    \\*/\n    elproto.outerSVG = elproto.toString = toString(1);\n    /*\\\n     * Element.innerSVG\n     [ method ]\n     **\n     * Returns SVG code for the element's contents, equivalent to HTML's `innerHTML`\n     = (string) SVG code for the element\n    \\*/\n    elproto.innerSVG = toString();\n    function toString(type) {\n        return function () {\n            var res = type ? \"<\" + this.type : \"\",\n                attr = this.node.attributes,\n                chld = this.node.childNodes;\n            if (type) {\n                for (var i = 0, ii = attr.length; i < ii; i++) {\n                    res += \" \" + attr[i].name + '=\"' +\n                            attr[i].value.replace(/\"/g, '\\\\\"') + '\"';\n                }\n            }\n            if (chld.length) {\n                type && (res += \">\");\n                for (i = 0, ii = chld.length; i < ii; i++) {\n                    if (chld[i].nodeType == 3) {\n                        res += chld[i].nodeValue;\n                    } else if (chld[i].nodeType == 1) {\n                        res += wrap(chld[i]).toString();\n                    }\n                }\n                type && (res += \"</\" + this.type + \">\");\n            } else {\n                type && (res += \"/>\");\n            }\n            return res;\n        };\n    }\n}(Element.prototype));\n/*\\\n * Snap.parse\n [ method ]\n **\n * Parses SVG fragment and converts it into a @Fragment\n **\n - svg (string) SVG string\n = (Fragment) the @Fragment\n\\*/\nSnap.parse = function (svg) {\n    var f = glob.doc.createDocumentFragment(),\n        full = true,\n        div = glob.doc.createElement(\"div\");\n    svg = Str(svg);\n    if (!svg.match(/^\\s*<\\s*svg(?:\\s|>)/)) {\n        svg = \"<svg>\" + svg + \"</svg>\";\n        full = false;\n    }\n    div.innerHTML = svg;\n    svg = div.getElementsByTagName(\"svg\")[0];\n    if (svg) {\n        if (full) {\n            f = svg;\n        } else {\n            while (svg.firstChild) {\n                f.appendChild(svg.firstChild);\n            }\n        }\n    }\n    div.innerHTML = E;\n    return new Fragment(f);\n};\nfunction Fragment(frag) {\n    this.node = frag;\n}\n/*\\\n * Fragment.select\n [ method ]\n **\n * See @Element.select\n\\*/\nFragment.prototype.select = Element.prototype.select;\n/*\\\n * Fragment.selectAll\n [ method ]\n **\n * See @Element.selectAll\n\\*/\nFragment.prototype.selectAll = Element.prototype.selectAll;\n// SIERRA Snap.fragment() could especially use a code example\n/*\\\n * Snap.fragment\n [ method ]\n **\n * Creates a DOM fragment from a given list of elements or strings\n **\n - varargs (…) SVG string\n = (Fragment) the @Fragment\n\\*/\nSnap.fragment = function () {\n    var args = Array.prototype.slice.call(arguments, 0),\n        f = glob.doc.createDocumentFragment();\n    for (var i = 0, ii = args.length; i < ii; i++) {\n        var item = args[i];\n        if (item.node && item.node.nodeType) {\n            f.appendChild(item.node);\n        }\n        if (item.nodeType) {\n            f.appendChild(item);\n        }\n        if (typeof item == \"string\") {\n            f.appendChild(Snap.parse(item).node);\n        }\n    }\n    return new Fragment(f);\n};\n\nfunction make(name, parent) {\n    var res = $(name);\n    parent.appendChild(res);\n    var el = wrap(res);\n    return el;\n}\nfunction Paper(w, h) {\n    var res,\n        desc,\n        defs,\n        proto = Paper.prototype;\n    if (w && w.tagName == \"svg\") {\n        if (w.snap in hub) {\n            return hub[w.snap];\n        }\n        var doc = w.ownerDocument;\n        res = new Element(w);\n        desc = w.getElementsByTagName(\"desc\")[0];\n        defs = w.getElementsByTagName(\"defs\")[0];\n        if (!desc) {\n            desc = $(\"desc\");\n            desc.appendChild(doc.createTextNode(\"Created with Snap\"));\n            res.node.appendChild(desc);\n        }\n        if (!defs) {\n            defs = $(\"defs\");\n            res.node.appendChild(defs);\n        }\n        res.defs = defs;\n        for (var key in proto) if (proto[has](key)) {\n            res[key] = proto[key];\n        }\n        res.paper = res.root = res;\n    } else {\n        res = make(\"svg\", glob.doc.body);\n        $(res.node, {\n            height: h,\n            version: 1.1,\n            width: w,\n            xmlns: xmlns\n        });\n    }\n    return res;\n}\nfunction wrap(dom) {\n    if (!dom) {\n        return dom;\n    }\n    if (dom instanceof Element || dom instanceof Fragment) {\n        return dom;\n    }\n    if (dom.tagName && dom.tagName.toLowerCase() == \"svg\") {\n        return new Paper(dom);\n    }\n    if (dom.tagName && dom.tagName.toLowerCase() == \"object\" && dom.type == \"image/svg+xml\") {\n        return new Paper(dom.contentDocument.getElementsByTagName(\"svg\")[0]);\n    }\n    return new Element(dom);\n}\n\nSnap._.make = make;\nSnap._.wrap = wrap;\n/*\\\n * Paper.el\n [ method ]\n **\n * Creates an element on paper with a given name and no attributes\n **\n - name (string) tag name\n - attr (object) attributes\n = (Element) the current element\n > Usage\n | var c = paper.circle(10, 10, 10); // is the same as...\n | var c = paper.el(\"circle\").attr({\n |     cx: 10,\n |     cy: 10,\n |     r: 10\n | });\n | // and the same as\n | var c = paper.el(\"circle\", {\n |     cx: 10,\n |     cy: 10,\n |     r: 10\n | });\n\\*/\nPaper.prototype.el = function (name, attr) {\n    var el = make(name, this.node);\n    attr && el.attr(attr);\n    return el;\n};\n// default\neve.on(\"snap.util.getattr\", function () {\n    var att = eve.nt();\n    att = att.substring(att.lastIndexOf(\".\") + 1);\n    var css = att.replace(/[A-Z]/g, function (letter) {\n        return \"-\" + letter.toLowerCase();\n    });\n    if (cssAttr[has](css)) {\n        return this.node.ownerDocument.defaultView.getComputedStyle(this.node, null).getPropertyValue(css);\n    } else {\n        return $(this.node, att);\n    }\n});\nvar cssAttr = {\n    \"alignment-baseline\": 0,\n    \"baseline-shift\": 0,\n    \"clip\": 0,\n    \"clip-path\": 0,\n    \"clip-rule\": 0,\n    \"color\": 0,\n    \"color-interpolation\": 0,\n    \"color-interpolation-filters\": 0,\n    \"color-profile\": 0,\n    \"color-rendering\": 0,\n    \"cursor\": 0,\n    \"direction\": 0,\n    \"display\": 0,\n    \"dominant-baseline\": 0,\n    \"enable-background\": 0,\n    \"fill\": 0,\n    \"fill-opacity\": 0,\n    \"fill-rule\": 0,\n    \"filter\": 0,\n    \"flood-color\": 0,\n    \"flood-opacity\": 0,\n    \"font\": 0,\n    \"font-family\": 0,\n    \"font-size\": 0,\n    \"font-size-adjust\": 0,\n    \"font-stretch\": 0,\n    \"font-style\": 0,\n    \"font-variant\": 0,\n    \"font-weight\": 0,\n    \"glyph-orientation-horizontal\": 0,\n    \"glyph-orientation-vertical\": 0,\n    \"image-rendering\": 0,\n    \"kerning\": 0,\n    \"letter-spacing\": 0,\n    \"lighting-color\": 0,\n    \"marker\": 0,\n    \"marker-end\": 0,\n    \"marker-mid\": 0,\n    \"marker-start\": 0,\n    \"mask\": 0,\n    \"opacity\": 0,\n    \"overflow\": 0,\n    \"pointer-events\": 0,\n    \"shape-rendering\": 0,\n    \"stop-color\": 0,\n    \"stop-opacity\": 0,\n    \"stroke\": 0,\n    \"stroke-dasharray\": 0,\n    \"stroke-dashoffset\": 0,\n    \"stroke-linecap\": 0,\n    \"stroke-linejoin\": 0,\n    \"stroke-miterlimit\": 0,\n    \"stroke-opacity\": 0,\n    \"stroke-width\": 0,\n    \"text-anchor\": 0,\n    \"text-decoration\": 0,\n    \"text-rendering\": 0,\n    \"unicode-bidi\": 0,\n    \"visibility\": 0,\n    \"word-spacing\": 0,\n    \"writing-mode\": 0\n};\n\neve.on(\"snap.util.attr\", function (value) {\n    var att = eve.nt(),\n        attr = {};\n    att = att.substring(att.lastIndexOf(\".\") + 1);\n    attr[att] = value;\n    var style = att.replace(/-(\\w)/gi, function (all, letter) {\n            return letter.toUpperCase();\n        }),\n        css = att.replace(/[A-Z]/g, function (letter) {\n            return \"-\" + letter.toLowerCase();\n        });\n    if (cssAttr[has](css)) {\n        this.node.style[style] = value == null ? E : value;\n    } else {\n        $(this.node, attr);\n    }\n});\n(function (proto) {}(Paper.prototype));\n\n// simple ajax\n/*\\\n * Snap.ajax\n [ method ]\n **\n * Simple implementation of Ajax\n **\n - url (string) URL\n - postData (object|string) data for post request\n - callback (function) callback\n - scope (object) #optional scope of callback\n * or\n - url (string) URL\n - callback (function) callback\n - scope (object) #optional scope of callback\n = (XMLHttpRequest) the XMLHttpRequest object, just in case\n\\*/\nSnap.ajax = function (url, postData, callback, scope){\n    var req = new XMLHttpRequest,\n        id = ID();\n    if (req) {\n        if (is(postData, \"function\")) {\n            scope = callback;\n            callback = postData;\n            postData = null;\n        } else if (is(postData, \"object\")) {\n            var pd = [];\n            for (var key in postData) if (postData.hasOwnProperty(key)) {\n                pd.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(postData[key]));\n            }\n            postData = pd.join(\"&\");\n        }\n        req.open((postData ? \"POST\" : \"GET\"), url, true);\n        if (postData) {\n            req.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n            req.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n        }\n        if (callback) {\n            eve.once(\"snap.ajax.\" + id + \".0\", callback);\n            eve.once(\"snap.ajax.\" + id + \".200\", callback);\n            eve.once(\"snap.ajax.\" + id + \".304\", callback);\n        }\n        req.onreadystatechange = function() {\n            if (req.readyState != 4) return;\n            eve(\"snap.ajax.\" + id + \".\" + req.status, scope, req);\n        };\n        if (req.readyState == 4) {\n            return req;\n        }\n        req.send(postData);\n        return req;\n    }\n};\n/*\\\n * Snap.load\n [ method ]\n **\n * Loads external SVG file as a @Fragment (see @Snap.ajax for more advanced AJAX)\n **\n - url (string) URL\n - callback (function) callback\n - scope (object) #optional scope of callback\n\\*/\nSnap.load = function (url, callback, scope) {\n    Snap.ajax(url, function (req) {\n        var f = Snap.parse(req.responseText);\n        scope ? callback.call(scope, f) : callback(f);\n    });\n};\nvar getOffset = function (elem) {\n    var box = elem.getBoundingClientRect(),\n        doc = elem.ownerDocument,\n        body = doc.body,\n        docElem = doc.documentElement,\n        clientTop = docElem.clientTop || body.clientTop || 0, clientLeft = docElem.clientLeft || body.clientLeft || 0,\n        top  = box.top  + (g.win.pageYOffset || docElem.scrollTop || body.scrollTop ) - clientTop,\n        left = box.left + (g.win.pageXOffset || docElem.scrollLeft || body.scrollLeft) - clientLeft;\n    return {\n        y: top,\n        x: left\n    };\n};\n/*\\\n * Snap.getElementByPoint\n [ method ]\n **\n * Returns you topmost element under given point.\n **\n = (object) Snap element object\n - x (number) x coordinate from the top left corner of the window\n - y (number) y coordinate from the top left corner of the window\n > Usage\n | Snap.getElementByPoint(mouseX, mouseY).attr({stroke: \"#f00\"});\n\\*/\nSnap.getElementByPoint = function (x, y) {\n    var paper = this,\n        svg = paper.canvas,\n        target = glob.doc.elementFromPoint(x, y);\n    if (glob.win.opera && target.tagName == \"svg\") {\n        var so = getOffset(target),\n            sr = target.createSVGRect();\n        sr.x = x - so.x;\n        sr.y = y - so.y;\n        sr.width = sr.height = 1;\n        var hits = target.getIntersectionList(sr, null);\n        if (hits.length) {\n            target = hits[hits.length - 1];\n        }\n    }\n    if (!target) {\n        return null;\n    }\n    return wrap(target);\n};\n/*\\\n * Snap.plugin\n [ method ]\n **\n * Let you write plugins. You pass in a function with four arguments, like this:\n | Snap.plugin(function (Snap, Element, Paper, global, Fragment) {\n |     Snap.newmethod = function () {};\n |     Element.prototype.newmethod = function () {};\n |     Paper.prototype.newmethod = function () {};\n | });\n * Inside the function you have access to all main objects (and their\n * prototypes). This allow you to extend anything you want.\n **\n - f (function) your plugin body\n\\*/\nSnap.plugin = function (f) {\n    f(Snap, Element, Paper, glob, Fragment);\n};\nglob.win.Snap = Snap;\nreturn Snap;\n}());\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var objectToString = Object.prototype.toString,\n        Str = String,\n        math = Math,\n        E = \"\";\n    function Matrix(a, b, c, d, e, f) {\n        if (b == null && objectToString.call(a) == \"[object SVGMatrix]\") {\n            this.a = a.a;\n            this.b = a.b;\n            this.c = a.c;\n            this.d = a.d;\n            this.e = a.e;\n            this.f = a.f;\n            return;\n        }\n        if (a != null) {\n            this.a = +a;\n            this.b = +b;\n            this.c = +c;\n            this.d = +d;\n            this.e = +e;\n            this.f = +f;\n        } else {\n            this.a = 1;\n            this.b = 0;\n            this.c = 0;\n            this.d = 1;\n            this.e = 0;\n            this.f = 0;\n        }\n    }\n    (function (matrixproto) {\n        /*\\\n         * Matrix.add\n         [ method ]\n         **\n         * Adds the given matrix to existing one\n         - a (number)\n         - b (number)\n         - c (number)\n         - d (number)\n         - e (number)\n         - f (number)\n         * or\n         - matrix (object) @Matrix\n        \\*/\n        matrixproto.add = function (a, b, c, d, e, f) {\n            var out = [[], [], []],\n                m = [[this.a, this.c, this.e], [this.b, this.d, this.f], [0, 0, 1]],\n                matrix = [[a, c, e], [b, d, f], [0, 0, 1]],\n                x, y, z, res;\n\n            if (a && a instanceof Matrix) {\n                matrix = [[a.a, a.c, a.e], [a.b, a.d, a.f], [0, 0, 1]];\n            }\n\n            for (x = 0; x < 3; x++) {\n                for (y = 0; y < 3; y++) {\n                    res = 0;\n                    for (z = 0; z < 3; z++) {\n                        res += m[x][z] * matrix[z][y];\n                    }\n                    out[x][y] = res;\n                }\n            }\n            this.a = out[0][0];\n            this.b = out[1][0];\n            this.c = out[0][1];\n            this.d = out[1][1];\n            this.e = out[0][2];\n            this.f = out[1][2];\n            return this;\n        };\n        /*\\\n         * Matrix.invert\n         [ method ]\n         **\n         * Returns an inverted version of the matrix\n         = (object) @Matrix\n        \\*/\n        matrixproto.invert = function () {\n            var me = this,\n                x = me.a * me.d - me.b * me.c;\n            return new Matrix(me.d / x, -me.b / x, -me.c / x, me.a / x, (me.c * me.f - me.d * me.e) / x, (me.b * me.e - me.a * me.f) / x);\n        };\n        /*\\\n         * Matrix.clone\n         [ method ]\n         **\n         * Returns a copy of the matrix\n         = (object) @Matrix\n        \\*/\n        matrixproto.clone = function () {\n            return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);\n        };\n        /*\\\n         * Matrix.translate\n         [ method ]\n         **\n         * Translate the matrix\n         - x (number) horizontal offset distance\n         - y (number) vertical offset distance\n        \\*/\n        matrixproto.translate = function (x, y) {\n            return this.add(1, 0, 0, 1, x, y);\n        };\n        /*\\\n         * Matrix.scale\n         [ method ]\n         **\n         * Scales the matrix\n         - x (number) amount to be scaled, with `1` resulting in no change\n         - y (number) #optional amount to scale along the vertical axis. (Otherwise `x` applies to both axes.)\n         - cx (number) #optional horizontal origin point from which to scale\n         - cy (number) #optional vertical origin point from which to scale\n         * Default cx, cy is the middle point of the element.\n        \\*/\n        matrixproto.scale = function (x, y, cx, cy) {\n            y == null && (y = x);\n            (cx || cy) && this.add(1, 0, 0, 1, cx, cy);\n            this.add(x, 0, 0, y, 0, 0);\n            (cx || cy) && this.add(1, 0, 0, 1, -cx, -cy);\n            return this;\n        };\n        /*\\\n         * Matrix.rotate\n         [ method ]\n         **\n         * Rotates the matrix\n         - a (number) angle of rotation, in degrees\n         - x (number) horizontal origin point from which to rotate\n         - y (number) vertical origin point from which to rotate\n        \\*/\n        matrixproto.rotate = function (a, x, y) {\n            a = Snap.rad(a);\n            x = x || 0;\n            y = y || 0;\n            var cos = +math.cos(a).toFixed(9),\n                sin = +math.sin(a).toFixed(9);\n            this.add(cos, sin, -sin, cos, x, y);\n            return this.add(1, 0, 0, 1, -x, -y);\n        };\n        /*\\\n         * Matrix.x\n         [ method ]\n         **\n         * Returns x coordinate for given point after transformation described by the matrix. See also @Matrix.y\n         - x (number)\n         - y (number)\n         = (number) x\n        \\*/\n        matrixproto.x = function (x, y) {\n            return x * this.a + y * this.c + this.e;\n        };\n        /*\\\n         * Matrix.y\n         [ method ]\n         **\n         * Returns y coordinate for given point after transformation described by the matrix. See also @Matrix.x\n         - x (number)\n         - y (number)\n         = (number) y\n        \\*/\n        matrixproto.y = function (x, y) {\n            return x * this.b + y * this.d + this.f;\n        };\n        matrixproto.get = function (i) {\n            return +this[Str.fromCharCode(97 + i)].toFixed(4);\n        };\n        matrixproto.toString = function () {\n            return \"matrix(\" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)].join() + \")\";\n        };\n        matrixproto.offset = function () {\n            return [this.e.toFixed(4), this.f.toFixed(4)];\n        };\n        function norm(a) {\n            return a[0] * a[0] + a[1] * a[1];\n        }\n        function normalize(a) {\n            var mag = math.sqrt(norm(a));\n            a[0] && (a[0] /= mag);\n            a[1] && (a[1] /= mag);\n        }\n        /*\\\n         * Matrix.determinant\n         [ method ]\n         **\n         * Finds determinant of the given matrix.\n         = (number) determinant\n        \\*/\n        matrixproto.determinant = function () {\n            return this.a * this.d - this.b * this.c;\n        };\n        /*\\\n         * Matrix.split\n         [ method ]\n         **\n         * Splits matrix into primitive transformations\n         = (object) in format:\n         o dx (number) translation by x\n         o dy (number) translation by y\n         o scalex (number) scale by x\n         o scaley (number) scale by y\n         o shear (number) shear\n         o rotate (number) rotation in deg\n         o isSimple (boolean) could it be represented via simple transformations\n        \\*/\n        matrixproto.split = function () {\n            var out = {};\n            // translation\n            out.dx = this.e;\n            out.dy = this.f;\n\n            // scale and shear\n            var row = [[this.a, this.c], [this.b, this.d]];\n            out.scalex = math.sqrt(norm(row[0]));\n            normalize(row[0]);\n\n            out.shear = row[0][0] * row[1][0] + row[0][1] * row[1][1];\n            row[1] = [row[1][0] - row[0][0] * out.shear, row[1][1] - row[0][1] * out.shear];\n\n            out.scaley = math.sqrt(norm(row[1]));\n            normalize(row[1]);\n            out.shear /= out.scaley;\n\n            if (this.determinant() < 0) {\n                out.scalex = -out.scalex;\n            }\n\n            // rotation\n            var sin = -row[0][1],\n                cos = row[1][1];\n            if (cos < 0) {\n                out.rotate = Snap.deg(math.acos(cos));\n                if (sin < 0) {\n                    out.rotate = 360 - out.rotate;\n                }\n            } else {\n                out.rotate = Snap.deg(math.asin(sin));\n            }\n\n            out.isSimple = !+out.shear.toFixed(9) && (out.scalex.toFixed(9) == out.scaley.toFixed(9) || !out.rotate);\n            out.isSuperSimple = !+out.shear.toFixed(9) && out.scalex.toFixed(9) == out.scaley.toFixed(9) && !out.rotate;\n            out.noRotation = !+out.shear.toFixed(9) && !out.rotate;\n            return out;\n        };\n        /*\\\n         * Matrix.toTransformString\n         [ method ]\n         **\n         * Returns transform string that represents given matrix\n         = (string) transform string\n        \\*/\n        matrixproto.toTransformString = function (shorter) {\n            var s = shorter || this.split();\n            if (!+s.shear.toFixed(9)) {\n                s.scalex = +s.scalex.toFixed(4);\n                s.scaley = +s.scaley.toFixed(4);\n                s.rotate = +s.rotate.toFixed(4);\n                return  (s.dx || s.dy ? \"t\" + [+s.dx.toFixed(4), +s.dy.toFixed(4)] : E) + \n                        (s.scalex != 1 || s.scaley != 1 ? \"s\" + [s.scalex, s.scaley, 0, 0] : E) +\n                        (s.rotate ? \"r\" + [+s.rotate.toFixed(4), 0, 0] : E);\n            } else {\n                return \"m\" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)];\n            }\n        };\n    })(Matrix.prototype);\n    /*\\\n     * Snap.Matrix\n     [ method ]\n     **\n     * Matrix constructor, extend on your own risk.\n     * To create matrices use @Snap.matrix.\n    \\*/\n    Snap.Matrix = Matrix;\n    /*\\\n     * Snap.matrix\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns a matrix based on the given parameters\n     - a (number)\n     - b (number)\n     - c (number)\n     - d (number)\n     - e (number)\n     - f (number)\n     * or\n     - svgMatrix (SVGMatrix)\n     = (object) @Matrix\n    \\*/\n    Snap.matrix = function (a, b, c, d, e, f) {\n        return new Matrix(a, b, c, d, e, f);\n    };\n});\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var has = \"hasOwnProperty\",\n        make = Snap._.make,\n        wrap = Snap._.wrap,\n        is = Snap.is,\n        getSomeDefs = Snap._.getSomeDefs,\n        reURLValue = /^url\\(#?([^)]+)\\)$/,\n        $ = Snap._.$,\n        URL = Snap.url,\n        Str = String,\n        separator = Snap._.separator,\n        E = \"\";\n    // Attributes event handlers\n    eve.on(\"snap.util.attr.mask\", function (value) {\n        if (value instanceof Element || value instanceof Fragment) {\n            eve.stop();\n            if (value instanceof Fragment && value.node.childNodes.length == 1) {\n                value = value.node.firstChild;\n                getSomeDefs(this).appendChild(value);\n                value = wrap(value);\n            }\n            if (value.type == \"mask\") {\n                var mask = value;\n            } else {\n                mask = make(\"mask\", getSomeDefs(this));\n                mask.node.appendChild(value.node);\n            }\n            !mask.node.id && $(mask.node, {\n                id: mask.id\n            });\n            $(this.node, {\n                mask: URL(mask.id)\n            });\n        }\n    });\n    (function (clipIt) {\n        eve.on(\"snap.util.attr.clip\", clipIt);\n        eve.on(\"snap.util.attr.clip-path\", clipIt);\n        eve.on(\"snap.util.attr.clipPath\", clipIt);\n    }(function (value) {\n        if (value instanceof Element || value instanceof Fragment) {\n            eve.stop();\n            if (value.type == \"clipPath\") {\n                var clip = value;\n            } else {\n                clip = make(\"clipPath\", getSomeDefs(this));\n                clip.node.appendChild(value.node);\n                !clip.node.id && $(clip.node, {\n                    id: clip.id\n                });\n            }\n            $(this.node, {\n                \"clip-path\": URL(clip.id)\n            });\n        }\n    }));\n    function fillStroke(name) {\n        return function (value) {\n            eve.stop();\n            if (value instanceof Fragment && value.node.childNodes.length == 1 &&\n                (value.node.firstChild.tagName == \"radialGradient\" ||\n                value.node.firstChild.tagName == \"linearGradient\" ||\n                value.node.firstChild.tagName == \"pattern\")) {\n                value = value.node.firstChild;\n                getSomeDefs(this).appendChild(value);\n                value = wrap(value);\n            }\n            if (value instanceof Element) {\n                if (value.type == \"radialGradient\" || value.type == \"linearGradient\"\n                   || value.type == \"pattern\") {\n                    if (!value.node.id) {\n                        $(value.node, {\n                            id: value.id\n                        });\n                    }\n                    var fill = URL(value.node.id);\n                } else {\n                    fill = value.attr(name);\n                }\n            } else {\n                fill = Snap.color(value);\n                if (fill.error) {\n                    var grad = Snap(getSomeDefs(this).ownerSVGElement).gradient(value);\n                    if (grad) {\n                        if (!grad.node.id) {\n                            $(grad.node, {\n                                id: grad.id\n                            });\n                        }\n                        fill = URL(grad.node.id);\n                    } else {\n                        fill = value;\n                    }\n                } else {\n                    fill = Str(fill);\n                }\n            }\n            var attrs = {};\n            attrs[name] = fill;\n            $(this.node, attrs);\n            this.node.style[name] = E;\n        };\n    }\n    eve.on(\"snap.util.attr.fill\", fillStroke(\"fill\"));\n    eve.on(\"snap.util.attr.stroke\", fillStroke(\"stroke\"));\n    var gradrg = /^([lr])(?:\\(([^)]*)\\))?(.*)$/i;\n    eve.on(\"snap.util.grad.parse\", function parseGrad(string) {\n        string = Str(string);\n        var tokens = string.match(gradrg);\n        if (!tokens) {\n            return null;\n        }\n        var type = tokens[1],\n            params = tokens[2],\n            stops = tokens[3];\n        params = params.split(/\\s*,\\s*/).map(function (el) {\n            return +el == el ? +el : el;\n        });\n        if (params.length == 1 && params[0] == 0) {\n            params = [];\n        }\n        stops = stops.split(\"-\");\n        stops = stops.map(function (el) {\n            el = el.split(\":\");\n            var out = {\n                color: el[0]\n            };\n            if (el[1]) {\n                out.offset = parseFloat(el[1]);\n            }\n            return out;\n        });\n        return {\n            type: type,\n            params: params,\n            stops: stops\n        };\n    });\n\n    eve.on(\"snap.util.attr.d\", function (value) {\n        eve.stop();\n        if (is(value, \"array\") && is(value[0], \"array\")) {\n            value = Snap.path.toString.call(value);\n        }\n        value = Str(value);\n        if (value.match(/[ruo]/i)) {\n            value = Snap.path.toAbsolute(value);\n        }\n        $(this.node, {d: value});\n    })(-1);\n    eve.on(\"snap.util.attr.#text\", function (value) {\n        eve.stop();\n        value = Str(value);\n        var txt = glob.doc.createTextNode(value);\n        while (this.node.firstChild) {\n            this.node.removeChild(this.node.firstChild);\n        }\n        this.node.appendChild(txt);\n    })(-1);\n    eve.on(\"snap.util.attr.path\", function (value) {\n        eve.stop();\n        this.attr({d: value});\n    })(-1);\n    eve.on(\"snap.util.attr.class\", function (value) {\n        eve.stop();\n        this.node.className.baseVal = value;\n    })(-1);\n    eve.on(\"snap.util.attr.viewBox\", function (value) {\n        var vb;\n        if (is(value, \"object\") && \"x\" in value) {\n            vb = [value.x, value.y, value.width, value.height].join(\" \");\n        } else if (is(value, \"array\")) {\n            vb = value.join(\" \");\n        } else {\n            vb = value;\n        }\n        $(this.node, {\n            viewBox: vb\n        });\n        eve.stop();\n    })(-1);\n    eve.on(\"snap.util.attr.transform\", function (value) {\n        this.transform(value);\n        eve.stop();\n    })(-1);\n    eve.on(\"snap.util.attr.r\", function (value) {\n        if (this.type == \"rect\") {\n            eve.stop();\n            $(this.node, {\n                rx: value,\n                ry: value\n            });\n        }\n    })(-1);\n    eve.on(\"snap.util.attr.textpath\", function (value) {\n        eve.stop();\n        if (this.type == \"text\") {\n            var id, tp, node;\n            if (!value && this.textPath) {\n                tp = this.textPath;\n                while (tp.node.firstChild) {\n                    this.node.appendChild(tp.node.firstChild);\n                }\n                tp.remove();\n                delete this.textPath;\n                return;\n            }\n            if (is(value, \"string\")) {\n                var defs = getSomeDefs(this),\n                    path = wrap(defs.parentNode).path(value);\n                defs.appendChild(path.node);\n                id = path.id;\n                path.attr({id: id});\n            } else {\n                value = wrap(value);\n                if (value instanceof Element) {\n                    id = value.attr(\"id\");\n                    if (!id) {\n                        id = value.id;\n                        value.attr({id: id});\n                    }\n                }\n            }\n            if (id) {\n                tp = this.textPath;\n                node = this.node;\n                if (tp) {\n                    tp.attr({\"xlink:href\": \"#\" + id});\n                } else {\n                    tp = $(\"textPath\", {\n                        \"xlink:href\": \"#\" + id\n                    });\n                    while (node.firstChild) {\n                        tp.appendChild(node.firstChild);\n                    }\n                    node.appendChild(tp);\n                    this.textPath = wrap(tp);\n                }\n            }\n        }\n    })(-1);\n    eve.on(\"snap.util.attr.text\", function (value) {\n        if (this.type == \"text\") {\n            var i = 0,\n                node = this.node,\n                tuner = function (chunk) {\n                    var out = $(\"tspan\");\n                    if (is(chunk, \"array\")) {\n                        for (var i = 0; i < chunk.length; i++) {\n                            out.appendChild(tuner(chunk[i]));\n                        }\n                    } else {\n                        out.appendChild(glob.doc.createTextNode(chunk));\n                    }\n                    out.normalize && out.normalize();\n                    return out;\n                };\n            while (node.firstChild) {\n                node.removeChild(node.firstChild);\n            }\n            var tuned = tuner(value);\n            while (tuned.firstChild) {\n                node.appendChild(tuned.firstChild);\n            }\n        }\n        eve.stop();\n    })(-1);\n    function setFontSize(value) {\n        eve.stop();\n        if (value == +value) {\n            value += \"px\";\n        }\n        this.node.style.fontSize = value;\n    }\n    eve.on(\"snap.util.attr.fontSize\", setFontSize)(-1);\n    eve.on(\"snap.util.attr.font-size\", setFontSize)(-1);\n\n\n    eve.on(\"snap.util.getattr.transform\", function () {\n        eve.stop();\n        return this.transform();\n    })(-1);\n    eve.on(\"snap.util.getattr.textpath\", function () {\n        eve.stop();\n        return this.textPath;\n    })(-1);\n    // Markers\n    (function () {\n        function getter(end) {\n            return function () {\n                eve.stop();\n                var style = glob.doc.defaultView.getComputedStyle(this.node, null).getPropertyValue(\"marker-\" + end);\n                if (style == \"none\") {\n                    return style;\n                } else {\n                    return Snap(glob.doc.getElementById(style.match(reURLValue)[1]));\n                }\n            };\n        }\n        function setter(end) {\n            return function (value) {\n                eve.stop();\n                var name = \"marker\" + end.charAt(0).toUpperCase() + end.substring(1);\n                if (value == \"\" || !value) {\n                    this.node.style[name] = \"none\";\n                    return;\n                }\n                if (value.type == \"marker\") {\n                    var id = value.node.id;\n                    if (!id) {\n                        $(value.node, {id: value.id});\n                    }\n                    this.node.style[name] = URL(id);\n                    return;\n                }\n            };\n        }\n        eve.on(\"snap.util.getattr.marker-end\", getter(\"end\"))(-1);\n        eve.on(\"snap.util.getattr.markerEnd\", getter(\"end\"))(-1);\n        eve.on(\"snap.util.getattr.marker-start\", getter(\"start\"))(-1);\n        eve.on(\"snap.util.getattr.markerStart\", getter(\"start\"))(-1);\n        eve.on(\"snap.util.getattr.marker-mid\", getter(\"mid\"))(-1);\n        eve.on(\"snap.util.getattr.markerMid\", getter(\"mid\"))(-1);\n        eve.on(\"snap.util.attr.marker-end\", setter(\"end\"))(-1);\n        eve.on(\"snap.util.attr.markerEnd\", setter(\"end\"))(-1);\n        eve.on(\"snap.util.attr.marker-start\", setter(\"start\"))(-1);\n        eve.on(\"snap.util.attr.markerStart\", setter(\"start\"))(-1);\n        eve.on(\"snap.util.attr.marker-mid\", setter(\"mid\"))(-1);\n        eve.on(\"snap.util.attr.markerMid\", setter(\"mid\"))(-1);\n    }());\n    eve.on(\"snap.util.getattr.r\", function () {\n        if (this.type == \"rect\" && $(this.node, \"rx\") == $(this.node, \"ry\")) {\n            eve.stop();\n            return $(this.node, \"rx\");\n        }\n    })(-1);\n    function textExtract(node) {\n        var out = [];\n        var children = node.childNodes;\n        for (var i = 0, ii = children.length; i < ii; i++) {\n            var chi = children[i];\n            if (chi.nodeType == 3) {\n                out.push(chi.nodeValue);\n            }\n            if (chi.tagName == \"tspan\") {\n                if (chi.childNodes.length == 1 && chi.firstChild.nodeType == 3) {\n                    out.push(chi.firstChild.nodeValue);\n                } else {\n                    out.push(textExtract(chi));\n                }\n            }\n        }\n        return out;\n    }\n    eve.on(\"snap.util.getattr.text\", function () {\n        if (this.type == \"text\" || this.type == \"tspan\") {\n            eve.stop();\n            var out = textExtract(this.node);\n            return out.length == 1 ? out[0] : out;\n        }\n    })(-1);\n    eve.on(\"snap.util.getattr.#text\", function () {\n        return this.node.textContent;\n    })(-1);\n    eve.on(\"snap.util.getattr.viewBox\", function () {\n        eve.stop();\n        var vb = $(this.node, \"viewBox\");\n        if (vb) {\n            vb = vb.split(separator);\n            return Snap._.box(+vb[0], +vb[1], +vb[2], +vb[3]);\n        } else {\n            return;\n        }\n    })(-1);\n    eve.on(\"snap.util.getattr.points\", function () {\n        var p = $(this.node, \"points\");\n        eve.stop();\n        if (p) {\n            return p.split(separator);\n        } else {\n            return;\n        }\n    })(-1);\n    eve.on(\"snap.util.getattr.path\", function () {\n        var p = $(this.node, \"d\");\n        eve.stop();\n        return p;\n    })(-1);\n    eve.on(\"snap.util.getattr.class\", function () {\n        return this.node.className.baseVal;\n    })(-1);\n    function getFontSize() {\n        eve.stop();\n        return this.node.style.fontSize;\n    }\n    eve.on(\"snap.util.getattr.fontSize\", getFontSize)(-1);\n    eve.on(\"snap.util.getattr.font-size\", getFontSize)(-1);\n});\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var operators = {\n            \"+\": function (x, y) {\n                    return x + y;\n                },\n            \"-\": function (x, y) {\n                    return x - y;\n                },\n            \"/\": function (x, y) {\n                    return x / y;\n                },\n            \"*\": function (x, y) {\n                    return x * y;\n                }\n        },\n        Str = String,\n        reUnit = /[a-z]+$/i,\n        reAddon = /^\\s*([+\\-\\/*])\\s*=\\s*([\\d.eE+\\-]+)\\s*([^\\d\\s]+)?\\s*$/;\n    function getNumber(val) {\n        return val;\n    }\n    function getUnit(unit) {\n        return function (val) {\n            return +val.toFixed(3) + unit;\n        };\n    }\n    eve.on(\"snap.util.attr\", function (val) {\n        var plus = Str(val).match(reAddon);\n        if (plus) {\n            var evnt = eve.nt(),\n                name = evnt.substring(evnt.lastIndexOf(\".\") + 1),\n                a = this.attr(name),\n                atr = {};\n            eve.stop();\n            var unit = plus[3] || \"\",\n                aUnit = a.match(reUnit),\n                op = operators[plus[1]];\n            if (aUnit && aUnit == unit) {\n                val = op(parseFloat(a), +plus[2]);\n            } else {\n                a = this.asPX(name);\n                val = op(this.asPX(name), this.asPX(name, plus[2] + unit));\n            }\n            if (isNaN(a) || isNaN(val)) {\n                return;\n            }\n            atr[name] = val;\n            this.attr(atr);\n        }\n    })(-10);\n    eve.on(\"snap.util.equal\", function (name, b) {\n        var A, B, a = Str(this.attr(name) || \"\"),\n            el = this,\n            bplus = Str(b).match(reAddon);\n        if (bplus) {\n            eve.stop();\n            var unit = bplus[3] || \"\",\n                aUnit = a.match(reUnit),\n                op = operators[bplus[1]];\n            if (aUnit && aUnit == unit) {\n                return {\n                    from: parseFloat(a),\n                    to: op(parseFloat(a), +bplus[2]),\n                    f: getUnit(aUnit)\n                };\n            } else {\n                a = this.asPX(name);\n                return {\n                    from: a,\n                    to: op(a, this.asPX(name, bplus[2] + unit)),\n                    f: getNumber\n                };\n            }\n        }\n    })(-10);\n});\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var proto = Paper.prototype,\n        is = Snap.is;\n    /*\\\n     * Paper.rect\n     [ method ]\n     *\n     * Draws a rectangle\n     **\n     - x (number) x coordinate of the top left corner\n     - y (number) y coordinate of the top left corner\n     - width (number) width\n     - height (number) height\n     - rx (number) #optional horizontal radius for rounded corners, default is 0\n     - ry (number) #optional vertical radius for rounded corners, default is rx or 0\n     = (object) the `rect` element\n     **\n     > Usage\n     | // regular rectangle\n     | var c = paper.rect(10, 10, 50, 50);\n     | // rectangle with rounded corners\n     | var c = paper.rect(40, 40, 50, 50, 10);\n    \\*/\n    proto.rect = function (x, y, w, h, rx, ry) {\n        var attr;\n        if (ry == null) {\n            ry = rx;\n        }\n        if (is(x, \"object\") && x == \"[object Object]\") {\n            attr = x;\n        } else if (x != null) {\n            attr = {\n                x: x,\n                y: y,\n                width: w,\n                height: h\n            };\n            if (rx != null) {\n                attr.rx = rx;\n                attr.ry = ry;\n            }\n        }\n        return this.el(\"rect\", attr);\n    };\n    /*\\\n     * Paper.circle\n     [ method ]\n     **\n     * Draws a circle\n     **\n     - x (number) x coordinate of the centre\n     - y (number) y coordinate of the centre\n     - r (number) radius\n     = (object) the `circle` element\n     **\n     > Usage\n     | var c = paper.circle(50, 50, 40);\n    \\*/\n    proto.circle = function (cx, cy, r) {\n        var attr;\n        if (is(cx, \"object\") && cx == \"[object Object]\") {\n            attr = cx;\n        } else if (cx != null) {\n            attr = {\n                cx: cx,\n                cy: cy,\n                r: r\n            };\n        }\n        return this.el(\"circle\", attr);\n    };\n\n    var preload = (function () {\n        function onerror() {\n            this.parentNode.removeChild(this);\n        }\n        return function (src, f) {\n            var img = glob.doc.createElement(\"img\"),\n                body = glob.doc.body;\n            img.style.cssText = \"position:absolute;left:-9999em;top:-9999em\";\n            img.onload = function () {\n                f.call(img);\n                img.onload = img.onerror = null;\n                body.removeChild(img);\n            };\n            img.onerror = onerror;\n            body.appendChild(img);\n            img.src = src;\n        };\n    }());\n\n    /*\\\n     * Paper.image\n     [ method ]\n     **\n     * Places an image on the surface\n     **\n     - src (string) URI of the source image\n     - x (number) x offset position\n     - y (number) y offset position\n     - width (number) width of the image\n     - height (number) height of the image\n     = (object) the `image` element\n     * or\n     = (object) Snap element object with type `image`\n     **\n     > Usage\n     | var c = paper.image(\"apple.png\", 10, 10, 80, 80);\n    \\*/\n    proto.image = function (src, x, y, width, height) {\n        var el = this.el(\"image\");\n        if (is(src, \"object\") && \"src\" in src) {\n            el.attr(src);\n        } else if (src != null) {\n            var set = {\n                \"xlink:href\": src,\n                preserveAspectRatio: \"none\"\n            };\n            if (x != null && y != null) {\n                set.x = x;\n                set.y = y;\n            }\n            if (width != null && height != null) {\n                set.width = width;\n                set.height = height;\n            } else {\n                preload(src, function () {\n                    Snap._.$(el.node, {\n                        width: this.offsetWidth,\n                        height: this.offsetHeight\n                    });\n                });\n            }\n            Snap._.$(el.node, set);\n        }\n        return el;\n    };\n    /*\\\n     * Paper.ellipse\n     [ method ]\n     **\n     * Draws an ellipse\n     **\n     - x (number) x coordinate of the centre\n     - y (number) y coordinate of the centre\n     - rx (number) horizontal radius\n     - ry (number) vertical radius\n     = (object) the `ellipse` element\n     **\n     > Usage\n     | var c = paper.ellipse(50, 50, 40, 20);\n    \\*/\n    proto.ellipse = function (cx, cy, rx, ry) {\n        var attr;\n        if (is(cx, \"object\") && cx == \"[object Object]\") {\n            attr = cx;\n        } else if (cx != null) {\n            attr ={\n                cx: cx,\n                cy: cy,\n                rx: rx,\n                ry: ry\n            };\n        }\n        return this.el(\"ellipse\", attr);\n    };\n    // SIERRA Paper.path(): Unclear from the link what a Catmull-Rom curveto is, and why it would make life any easier.\n    /*\\\n     * Paper.path\n     [ method ]\n     **\n     * Creates a `<path>` element using the given string as the path's definition\n     - pathString (string) #optional path string in SVG format\n     * Path string consists of one-letter commands, followed by comma seprarated arguments in numerical form. Example:\n     | \"M10,20L30,40\"\n     * This example features two commands: `M`, with arguments `(10, 20)` and `L` with arguments `(30, 40)`. Uppercase letter commands express coordinates in absolute terms, while lowercase commands express them in relative terms from the most recently declared coordinates.\n     *\n     # <p>Here is short list of commands available, for more details see <a href=\"http://www.w3.org/TR/SVG/paths.html#PathData\" title=\"Details of a path's data attribute's format are described in the SVG specification.\">SVG path string format</a> or <a href=\"https://developer.mozilla.org/en/SVG/Tutorial/Paths\">article about path strings at MDN</a>.</p>\n     # <table><thead><tr><th>Command</th><th>Name</th><th>Parameters</th></tr></thead><tbody>\n     # <tr><td>M</td><td>moveto</td><td>(x y)+</td></tr>\n     # <tr><td>Z</td><td>closepath</td><td>(none)</td></tr>\n     # <tr><td>L</td><td>lineto</td><td>(x y)+</td></tr>\n     # <tr><td>H</td><td>horizontal lineto</td><td>x+</td></tr>\n     # <tr><td>V</td><td>vertical lineto</td><td>y+</td></tr>\n     # <tr><td>C</td><td>curveto</td><td>(x1 y1 x2 y2 x y)+</td></tr>\n     # <tr><td>S</td><td>smooth curveto</td><td>(x2 y2 x y)+</td></tr>\n     # <tr><td>Q</td><td>quadratic Bézier curveto</td><td>(x1 y1 x y)+</td></tr>\n     # <tr><td>T</td><td>smooth quadratic Bézier curveto</td><td>(x y)+</td></tr>\n     # <tr><td>A</td><td>elliptical arc</td><td>(rx ry x-axis-rotation large-arc-flag sweep-flag x y)+</td></tr>\n     # <tr><td>R</td><td><a href=\"http://en.wikipedia.org/wiki/Catmull–Rom_spline#Catmull.E2.80.93Rom_spline\">Catmull-Rom curveto</a>*</td><td>x1 y1 (x y)+</td></tr></tbody></table>\n     * * _Catmull-Rom curveto_ is a not standard SVG command and added to make life easier.\n     * Note: there is a special case when a path consists of only three commands: `M10,10R…z`. In this case the path connects back to its starting point.\n     > Usage\n     | var c = paper.path(\"M10 10L90 90\");\n     | // draw a diagonal line:\n     | // move to 10,10, line to 90,90\n    \\*/\n    proto.path = function (d) {\n        var attr;\n        if (is(d, \"object\") && !is(d, \"array\")) {\n            attr = d;\n        } else if (d) {\n            attr = {d: d};\n        }\n        return this.el(\"path\", attr);\n    };\n    /*\\\n     * Paper.g\n     [ method ]\n     **\n     * Creates a group element\n     **\n     - varargs (…) #optional elements to nest within the group\n     = (object) the `g` element\n     **\n     > Usage\n     | var c1 = paper.circle(),\n     |     c2 = paper.rect(),\n     |     g = paper.g(c2, c1); // note that the order of elements is different\n     * or\n     | var c1 = paper.circle(),\n     |     c2 = paper.rect(),\n     |     g = paper.g();\n     | g.add(c2, c1);\n    \\*/\n    /*\\\n     * Paper.group\n     [ method ]\n     **\n     * See @Paper.g\n    \\*/\n    proto.group = proto.g = function (first) {\n        var attr,\n            el = this.el(\"g\");\n        if (arguments.length == 1 && first && !first.type) {\n            el.attr(first);\n        } else if (arguments.length) {\n            el.add(Array.prototype.slice.call(arguments, 0));\n        }\n        return el;\n    };\n    /*\\\n     * Paper.svg\n     [ method ]\n     **\n     * Creates a nested SVG element.\n     - x (number) @optional X of the element\n     - y (number) @optional Y of the element\n     - width (number) @optional width of the element\n     - height (number) @optional height of the element\n     - vbx (number) @optional viewbox X\n     - vby (number) @optional viewbox Y\n     - vbw (number) @optional viewbox width\n     - vbh (number) @optional viewbox height\n     **\n     = (object) the `svg` element\n     **\n    \\*/\n    proto.svg = function (x, y, width, height, vbx, vby, vbw, vbh) {\n        var attrs = {};\n        if (is(x, \"object\") && y == null) {\n            attrs = x;\n        } else {\n            if (x != null) {\n                attrs.x = x;\n            }\n            if (y != null) {\n                attrs.y = y;\n            }\n            if (width != null) {\n                attrs.width = width;\n            }\n            if (height != null) {\n                attrs.height = height;\n            }\n            if (vbx != null && vby != null && vbw != null && vbh != null) {\n                attrs.viewBox = [vbx, vby, vbw, vbh];\n            }\n        }\n        return this.el(\"svg\", attrs);\n    };\n    /*\\\n     * Paper.mask\n     [ method ]\n     **\n     * Equivalent in behaviour to @Paper.g, except it’s a mask.\n     **\n     = (object) the `mask` element\n     **\n    \\*/\n    proto.mask = function (first) {\n        var attr,\n            el = this.el(\"mask\");\n        if (arguments.length == 1 && first && !first.type) {\n            el.attr(first);\n        } else if (arguments.length) {\n            el.add(Array.prototype.slice.call(arguments, 0));\n        }\n        return el;\n    };\n    /*\\\n     * Paper.ptrn\n     [ method ]\n     **\n     * Equivalent in behaviour to @Paper.g, except it’s a mask.\n     - x (number) @optional X of the element\n     - y (number) @optional Y of the element\n     - width (number) @optional width of the element\n     - height (number) @optional height of the element\n     - vbx (number) @optional viewbox X\n     - vby (number) @optional viewbox Y\n     - vbw (number) @optional viewbox width\n     - vbh (number) @optional viewbox height\n     **\n     = (object) the `mask` element\n     **\n    \\*/\n    proto.ptrn = function (x, y, width, height, vx, vy, vw, vh) {\n        if (is(x, \"object\")) {\n            var attr = x;\n        } else if (!arguments.length) {\n            attr = {patternUnits: \"userSpaceOnUse\"};\n        } else {\n            attr = {};\n            if (x != null) {\n                attr.x = x;\n            }\n            if (y != null) {\n                attr.y = y;\n            }\n            if (width != null) {\n                attr.width = width;\n            }\n            if (height != null) {\n                attr.height = height;\n            }\n            if (vx != null && vy != null && vw != null && vh != null) {\n                attr.viewBox = [vx, vy, vw, vh];\n            }\n        }\n        return this.el(\"pattern\", attr);\n    };\n    /*\\\n     * Paper.use\n     [ method ]\n     **\n     * Creates a <use> element.\n     - id (string) @optional id of element to link\n     * or\n     - id (Element) @optional element to link\n     **\n     = (object) the `use` element\n     **\n    \\*/\n    proto.use = function (id) {\n        if (id != null) {\n            var el = make(\"use\", this.node);\n            if (id instanceof Element) {\n                if (!id.attr(\"id\")) {\n                    id.attr({id: ID()});\n                }\n                id = id.attr(\"id\");\n            }\n            return this.el(\"use\", {\"xlink:href\": id});\n        } else {\n            return Element.prototype.use.call(this);\n        }\n    };\n    /*\\\n     * Paper.text\n     [ method ]\n     **\n     * Draws a text string\n     **\n     - x (number) x coordinate position\n     - y (number) y coordinate position\n     - text (string|array) The text string to draw or array of strings to nest within separate `<tspan>` elements\n     = (object) the `text` element\n     **\n     > Usage\n     | var t1 = paper.text(50, 50, \"Snap\");\n     | var t2 = paper.text(50, 50, [\"S\",\"n\",\"a\",\"p\"]);\n     | // Text path usage\n     | t1.attr({textpath: \"M10,10L100,100\"});\n     | // or\n     | var pth = paper.path(\"M10,10L100,100\");\n     | t1.attr({textpath: pth});\n    \\*/\n    proto.text = function (x, y, text) {\n        var attr = {};\n        if (is(x, \"object\")) {\n            attr = x;\n        } else if (x != null) {\n            attr = {\n                x: x,\n                y: y,\n                text: text || \"\"\n            };\n        }\n        return this.el(\"text\", attr);\n    };\n    /*\\\n     * Paper.line\n     [ method ]\n     **\n     * Draws a line\n     **\n     - x1 (number) x coordinate position of the start\n     - y1 (number) y coordinate position of the start\n     - x2 (number) x coordinate position of the end\n     - y2 (number) y coordinate position of the end\n     = (object) the `line` element\n     **\n     > Usage\n     | var t1 = paper.line(50, 50, 100, 100);\n    \\*/\n    proto.line = function (x1, y1, x2, y2) {\n        var attr = {};\n        if (is(x1, \"object\")) {\n            attr = x1;\n        } else if (x1 != null) {\n            attr = {\n                x1: x1,\n                x2: x2,\n                y1: y1,\n                y2: y2\n            };\n        }\n        return this.el(\"line\", attr);\n    };\n    /*\\\n     * Paper.polyline\n     [ method ]\n     **\n     * Draws a polyline\n     **\n     - points (array) array of points\n     * or\n     - varargs (…) points\n     = (object) the `polyline` element\n     **\n     > Usage\n     | var p1 = paper.polyline([10, 10, 100, 100]);\n     | var p2 = paper.polyline(10, 10, 100, 100);\n    \\*/\n    proto.polyline = function (points) {\n        if (arguments.length > 1) {\n            points = Array.prototype.slice.call(arguments, 0);\n        }\n        var attr = {};\n        if (is(points, \"object\") && !is(points, \"array\")) {\n            attr = points;\n        } else if (points != null) {\n            attr = {points: points};\n        }\n        return this.el(\"polyline\", attr);\n    };\n    /*\\\n     * Paper.polygon\n     [ method ]\n     **\n     * Draws a polygon. See @Paper.polyline\n    \\*/\n    proto.polygon = function (points) {\n        if (arguments.length > 1) {\n            points = Array.prototype.slice.call(arguments, 0);\n        }\n        var attr = {};\n        if (is(points, \"object\") && !is(points, \"array\")) {\n            attr = points;\n        } else if (points != null) {\n            attr = {points: points};\n        }\n        return this.el(\"polygon\", attr);\n    };\n    // gradients\n    (function () {\n        var $ = Snap._.$;\n        // gradients' helpers\n        function Gstops() {\n            return this.selectAll(\"stop\");\n        }\n        function GaddStop(color, offset) {\n            var stop = $(\"stop\"),\n                attr = {\n                    offset: +offset + \"%\"\n                };\n            color = Snap.color(color);\n            attr[\"stop-color\"] = color.hex;\n            if (color.opacity < 1) {\n                attr[\"stop-opacity\"] = color.opacity;\n            }\n            $(stop, attr);\n            this.node.appendChild(stop);\n            return this;\n        }\n        function GgetBBox() {\n            if (this.type == \"linearGradient\") {\n                var x1 = $(this.node, \"x1\") || 0,\n                    x2 = $(this.node, \"x2\") || 1,\n                    y1 = $(this.node, \"y1\") || 0,\n                    y2 = $(this.node, \"y2\") || 0;\n                return Snap._.box(x1, y1, math.abs(x2 - x1), math.abs(y2 - y1));\n            } else {\n                var cx = this.node.cx || .5,\n                    cy = this.node.cy || .5,\n                    r = this.node.r || 0;\n                return Snap._.box(cx - r, cy - r, r * 2, r * 2);\n            }\n        }\n        function gradient(defs, str) {\n            var grad = eve(\"snap.util.grad.parse\", null, str).firstDefined(),\n                el;\n            if (!grad) {\n                return null;\n            }\n            grad.params.unshift(defs);\n            if (grad.type.toLowerCase() == \"l\") {\n                el = gradientLinear.apply(0, grad.params);\n            } else {\n                el = gradientRadial.apply(0, grad.params);\n            }\n            if (grad.type != grad.type.toLowerCase()) {\n                $(el.node, {\n                    gradientUnits: \"userSpaceOnUse\"\n                });\n            }\n            var stops = grad.stops,\n                len = stops.length,\n                start = 0,\n                j = 0;\n            function seed(i, end) {\n                var step = (end - start) / (i - j);\n                for (var k = j; k < i; k++) {\n                    stops[k].offset = +(+start + step * (k - j)).toFixed(2);\n                }\n                j = i;\n                start = end;\n            }\n            len--;\n            for (var i = 0; i < len; i++) if (\"offset\" in stops[i]) {\n                seed(i, stops[i].offset);\n            }\n            stops[len].offset = stops[len].offset || 100;\n            seed(len, stops[len].offset);\n            for (i = 0; i <= len; i++) {\n                var stop = stops[i];\n                el.addStop(stop.color, stop.offset);\n            }\n            return el;\n        }\n        function gradientLinear(defs, x1, y1, x2, y2) {\n            var el = Snap._.make(\"linearGradient\", defs);\n            el.stops = Gstops;\n            el.addStop = GaddStop;\n            el.getBBox = GgetBBox;\n            if (x1 != null) {\n                $(el.node, {\n                    x1: x1,\n                    y1: y1,\n                    x2: x2,\n                    y2: y2\n                });\n            }\n            return el;\n        }\n        function gradientRadial(defs, cx, cy, r, fx, fy) {\n            var el = Snap._.make(\"radialGradient\", defs);\n            el.stops = Gstops;\n            el.addStop = GaddStop;\n            el.getBBox = GgetBBox;\n            if (cx != null) {\n                $(el.node, {\n                    cx: cx,\n                    cy: cy,\n                    r: r\n                });\n            }\n            if (fx != null && fy != null) {\n                $(el.node, {\n                    fx: fx,\n                    fy: fy\n                });\n            }\n            return el;\n        }\n        /*\\\n         * Paper.gradient\n         [ method ]\n         **\n         * Creates a gradient element\n         **\n         - gradient (string) gradient descriptor\n         > Gradient Descriptor\n         * The gradient descriptor is an expression formatted as\n         * follows: `<type>(<coords>)<colors>`.  The `<type>` can be\n         * either linear or radial.  The uppercase `L` or `R` letters\n         * indicate absolute coordinates offset from the SVG surface.\n         * Lowercase `l` or `r` letters indicate coordinates\n         * calculated relative to the element to which the gradient is\n         * applied.  Coordinates specify a linear gradient vector as\n         * `x1`, `y1`, `x2`, `y2`, or a radial gradient as `cx`, `cy`,\n         * `r` and optional `fx`, `fy` specifying a focal point away\n         * from the center of the circle. Specify `<colors>` as a list\n         * of dash-separated CSS color values.  Each color may be\n         * followed by a custom offset value, separated with a colon\n         * character.\n         > Examples\n         * Linear gradient, relative from top-left corner to bottom-right\n         * corner, from black through red to white:\n         | var g = paper.gradient(\"l(0, 0, 1, 1)#000-#f00-#fff\");\n         * Linear gradient, absolute from (0, 0) to (100, 100), from black\n         * through red at 25% to white:\n         | var g = paper.gradient(\"L(0, 0, 100, 100)#000-#f00:25-#fff\");\n         * Radial gradient, relative from the center of the element with radius\n         * half the width, from black to white:\n         | var g = paper.gradient(\"r(0.5, 0.5, 0.5)#000-#fff\");\n         * To apply the gradient:\n         | paper.circle(50, 50, 40).attr({\n         |     fill: g\n         | });\n         = (object) the `gradient` element\n        \\*/\n        proto.gradient = function (str) {\n            return gradient(this.defs, str);\n        };\n        proto.gradientLinear = function (x1, y1, x2, y2) {\n            return gradientLinear(this.defs, x1, y1, x2, y2);\n        };\n        proto.gradientRadial = function (cx, cy, r, fx, fy) {\n            return gradientRadial(this.defs, cx, cy, r, fx, fy);\n        };\n        /*\\\n         * Paper.toString\n         [ method ]\n         **\n         * Returns SVG code for the @Paper\n         = (string) SVG code for the @Paper\n        \\*/\n        proto.toString = function () {\n            var doc = this.node.ownerDocument,\n                f = doc.createDocumentFragment(),\n                d = doc.createElement(\"div\"),\n                svg = this.node.cloneNode(true),\n                res;\n            f.appendChild(d);\n            d.appendChild(svg);\n            Snap._.$(svg, {xmlns: \"http://www.w3.org/2000/svg\"});\n            res = d.innerHTML;\n            f.removeChild(f.firstChild);\n            return res;\n        };\n        /*\\\n         * Paper.clear\n         [ method ]\n         **\n         * Removes all child nodes of the paper, except <defs>.\n        \\*/\n        proto.clear = function () {\n            var node = this.node.firstChild,\n                next;\n            while (node) {\n                next = node.nextSibling;\n                if (node.tagName != \"defs\") {\n                    node.parentNode.removeChild(node);\n                } else {\n                    proto.clear.call({node: node});\n                }\n                node = next;\n            }\n        };\n    }());\n});\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var elproto = Element.prototype,\n        is = Snap.is,\n        clone = Snap._.clone,\n        has = \"hasOwnProperty\",\n        p2s = /,?([a-z]),?/gi,\n        toFloat = parseFloat,\n        math = Math,\n        PI = math.PI,\n        mmin = math.min,\n        mmax = math.max,\n        pow = math.pow,\n        abs = math.abs;\n    function paths(ps) {\n        var p = paths.ps = paths.ps || {};\n        if (p[ps]) {\n            p[ps].sleep = 100;\n        } else {\n            p[ps] = {\n                sleep: 100\n            };\n        }\n        setTimeout(function () {\n            for (var key in p) if (p[has](key) && key != ps) {\n                p[key].sleep--;\n                !p[key].sleep && delete p[key];\n            }\n        });\n        return p[ps];\n    }\n    function box(x, y, width, height) {\n        if (x == null) {\n            x = y = width = height = 0;\n        }\n        if (y == null) {\n            y = x.y;\n            width = x.width;\n            height = x.height;\n            x = x.x;\n        }\n        return {\n            x: x,\n            y: y,\n            width: width,\n            w: width,\n            height: height,\n            h: height,\n            x2: x + width,\n            y2: y + height,\n            cx: x + width / 2,\n            cy: y + height / 2,\n            r1: math.min(width, height) / 2,\n            r2: math.max(width, height) / 2,\n            r0: math.sqrt(width * width + height * height) / 2,\n            path: rectPath(x, y, width, height),\n            vb: [x, y, width, height].join(\" \")\n        };\n    }\n    function toString() {\n        return this.join(\",\").replace(p2s, \"$1\");\n    }\n    function pathClone(pathArray) {\n        var res = clone(pathArray);\n        res.toString = toString;\n        return res;\n    }\n    function getPointAtSegmentLength(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length) {\n        if (length == null) {\n            return bezlen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y);\n        } else {\n            return findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y,\n                getTotLen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length));\n        }\n    }\n    function getLengthFactory(istotal, subpath) {\n        function O(val) {\n            return +(+val).toFixed(3);\n        }\n        return Snap._.cacher(function (path, length, onlystart) {\n            if (path instanceof Element) {\n                path = path.attr(\"d\");\n            }\n            path = path2curve(path);\n            var x, y, p, l, sp = \"\", subpaths = {}, point,\n                len = 0;\n            for (var i = 0, ii = path.length; i < ii; i++) {\n                p = path[i];\n                if (p[0] == \"M\") {\n                    x = +p[1];\n                    y = +p[2];\n                } else {\n                    l = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\n                    if (len + l > length) {\n                        if (subpath && !subpaths.start) {\n                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\n                            sp += [\n                                \"C\" + O(point.start.x),\n                                O(point.start.y),\n                                O(point.m.x),\n                                O(point.m.y),\n                                O(point.x),\n                                O(point.y)\n                            ];\n                            if (onlystart) {return sp;}\n                            subpaths.start = sp;\n                            sp = [\n                                \"M\" + O(point.x),\n                                O(point.y) + \"C\" + O(point.n.x),\n                                O(point.n.y),\n                                O(point.end.x),\n                                O(point.end.y),\n                                O(p[5]),\n                                O(p[6])\n                            ].join();\n                            len += l;\n                            x = +p[5];\n                            y = +p[6];\n                            continue;\n                        }\n                        if (!istotal && !subpath) {\n                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\n                            return point;\n                        }\n                    }\n                    len += l;\n                    x = +p[5];\n                    y = +p[6];\n                }\n                sp += p.shift() + p;\n            }\n            subpaths.end = sp;\n            point = istotal ? len : subpath ? subpaths : findDotsAtSegment(x, y, p[0], p[1], p[2], p[3], p[4], p[5], 1);\n            return point;\n        }, null, Snap._.clone);\n    }\n    var getTotalLength = getLengthFactory(1),\n        getPointAtLength = getLengthFactory(),\n        getSubpathsAtLength = getLengthFactory(0, 1);\n    function findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n        var t1 = 1 - t,\n            t13 = pow(t1, 3),\n            t12 = pow(t1, 2),\n            t2 = t * t,\n            t3 = t2 * t,\n            x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x,\n            y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y,\n            mx = p1x + 2 * t * (c1x - p1x) + t2 * (c2x - 2 * c1x + p1x),\n            my = p1y + 2 * t * (c1y - p1y) + t2 * (c2y - 2 * c1y + p1y),\n            nx = c1x + 2 * t * (c2x - c1x) + t2 * (p2x - 2 * c2x + c1x),\n            ny = c1y + 2 * t * (c2y - c1y) + t2 * (p2y - 2 * c2y + c1y),\n            ax = t1 * p1x + t * c1x,\n            ay = t1 * p1y + t * c1y,\n            cx = t1 * c2x + t * p2x,\n            cy = t1 * c2y + t * p2y,\n            alpha = (90 - math.atan2(mx - nx, my - ny) * 180 / PI);\n        // (mx > nx || my < ny) && (alpha += 180);\n        return {\n            x: x,\n            y: y,\n            m: {x: mx, y: my},\n            n: {x: nx, y: ny},\n            start: {x: ax, y: ay},\n            end: {x: cx, y: cy},\n            alpha: alpha\n        };\n    }\n    function bezierBBox(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\n        if (!Snap.is(p1x, \"array\")) {\n            p1x = [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y];\n        }\n        var bbox = curveDim.apply(null, p1x);\n        return box(\n            bbox.min.x,\n            bbox.min.y,\n            bbox.max.x - bbox.min.x,\n            bbox.max.y - bbox.min.y\n        );\n    }\n    function isPointInsideBBox(bbox, x, y) {\n        return  x >= bbox.x &&\n                x <= bbox.x + bbox.width &&\n                y >= bbox.y &&\n                y <= bbox.y + bbox.height;\n    }\n    function isBBoxIntersect(bbox1, bbox2) {\n        bbox1 = box(bbox1);\n        bbox2 = box(bbox2);\n        return isPointInsideBBox(bbox2, bbox1.x, bbox1.y)\n            || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y)\n            || isPointInsideBBox(bbox2, bbox1.x, bbox1.y2)\n            || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y2)\n            || isPointInsideBBox(bbox1, bbox2.x, bbox2.y)\n            || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y)\n            || isPointInsideBBox(bbox1, bbox2.x, bbox2.y2)\n            || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y2)\n            || (bbox1.x < bbox2.x2 && bbox1.x > bbox2.x\n                || bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)\n            && (bbox1.y < bbox2.y2 && bbox1.y > bbox2.y\n                || bbox2.y < bbox1.y2 && bbox2.y > bbox1.y);\n    }\n    function base3(t, p1, p2, p3, p4) {\n        var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4,\n            t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n        return t * t2 - 3 * p1 + 3 * p2;\n    }\n    function bezlen(x1, y1, x2, y2, x3, y3, x4, y4, z) {\n        if (z == null) {\n            z = 1;\n        }\n        z = z > 1 ? 1 : z < 0 ? 0 : z;\n        var z2 = z / 2,\n            n = 12,\n            Tvalues = [-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],\n            Cvalues = [0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],\n            sum = 0;\n        for (var i = 0; i < n; i++) {\n            var ct = z2 * Tvalues[i] + z2,\n                xbase = base3(ct, x1, x2, x3, x4),\n                ybase = base3(ct, y1, y2, y3, y4),\n                comb = xbase * xbase + ybase * ybase;\n            sum += Cvalues[i] * math.sqrt(comb);\n        }\n        return z2 * sum;\n    }\n    function getTotLen(x1, y1, x2, y2, x3, y3, x4, y4, ll) {\n        if (ll < 0 || bezlen(x1, y1, x2, y2, x3, y3, x4, y4) < ll) {\n            return;\n        }\n        var t = 1,\n            step = t / 2,\n            t2 = t - step,\n            l,\n            e = .01;\n        l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\n        while (abs(l - ll) > e) {\n            step /= 2;\n            t2 += (l < ll ? 1 : -1) * step;\n            l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\n        }\n        return t2;\n    }\n    function intersect(x1, y1, x2, y2, x3, y3, x4, y4) {\n        if (\n            mmax(x1, x2) < mmin(x3, x4) ||\n            mmin(x1, x2) > mmax(x3, x4) ||\n            mmax(y1, y2) < mmin(y3, y4) ||\n            mmin(y1, y2) > mmax(y3, y4)\n        ) {\n            return;\n        }\n        var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n            ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n            denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n\n        if (!denominator) {\n            return;\n        }\n        var px = nx / denominator,\n            py = ny / denominator,\n            px2 = +px.toFixed(2),\n            py2 = +py.toFixed(2);\n        if (\n            px2 < +mmin(x1, x2).toFixed(2) ||\n            px2 > +mmax(x1, x2).toFixed(2) ||\n            px2 < +mmin(x3, x4).toFixed(2) ||\n            px2 > +mmax(x3, x4).toFixed(2) ||\n            py2 < +mmin(y1, y2).toFixed(2) ||\n            py2 > +mmax(y1, y2).toFixed(2) ||\n            py2 < +mmin(y3, y4).toFixed(2) ||\n            py2 > +mmax(y3, y4).toFixed(2)\n        ) {\n            return;\n        }\n        return {x: px, y: py};\n    }\n    function inter(bez1, bez2) {\n        return interHelper(bez1, bez2);\n    }\n    function interCount(bez1, bez2) {\n        return interHelper(bez1, bez2, 1);\n    }\n    function interHelper(bez1, bez2, justCount) {\n        var bbox1 = bezierBBox(bez1),\n            bbox2 = bezierBBox(bez2);\n        if (!isBBoxIntersect(bbox1, bbox2)) {\n            return justCount ? 0 : [];\n        }\n        var l1 = bezlen.apply(0, bez1),\n            l2 = bezlen.apply(0, bez2),\n            n1 = ~~(l1 / 8),\n            n2 = ~~(l2 / 8),\n            dots1 = [],\n            dots2 = [],\n            xy = {},\n            res = justCount ? 0 : [];\n        for (var i = 0; i < n1 + 1; i++) {\n            var p = findDotsAtSegment.apply(0, bez1.concat(i / n1));\n            dots1.push({x: p.x, y: p.y, t: i / n1});\n        }\n        for (i = 0; i < n2 + 1; i++) {\n            p = findDotsAtSegment.apply(0, bez2.concat(i / n2));\n            dots2.push({x: p.x, y: p.y, t: i / n2});\n        }\n        for (i = 0; i < n1; i++) {\n            for (var j = 0; j < n2; j++) {\n                var di = dots1[i],\n                    di1 = dots1[i + 1],\n                    dj = dots2[j],\n                    dj1 = dots2[j + 1],\n                    ci = abs(di1.x - di.x) < .001 ? \"y\" : \"x\",\n                    cj = abs(dj1.x - dj.x) < .001 ? \"y\" : \"x\",\n                    is = intersect(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y);\n                if (is) {\n                    if (xy[is.x.toFixed(4)] == is.y.toFixed(4)) {\n                        continue;\n                    }\n                    xy[is.x.toFixed(4)] = is.y.toFixed(4);\n                    var t1 = di.t + abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t),\n                        t2 = dj.t + abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n                    if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {\n                        if (justCount) {\n                            res++;\n                        } else {\n                            res.push({\n                                x: is.x,\n                                y: is.y,\n                                t1: t1,\n                                t2: t2\n                            });\n                        }\n                    }\n                }\n            }\n        }\n        return res;\n    }\n    function pathIntersection(path1, path2) {\n        return interPathHelper(path1, path2);\n    }\n    function pathIntersectionNumber(path1, path2) {\n        return interPathHelper(path1, path2, 1);\n    }\n    function interPathHelper(path1, path2, justCount) {\n        path1 = path2curve(path1);\n        path2 = path2curve(path2);\n        var x1, y1, x2, y2, x1m, y1m, x2m, y2m, bez1, bez2,\n            res = justCount ? 0 : [];\n        for (var i = 0, ii = path1.length; i < ii; i++) {\n            var pi = path1[i];\n            if (pi[0] == \"M\") {\n                x1 = x1m = pi[1];\n                y1 = y1m = pi[2];\n            } else {\n                if (pi[0] == \"C\") {\n                    bez1 = [x1, y1].concat(pi.slice(1));\n                    x1 = bez1[6];\n                    y1 = bez1[7];\n                } else {\n                    bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n                    x1 = x1m;\n                    y1 = y1m;\n                }\n                for (var j = 0, jj = path2.length; j < jj; j++) {\n                    var pj = path2[j];\n                    if (pj[0] == \"M\") {\n                        x2 = x2m = pj[1];\n                        y2 = y2m = pj[2];\n                    } else {\n                        if (pj[0] == \"C\") {\n                            bez2 = [x2, y2].concat(pj.slice(1));\n                            x2 = bez2[6];\n                            y2 = bez2[7];\n                        } else {\n                            bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n                            x2 = x2m;\n                            y2 = y2m;\n                        }\n                        var intr = interHelper(bez1, bez2, justCount);\n                        if (justCount) {\n                            res += intr;\n                        } else {\n                            for (var k = 0, kk = intr.length; k < kk; k++) {\n                                intr[k].segment1 = i;\n                                intr[k].segment2 = j;\n                                intr[k].bez1 = bez1;\n                                intr[k].bez2 = bez2;\n                            }\n                            res = res.concat(intr);\n                        }\n                    }\n                }\n            }\n        }\n        return res;\n    }\n    function isPointInsidePath(path, x, y) {\n        var bbox = pathBBox(path);\n        return isPointInsideBBox(bbox, x, y) &&\n               interPathHelper(path, [[\"M\", x, y], [\"H\", bbox.x2 + 10]], 1) % 2 == 1;\n    }\n    function pathBBox(path) {\n        var pth = paths(path);\n        if (pth.bbox) {\n            return clone(pth.bbox);\n        }\n        if (!path) {\n            return box();\n        }\n        path = path2curve(path);\n        var x = 0, \n            y = 0,\n            X = [],\n            Y = [],\n            p;\n        for (var i = 0, ii = path.length; i < ii; i++) {\n            p = path[i];\n            if (p[0] == \"M\") {\n                x = p[1];\n                y = p[2];\n                X.push(x);\n                Y.push(y);\n            } else {\n                var dim = curveDim(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\n                X = X.concat(dim.min.x, dim.max.x);\n                Y = Y.concat(dim.min.y, dim.max.y);\n                x = p[5];\n                y = p[6];\n            }\n        }\n        var xmin = mmin.apply(0, X),\n            ymin = mmin.apply(0, Y),\n            xmax = mmax.apply(0, X),\n            ymax = mmax.apply(0, Y),\n            bb = box(xmin, ymin, xmax - xmin, ymax - ymin);\n        pth.bbox = clone(bb);\n        return bb;\n    }\n    function rectPath(x, y, w, h, r) {\n        if (r) {\n            return [\n                [\"M\", +x + (+r), y],\n                [\"l\", w - r * 2, 0],\n                [\"a\", r, r, 0, 0, 1, r, r],\n                [\"l\", 0, h - r * 2],\n                [\"a\", r, r, 0, 0, 1, -r, r],\n                [\"l\", r * 2 - w, 0],\n                [\"a\", r, r, 0, 0, 1, -r, -r],\n                [\"l\", 0, r * 2 - h],\n                [\"a\", r, r, 0, 0, 1, r, -r],\n                [\"z\"]\n            ];\n        }\n        var res = [[\"M\", x, y], [\"l\", w, 0], [\"l\", 0, h], [\"l\", -w, 0], [\"z\"]];\n        res.toString = toString;\n        return res;\n    }\n    function ellipsePath(x, y, rx, ry, a) {\n        if (a == null && ry == null) {\n            ry = rx;\n        }\n        x = +x;\n        y = +y;\n        rx = +rx;\n        ry = +ry;\n        if (a != null) {\n            var rad = Math.PI / 180,\n                x1 = x + rx * Math.cos(-ry * rad),\n                x2 = x + rx * Math.cos(-a * rad),\n                y1 = y + rx * Math.sin(-ry * rad),\n                y2 = y + rx * Math.sin(-a * rad),\n                res = [[\"M\", x1, y1], [\"A\", rx, rx, 0, +(a - ry > 180), 0, x2, y2]];\n        } else {\n            res = [\n                [\"M\", x, y],\n                [\"m\", 0, -ry],\n                [\"a\", rx, ry, 0, 1, 1, 0, 2 * ry],\n                [\"a\", rx, ry, 0, 1, 1, 0, -2 * ry],\n                [\"z\"]\n            ];\n        }\n        res.toString = toString;\n        return res;\n    }\n    var unit2px = Snap._unit2px,\n        getPath = {\n        path: function (el) {\n            return el.attr(\"path\");\n        },\n        circle: function (el) {\n            var attr = unit2px(el);\n            return ellipsePath(attr.cx, attr.cy, attr.r);\n        },\n        ellipse: function (el) {\n            var attr = unit2px(el);\n            return ellipsePath(attr.cx || 0, attr.cy || 0, attr.rx, attr.ry);\n        },\n        rect: function (el) {\n            var attr = unit2px(el);\n            return rectPath(attr.x || 0, attr.y || 0, attr.width, attr.height, attr.rx, attr.ry);\n        },\n        image: function (el) {\n            var attr = unit2px(el);\n            return rectPath(attr.x || 0, attr.y || 0, attr.width, attr.height);\n        },\n        line: function (el) {\n            return \"M\" + [el.attr(\"x1\") || 0, el.attr(\"y1\") || 0, el.attr(\"x2\"), el.attr(\"y2\")];\n        },\n        polyline: function (el) {\n            return \"M\" + el.attr(\"points\");\n        },\n        polygon: function (el) {\n            return \"M\" + el.attr(\"points\") + \"z\";\n        },\n        deflt: function (el) {\n            var bbox = el.node.getBBox();\n            return rectPath(bbox.x, bbox.y, bbox.width, bbox.height);\n        }\n    };\n    function pathToRelative(pathArray) {\n        var pth = paths(pathArray),\n            lowerCase = String.prototype.toLowerCase;\n        if (pth.rel) {\n            return pathClone(pth.rel);\n        }\n        if (!Snap.is(pathArray, \"array\") || !Snap.is(pathArray && pathArray[0], \"array\")) {\n            pathArray = Snap.parsePathString(pathArray);\n        }\n        var res = [],\n            x = 0,\n            y = 0,\n            mx = 0,\n            my = 0,\n            start = 0;\n        if (pathArray[0][0] == \"M\") {\n            x = pathArray[0][1];\n            y = pathArray[0][2];\n            mx = x;\n            my = y;\n            start++;\n            res.push([\"M\", x, y]);\n        }\n        for (var i = start, ii = pathArray.length; i < ii; i++) {\n            var r = res[i] = [],\n                pa = pathArray[i];\n            if (pa[0] != lowerCase.call(pa[0])) {\n                r[0] = lowerCase.call(pa[0]);\n                switch (r[0]) {\n                    case \"a\":\n                        r[1] = pa[1];\n                        r[2] = pa[2];\n                        r[3] = pa[3];\n                        r[4] = pa[4];\n                        r[5] = pa[5];\n                        r[6] = +(pa[6] - x).toFixed(3);\n                        r[7] = +(pa[7] - y).toFixed(3);\n                        break;\n                    case \"v\":\n                        r[1] = +(pa[1] - y).toFixed(3);\n                        break;\n                    case \"m\":\n                        mx = pa[1];\n                        my = pa[2];\n                    default:\n                        for (var j = 1, jj = pa.length; j < jj; j++) {\n                            r[j] = +(pa[j] - ((j % 2) ? x : y)).toFixed(3);\n                        }\n                }\n            } else {\n                r = res[i] = [];\n                if (pa[0] == \"m\") {\n                    mx = pa[1] + x;\n                    my = pa[2] + y;\n                }\n                for (var k = 0, kk = pa.length; k < kk; k++) {\n                    res[i][k] = pa[k];\n                }\n            }\n            var len = res[i].length;\n            switch (res[i][0]) {\n                case \"z\":\n                    x = mx;\n                    y = my;\n                    break;\n                case \"h\":\n                    x += +res[i][len - 1];\n                    break;\n                case \"v\":\n                    y += +res[i][len - 1];\n                    break;\n                default:\n                    x += +res[i][len - 2];\n                    y += +res[i][len - 1];\n            }\n        }\n        res.toString = toString;\n        pth.rel = pathClone(res);\n        return res;\n    }\n    function pathToAbsolute(pathArray) {\n        var pth = paths(pathArray);\n        if (pth.abs) {\n            return pathClone(pth.abs);\n        }\n        if (!is(pathArray, \"array\") || !is(pathArray && pathArray[0], \"array\")) { // rough assumption\n            pathArray = Snap.parsePathString(pathArray);\n        }\n        if (!pathArray || !pathArray.length) {\n            return [[\"M\", 0, 0]];\n        }\n        var res = [],\n            x = 0,\n            y = 0,\n            mx = 0,\n            my = 0,\n            start = 0,\n            pa0;\n        if (pathArray[0][0] == \"M\") {\n            x = +pathArray[0][1];\n            y = +pathArray[0][2];\n            mx = x;\n            my = y;\n            start++;\n            res[0] = [\"M\", x, y];\n        }\n        var crz = pathArray.length == 3 &&\n            pathArray[0][0] == \"M\" &&\n            pathArray[1][0].toUpperCase() == \"R\" &&\n            pathArray[2][0].toUpperCase() == \"Z\";\n        for (var r, pa, i = start, ii = pathArray.length; i < ii; i++) {\n            res.push(r = []);\n            pa = pathArray[i];\n            pa0 = pa[0];\n            if (pa0 != pa0.toUpperCase()) {\n                r[0] = pa0.toUpperCase();\n                switch (r[0]) {\n                    case \"A\":\n                        r[1] = pa[1];\n                        r[2] = pa[2];\n                        r[3] = pa[3];\n                        r[4] = pa[4];\n                        r[5] = pa[5];\n                        r[6] = +pa[6] + x;\n                        r[7] = +pa[7] + y;\n                        break;\n                    case \"V\":\n                        r[1] = +pa[1] + y;\n                        break;\n                    case \"H\":\n                        r[1] = +pa[1] + x;\n                        break;\n                    case \"R\":\n                        var dots = [x, y].concat(pa.slice(1));\n                        for (var j = 2, jj = dots.length; j < jj; j++) {\n                            dots[j] = +dots[j] + x;\n                            dots[++j] = +dots[j] + y;\n                        }\n                        res.pop();\n                        res = res.concat(catmullRom2bezier(dots, crz));\n                        break;\n                    case \"O\":\n                        res.pop();\n                        dots = ellipsePath(x, y, pa[1], pa[2]);\n                        dots.push(dots[0]);\n                        res = res.concat(dots);\n                        break;\n                    case \"U\":\n                        res.pop();\n                        res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n                        r = [\"U\"].concat(res[res.length - 1].slice(-2));\n                        break;\n                    case \"M\":\n                        mx = +pa[1] + x;\n                        my = +pa[2] + y;\n                    default:\n                        for (j = 1, jj = pa.length; j < jj; j++) {\n                            r[j] = +pa[j] + ((j % 2) ? x : y);\n                        }\n                }\n            } else if (pa0 == \"R\") {\n                dots = [x, y].concat(pa.slice(1));\n                res.pop();\n                res = res.concat(catmullRom2bezier(dots, crz));\n                r = [\"R\"].concat(pa.slice(-2));\n            } else if (pa0 == \"O\") {\n                res.pop();\n                dots = ellipsePath(x, y, pa[1], pa[2]);\n                dots.push(dots[0]);\n                res = res.concat(dots);\n            } else if (pa0 == \"U\") {\n                res.pop();\n                res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n                r = [\"U\"].concat(res[res.length - 1].slice(-2));\n            } else {\n                for (var k = 0, kk = pa.length; k < kk; k++) {\n                    r[k] = pa[k];\n                }\n            }\n            pa0 = pa0.toUpperCase();\n            if (pa0 != \"O\") {\n                switch (r[0]) {\n                    case \"Z\":\n                        x = +mx;\n                        y = +my;\n                        break;\n                    case \"H\":\n                        x = r[1];\n                        break;\n                    case \"V\":\n                        y = r[1];\n                        break;\n                    case \"M\":\n                        mx = r[r.length - 2];\n                        my = r[r.length - 1];\n                    default:\n                        x = r[r.length - 2];\n                        y = r[r.length - 1];\n                }\n            }\n        }\n        res.toString = toString;\n        pth.abs = pathClone(res);\n        return res;\n    }\n    function l2c(x1, y1, x2, y2) {\n        return [x1, y1, x2, y2, x2, y2];\n    }\n    function q2c(x1, y1, ax, ay, x2, y2) {\n        var _13 = 1 / 3,\n            _23 = 2 / 3;\n        return [\n                _13 * x1 + _23 * ax,\n                _13 * y1 + _23 * ay,\n                _13 * x2 + _23 * ax,\n                _13 * y2 + _23 * ay,\n                x2,\n                y2\n            ];\n    }\n    function a2c(x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n        // for more information of where this math came from visit:\n        // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n        var _120 = PI * 120 / 180,\n            rad = PI / 180 * (+angle || 0),\n            res = [],\n            xy,\n            rotate = Snap._.cacher(function (x, y, rad) {\n                var X = x * math.cos(rad) - y * math.sin(rad),\n                    Y = x * math.sin(rad) + y * math.cos(rad);\n                return {x: X, y: Y};\n            });\n        if (!recursive) {\n            xy = rotate(x1, y1, -rad);\n            x1 = xy.x;\n            y1 = xy.y;\n            xy = rotate(x2, y2, -rad);\n            x2 = xy.x;\n            y2 = xy.y;\n            var cos = math.cos(PI / 180 * angle),\n                sin = math.sin(PI / 180 * angle),\n                x = (x1 - x2) / 2,\n                y = (y1 - y2) / 2;\n            var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n            if (h > 1) {\n                h = math.sqrt(h);\n                rx = h * rx;\n                ry = h * ry;\n            }\n            var rx2 = rx * rx,\n                ry2 = ry * ry,\n                k = (large_arc_flag == sweep_flag ? -1 : 1) *\n                    math.sqrt(abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x))),\n                cx = k * rx * y / ry + (x1 + x2) / 2,\n                cy = k * -ry * x / rx + (y1 + y2) / 2,\n                f1 = math.asin(((y1 - cy) / ry).toFixed(9)),\n                f2 = math.asin(((y2 - cy) / ry).toFixed(9));\n\n            f1 = x1 < cx ? PI - f1 : f1;\n            f2 = x2 < cx ? PI - f2 : f2;\n            f1 < 0 && (f1 = PI * 2 + f1);\n            f2 < 0 && (f2 = PI * 2 + f2);\n            if (sweep_flag && f1 > f2) {\n                f1 = f1 - PI * 2;\n            }\n            if (!sweep_flag && f2 > f1) {\n                f2 = f2 - PI * 2;\n            }\n        } else {\n            f1 = recursive[0];\n            f2 = recursive[1];\n            cx = recursive[2];\n            cy = recursive[3];\n        }\n        var df = f2 - f1;\n        if (abs(df) > _120) {\n            var f2old = f2,\n                x2old = x2,\n                y2old = y2;\n            f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n            x2 = cx + rx * math.cos(f2);\n            y2 = cy + ry * math.sin(f2);\n            res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n        }\n        df = f2 - f1;\n        var c1 = math.cos(f1),\n            s1 = math.sin(f1),\n            c2 = math.cos(f2),\n            s2 = math.sin(f2),\n            t = math.tan(df / 4),\n            hx = 4 / 3 * rx * t,\n            hy = 4 / 3 * ry * t,\n            m1 = [x1, y1],\n            m2 = [x1 + hx * s1, y1 - hy * c1],\n            m3 = [x2 + hx * s2, y2 - hy * c2],\n            m4 = [x2, y2];\n        m2[0] = 2 * m1[0] - m2[0];\n        m2[1] = 2 * m1[1] - m2[1];\n        if (recursive) {\n            return [m2, m3, m4].concat(res);\n        } else {\n            res = [m2, m3, m4].concat(res).join().split(\",\");\n            var newres = [];\n            for (var i = 0, ii = res.length; i < ii; i++) {\n                newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n            }\n            return newres;\n        }\n    }\n    function findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n        var t1 = 1 - t;\n        return {\n            x: pow(t1, 3) * p1x + pow(t1, 2) * 3 * t * c1x + t1 * 3 * t * t * c2x + pow(t, 3) * p2x,\n            y: pow(t1, 3) * p1y + pow(t1, 2) * 3 * t * c1y + t1 * 3 * t * t * c2y + pow(t, 3) * p2y\n        };\n    }\n    \n    // Returns bounding box of cubic bezier curve.\n    // Source: http://blog.hackers-cafe.net/2009/06/how-to-calculate-bezier-curves-bounding.html\n    // Original version: NISHIO Hirokazu\n    // Modifications: https://github.com/timo22345\n    function curveDim(x0, y0, x1, y1, x2, y2, x3, y3) {\n        var tvalues = [],\n            bounds = [[], []],\n            a, b, c, t, t1, t2, b2ac, sqrtb2ac;\n        for (var i = 0; i < 2; ++i) {\n            if (i == 0) {\n                b = 6 * x0 - 12 * x1 + 6 * x2;\n                a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n                c = 3 * x1 - 3 * x0;\n            } else {\n                b = 6 * y0 - 12 * y1 + 6 * y2;\n                a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n                c = 3 * y1 - 3 * y0;\n            }\n            if (abs(a) < 1e-12) {\n                if (abs(b) < 1e-12) {\n                    continue;\n                }\n                t = -c / b;\n                if (0 < t && t < 1) {\n                    tvalues.push(t);\n                }\n                continue;\n            }\n            b2ac = b * b - 4 * c * a;\n            sqrtb2ac = math.sqrt(b2ac);\n            if (b2ac < 0) {\n                continue;\n            }\n            t1 = (-b + sqrtb2ac) / (2 * a);\n            if (0 < t1 && t1 < 1) {\n                tvalues.push(t1);\n            }\n            t2 = (-b - sqrtb2ac) / (2 * a);\n            if (0 < t2 && t2 < 1) {\n                tvalues.push(t2);\n            }\n        }\n\n        var x, y, j = tvalues.length,\n            jlen = j,\n            mt;\n        while (j--) {\n            t = tvalues[j];\n            mt = 1 - t;\n            bounds[0][j] = (mt * mt * mt * x0) + (3 * mt * mt * t * x1) + (3 * mt * t * t * x2) + (t * t * t * x3);\n            bounds[1][j] = (mt * mt * mt * y0) + (3 * mt * mt * t * y1) + (3 * mt * t * t * y2) + (t * t * t * y3);\n        }\n\n        bounds[0][jlen] = x0;\n        bounds[1][jlen] = y0;\n        bounds[0][jlen + 1] = x3;\n        bounds[1][jlen + 1] = y3;\n        bounds[0].length = bounds[1].length = jlen + 2;\n\n\n        return {\n          min: {x: mmin.apply(0, bounds[0]), y: mmin.apply(0, bounds[1])},\n          max: {x: mmax.apply(0, bounds[0]), y: mmax.apply(0, bounds[1])}\n        };\n    }\n\n    function path2curve(path, path2) {\n        var pth = !path2 && paths(path);\n        if (!path2 && pth.curve) {\n            return pathClone(pth.curve);\n        }\n        var p = pathToAbsolute(path),\n            p2 = path2 && pathToAbsolute(path2),\n            attrs = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},\n            attrs2 = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},\n            processPath = function (path, d, pcom) {\n                var nx, ny;\n                if (!path) {\n                    return [\"C\", d.x, d.y, d.x, d.y, d.x, d.y];\n                }\n                !(path[0] in {T: 1, Q: 1}) && (d.qx = d.qy = null);\n                switch (path[0]) {\n                    case \"M\":\n                        d.X = path[1];\n                        d.Y = path[2];\n                        break;\n                    case \"A\":\n                        path = [\"C\"].concat(a2c.apply(0, [d.x, d.y].concat(path.slice(1))));\n                        break;\n                    case \"S\":\n                        if (pcom == \"C\" || pcom == \"S\") { // In \"S\" case we have to take into account, if the previous command is C/S.\n                            nx = d.x * 2 - d.bx;          // And reflect the previous\n                            ny = d.y * 2 - d.by;          // command's control point relative to the current point.\n                        }\n                        else {                            // or some else or nothing\n                            nx = d.x;\n                            ny = d.y;\n                        }\n                        path = [\"C\", nx, ny].concat(path.slice(1));\n                        break;\n                    case \"T\":\n                        if (pcom == \"Q\" || pcom == \"T\") { // In \"T\" case we have to take into account, if the previous command is Q/T.\n                            d.qx = d.x * 2 - d.qx;        // And make a reflection similar\n                            d.qy = d.y * 2 - d.qy;        // to case \"S\".\n                        }\n                        else {                            // or something else or nothing\n                            d.qx = d.x;\n                            d.qy = d.y;\n                        }\n                        path = [\"C\"].concat(q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n                        break;\n                    case \"Q\":\n                        d.qx = path[1];\n                        d.qy = path[2];\n                        path = [\"C\"].concat(q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n                        break;\n                    case \"L\":\n                        path = [\"C\"].concat(l2c(d.x, d.y, path[1], path[2]));\n                        break;\n                    case \"H\":\n                        path = [\"C\"].concat(l2c(d.x, d.y, path[1], d.y));\n                        break;\n                    case \"V\":\n                        path = [\"C\"].concat(l2c(d.x, d.y, d.x, path[1]));\n                        break;\n                    case \"Z\":\n                        path = [\"C\"].concat(l2c(d.x, d.y, d.X, d.Y));\n                        break;\n                }\n                return path;\n            },\n            fixArc = function (pp, i) {\n                if (pp[i].length > 7) {\n                    pp[i].shift();\n                    var pi = pp[i];\n                    while (pi.length) {\n                        pcoms1[i] = \"A\"; // if created multiple C:s, their original seg is saved\n                        p2 && (pcoms2[i] = \"A\"); // the same as above\n                        pp.splice(i++, 0, [\"C\"].concat(pi.splice(0, 6)));\n                    }\n                    pp.splice(i, 1);\n                    ii = mmax(p.length, p2 && p2.length || 0);\n                }\n            },\n            fixM = function (path1, path2, a1, a2, i) {\n                if (path1 && path2 && path1[i][0] == \"M\" && path2[i][0] != \"M\") {\n                    path2.splice(i, 0, [\"M\", a2.x, a2.y]);\n                    a1.bx = 0;\n                    a1.by = 0;\n                    a1.x = path1[i][1];\n                    a1.y = path1[i][2];\n                    ii = mmax(p.length, p2 && p2.length || 0);\n                }\n            },\n            pcoms1 = [], // path commands of original path p\n            pcoms2 = [], // path commands of original path p2\n            pfirst = \"\", // temporary holder for original path command\n            pcom = \"\"; // holder for previous path command of original path\n        for (var i = 0, ii = mmax(p.length, p2 && p2.length || 0); i < ii; i++) {\n            p[i] && (pfirst = p[i][0]); // save current path command\n\n            if (pfirst != \"C\") // C is not saved yet, because it may be result of conversion\n            {\n                pcoms1[i] = pfirst; // Save current path command\n                i && ( pcom = pcoms1[i - 1]); // Get previous path command pcom\n            }\n            p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\n\n            if (pcoms1[i] != \"A\" && pfirst == \"C\") pcoms1[i] = \"C\"; // A is the only command\n            // which may produce multiple C:s\n            // so we have to make sure that C is also C in original path\n\n            fixArc(p, i); // fixArc adds also the right amount of A:s to pcoms1\n\n            if (p2) { // the same procedures is done to p2\n                p2[i] && (pfirst = p2[i][0]);\n                if (pfirst != \"C\") {\n                    pcoms2[i] = pfirst;\n                    i && (pcom = pcoms2[i - 1]);\n                }\n                p2[i] = processPath(p2[i], attrs2, pcom);\n\n                if (pcoms2[i] != \"A\" && pfirst == \"C\") {\n                    pcoms2[i] = \"C\";\n                }\n\n                fixArc(p2, i);\n            }\n            fixM(p, p2, attrs, attrs2, i);\n            fixM(p2, p, attrs2, attrs, i);\n            var seg = p[i],\n                seg2 = p2 && p2[i],\n                seglen = seg.length,\n                seg2len = p2 && seg2.length;\n            attrs.x = seg[seglen - 2];\n            attrs.y = seg[seglen - 1];\n            attrs.bx = toFloat(seg[seglen - 4]) || attrs.x;\n            attrs.by = toFloat(seg[seglen - 3]) || attrs.y;\n            attrs2.bx = p2 && (toFloat(seg2[seg2len - 4]) || attrs2.x);\n            attrs2.by = p2 && (toFloat(seg2[seg2len - 3]) || attrs2.y);\n            attrs2.x = p2 && seg2[seg2len - 2];\n            attrs2.y = p2 && seg2[seg2len - 1];\n        }\n        if (!p2) {\n            pth.curve = pathClone(p);\n        }\n        return p2 ? [p, p2] : p;\n    }\n    function mapPath(path, matrix) {\n        if (!matrix) {\n            return path;\n        }\n        var x, y, i, j, ii, jj, pathi;\n        path = path2curve(path);\n        for (i = 0, ii = path.length; i < ii; i++) {\n            pathi = path[i];\n            for (j = 1, jj = pathi.length; j < jj; j += 2) {\n                x = matrix.x(pathi[j], pathi[j + 1]);\n                y = matrix.y(pathi[j], pathi[j + 1]);\n                pathi[j] = x;\n                pathi[j + 1] = y;\n            }\n        }\n        return path;\n    }\n\n    // http://schepers.cc/getting-to-the-point\n    function catmullRom2bezier(crp, z) {\n        var d = [];\n        for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n            var p = [\n                        {x: +crp[i - 2], y: +crp[i - 1]},\n                        {x: +crp[i],     y: +crp[i + 1]},\n                        {x: +crp[i + 2], y: +crp[i + 3]},\n                        {x: +crp[i + 4], y: +crp[i + 5]}\n                    ];\n            if (z) {\n                if (!i) {\n                    p[0] = {x: +crp[iLen - 2], y: +crp[iLen - 1]};\n                } else if (iLen - 4 == i) {\n                    p[3] = {x: +crp[0], y: +crp[1]};\n                } else if (iLen - 2 == i) {\n                    p[2] = {x: +crp[0], y: +crp[1]};\n                    p[3] = {x: +crp[2], y: +crp[3]};\n                }\n            } else {\n                if (iLen - 4 == i) {\n                    p[3] = p[2];\n                } else if (!i) {\n                    p[0] = {x: +crp[i], y: +crp[i + 1]};\n                }\n            }\n            d.push([\"C\",\n                  (-p[0].x + 6 * p[1].x + p[2].x) / 6,\n                  (-p[0].y + 6 * p[1].y + p[2].y) / 6,\n                  (p[1].x + 6 * p[2].x - p[3].x) / 6,\n                  (p[1].y + 6*p[2].y - p[3].y) / 6,\n                  p[2].x,\n                  p[2].y\n            ]);\n        }\n\n        return d;\n    }\n\n    // export\n    Snap.path = paths;\n\n    /*\\\n     * Snap.path.getTotalLength\n     [ method ]\n     **\n     * Returns the length of the given path in pixels\n     **\n     - path (string) SVG path string\n     **\n     = (number) length\n    \\*/\n    Snap.path.getTotalLength = getTotalLength;\n    /*\\\n     * Snap.path.getPointAtLength\n     [ method ]\n     **\n     * Returns the coordinates of the point located at the given length along the given path\n     **\n     - path (string) SVG path string\n     - length (number) length, in pixels, from the start of the path, excluding non-rendering jumps\n     **\n     = (object) representation of the point:\n     o {\n     o     x: (number) x coordinate,\n     o     y: (number) y coordinate,\n     o     alpha: (number) angle of derivative\n     o }\n    \\*/\n    Snap.path.getPointAtLength = getPointAtLength;\n    /*\\\n     * Snap.path.getSubpath\n     [ method ]\n     **\n     * Returns the subpath of a given path between given start and end lengths\n     **\n     - path (string) SVG path string\n     - from (number) length, in pixels, from the start of the path to the start of the segment\n     - to (number) length, in pixels, from the start of the path to the end of the segment\n     **\n     = (string) path string definition for the segment\n    \\*/\n    Snap.path.getSubpath = function (path, from, to) {\n        if (this.getTotalLength(path) - to < 1e-6) {\n            return getSubpathsAtLength(path, from).end;\n        }\n        var a = getSubpathsAtLength(path, to, 1);\n        return from ? getSubpathsAtLength(a, from).end : a;\n    };\n    /*\\\n     * Element.getTotalLength\n     [ method ]\n     **\n     * Returns the length of the path in pixels (only works for `path` elements)\n     = (number) length\n    \\*/\n    elproto.getTotalLength = function () {\n        if (this.node.getTotalLength) {\n            return this.node.getTotalLength();\n        }\n    };\n    // SIERRA Element.getPointAtLength()/Element.getTotalLength(): If a <path> is broken into different segments, is the jump distance to the new coordinates set by the _M_ or _m_ commands calculated as part of the path's total length?\n    /*\\\n     * Element.getPointAtLength\n     [ method ]\n     **\n     * Returns coordinates of the point located at the given length on the given path (only works for `path` elements)\n     **\n     - length (number) length, in pixels, from the start of the path, excluding non-rendering jumps\n     **\n     = (object) representation of the point:\n     o {\n     o     x: (number) x coordinate,\n     o     y: (number) y coordinate,\n     o     alpha: (number) angle of derivative\n     o }\n    \\*/\n    elproto.getPointAtLength = function (length) {\n        return getPointAtLength(this.attr(\"d\"), length);\n    };\n    // SIERRA Element.getSubpath(): Similar to the problem for Element.getPointAtLength(). Unclear how this would work for a segmented path. Overall, the concept of _subpath_ and what I'm calling a _segment_ (series of non-_M_ or _Z_ commands) is unclear.\n    /*\\\n     * Element.getSubpath\n     [ method ]\n     **\n     * Returns subpath of a given element from given start and end lengths (only works for `path` elements)\n     **\n     - from (number) length, in pixels, from the start of the path to the start of the segment\n     - to (number) length, in pixels, from the start of the path to the end of the segment\n     **\n     = (string) path string definition for the segment\n    \\*/\n    elproto.getSubpath = function (from, to) {\n        return Snap.path.getSubpath(this.attr(\"d\"), from, to);\n    };\n    Snap._.box = box;\n    /*\\\n     * Snap.path.findDotsAtSegment\n     [ method ]\n     **\n     * Utility method\n     **\n     * Finds dot coordinates on the given cubic beziér curve at the given t\n     - p1x (number) x of the first point of the curve\n     - p1y (number) y of the first point of the curve\n     - c1x (number) x of the first anchor of the curve\n     - c1y (number) y of the first anchor of the curve\n     - c2x (number) x of the second anchor of the curve\n     - c2y (number) y of the second anchor of the curve\n     - p2x (number) x of the second point of the curve\n     - p2y (number) y of the second point of the curve\n     - t (number) position on the curve (0..1)\n     = (object) point information in format:\n     o {\n     o     x: (number) x coordinate of the point,\n     o     y: (number) y coordinate of the point,\n     o     m: {\n     o         x: (number) x coordinate of the left anchor,\n     o         y: (number) y coordinate of the left anchor\n     o     },\n     o     n: {\n     o         x: (number) x coordinate of the right anchor,\n     o         y: (number) y coordinate of the right anchor\n     o     },\n     o     start: {\n     o         x: (number) x coordinate of the start of the curve,\n     o         y: (number) y coordinate of the start of the curve\n     o     },\n     o     end: {\n     o         x: (number) x coordinate of the end of the curve,\n     o         y: (number) y coordinate of the end of the curve\n     o     },\n     o     alpha: (number) angle of the curve derivative at the point\n     o }\n    \\*/\n    Snap.path.findDotsAtSegment = findDotsAtSegment;\n    /*\\\n     * Snap.path.bezierBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns the bounding box of a given cubic beziér curve\n     - p1x (number) x of the first point of the curve\n     - p1y (number) y of the first point of the curve\n     - c1x (number) x of the first anchor of the curve\n     - c1y (number) y of the first anchor of the curve\n     - c2x (number) x of the second anchor of the curve\n     - c2y (number) y of the second anchor of the curve\n     - p2x (number) x of the second point of the curve\n     - p2y (number) y of the second point of the curve\n     * or\n     - bez (array) array of six points for beziér curve\n     = (object) bounding box\n     o {\n     o     x: (number) x coordinate of the left top point of the box,\n     o     y: (number) y coordinate of the left top point of the box,\n     o     x2: (number) x coordinate of the right bottom point of the box,\n     o     y2: (number) y coordinate of the right bottom point of the box,\n     o     width: (number) width of the box,\n     o     height: (number) height of the box\n     o }\n    \\*/\n    Snap.path.bezierBBox = bezierBBox;\n    /*\\\n     * Snap.path.isPointInsideBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if given point is inside bounding box\n     - bbox (string) bounding box\n     - x (string) x coordinate of the point\n     - y (string) y coordinate of the point\n     = (boolean) `true` if point is inside\n    \\*/\n    Snap.path.isPointInsideBBox = isPointInsideBBox;\n    /*\\\n     * Snap.path.isBBoxIntersect\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if two bounding boxes intersect\n     - bbox1 (string) first bounding box\n     - bbox2 (string) second bounding box\n     = (boolean) `true` if bounding boxes intersect\n    \\*/\n    Snap.path.isBBoxIntersect = isBBoxIntersect;\n    /*\\\n     * Snap.path.intersection\n     [ method ]\n     **\n     * Utility method\n     **\n     * Finds intersections of two paths\n     - path1 (string) path string\n     - path2 (string) path string\n     = (array) dots of intersection\n     o [\n     o     {\n     o         x: (number) x coordinate of the point,\n     o         y: (number) y coordinate of the point,\n     o         t1: (number) t value for segment of path1,\n     o         t2: (number) t value for segment of path2,\n     o         segment1: (number) order number for segment of path1,\n     o         segment2: (number) order number for segment of path2,\n     o         bez1: (array) eight coordinates representing beziér curve for the segment of path1,\n     o         bez2: (array) eight coordinates representing beziér curve for the segment of path2\n     o     }\n     o ]\n    \\*/\n    Snap.path.intersection = pathIntersection;\n    Snap.path.intersectionNumber = pathIntersectionNumber;\n    /*\\\n     * Snap.path.isPointInside\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if given point is inside a given closed path.\n     *\n     * Note: fill mode doesn’t affect the result of this method.\n     - path (string) path string\n     - x (number) x of the point\n     - y (number) y of the point\n     = (boolean) `true` if point is inside the path\n    \\*/\n    Snap.path.isPointInside = isPointInsidePath;\n    /*\\\n     * Snap.path.getBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns the bounding box of a given path\n     - path (string) path string\n     = (object) bounding box\n     o {\n     o     x: (number) x coordinate of the left top point of the box,\n     o     y: (number) y coordinate of the left top point of the box,\n     o     x2: (number) x coordinate of the right bottom point of the box,\n     o     y2: (number) y coordinate of the right bottom point of the box,\n     o     width: (number) width of the box,\n     o     height: (number) height of the box\n     o }\n    \\*/\n    Snap.path.getBBox = pathBBox;\n    Snap.path.get = getPath;\n    /*\\\n     * Snap.path.toRelative\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path coordinates into relative values\n     - path (string) path string\n     = (array) path string\n    \\*/\n    Snap.path.toRelative = pathToRelative;\n    /*\\\n     * Snap.path.toAbsolute\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path coordinates into absolute values\n     - path (string) path string\n     = (array) path string\n    \\*/\n    Snap.path.toAbsolute = pathToAbsolute;\n    /*\\\n     * Snap.path.toCubic\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path to a new path where all segments are cubic beziér curves\n     - pathString (string|array) path string or array of segments\n     = (array) array of segments\n    \\*/\n    Snap.path.toCubic = path2curve;\n    /*\\\n     * Snap.path.map\n     [ method ]\n     **\n     * Transform the path string with the given matrix\n     - path (string) path string\n     - matrix (object) see @Matrix\n     = (string) transformed path string\n    \\*/\n    Snap.path.map = mapPath;\n    Snap.path.toString = toString;\n    Snap.path.clone = pathClone;\n});\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var mmax = Math.max,\n        mmin = Math.min;\n\n    // Set\n    var Set = function (items) {\n        this.items = [];\n\tthis.bindings = {};\n        this.length = 0;\n        this.type = \"set\";\n        if (items) {\n            for (var i = 0, ii = items.length; i < ii; i++) {\n                if (items[i]) {\n                    this[this.items.length] = this.items[this.items.length] = items[i];\n                    this.length++;\n                }\n            }\n        }\n    },\n    setproto = Set.prototype;\n    /*\\\n     * Set.push\n     [ method ]\n     **\n     * Adds each argument to the current set\n     = (object) original element\n    \\*/\n    setproto.push = function () {\n        var item,\n            len;\n        for (var i = 0, ii = arguments.length; i < ii; i++) {\n            item = arguments[i];\n            if (item) {\n                len = this.items.length;\n                this[len] = this.items[len] = item;\n                this.length++;\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Set.pop\n     [ method ]\n     **\n     * Removes last element and returns it\n     = (object) element\n    \\*/\n    setproto.pop = function () {\n        this.length && delete this[this.length--];\n        return this.items.pop();\n    };\n    /*\\\n     * Set.forEach\n     [ method ]\n     **\n     * Executes given function for each element in the set\n     *\n     * If the function returns `false`, the loop stops running.\n     **\n     - callback (function) function to run\n     - thisArg (object) context object for the callback\n     = (object) Set object\n    \\*/\n    setproto.forEach = function (callback, thisArg) {\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            if (callback.call(thisArg, this.items[i], i) === false) {\n                return this;\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Set.animate\n     [ method ]\n     **\n     * Animates each element in set in sync.\n     *\n     **\n     - attrs (object) key-value pairs of destination attributes\n     - duration (number) duration of the animation in milliseconds\n     - easing (function) #optional easing function from @mina or custom\n     - callback (function) #optional callback function that executes when the animation ends\n     * or\n     - animation (array) array of animation parameter for each element in set in format `[attrs, duration, easing, callback]`\n     > Usage\n     | // animate all elements in set to radius 10\n     | set.animate({r: 10}, 500, mina.easein);\n     | // or\n     | // animate first element to radius 10, but second to radius 20 and in different time\n     | set.animate([{r: 10}, 500, mina.easein], [{r: 20}, 1500, mina.easein]);\n     = (Element) the current element\n    \\*/\n    setproto.animate = function (attrs, ms, easing, callback) {\n        if (typeof easing == \"function\" && !easing.length) {\n            callback = easing;\n            easing = mina.linear;\n        }\n        if (attrs instanceof Snap._.Animation) {\n            callback = attrs.callback;\n            easing = attrs.easing;\n            ms = easing.dur;\n            attrs = attrs.attr;\n        }\n        var args = arguments;\n        if (Snap.is(attrs, \"array\") && Snap.is(args[args.length - 1], \"array\")) {\n            var each = true;\n        }\n        var begin,\n            handler = function () {\n                if (begin) {\n                    this.b = begin;\n                } else {\n                    begin = this.b;\n                }\n            },\n            cb = 0,\n            callbacker = callback && function () {\n                if (cb++ == this.length) {\n                    callback.call(this);\n                }\n            };\n        return this.forEach(function (el, i) {\n            eve.once(\"snap.animcreated.\" + el.id, handler);\n            if (each) {\n                args[i] && el.animate.apply(el, args[i]);\n            } else {\n                el.animate(attrs, ms, easing, callbacker);\n            }\n        });\n    };\n    setproto.remove = function () {\n        while (this.length) {\n            this.pop().remove();\n        }\n        return this;\n    };\n    /*\\\n     * Set.bind\n     [ method ]\n     **\n     * Specifies how to handle a specific attribute when applied\n     * to a set.\n     *\n     **\n     - attr (string) attribute name\n     - callback (function) function to run\n     * or\n     - attr (string) attribute name\n     - element (Element) specific element in the set to apply the attribute to\n     * or\n     - attr (string) attribute name\n     - element (Element) specific element in the set to apply the attribute to\n     - eattr (string) attribute on the element to bind the attribute to\n     = (object) Set object\n    \\*/\n    setproto.bind = function (attr, a, b) {\n        var data = {};\n        if (typeof a == \"function\") {\n            this.bindings[attr] = a;\n        } else {\n            var aname = b || attr;\n            this.bindings[attr] = function (v) {\n                data[aname] = v;\n                a.attr(data);\n            };\n        }\n        return this;\n    };\n    setproto.attr = function (value) {\n        var unbound = {};\n        for (var k in value) {\n            if (this.bindings[k]) {\n                this.bindings[k](value[k]);\n            } else {\n                unbound[k] = value[k];\n            }\n        }\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            this.items[i].attr(unbound);\n        }\n        return this;\n    };\n    /*\\\n     * Set.clear\n     [ method ]\n     **\n     * Removes all elements from the set\n    \\*/\n    setproto.clear = function () {\n        while (this.length) {\n            this.pop();\n        }\n    };\n    /*\\\n     * Set.splice\n     [ method ]\n     **\n     * Removes range of elements from the set\n     **\n     - index (number) position of the deletion\n     - count (number) number of element to remove\n     - insertion… (object) #optional elements to insert\n     = (object) set elements that were deleted\n    \\*/\n    setproto.splice = function (index, count, insertion) {\n        index = index < 0 ? mmax(this.length + index, 0) : index;\n        count = mmax(0, mmin(this.length - index, count));\n        var tail = [],\n            todel = [],\n            args = [],\n            i;\n        for (i = 2; i < arguments.length; i++) {\n            args.push(arguments[i]);\n        }\n        for (i = 0; i < count; i++) {\n            todel.push(this[index + i]);\n        }\n        for (; i < this.length - index; i++) {\n            tail.push(this[index + i]);\n        }\n        var arglen = args.length;\n        for (i = 0; i < arglen + tail.length; i++) {\n            this.items[index + i] = this[index + i] = i < arglen ? args[i] : tail[i - arglen];\n        }\n        i = this.items.length = this.length -= count - arglen;\n        while (this[i]) {\n            delete this[i++];\n        }\n        return new Set(todel);\n    };\n    /*\\\n     * Set.exclude\n     [ method ]\n     **\n     * Removes given element from the set\n     **\n     - element (object) element to remove\n     = (boolean) `true` if object was found and removed from the set\n    \\*/\n    setproto.exclude = function (el) {\n        for (var i = 0, ii = this.length; i < ii; i++) if (this[i] == el) {\n            this.splice(i, 1);\n            return true;\n        }\n        return false;\n    };\n    setproto.insertAfter = function (el) {\n        var i = this.items.length;\n        while (i--) {\n            this.items[i].insertAfter(el);\n        }\n        return this;\n    };\n    setproto.getBBox = function () {\n        var x = [],\n            y = [],\n            x2 = [],\n            y2 = [];\n        for (var i = this.items.length; i--;) if (!this.items[i].removed) {\n            var box = this.items[i].getBBox();\n            x.push(box.x);\n            y.push(box.y);\n            x2.push(box.x + box.width);\n            y2.push(box.y + box.height);\n        }\n        x = mmin.apply(0, x);\n        y = mmin.apply(0, y);\n        x2 = mmax.apply(0, x2);\n        y2 = mmax.apply(0, y2);\n        return {\n            x: x,\n            y: y,\n            x2: x2,\n            y2: y2,\n            width: x2 - x,\n            height: y2 - y,\n            cx: x + (x2 - x) / 2,\n            cy: y + (y2 - y) / 2\n        };\n    };\n    setproto.clone = function (s) {\n        s = new Set;\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            s.push(this.items[i].clone());\n        }\n        return s;\n    };\n    setproto.toString = function () {\n        return \"Snap\\u2018s set\";\n    };\n    setproto.type = \"set\";\n    // export\n    Snap.set = function () {\n        var set = new Set;\n        if (arguments.length) {\n            set.push.apply(set, Array.prototype.slice.call(arguments, 0));\n        }\n        return set;\n    };\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var names = {},\n        reUnit = /[a-z]+$/i,\n        Str = String;\n    names.stroke = names.fill = \"colour\";\n    function getEmpty(item) {\n        var l = item[0];\n        switch (l.toLowerCase()) {\n            case \"t\": return [l, 0, 0];\n            case \"m\": return [l, 1, 0, 0, 1, 0, 0];\n            case \"r\": if (item.length == 4) {\n                return [l, 0, item[2], item[3]];\n            } else {\n                return [l, 0];\n            }\n            case \"s\": if (item.length == 5) {\n                return [l, 1, 1, item[3], item[4]];\n            } else if (item.length == 3) {\n                return [l, 1, 1];\n            } else {\n                return [l, 1];\n            }\n        }\n    }\n    function equaliseTransform(t1, t2, getBBox) {\n        t2 = Str(t2).replace(/\\.{3}|\\u2026/g, t1);\n        t1 = Snap.parseTransformString(t1) || [];\n        t2 = Snap.parseTransformString(t2) || [];\n        var maxlength = Math.max(t1.length, t2.length),\n            from = [],\n            to = [],\n            i = 0, j, jj,\n            tt1, tt2;\n        for (; i < maxlength; i++) {\n            tt1 = t1[i] || getEmpty(t2[i]);\n            tt2 = t2[i] || getEmpty(tt1);\n            if ((tt1[0] != tt2[0]) ||\n                (tt1[0].toLowerCase() == \"r\" && (tt1[2] != tt2[2] || tt1[3] != tt2[3])) ||\n                (tt1[0].toLowerCase() == \"s\" && (tt1[3] != tt2[3] || tt1[4] != tt2[4]))\n                ) {\n                    t1 = Snap._.transform2matrix(t1, getBBox());\n                    t2 = Snap._.transform2matrix(t2, getBBox());\n                    from = [[\"m\", t1.a, t1.b, t1.c, t1.d, t1.e, t1.f]];\n                    to = [[\"m\", t2.a, t2.b, t2.c, t2.d, t2.e, t2.f]];\n                    break;\n            }\n            from[i] = [];\n            to[i] = [];\n            for (j = 0, jj = Math.max(tt1.length, tt2.length); j < jj; j++) {\n                j in tt1 && (from[i][j] = tt1[j]);\n                j in tt2 && (to[i][j] = tt2[j]);\n            }\n        }\n        return {\n            from: path2array(from),\n            to: path2array(to),\n            f: getPath(from)\n        };\n    }\n    function getNumber(val) {\n        return val;\n    }\n    function getUnit(unit) {\n        return function (val) {\n            return +val.toFixed(3) + unit;\n        };\n    }\n    function getColour(clr) {\n        return Snap.rgb(clr[0], clr[1], clr[2]);\n    }\n    function getPath(path) {\n        var k = 0, i, ii, j, jj, out, a, b = [];\n        for (i = 0, ii = path.length; i < ii; i++) {\n            out = \"[\";\n            a = ['\"' + path[i][0] + '\"'];\n            for (j = 1, jj = path[i].length; j < jj; j++) {\n                a[j] = \"val[\" + (k++) + \"]\";\n            }\n            out += a + \"]\";\n            b[i] = out;\n        }\n        return Function(\"val\", \"return Snap.path.toString.call([\" + b + \"])\");\n    }\n    function path2array(path) {\n        var out = [];\n        for (var i = 0, ii = path.length; i < ii; i++) {\n            for (var j = 1, jj = path[i].length; j < jj; j++) {\n                out.push(path[i][j]);\n            }\n        }\n        return out;\n    }\n    Element.prototype.equal = function (name, b) {\n        return eve(\"snap.util.equal\", this, name, b).firstDefined();\n    };\n    eve.on(\"snap.util.equal\", function (name, b) {\n        var A, B, a = Str(this.attr(name) || \"\"),\n            el = this;\n        if (a == +a && b == +b) {\n            return {\n                from: +a,\n                to: +b,\n                f: getNumber\n            };\n        }\n        if (names[name] == \"colour\") {\n            A = Snap.color(a);\n            B = Snap.color(b);\n            return {\n                from: [A.r, A.g, A.b, A.opacity],\n                to: [B.r, B.g, B.b, B.opacity],\n                f: getColour\n            };\n        }\n        if (name == \"transform\" || name == \"gradientTransform\" || name == \"patternTransform\") {\n            if (b instanceof Snap.Matrix) {\n                b = b.toTransformString();\n            }\n            if (!Snap._.rgTransform.test(b)) {\n                b = Snap._.svgTransform2string(b);\n            }\n            return equaliseTransform(a, b, function () {\n                return el.getBBox(1);\n            });\n        }\n        if (name == \"d\" || name == \"path\") {\n            A = Snap.path.toCubic(a, b);\n            return {\n                from: path2array(A[0]),\n                to: path2array(A[1]),\n                f: getPath(A[0])\n            };\n        }\n        if (name == \"points\") {\n            A = Str(a).split(Snap._.separator);\n            B = Str(b).split(Snap._.separator);\n            return {\n                from: A,\n                to: B,\n                f: function (val) { return val; }\n            };\n        }\n        aUnit = a.match(reUnit);\n        var bUnit = Str(b).match(reUnit);\n        if (aUnit && aUnit == bUnit) {\n            return {\n                from: parseFloat(a),\n                to: parseFloat(b),\n                f: getUnit(aUnit)\n            };\n        } else {\n            return {\n                from: this.asPX(name),\n                to: this.asPX(name, b),\n                f: getNumber\n            };\n        }\n    });\n});\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var elproto = Element.prototype,\n    has = \"hasOwnProperty\",\n    supportsTouch = \"createTouch\" in glob.doc,\n    events = [\n        \"click\", \"dblclick\", \"mousedown\", \"mousemove\", \"mouseout\",\n        \"mouseover\", \"mouseup\", \"touchstart\", \"touchmove\", \"touchend\",\n        \"touchcancel\"\n    ],\n    touchMap = {\n        mousedown: \"touchstart\",\n        mousemove: \"touchmove\",\n        mouseup: \"touchend\"\n    },\n    getScroll = function (xy, el) {\n        var name = xy == \"y\" ? \"scrollTop\" : \"scrollLeft\",\n            doc = el && el.node ? el.node.ownerDocument : glob.doc;\n        return doc[name in doc.documentElement ? \"documentElement\" : \"body\"][name];\n    },\n    preventDefault = function () {\n        this.returnValue = false;\n    },\n    preventTouch = function () {\n        return this.originalEvent.preventDefault();\n    },\n    stopPropagation = function () {\n        this.cancelBubble = true;\n    },\n    stopTouch = function () {\n        return this.originalEvent.stopPropagation();\n    },\n    addEvent = (function () {\n        if (glob.doc.addEventListener) {\n            return function (obj, type, fn, element) {\n                var realName = supportsTouch && touchMap[type] ? touchMap[type] : type,\n                    f = function (e) {\n                        var scrollY = getScroll(\"y\", element),\n                            scrollX = getScroll(\"x\", element);\n                        if (supportsTouch && touchMap[has](type)) {\n                            for (var i = 0, ii = e.targetTouches && e.targetTouches.length; i < ii; i++) {\n                                if (e.targetTouches[i].target == obj || obj.contains(e.targetTouches[i].target)) {\n                                    var olde = e;\n                                    e = e.targetTouches[i];\n                                    e.originalEvent = olde;\n                                    e.preventDefault = preventTouch;\n                                    e.stopPropagation = stopTouch;\n                                    break;\n                                }\n                            }\n                        }\n                        var x = e.clientX + scrollX,\n                            y = e.clientY + scrollY;\n                        return fn.call(element, e, x, y);\n                    };\n\n                if (type !== realName) {\n                    obj.addEventListener(type, f, false);\n                }\n\n                obj.addEventListener(realName, f, false);\n\n                return function () {\n                    if (type !== realName) {\n                        obj.removeEventListener(type, f, false);\n                    }\n\n                    obj.removeEventListener(realName, f, false);\n                    return true;\n                };\n            };\n        } else if (glob.doc.attachEvent) {\n            return function (obj, type, fn, element) {\n                var f = function (e) {\n                    e = e || element.node.ownerDocument.window.event;\n                    var scrollY = getScroll(\"y\", element),\n                        scrollX = getScroll(\"x\", element),\n                        x = e.clientX + scrollX,\n                        y = e.clientY + scrollY;\n                    e.preventDefault = e.preventDefault || preventDefault;\n                    e.stopPropagation = e.stopPropagation || stopPropagation;\n                    return fn.call(element, e, x, y);\n                };\n                obj.attachEvent(\"on\" + type, f);\n                var detacher = function () {\n                    obj.detachEvent(\"on\" + type, f);\n                    return true;\n                };\n                return detacher;\n            };\n        }\n    })(),\n    drag = [],\n    dragMove = function (e) {\n        var x = e.clientX,\n            y = e.clientY,\n            scrollY = getScroll(\"y\"),\n            scrollX = getScroll(\"x\"),\n            dragi,\n            j = drag.length;\n        while (j--) {\n            dragi = drag[j];\n            if (supportsTouch) {\n                var i = e.touches && e.touches.length,\n                    touch;\n                while (i--) {\n                    touch = e.touches[i];\n                    if (touch.identifier == dragi.el._drag.id || dragi.el.node.contains(touch.target)) {\n                        x = touch.clientX;\n                        y = touch.clientY;\n                        (e.originalEvent ? e.originalEvent : e).preventDefault();\n                        break;\n                    }\n                }\n            } else {\n                e.preventDefault();\n            }\n            var node = dragi.el.node,\n                o,\n                next = node.nextSibling,\n                parent = node.parentNode,\n                display = node.style.display;\n            // glob.win.opera && parent.removeChild(node);\n            // node.style.display = \"none\";\n            // o = dragi.el.paper.getElementByPoint(x, y);\n            // node.style.display = display;\n            // glob.win.opera && (next ? parent.insertBefore(node, next) : parent.appendChild(node));\n            // o && eve(\"snap.drag.over.\" + dragi.el.id, dragi.el, o);\n            x += scrollX;\n            y += scrollY;\n            eve(\"snap.drag.move.\" + dragi.el.id, dragi.move_scope || dragi.el, x - dragi.el._drag.x, y - dragi.el._drag.y, x, y, e);\n        }\n    },\n    dragUp = function (e) {\n        Snap.unmousemove(dragMove).unmouseup(dragUp);\n        var i = drag.length,\n            dragi;\n        while (i--) {\n            dragi = drag[i];\n            dragi.el._drag = {};\n            eve(\"snap.drag.end.\" + dragi.el.id, dragi.end_scope || dragi.start_scope || dragi.move_scope || dragi.el, e);\n        }\n        drag = [];\n    };\n    /*\\\n     * Element.click\n     [ method ]\n     **\n     * Adds a click event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unclick\n     [ method ]\n     **\n     * Removes a click event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.dblclick\n     [ method ]\n     **\n     * Adds a double click event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.undblclick\n     [ method ]\n     **\n     * Removes a double click event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mousedown\n     [ method ]\n     **\n     * Adds a mousedown event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmousedown\n     [ method ]\n     **\n     * Removes a mousedown event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mousemove\n     [ method ]\n     **\n     * Adds a mousemove event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmousemove\n     [ method ]\n     **\n     * Removes a mousemove event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mouseout\n     [ method ]\n     **\n     * Adds a mouseout event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseout\n     [ method ]\n     **\n     * Removes a mouseout event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mouseover\n     [ method ]\n     **\n     * Adds a mouseover event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseover\n     [ method ]\n     **\n     * Removes a mouseover event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mouseup\n     [ method ]\n     **\n     * Adds a mouseup event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseup\n     [ method ]\n     **\n     * Removes a mouseup event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.touchstart\n     [ method ]\n     **\n     * Adds a touchstart event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchstart\n     [ method ]\n     **\n     * Removes a touchstart event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.touchmove\n     [ method ]\n     **\n     * Adds a touchmove event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchmove\n     [ method ]\n     **\n     * Removes a touchmove event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.touchend\n     [ method ]\n     **\n     * Adds a touchend event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchend\n     [ method ]\n     **\n     * Removes a touchend event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.touchcancel\n     [ method ]\n     **\n     * Adds a touchcancel event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchcancel\n     [ method ]\n     **\n     * Removes a touchcancel event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    for (var i = events.length; i--;) {\n        (function (eventName) {\n            Snap[eventName] = elproto[eventName] = function (fn, scope) {\n                if (Snap.is(fn, \"function\")) {\n                    this.events = this.events || [];\n                    this.events.push({\n                        name: eventName,\n                        f: fn,\n                        unbind: addEvent(this.node || document, eventName, fn, scope || this)\n                    });\n                }\n                return this;\n            };\n            Snap[\"un\" + eventName] =\n            elproto[\"un\" + eventName] = function (fn) {\n                var events = this.events || [],\n                    l = events.length;\n                while (l--) if (events[l].name == eventName &&\n                               (events[l].f == fn || !fn)) {\n                    events[l].unbind();\n                    events.splice(l, 1);\n                    !events.length && delete this.events;\n                    return this;\n                }\n                return this;\n            };\n        })(events[i]);\n    }\n    /*\\\n     * Element.hover\n     [ method ]\n     **\n     * Adds hover event handlers to the element\n     - f_in (function) handler for hover in\n     - f_out (function) handler for hover out\n     - icontext (object) #optional context for hover in handler\n     - ocontext (object) #optional context for hover out handler\n     = (object) @Element\n    \\*/\n    elproto.hover = function (f_in, f_out, scope_in, scope_out) {\n        return this.mouseover(f_in, scope_in).mouseout(f_out, scope_out || scope_in);\n    };\n    /*\\\n     * Element.unhover\n     [ method ]\n     **\n     * Removes hover event handlers from the element\n     - f_in (function) handler for hover in\n     - f_out (function) handler for hover out\n     = (object) @Element\n    \\*/\n    elproto.unhover = function (f_in, f_out) {\n        return this.unmouseover(f_in).unmouseout(f_out);\n    };\n    var draggable = [];\n    // SIERRA unclear what _context_ refers to for starting, ending, moving the drag gesture.\n    // SIERRA Element.drag(): _x position of the mouse_: Where are the x/y values offset from?\n    // SIERRA Element.drag(): much of this member's doc appears to be duplicated for some reason.\n    // SIERRA Unclear about this sentence: _Additionally following drag events will be triggered: drag.start.<id> on start, drag.end.<id> on end and drag.move.<id> on every move._ Is there a global _drag_ object to which you can assign handlers keyed by an element's ID?\n    /*\\\n     * Element.drag\n     [ method ]\n     **\n     * Adds event handlers for an element's drag gesture\n     **\n     - onmove (function) handler for moving\n     - onstart (function) handler for drag start\n     - onend (function) handler for drag end\n     - mcontext (object) #optional context for moving handler\n     - scontext (object) #optional context for drag start handler\n     - econtext (object) #optional context for drag end handler\n     * Additionaly following `drag` events are triggered: `drag.start.<id>` on start, \n     * `drag.end.<id>` on end and `drag.move.<id>` on every move. When element is dragged over another element \n     * `drag.over.<id>` fires as well.\n     *\n     * Start event and start handler are called in specified context or in context of the element with following parameters:\n     o x (number) x position of the mouse\n     o y (number) y position of the mouse\n     o event (object) DOM event object\n     * Move event and move handler are called in specified context or in context of the element with following parameters:\n     o dx (number) shift by x from the start point\n     o dy (number) shift by y from the start point\n     o x (number) x position of the mouse\n     o y (number) y position of the mouse\n     o event (object) DOM event object\n     * End event and end handler are called in specified context or in context of the element with following parameters:\n     o event (object) DOM event object\n     = (object) @Element\n    \\*/\n    elproto.drag = function (onmove, onstart, onend, move_scope, start_scope, end_scope) {\n        if (!arguments.length) {\n            var origTransform;\n            return this.drag(function (dx, dy) {\n                this.attr({\n                    transform: origTransform + (origTransform ? \"T\" : \"t\") + [dx, dy]\n                });\n            }, function () {\n                origTransform = this.transform().local;\n            });\n        }\n        function start(e, x, y) {\n            (e.originalEvent || e).preventDefault();\n            this._drag.x = x;\n            this._drag.y = y;\n            this._drag.id = e.identifier;\n            !drag.length && Snap.mousemove(dragMove).mouseup(dragUp);\n            drag.push({el: this, move_scope: move_scope, start_scope: start_scope, end_scope: end_scope});\n            onstart && eve.on(\"snap.drag.start.\" + this.id, onstart);\n            onmove && eve.on(\"snap.drag.move.\" + this.id, onmove);\n            onend && eve.on(\"snap.drag.end.\" + this.id, onend);\n            eve(\"snap.drag.start.\" + this.id, start_scope || move_scope || this, x, y, e);\n        }\n        this._drag = {};\n        draggable.push({el: this, start: start});\n        this.mousedown(start);\n        return this;\n    };\n    /*\n     * Element.onDragOver\n     [ method ]\n     **\n     * Shortcut to assign event handler for `drag.over.<id>` event, where `id` is the element's `id` (see @Element.id)\n     - f (function) handler for event, first argument would be the element you are dragging over\n    \\*/\n    // elproto.onDragOver = function (f) {\n    //     f ? eve.on(\"snap.drag.over.\" + this.id, f) : eve.unbind(\"snap.drag.over.\" + this.id);\n    // };\n    /*\\\n     * Element.undrag\n     [ method ]\n     **\n     * Removes all drag event handlers from the given element\n    \\*/\n    elproto.undrag = function () {\n        var i = draggable.length;\n        while (i--) if (draggable[i].el == this) {\n            this.unmousedown(draggable[i].start);\n            draggable.splice(i, 1);\n            eve.unbind(\"snap.drag.*.\" + this.id);\n        }\n        !draggable.length && Snap.unmousemove(dragMove).unmouseup(dragUp);\n        return this;\n    };\n});\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var elproto = Element.prototype,\n        pproto = Paper.prototype,\n        rgurl = /^\\s*url\\((.+)\\)/,\n        Str = String,\n        $ = Snap._.$;\n    Snap.filter = {};\n// SIERRA Paper.filter(): I don't understand the note. Does that mean an HTML should dedicate a separate SVG region for a filter definition? What's the advantage over a DEFS?\n    /*\\\n     * Paper.filter\n     [ method ]\n     **\n     * Creates a `<filter>` element\n     **\n     - filstr (string) SVG fragment of filter provided as a string\n     = (object) @Element\n     * Note: It is recommended to use filters embedded into the page inside an empty SVG element.\n     > Usage\n     | var f = paper.filter('<feGaussianBlur stdDeviation=\"2\"/>'),\n     |     c = paper.circle(10, 10, 10).attr({\n     |         filter: f\n     |     });\n    \\*/\n    pproto.filter = function (filstr) {\n        var paper = this;\n        if (paper.type != \"svg\") {\n            paper = paper.paper;\n        }\n        var f = Snap.parse(Str(filstr)),\n            id = Snap._.id(),\n            width = paper.node.offsetWidth,\n            height = paper.node.offsetHeight,\n            filter = $(\"filter\");\n        $(filter, {\n            id: id,\n            filterUnits: \"userSpaceOnUse\"\n        });\n        filter.appendChild(f.node);\n        paper.defs.appendChild(filter);\n        return new Element(filter);\n    };\n    \n    eve.on(\"snap.util.getattr.filter\", function () {\n        eve.stop();\n        var p = $(this.node, \"filter\");\n        if (p) {\n            var match = Str(p).match(rgurl);\n            return match && Snap.select(match[1]);\n        }\n    });\n    eve.on(\"snap.util.attr.filter\", function (value) {\n        if (value instanceof Element && value.type == \"filter\") {\n            eve.stop();\n            var id = value.node.id;\n            if (!id) {\n                $(value.node, {id: value.id});\n                id = value.id;\n            }\n            $(this.node, {\n                filter: Snap.url(id)\n            });\n        }\n        if (!value || value == \"none\") {\n            eve.stop();\n            this.node.removeAttribute(\"filter\");\n        }\n    });\n    /*\\\n     * Snap.filter.blur\n     [ method ]\n     **\n     * Returns an SVG markup string for the blur filter\n     **\n     - x (number) amount of horizontal blur, in pixels\n     - y (number) #optional amount of vertical blur, in pixels\n     = (string) filter representation\n     > Usage\n     | var f = paper.filter(Snap.filter.blur(5, 10)),\n     |     c = paper.circle(10, 10, 10).attr({\n     |         filter: f\n     |     });\n    \\*/\n    Snap.filter.blur = function (x, y) {\n        if (x == null) {\n            x = 2;\n        }\n        var def = y == null ? x : [x, y];\n        return Snap.format('\\<feGaussianBlur stdDeviation=\"{def}\"/>', {\n            def: def\n        });\n    };\n    Snap.filter.blur.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.shadow\n     [ method ]\n     **\n     * Returns an SVG markup string for the shadow filter\n     **\n     - dx (number) #optional horizontal shift of the shadow, in pixels\n     - dy (number) #optional vertical shift of the shadow, in pixels\n     - blur (number) #optional amount of blur\n     - color (string) #optional color of the shadow\n     - opacity (number) #optional `0..1` opacity of the shadow\n     * or\n     - dx (number) #optional horizontal shift of the shadow, in pixels\n     - dy (number) #optional vertical shift of the shadow, in pixels\n     - color (string) #optional color of the shadow\n     - opacity (number) #optional `0..1` opacity of the shadow\n     * which makes blur default to `4`. Or\n     - dx (number) #optional horizontal shift of the shadow, in pixels\n     - dy (number) #optional vertical shift of the shadow, in pixels\n     - opacity (number) #optional `0..1` opacity of the shadow\n     = (string) filter representation\n     > Usage\n     | var f = paper.filter(Snap.filter.shadow(0, 2, 3)),\n     |     c = paper.circle(10, 10, 10).attr({\n     |         filter: f\n     |     });\n    \\*/\n    Snap.filter.shadow = function (dx, dy, blur, color, opacity) {\n        if (typeof blur == \"string\") {\n            color = blur;\n            opacity = color;\n            blur = 4;\n        }\n        if (typeof color != \"string\") {\n            opacity = color;\n            color = \"#000\";\n        }\n        color = color || \"#000\";\n        if (blur == null) {\n            blur = 4;\n        }\n        if (opacity == null) {\n            opacity = 1;\n        }\n        if (dx == null) {\n            dx = 0;\n            dy = 2;\n        }\n        if (dy == null) {\n            dy = dx;\n        }\n        color = Snap.color(color);\n        return Snap.format('<feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"{blur}\"/><feOffset dx=\"{dx}\" dy=\"{dy}\" result=\"offsetblur\"/><feFlood flood-color=\"{color}\"/><feComposite in2=\"offsetblur\" operator=\"in\"/><feComponentTransfer><feFuncA type=\"linear\" slope=\"{opacity}\"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in=\"SourceGraphic\"/></feMerge>', {\n            color: color,\n            dx: dx,\n            dy: dy,\n            blur: blur,\n            opacity: opacity\n        });\n    };\n    Snap.filter.shadow.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.grayscale\n     [ method ]\n     **\n     * Returns an SVG markup string for the grayscale filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.grayscale = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feColorMatrix type=\"matrix\" values=\"{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0\"/>', {\n            a: 0.2126 + 0.7874 * (1 - amount),\n            b: 0.7152 - 0.7152 * (1 - amount),\n            c: 0.0722 - 0.0722 * (1 - amount),\n            d: 0.2126 - 0.2126 * (1 - amount),\n            e: 0.7152 + 0.2848 * (1 - amount),\n            f: 0.0722 - 0.0722 * (1 - amount),\n            g: 0.2126 - 0.2126 * (1 - amount),\n            h: 0.0722 + 0.9278 * (1 - amount)\n        });\n    };\n    Snap.filter.grayscale.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.sepia\n     [ method ]\n     **\n     * Returns an SVG markup string for the sepia filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.sepia = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feColorMatrix type=\"matrix\" values=\"{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0\"/>', {\n            a: 0.393 + 0.607 * (1 - amount),\n            b: 0.769 - 0.769 * (1 - amount),\n            c: 0.189 - 0.189 * (1 - amount),\n            d: 0.349 - 0.349 * (1 - amount),\n            e: 0.686 + 0.314 * (1 - amount),\n            f: 0.168 - 0.168 * (1 - amount),\n            g: 0.272 - 0.272 * (1 - amount),\n            h: 0.534 - 0.534 * (1 - amount),\n            i: 0.131 + 0.869 * (1 - amount)\n        });\n    };\n    Snap.filter.sepia.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.saturate\n     [ method ]\n     **\n     * Returns an SVG markup string for the saturate filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.saturate = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feColorMatrix type=\"saturate\" values=\"{amount}\"/>', {\n            amount: 1 - amount\n        });\n    };\n    Snap.filter.saturate.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.hueRotate\n     [ method ]\n     **\n     * Returns an SVG markup string for the hue-rotate filter\n     **\n     - angle (number) angle of rotation\n     = (string) filter representation\n    \\*/\n    Snap.filter.hueRotate = function (angle) {\n        angle = angle || 0;\n        return Snap.format('<feColorMatrix type=\"hueRotate\" values=\"{angle}\"/>', {\n            angle: angle\n        });\n    };\n    Snap.filter.hueRotate.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.invert\n     [ method ]\n     **\n     * Returns an SVG markup string for the invert filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.invert = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feComponentTransfer><feFuncR type=\"table\" tableValues=\"{amount} {amount2}\"/><feFuncG type=\"table\" tableValues=\"{amount} {amount2}\"/><feFuncB type=\"table\" tableValues=\"{amount} {amount2}\"/></feComponentTransfer>', {\n            amount: amount,\n            amount2: 1 - amount\n        });\n    };\n    Snap.filter.invert.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.brightness\n     [ method ]\n     **\n     * Returns an SVG markup string for the brightness filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.brightness = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feComponentTransfer><feFuncR type=\"linear\" slope=\"{amount}\"/><feFuncG type=\"linear\" slope=\"{amount}\"/><feFuncB type=\"linear\" slope=\"{amount}\"/></feComponentTransfer>', {\n            amount: amount\n        });\n    };\n    Snap.filter.brightness.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.contrast\n     [ method ]\n     **\n     * Returns an SVG markup string for the contrast filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.contrast = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feComponentTransfer><feFuncR type=\"linear\" slope=\"{amount}\" intercept=\"{amount2}\"/><feFuncG type=\"linear\" slope=\"{amount}\" intercept=\"{amount2}\"/><feFuncB type=\"linear\" slope=\"{amount}\" intercept=\"{amount2}\"/></feComponentTransfer>', {\n            amount: amount,\n            amount2: .5 - amount / 2\n        });\n    };\n    Snap.filter.contrast.toString = function () {\n        return this();\n    };\n});\nreturn Snap;\n}));\n// TinyColor v1.1.2\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function() {\n\nvar trimLeft = /^[\\s,#]+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    math = Math,\n    mathRound = math.round,\n    mathMin = math.min,\n    mathMax = math.max,\n    mathRandom = math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function() {\n        return rgbaToHex(this._r, this._g, this._b, this._a);\n    },\n    toHex8String: function() {\n        return '#' + this.toHex8();\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = s.toHex8String();\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (color.hasOwnProperty(\"r\") && color.hasOwnProperty(\"g\") && color.hasOwnProperty(\"b\")) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (color.hasOwnProperty(\"h\") && color.hasOwnProperty(\"s\") && color.hasOwnProperty(\"v\")) {\n            color.s = convertToPercentage(color.s);\n            color.v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, color.s, color.v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (color.hasOwnProperty(\"h\") && color.hasOwnProperty(\"s\") && color.hasOwnProperty(\"l\")) {\n            color.s = convertToPercentage(color.s);\n            color.l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, color.s, color.l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n    // `rgbaToHex`\n    // Converts an RGBA color plus alpha transparency to hex\n    // Assumes r, g, b and a are contained in the set [0, 255]\n    // Returns an 8 character hex\n    function rgbaToHex(r, g, b, a) {\n\n        var hex = [\n            pad2(convertDecimalToHex(a)),\n            pad2(mathRound(r).toString(16)),\n            pad2(mathRound(g).toString(16)),\n            pad2(mathRound(b).toString(16))\n        ];\n\n        return hex.join(\"\");\n    }\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (mathRound(hsl.h) + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n    var w = p * 2 - 1;\n    var a = rgb2.a - rgb1.a;\n\n    var w1;\n\n    if (w * a == -1) {\n        w1 = w;\n    } else {\n        w1 = (w + a) / (1 + w * a);\n    }\n\n    w1 = (w1 + 1) / 2;\n\n    var w2 = 1 - w1;\n\n    var rgba = {\n        r: rgb2.r * w1 + rgb1.r * w2,\n        g: rgb2.g * w1 + rgb1.g * w2,\n        b: rgb2.b * w1 + rgb1.b * w2,\n        a: rgb2.a * p  + rgb1.a * (1 - p)\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/AERT#color-contrast>\n\n// `readability`\n// Analyze the 2 colors and returns an object with the following properties:\n//    `brightness`: difference in brightness between the two colors\n//    `color`: difference in color/hue between the two colors\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    var rgb1 = c1.toRgb();\n    var rgb2 = c2.toRgb();\n    var brightnessA = c1.getBrightness();\n    var brightnessB = c2.getBrightness();\n    var colorDiff = (\n        Math.max(rgb1.r, rgb2.r) - Math.min(rgb1.r, rgb2.r) +\n        Math.max(rgb1.g, rgb2.g) - Math.min(rgb1.g, rgb2.g) +\n        Math.max(rgb1.b, rgb2.b) - Math.min(rgb1.b, rgb2.b)\n    );\n\n    return {\n        brightness: Math.abs(brightnessA - brightnessB),\n        color: colorDiff\n    };\n};\n\n// `readable`\n// http://www.w3.org/TR/AERT#color-contrast\n// Ensure that foreground and background color combinations provide sufficient contrast.\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\ntinycolor.isReadable = function(color1, color2) {\n    var readability = tinycolor.readability(color1, color2);\n    return readability.brightness > 125 && readability.color > 500;\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// *Example*\n//    tinycolor.mostReadable(\"#123\", [\"#fff\", \"#000\"]) => \"#000\"\ntinycolor.mostReadable = function(baseColor, colorList) {\n    var bestColor = null;\n    var bestScore = 0;\n    var bestIsReadable = false;\n    for (var i=0; i < colorList.length; i++) {\n\n        // We normalize both around the \"acceptable\" breaking point,\n        // but rank brightness constrast higher than hue.\n\n        var readability = tinycolor.readability(baseColor, colorList[i]);\n        var readable = readability.brightness > 125 && readability.color > 500;\n        var score = 3 * (readability.brightness / 125) + (readability.color / 500);\n\n        if ((readable && ! bestIsReadable) ||\n            (readable && bestIsReadable && score > bestScore) ||\n            ((! readable) && (! bestIsReadable) && score > bestScore)) {\n            bestIsReadable = readable;\n            bestScore = score;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n    return bestColor;\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex8: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            a: convertHexToDecimal(match[1]),\n            r: parseIntFromHex(match[2]),\n            g: parseIntFromHex(match[3]),\n            b: parseIntFromHex(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})();\n\n/**\n * Super simple wysiwyg editor on Bootstrap v0.6.6\n * http://summernote.org/\n *\n * summernote.js\n * Copyright 2013-2015 Alan Hong. and other contributors\n * summernote may be freely distributed under the MIT license./\n *\n * Date: 2015-04-29T19:41Z\n */\n(function (factory) {\n  /* global define */\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['jquery'], factory);\n  } else {\n    // Browser globals: jQuery\n    factory(window.jQuery);\n  }\n}(function ($) {\n  \n\n\n  if (!Array.prototype.reduce) {\n    /**\n     * Array.prototype.reduce polyfill\n     *\n     * @param {Function} callback\n     * @param {Value} [initialValue]\n     * @return {Value}\n     *\n     * @see http://goo.gl/WNriQD\n     */\n    Array.prototype.reduce = function (callback) {\n      var t = Object(this), len = t.length >>> 0, k = 0, value;\n      if (arguments.length === 2) {\n        value = arguments[1];\n      } else {\n        while (k < len && !(k in t)) {\n          k++;\n        }\n        if (k >= len) {\n          throw new TypeError('Reduce of empty array with no initial value');\n        }\n        value = t[k++];\n      }\n      for (; k < len; k++) {\n        if (k in t) {\n          value = callback(value, t[k], k, t);\n        }\n      }\n      return value;\n    };\n  }\n\n  if ('function' !== typeof Array.prototype.filter) {\n    /**\n     * Array.prototype.filter polyfill\n     *\n     * @param {Function} func\n     * @return {Array}\n     *\n     * @see http://goo.gl/T1KFnq\n     */\n    Array.prototype.filter = function (func) {\n      var t = Object(this), len = t.length >>> 0;\n\n      var res = [];\n      var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n      for (var i = 0; i < len; i++) {\n        if (i in t) {\n          var val = t[i];\n          if (func.call(thisArg, val, i, t)) {\n            res.push(val);\n          }\n        }\n      }\n  \n      return res;\n    };\n  }\n\n  var isSupportAmd = typeof define === 'function' && define.amd;\n\n  /**\n   * returns whether font is installed or not.\n   *\n   * @param {String} fontName\n   * @return {Boolean}\n   */\n  var isFontInstalled = function (fontName) {\n    var testFontName = fontName === 'Comic Sans MS' ? 'Courier New' : 'Comic Sans MS';\n    var $tester = $('<div>').css({\n      position: 'absolute',\n      left: '-9999px',\n      top: '-9999px',\n      fontSize: '200px'\n    }).text('mmmmmmmmmwwwwwww').appendTo(document.body);\n\n    var originalWidth = $tester.css('fontFamily', testFontName).width();\n    var width = $tester.css('fontFamily', fontName + ',' + testFontName).width();\n\n    $tester.remove();\n\n    return originalWidth !== width;\n  };\n\n  /**\n   * @class core.agent\n   *\n   * Object which check platform and agent\n   *\n   * @singleton\n   * @alternateClassName agent\n   */\n  var agent = {\n    /** @property {Boolean} [isMac=false] true if this agent is Mac  */\n    isMac: navigator.appVersion.indexOf('Mac') > -1,\n    /** @property {Boolean} [isMSIE=false] true if this agent is a Internet Explorer  */\n    isMSIE: navigator.userAgent.indexOf('MSIE') > -1 || navigator.userAgent.indexOf('Trident') > -1,\n    /** @property {Boolean} [isFF=false] true if this agent is a Firefox  */\n    isFF: navigator.userAgent.indexOf('Firefox') > -1,\n    /** @property {String} jqueryVersion current jQuery version string  */\n    jqueryVersion: parseFloat($.fn.jquery),\n    isSupportAmd: isSupportAmd,\n    hasCodeMirror: isSupportAmd ? require.specified('CodeMirror') : !!window.CodeMirror,\n    isFontInstalled: isFontInstalled,\n    isW3CRangeSupport: !!document.createRange\n  };\n\n  /**\n   * @class core.func\n   *\n   * func utils (for high-order func's arg)\n   *\n   * @singleton\n   * @alternateClassName func\n   */\n  var func = (function () {\n    var eq = function (itemA) {\n      return function (itemB) {\n        return itemA === itemB;\n      };\n    };\n\n    var eq2 = function (itemA, itemB) {\n      return itemA === itemB;\n    };\n\n    var peq2 = function (propName) {\n      return function (itemA, itemB) {\n        return itemA[propName] === itemB[propName];\n      };\n    };\n\n    var ok = function () {\n      return true;\n    };\n\n    var fail = function () {\n      return false;\n    };\n\n    var not = function (f) {\n      return function () {\n        return !f.apply(f, arguments);\n      };\n    };\n\n    var and = function (fA, fB) {\n      return function (item) {\n        return fA(item) && fB(item);\n      };\n    };\n\n    var self = function (a) {\n      return a;\n    };\n\n    var idCounter = 0;\n\n    /**\n     * generate a globally-unique id\n     *\n     * @param {String} [prefix]\n     */\n    var uniqueId = function (prefix) {\n      var id = ++idCounter + '';\n      return prefix ? prefix + id : id;\n    };\n\n    /**\n     * returns bnd (bounds) from rect\n     *\n     * - IE Compatability Issue: http://goo.gl/sRLOAo\n     * - Scroll Issue: http://goo.gl/sNjUc\n     *\n     * @param {Rect} rect\n     * @return {Object} bounds\n     * @return {Number} bounds.top\n     * @return {Number} bounds.left\n     * @return {Number} bounds.width\n     * @return {Number} bounds.height\n     */\n    var rect2bnd = function (rect) {\n      var $document = $(document);\n      return {\n        top: rect.top + $document.scrollTop(),\n        left: rect.left + $document.scrollLeft(),\n        width: rect.right - rect.left,\n        height: rect.bottom - rect.top\n      };\n    };\n\n    /**\n     * returns a copy of the object where the keys have become the values and the values the keys.\n     * @param {Object} obj\n     * @return {Object}\n     */\n    var invertObject = function (obj) {\n      var inverted = {};\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          inverted[obj[key]] = key;\n        }\n      }\n      return inverted;\n    };\n\n    /**\n     * @param {String} namespace\n     * @param {String} [prefix]\n     * @return {String}\n     */\n    var namespaceToCamel = function (namespace, prefix) {\n      prefix = prefix || '';\n      return prefix + namespace.split('.').map(function (name) {\n        return name.substring(0, 1).toUpperCase() + name.substring(1);\n      }).join('');\n    };\n\n    return {\n      eq: eq,\n      eq2: eq2,\n      peq2: peq2,\n      ok: ok,\n      fail: fail,\n      self: self,\n      not: not,\n      and: and,\n      uniqueId: uniqueId,\n      rect2bnd: rect2bnd,\n      invertObject: invertObject,\n      namespaceToCamel: namespaceToCamel\n    };\n  })();\n\n  /**\n   * @class core.list\n   *\n   * list utils\n   *\n   * @singleton\n   * @alternateClassName list\n   */\n  var list = (function () {\n    /**\n     * returns the first item of an array.\n     *\n     * @param {Array} array\n     */\n    var head = function (array) {\n      return array[0];\n    };\n\n    /**\n     * returns the last item of an array.\n     *\n     * @param {Array} array\n     */\n    var last = function (array) {\n      return array[array.length - 1];\n    };\n\n    /**\n     * returns everything but the last entry of the array.\n     *\n     * @param {Array} array\n     */\n    var initial = function (array) {\n      return array.slice(0, array.length - 1);\n    };\n\n    /**\n     * returns the rest of the items in an array.\n     *\n     * @param {Array} array\n     */\n    var tail = function (array) {\n      return array.slice(1);\n    };\n\n    /**\n     * returns item of array\n     */\n    var find = function (array, pred) {\n      for (var idx = 0, len = array.length; idx < len; idx ++) {\n        var item = array[idx];\n        if (pred(item)) {\n          return item;\n        }\n      }\n    };\n\n    /**\n     * returns true if all of the values in the array pass the predicate truth test.\n     */\n    var all = function (array, pred) {\n      for (var idx = 0, len = array.length; idx < len; idx ++) {\n        if (!pred(array[idx])) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    /**\n     * returns true if the value is present in the list.\n     */\n    var contains = function (array, item) {\n      return $.inArray(item, array) !== -1;\n    };\n\n    /**\n     * get sum from a list\n     *\n     * @param {Array} array - array\n     * @param {Function} fn - iterator\n     */\n    var sum = function (array, fn) {\n      fn = fn || func.self;\n      return array.reduce(function (memo, v) {\n        return memo + fn(v);\n      }, 0);\n    };\n  \n    /**\n     * returns a copy of the collection with array type.\n     * @param {Collection} collection - collection eg) node.childNodes, ...\n     */\n    var from = function (collection) {\n      var result = [], idx = -1, length = collection.length;\n      while (++idx < length) {\n        result[idx] = collection[idx];\n      }\n      return result;\n    };\n  \n    /**\n     * cluster elements by predicate function.\n     *\n     * @param {Array} array - array\n     * @param {Function} fn - predicate function for cluster rule\n     * @param {Array[]}\n     */\n    var clusterBy = function (array, fn) {\n      if (!array.length) { return []; }\n      var aTail = tail(array);\n      return aTail.reduce(function (memo, v) {\n        var aLast = last(memo);\n        if (fn(last(aLast), v)) {\n          aLast[aLast.length] = v;\n        } else {\n          memo[memo.length] = [v];\n        }\n        return memo;\n      }, [[head(array)]]);\n    };\n  \n    /**\n     * returns a copy of the array with all falsy values removed\n     *\n     * @param {Array} array - array\n     * @param {Function} fn - predicate function for cluster rule\n     */\n    var compact = function (array) {\n      var aResult = [];\n      for (var idx = 0, len = array.length; idx < len; idx ++) {\n        if (array[idx]) { aResult.push(array[idx]); }\n      }\n      return aResult;\n    };\n\n    /**\n     * produces a duplicate-free version of the array\n     *\n     * @param {Array} array\n     */\n    var unique = function (array) {\n      var results = [];\n\n      for (var idx = 0, len = array.length; idx < len; idx ++) {\n        if (!contains(results, array[idx])) {\n          results.push(array[idx]);\n        }\n      }\n\n      return results;\n    };\n\n    /**\n     * returns next item.\n     * @param {Array} array\n     */\n    var next = function (array, item) {\n      var idx = array.indexOf(item);\n      if (idx === -1) { return null; }\n\n      return array[idx + 1];\n    };\n\n    /**\n     * returns prev item.\n     * @param {Array} array\n     */\n    var prev = function (array, item) {\n      var idx = array.indexOf(item);\n      if (idx === -1) { return null; }\n\n      return array[idx - 1];\n    };\n\n  \n    return { head: head, last: last, initial: initial, tail: tail,\n             prev: prev, next: next, find: find, contains: contains,\n             all: all, sum: sum, from: from,\n             clusterBy: clusterBy, compact: compact, unique: unique };\n  })();\n\n\n  var NBSP_CHAR = String.fromCharCode(160);\n  var ZERO_WIDTH_NBSP_CHAR = '\\ufeff';\n\n  /**\n   * @class core.dom\n   *\n   * Dom functions\n   *\n   * @singleton\n   * @alternateClassName dom\n   */\n  var dom = (function () {\n    /**\n     * @method isEditable\n     *\n     * returns whether node is `note-editable` or not.\n     *\n     * @param {Node} node\n     * @return {Boolean}\n     */\n    var isEditable = function (node) {\n      return node && $(node).hasClass('note-editable');\n    };\n\n    /**\n     * @method isControlSizing\n     *\n     * returns whether node is `note-control-sizing` or not.\n     *\n     * @param {Node} node\n     * @return {Boolean}\n     */\n    var isControlSizing = function (node) {\n      return node && $(node).hasClass('note-control-sizing');\n    };\n\n    /**\n     * @method  buildLayoutInfo\n     *\n     * build layoutInfo from $editor(.note-editor)\n     *\n     * @param {jQuery} $editor\n     * @return {Object}\n     * @return {Function} return.editor\n     * @return {Node} return.dropzone\n     * @return {Node} return.toolbar\n     * @return {Node} return.editable\n     * @return {Node} return.codable\n     * @return {Node} return.popover\n     * @return {Node} return.handle\n     * @return {Node} return.dialog\n     */\n    var buildLayoutInfo = function ($editor) {\n      var makeFinder;\n\n      // air mode\n      if ($editor.hasClass('note-air-editor')) {\n        var id = list.last($editor.attr('id').split('-'));\n        makeFinder = function (sIdPrefix) {\n          return function () { return $(sIdPrefix + id); };\n        };\n\n        return {\n          editor: function () { return $editor; },\n          holder : function () { return $editor.data('holder'); },\n          editable: function () { return $editor; },\n          popover: makeFinder('#note-popover-'),\n          handle: makeFinder('#note-handle-'),\n          dialog: makeFinder('#note-dialog-')\n        };\n\n        // frame mode\n      } else {\n        makeFinder = function (sClassName) {\n          return function () { return $editor.find(sClassName); };\n        };\n        return {\n          editor: function () { return $editor; },\n          holder : function () { return $editor.data('holder'); },\n          dropzone: makeFinder('.note-dropzone'),\n          toolbar: makeFinder('.note-toolbar'),\n          editable: makeFinder('.note-editable'),\n          codable: makeFinder('.note-codable'),\n          statusbar: makeFinder('.note-statusbar'),\n          popover: makeFinder('.note-popover'),\n          handle: makeFinder('.note-handle'),\n          dialog: makeFinder('.note-dialog')\n        };\n      }\n    };\n\n    /**\n     * returns makeLayoutInfo from editor's descendant node.\n     *\n     * @private\n     * @param {Node} descendant\n     * @return {Object}\n     */\n    var makeLayoutInfo = function (descendant) {\n      var $target = $(descendant).closest('.note-editor, .note-air-editor, .note-air-layout');\n\n      if (!$target.length) {\n        return null;\n      }\n\n      var $editor;\n      if ($target.is('.note-editor, .note-air-editor')) {\n        $editor = $target;\n      } else {\n        $editor = $('#note-editor-' + list.last($target.attr('id').split('-')));\n      }\n\n      return buildLayoutInfo($editor);\n    };\n\n    /**\n     * @method makePredByNodeName\n     *\n     * returns predicate which judge whether nodeName is same\n     *\n     * @param {String} nodeName\n     * @return {Function}\n     */\n    var makePredByNodeName = function (nodeName) {\n      nodeName = nodeName.toUpperCase();\n      return function (node) {\n        return node && node.nodeName.toUpperCase() === nodeName;\n      };\n    };\n\n    /**\n     * @method isText\n     *\n     *\n     *\n     * @param {Node} node\n     * @return {Boolean} true if node's type is text(3)\n     */\n    var isText = function (node) {\n      return node && node.nodeType === 3;\n    };\n\n    /**\n     * ex) br, col, embed, hr, img, input, ...\n     * @see http://www.w3.org/html/wg/drafts/html/master/syntax.html#void-elements\n     */\n    var isVoid = function (node) {\n      return node && /^BR|^IMG|^HR/.test(node.nodeName.toUpperCase());\n    };\n\n    var isPara = function (node) {\n      if (isEditable(node)) {\n        return false;\n      }\n\n      // Chrome(v31.0), FF(v25.0.1) use DIV for paragraph\n      return node && /^DIV|^P|^LI|^H[1-7]/.test(node.nodeName.toUpperCase());\n    };\n\n    var isLi = makePredByNodeName('LI');\n\n    var isPurePara = function (node) {\n      return isPara(node) && !isLi(node);\n    };\n\n    var isTable = makePredByNodeName('TABLE');\n\n    var isInline = function (node) {\n      return !isBodyContainer(node) &&\n             !isList(node) &&\n             !isPara(node) &&\n             !isTable(node) &&\n             !isBlockquote(node);\n    };\n\n    var isList = function (node) {\n      return node && /^UL|^OL/.test(node.nodeName.toUpperCase());\n    };\n\n    var isCell = function (node) {\n      return node && /^TD|^TH/.test(node.nodeName.toUpperCase());\n    };\n\n    var isBlockquote = makePredByNodeName('BLOCKQUOTE');\n\n    var isBodyContainer = function (node) {\n      return isCell(node) || isBlockquote(node) || isEditable(node);\n    };\n\n    var isAnchor = makePredByNodeName('A');\n\n    var isParaInline = function (node) {\n      return isInline(node) && !!ancestor(node, isPara);\n    };\n\n    var isBodyInline = function (node) {\n      return isInline(node) && !ancestor(node, isPara);\n    };\n\n    var isBody = makePredByNodeName('BODY');\n\n    /**\n     * returns whether nodeB is closest sibling of nodeA\n     *\n     * @param {Node} nodeA\n     * @param {Node} nodeB\n     * @return {Boolean}\n     */\n    var isClosestSibling = function (nodeA, nodeB) {\n      return nodeA.nextSibling === nodeB ||\n             nodeA.previousSibling === nodeB;\n    };\n\n    /**\n     * returns array of closest siblings with node\n     *\n     * @param {Node} node\n     * @param {function} [pred] - predicate function\n     * @return {Node[]}\n     */\n    var withClosestSiblings = function (node, pred) {\n      pred = pred || func.ok;\n\n      var siblings = [];\n      if (node.previousSibling && pred(node.previousSibling)) {\n        siblings.push(node.previousSibling);\n      }\n      siblings.push(node);\n      if (node.nextSibling && pred(node.nextSibling)) {\n        siblings.push(node.nextSibling);\n      }\n      return siblings;\n    };\n\n    /**\n     * blank HTML for cursor position\n     * - [workaround] for MSIE IE doesn't works with bogus br\n     */\n    var blankHTML = agent.isMSIE ? '&nbsp;' : '<br>';\n\n    /**\n     * @method nodeLength\n     *\n     * returns #text's text size or element's childNodes size\n     *\n     * @param {Node} node\n     */\n    var nodeLength = function (node) {\n      if (isText(node)) {\n        return node.nodeValue.length;\n      }\n\n      return node.childNodes.length;\n    };\n\n    /**\n     * returns whether node is empty or not.\n     *\n     * @param {Node} node\n     * @return {Boolean}\n     */\n    var isEmpty = function (node) {\n      var len = nodeLength(node);\n\n      if (len === 0) {\n        return true;\n      } else if (!dom.isText(node) && len === 1 && node.innerHTML === blankHTML) {\n        // ex) <p><br></p>, <span><br></span>\n        return true;\n      }\n\n      return false;\n    };\n\n    /**\n     * padding blankHTML if node is empty (for cursor position)\n     */\n    var paddingBlankHTML = function (node) {\n      if (!isVoid(node) && !nodeLength(node)) {\n        node.innerHTML = blankHTML;\n      }\n    };\n\n    /**\n     * find nearest ancestor predicate hit\n     *\n     * @param {Node} node\n     * @param {Function} pred - predicate function\n     */\n    var ancestor = function (node, pred) {\n      while (node) {\n        if (pred(node)) { return node; }\n        if (isEditable(node)) { break; }\n\n        node = node.parentNode;\n      }\n      return null;\n    };\n\n    /**\n     * find nearest ancestor only single child blood line and predicate hit\n     *\n     * @param {Node} node\n     * @param {Function} pred - predicate function\n     */\n    var singleChildAncestor = function (node, pred) {\n      node = node.parentNode;\n\n      while (node) {\n        if (nodeLength(node) !== 1) { break; }\n        if (pred(node)) { return node; }\n        if (isEditable(node)) { break; }\n\n        node = node.parentNode;\n      }\n      return null;\n    };\n\n    /**\n     * returns new array of ancestor nodes (until predicate hit).\n     *\n     * @param {Node} node\n     * @param {Function} [optional] pred - predicate function\n     */\n    var listAncestor = function (node, pred) {\n      pred = pred || func.fail;\n\n      var ancestors = [];\n      ancestor(node, function (el) {\n        if (!isEditable(el)) {\n          ancestors.push(el);\n        }\n\n        return pred(el);\n      });\n      return ancestors;\n    };\n\n    /**\n     * find farthest ancestor predicate hit\n     */\n    var lastAncestor = function (node, pred) {\n      var ancestors = listAncestor(node);\n      return list.last(ancestors.filter(pred));\n    };\n\n    /**\n     * returns common ancestor node between two nodes.\n     *\n     * @param {Node} nodeA\n     * @param {Node} nodeB\n     */\n    var commonAncestor = function (nodeA, nodeB) {\n      var ancestors = listAncestor(nodeA);\n      for (var n = nodeB; n; n = n.parentNode) {\n        if ($.inArray(n, ancestors) > -1) { return n; }\n      }\n      return null; // difference document area\n    };\n\n    /**\n     * listing all previous siblings (until predicate hit).\n     *\n     * @param {Node} node\n     * @param {Function} [optional] pred - predicate function\n     */\n    var listPrev = function (node, pred) {\n      pred = pred || func.fail;\n\n      var nodes = [];\n      while (node) {\n        if (pred(node)) { break; }\n        nodes.push(node);\n        node = node.previousSibling;\n      }\n      return nodes;\n    };\n\n    /**\n     * listing next siblings (until predicate hit).\n     *\n     * @param {Node} node\n     * @param {Function} [pred] - predicate function\n     */\n    var listNext = function (node, pred) {\n      pred = pred || func.fail;\n\n      var nodes = [];\n      while (node) {\n        if (pred(node)) { break; }\n        nodes.push(node);\n        node = node.nextSibling;\n      }\n      return nodes;\n    };\n\n    /**\n     * listing descendant nodes\n     *\n     * @param {Node} node\n     * @param {Function} [pred] - predicate function\n     */\n    var listDescendant = function (node, pred) {\n      var descendents = [];\n      pred = pred || func.ok;\n\n      // start DFS(depth first search) with node\n      (function fnWalk(current) {\n        if (node !== current && pred(current)) {\n          descendents.push(current);\n        }\n        for (var idx = 0, len = current.childNodes.length; idx < len; idx++) {\n          fnWalk(current.childNodes[idx]);\n        }\n      })(node);\n\n      return descendents;\n    };\n\n    /**\n     * wrap node with new tag.\n     *\n     * @param {Node} node\n     * @param {Node} tagName of wrapper\n     * @return {Node} - wrapper\n     */\n    var wrap = function (node, wrapperName) {\n      var parent = node.parentNode;\n      var wrapper = $('<' + wrapperName + '>')[0];\n\n      parent.insertBefore(wrapper, node);\n      wrapper.appendChild(node);\n\n      return wrapper;\n    };\n\n    /**\n     * insert node after preceding\n     *\n     * @param {Node} node\n     * @param {Node} preceding - predicate function\n     */\n    var insertAfter = function (node, preceding) {\n      var next = preceding.nextSibling, parent = preceding.parentNode;\n      if (next) {\n        parent.insertBefore(node, next);\n      } else {\n        parent.appendChild(node);\n      }\n      return node;\n    };\n\n    /**\n     * append elements.\n     *\n     * @param {Node} node\n     * @param {Collection} aChild\n     */\n    var appendChildNodes = function (node, aChild) {\n      $.each(aChild, function (idx, child) {\n        node.appendChild(child);\n      });\n      return node;\n    };\n\n    /**\n     * returns whether boundaryPoint is left edge or not.\n     *\n     * @param {BoundaryPoint} point\n     * @return {Boolean}\n     */\n    var isLeftEdgePoint = function (point) {\n      return point.offset === 0;\n    };\n\n    /**\n     * returns whether boundaryPoint is right edge or not.\n     *\n     * @param {BoundaryPoint} point\n     * @return {Boolean}\n     */\n    var isRightEdgePoint = function (point) {\n      return point.offset === nodeLength(point.node);\n    };\n\n    /**\n     * returns whether boundaryPoint is edge or not.\n     *\n     * @param {BoundaryPoint} point\n     * @return {Boolean}\n     */\n    var isEdgePoint = function (point) {\n      return isLeftEdgePoint(point) || isRightEdgePoint(point);\n    };\n\n    /**\n     * returns wheter node is left edge of ancestor or not.\n     *\n     * @param {Node} node\n     * @param {Node} ancestor\n     * @return {Boolean}\n     */\n    var isLeftEdgeOf = function (node, ancestor) {\n      while (node && node !== ancestor) {\n        if (position(node) !== 0) {\n          return false;\n        }\n        node = node.parentNode;\n      }\n\n      return true;\n    };\n\n    /**\n     * returns whether node is right edge of ancestor or not.\n     *\n     * @param {Node} node\n     * @param {Node} ancestor\n     * @return {Boolean}\n     */\n    var isRightEdgeOf = function (node, ancestor) {\n      while (node && node !== ancestor) {\n        if (position(node) !== nodeLength(node.parentNode) - 1) {\n          return false;\n        }\n        node = node.parentNode;\n      }\n\n      return true;\n    };\n\n    /**\n     * returns offset from parent.\n     *\n     * @param {Node} node\n     */\n    var position = function (node) {\n      var offset = 0;\n      while ((node = node.previousSibling)) {\n        offset += 1;\n      }\n      return offset;\n    };\n\n    var hasChildren = function (node) {\n      return !!(node && node.childNodes && node.childNodes.length);\n    };\n\n    /**\n     * returns previous boundaryPoint\n     *\n     * @param {BoundaryPoint} point\n     * @param {Boolean} isSkipInnerOffset\n     * @return {BoundaryPoint}\n     */\n    var prevPoint = function (point, isSkipInnerOffset) {\n      var node, offset;\n\n      if (point.offset === 0) {\n        if (isEditable(point.node)) {\n          return null;\n        }\n\n        node = point.node.parentNode;\n        offset = position(point.node);\n      } else if (hasChildren(point.node)) {\n        node = point.node.childNodes[point.offset - 1];\n        offset = nodeLength(node);\n      } else {\n        node = point.node;\n        offset = isSkipInnerOffset ? 0 : point.offset - 1;\n      }\n\n      return {\n        node: node,\n        offset: offset\n      };\n    };\n\n    /**\n     * returns next boundaryPoint\n     *\n     * @param {BoundaryPoint} point\n     * @param {Boolean} isSkipInnerOffset\n     * @return {BoundaryPoint}\n     */\n    var nextPoint = function (point, isSkipInnerOffset) {\n      var node, offset;\n\n      if (nodeLength(point.node) === point.offset) {\n        if (isEditable(point.node)) {\n          return null;\n        }\n\n        node = point.node.parentNode;\n        offset = position(point.node) + 1;\n      } else if (hasChildren(point.node)) {\n        node = point.node.childNodes[point.offset];\n        offset = 0;\n      } else {\n        node = point.node;\n        offset = isSkipInnerOffset ? nodeLength(point.node) : point.offset + 1;\n      }\n\n      return {\n        node: node,\n        offset: offset\n      };\n    };\n\n    /**\n     * returns whether pointA and pointB is same or not.\n     *\n     * @param {BoundaryPoint} pointA\n     * @param {BoundaryPoint} pointB\n     * @return {Boolean}\n     */\n    var isSamePoint = function (pointA, pointB) {\n      return pointA.node === pointB.node && pointA.offset === pointB.offset;\n    };\n\n    /**\n     * returns whether point is visible (can set cursor) or not.\n     * \n     * @param {BoundaryPoint} point\n     * @return {Boolean}\n     */\n    var isVisiblePoint = function (point) {\n      if (isText(point.node) || !hasChildren(point.node) || isEmpty(point.node)) {\n        return true;\n      }\n\n      var leftNode = point.node.childNodes[point.offset - 1];\n      var rightNode = point.node.childNodes[point.offset];\n      if ((!leftNode || isVoid(leftNode)) && (!rightNode || isVoid(rightNode))) {\n        return true;\n      }\n\n      return false;\n    };\n\n    /**\n     * @method prevPointUtil\n     *\n     * @param {BoundaryPoint} point\n     * @param {Function} pred\n     * @return {BoundaryPoint}\n     */\n    var prevPointUntil = function (point, pred) {\n      while (point) {\n        if (pred(point)) {\n          return point;\n        }\n\n        point = prevPoint(point);\n      }\n\n      return null;\n    };\n\n    /**\n     * @method nextPointUntil\n     *\n     * @param {BoundaryPoint} point\n     * @param {Function} pred\n     * @return {BoundaryPoint}\n     */\n    var nextPointUntil = function (point, pred) {\n      while (point) {\n        if (pred(point)) {\n          return point;\n        }\n\n        point = nextPoint(point);\n      }\n\n      return null;\n    };\n\n    /**\n     * returns whether point has character or not.\n     *\n     * @param {Point} point\n     * @return {Boolean}\n     */\n    var isCharPoint = function (point) {\n      if (!isText(point.node)) {\n        return false;\n      }\n\n      var ch = point.node.nodeValue.charAt(point.offset - 1);\n      return ch && (ch !== ' ' && ch !== NBSP_CHAR);\n    };\n\n    /**\n     * @method walkPoint\n     *\n     * @param {BoundaryPoint} startPoint\n     * @param {BoundaryPoint} endPoint\n     * @param {Function} handler\n     * @param {Boolean} isSkipInnerOffset\n     */\n    var walkPoint = function (startPoint, endPoint, handler, isSkipInnerOffset) {\n      var point = startPoint;\n\n      while (point) {\n        handler(point);\n\n        if (isSamePoint(point, endPoint)) {\n          break;\n        }\n\n        var isSkipOffset = isSkipInnerOffset &&\n                           startPoint.node !== point.node &&\n                           endPoint.node !== point.node;\n        point = nextPoint(point, isSkipOffset);\n      }\n    };\n\n    /**\n     * @method makeOffsetPath\n     *\n     * return offsetPath(array of offset) from ancestor\n     *\n     * @param {Node} ancestor - ancestor node\n     * @param {Node} node\n     */\n    var makeOffsetPath = function (ancestor, node) {\n      var ancestors = listAncestor(node, func.eq(ancestor));\n      return $.map(ancestors, position).reverse();\n    };\n\n    /**\n     * @method fromOffsetPath\n     *\n     * return element from offsetPath(array of offset)\n     *\n     * @param {Node} ancestor - ancestor node\n     * @param {array} offsets - offsetPath\n     */\n    var fromOffsetPath = function (ancestor, offsets) {\n      var current = ancestor;\n      for (var i = 0, len = offsets.length; i < len; i++) {\n        if (current.childNodes.length <= offsets[i]) {\n          current = current.childNodes[current.childNodes.length - 1];\n        } else {\n          current = current.childNodes[offsets[i]];\n        }\n      }\n      return current;\n    };\n\n    /**\n     * @method splitNode\n     *\n     * split element or #text\n     *\n     * @param {BoundaryPoint} point\n     * @param {Object} [options]\n     * @param {Boolean} [options.isSkipPaddingBlankHTML] - default: false\n     * @param {Boolean} [options.isNotSplitEdgePoint] - default: false\n     * @return {Node} right node of boundaryPoint\n     */\n    var splitNode = function (point, options) {\n      var isSkipPaddingBlankHTML = options && options.isSkipPaddingBlankHTML;\n      var isNotSplitEdgePoint = options && options.isNotSplitEdgePoint;\n\n      // edge case\n      if (isEdgePoint(point) && (isText(point.node) || isNotSplitEdgePoint)) {\n        if (isLeftEdgePoint(point)) {\n          return point.node;\n        } else if (isRightEdgePoint(point)) {\n          return point.node.nextSibling;\n        }\n      }\n\n      // split #text\n      if (isText(point.node)) {\n        return point.node.splitText(point.offset);\n      } else {\n        var childNode = point.node.childNodes[point.offset];\n        var clone = insertAfter(point.node.cloneNode(false), point.node);\n        appendChildNodes(clone, listNext(childNode));\n\n        if (!isSkipPaddingBlankHTML) {\n          paddingBlankHTML(point.node);\n          paddingBlankHTML(clone);\n        }\n\n        return clone;\n      }\n    };\n\n    /**\n     * @method splitTree\n     *\n     * split tree by point\n     *\n     * @param {Node} root - split root\n     * @param {BoundaryPoint} point\n     * @param {Object} [options]\n     * @param {Boolean} [options.isSkipPaddingBlankHTML] - default: false\n     * @param {Boolean} [options.isNotSplitEdgePoint] - default: false\n     * @return {Node} right node of boundaryPoint\n     */\n    var splitTree = function (root, point, options) {\n      // ex) [#text, <span>, <p>]\n      var ancestors = listAncestor(point.node, func.eq(root));\n\n      if (!ancestors.length) {\n        return null;\n      } else if (ancestors.length === 1) {\n        return splitNode(point, options);\n      }\n\n      return ancestors.reduce(function (node, parent) {\n        if (node === point.node) {\n          node = splitNode(point, options);\n        }\n\n        return splitNode({\n          node: parent,\n          offset: node ? dom.position(node) : nodeLength(parent)\n        }, options);\n      });\n    };\n\n    /**\n     * split point\n     *\n     * @param {Point} point\n     * @param {Boolean} isInline\n     * @return {Object}\n     */\n    var splitPoint = function (point, isInline) {\n      // find splitRoot, container\n      //  - inline: splitRoot is a child of paragraph\n      //  - block: splitRoot is a child of bodyContainer\n      var pred = isInline ? isPara : isBodyContainer;\n      var ancestors = listAncestor(point.node, pred);\n      var topAncestor = list.last(ancestors) || point.node;\n\n      var splitRoot, container;\n      if (pred(topAncestor)) {\n        splitRoot = ancestors[ancestors.length - 2];\n        container = topAncestor;\n      } else {\n        splitRoot = topAncestor;\n        container = splitRoot.parentNode;\n      }\n\n      // if splitRoot is exists, split with splitTree\n      var pivot = splitRoot && splitTree(splitRoot, point, {\n        isSkipPaddingBlankHTML: isInline,\n        isNotSplitEdgePoint: isInline\n      });\n\n      // if container is point.node, find pivot with point.offset\n      if (!pivot && container === point.node) {\n        pivot = point.node.childNodes[point.offset];\n      }\n\n      return {\n        rightNode: pivot,\n        container: container\n      };\n    };\n\n    var create = function (nodeName) {\n      return document.createElement(nodeName);\n    };\n\n    var createText = function (text) {\n      return document.createTextNode(text);\n    };\n\n    /**\n     * @method remove\n     *\n     * remove node, (isRemoveChild: remove child or not)\n     *\n     * @param {Node} node\n     * @param {Boolean} isRemoveChild\n     */\n    var remove = function (node, isRemoveChild) {\n      if (!node || !node.parentNode) { return; }\n      if (node.removeNode) { return node.removeNode(isRemoveChild); }\n\n      var parent = node.parentNode;\n      if (!isRemoveChild) {\n        var nodes = [];\n        var i, len;\n        for (i = 0, len = node.childNodes.length; i < len; i++) {\n          nodes.push(node.childNodes[i]);\n        }\n\n        for (i = 0, len = nodes.length; i < len; i++) {\n          parent.insertBefore(nodes[i], node);\n        }\n      }\n\n      parent.removeChild(node);\n    };\n\n    /**\n     * @method removeWhile\n     *\n     * @param {Node} node\n     * @param {Function} pred\n     */\n    var removeWhile = function (node, pred) {\n      while (node) {\n        if (isEditable(node) || !pred(node)) {\n          break;\n        }\n\n        var parent = node.parentNode;\n        remove(node);\n        node = parent;\n      }\n    };\n\n    /**\n     * @method replace\n     *\n     * replace node with provided nodeName\n     *\n     * @param {Node} node\n     * @param {String} nodeName\n     * @return {Node} - new node\n     */\n    var replace = function (node, nodeName) {\n      if (node.nodeName.toUpperCase() === nodeName.toUpperCase()) {\n        return node;\n      }\n\n      var newNode = create(nodeName);\n\n      if (node.style.cssText) {\n        newNode.style.cssText = node.style.cssText;\n      }\n\n      appendChildNodes(newNode, list.from(node.childNodes));\n      insertAfter(newNode, node);\n      remove(node);\n\n      return newNode;\n    };\n\n    var isTextarea = makePredByNodeName('TEXTAREA');\n\n    /**\n     * @param {jQuery} $node\n     * @param {Boolean} [stripLinebreaks] - default: false\n     */\n    var value = function ($node, stripLinebreaks) {\n      var val = isTextarea($node[0]) ? $node.val() : $node.html();\n      if (stripLinebreaks) {\n        return val.replace(/[\\n\\r]/g, '');\n      }\n      return val;\n    };\n\n    /**\n     * @method html\n     *\n     * get the HTML contents of node\n     *\n     * @param {jQuery} $node\n     * @param {Boolean} [isNewlineOnBlock]\n     */\n    var html = function ($node, isNewlineOnBlock) {\n      var markup = value($node);\n\n      if (isNewlineOnBlock) {\n        var regexTag = /<(\\/?)(\\b(?!!)[^>\\s]*)(.*?)(\\s*\\/?>)/g;\n        markup = markup.replace(regexTag, function (match, endSlash, name) {\n          name = name.toUpperCase();\n          var isEndOfInlineContainer = /^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(name) &&\n                                       !!endSlash;\n          var isBlockNode = /^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(name);\n\n          return match + ((isEndOfInlineContainer || isBlockNode) ? '\\n' : '');\n        });\n        markup = $.trim(markup);\n      }\n\n      return markup;\n    };\n\n    return {\n      /** @property {String} NBSP_CHAR */\n      NBSP_CHAR: NBSP_CHAR,\n      /** @property {String} ZERO_WIDTH_NBSP_CHAR */\n      ZERO_WIDTH_NBSP_CHAR: ZERO_WIDTH_NBSP_CHAR,\n      /** @property {String} blank */\n      blank: blankHTML,\n      /** @property {String} emptyPara */\n      emptyPara: '<p>' + blankHTML + '</p>',\n      makePredByNodeName: makePredByNodeName,\n      isEditable: isEditable,\n      isControlSizing: isControlSizing,\n      buildLayoutInfo: buildLayoutInfo,\n      makeLayoutInfo: makeLayoutInfo,\n      isText: isText,\n      isVoid: isVoid,\n      isPara: isPara,\n      isPurePara: isPurePara,\n      isInline: isInline,\n      isBlock: func.not(isInline),\n      isBodyInline: isBodyInline,\n      isBody: isBody,\n      isParaInline: isParaInline,\n      isList: isList,\n      isTable: isTable,\n      isCell: isCell,\n      isBlockquote: isBlockquote,\n      isBodyContainer: isBodyContainer,\n      isAnchor: isAnchor,\n      isDiv: makePredByNodeName('DIV'),\n      isLi: isLi,\n      isBR: makePredByNodeName('BR'),\n      isSpan: makePredByNodeName('SPAN'),\n      isB: makePredByNodeName('B'),\n      isU: makePredByNodeName('U'),\n      isS: makePredByNodeName('S'),\n      isI: makePredByNodeName('I'),\n      isImg: makePredByNodeName('IMG'),\n      isTextarea: isTextarea,\n      isEmpty: isEmpty,\n      isEmptyAnchor: func.and(isAnchor, isEmpty),\n      isClosestSibling: isClosestSibling,\n      withClosestSiblings: withClosestSiblings,\n      nodeLength: nodeLength,\n      isLeftEdgePoint: isLeftEdgePoint,\n      isRightEdgePoint: isRightEdgePoint,\n      isEdgePoint: isEdgePoint,\n      isLeftEdgeOf: isLeftEdgeOf,\n      isRightEdgeOf: isRightEdgeOf,\n      prevPoint: prevPoint,\n      nextPoint: nextPoint,\n      isSamePoint: isSamePoint,\n      isVisiblePoint: isVisiblePoint,\n      prevPointUntil: prevPointUntil,\n      nextPointUntil: nextPointUntil,\n      isCharPoint: isCharPoint,\n      walkPoint: walkPoint,\n      ancestor: ancestor,\n      singleChildAncestor: singleChildAncestor,\n      listAncestor: listAncestor,\n      lastAncestor: lastAncestor,\n      listNext: listNext,\n      listPrev: listPrev,\n      listDescendant: listDescendant,\n      commonAncestor: commonAncestor,\n      wrap: wrap,\n      insertAfter: insertAfter,\n      appendChildNodes: appendChildNodes,\n      position: position,\n      hasChildren: hasChildren,\n      makeOffsetPath: makeOffsetPath,\n      fromOffsetPath: fromOffsetPath,\n      splitTree: splitTree,\n      splitPoint: splitPoint,\n      create: create,\n      createText: createText,\n      remove: remove,\n      removeWhile: removeWhile,\n      replace: replace,\n      html: html,\n      value: value\n    };\n  })();\n\n\n  var range = (function () {\n\n    /**\n     * return boundaryPoint from TextRange, inspired by Andy Na's HuskyRange.js\n     *\n     * @param {TextRange} textRange\n     * @param {Boolean} isStart\n     * @return {BoundaryPoint}\n     *\n     * @see http://msdn.microsoft.com/en-us/library/ie/ms535872(v=vs.85).aspx\n     */\n    var textRangeToPoint = function (textRange, isStart) {\n      var container = textRange.parentElement(), offset;\n  \n      var tester = document.body.createTextRange(), prevContainer;\n      var childNodes = list.from(container.childNodes);\n      for (offset = 0; offset < childNodes.length; offset++) {\n        if (dom.isText(childNodes[offset])) {\n          continue;\n        }\n        tester.moveToElementText(childNodes[offset]);\n        if (tester.compareEndPoints('StartToStart', textRange) >= 0) {\n          break;\n        }\n        prevContainer = childNodes[offset];\n      }\n  \n      if (offset !== 0 && dom.isText(childNodes[offset - 1])) {\n        var textRangeStart = document.body.createTextRange(), curTextNode = null;\n        textRangeStart.moveToElementText(prevContainer || container);\n        textRangeStart.collapse(!prevContainer);\n        curTextNode = prevContainer ? prevContainer.nextSibling : container.firstChild;\n  \n        var pointTester = textRange.duplicate();\n        pointTester.setEndPoint('StartToStart', textRangeStart);\n        var textCount = pointTester.text.replace(/[\\r\\n]/g, '').length;\n  \n        while (textCount > curTextNode.nodeValue.length && curTextNode.nextSibling) {\n          textCount -= curTextNode.nodeValue.length;\n          curTextNode = curTextNode.nextSibling;\n        }\n  \n        /* jshint ignore:start */\n        var dummy = curTextNode.nodeValue; // enforce IE to re-reference curTextNode, hack\n        /* jshint ignore:end */\n  \n        if (isStart && curTextNode.nextSibling && dom.isText(curTextNode.nextSibling) &&\n            textCount === curTextNode.nodeValue.length) {\n          textCount -= curTextNode.nodeValue.length;\n          curTextNode = curTextNode.nextSibling;\n        }\n  \n        container = curTextNode;\n        offset = textCount;\n      }\n  \n      return {\n        cont: container,\n        offset: offset\n      };\n    };\n    \n    /**\n     * return TextRange from boundary point (inspired by google closure-library)\n     * @param {BoundaryPoint} point\n     * @return {TextRange}\n     */\n    var pointToTextRange = function (point) {\n      var textRangeInfo = function (container, offset) {\n        var node, isCollapseToStart;\n  \n        if (dom.isText(container)) {\n          var prevTextNodes = dom.listPrev(container, func.not(dom.isText));\n          var prevContainer = list.last(prevTextNodes).previousSibling;\n          node =  prevContainer || container.parentNode;\n          offset += list.sum(list.tail(prevTextNodes), dom.nodeLength);\n          isCollapseToStart = !prevContainer;\n        } else {\n          node = container.childNodes[offset] || container;\n          if (dom.isText(node)) {\n            return textRangeInfo(node, 0);\n          }\n  \n          offset = 0;\n          isCollapseToStart = false;\n        }\n  \n        return {\n          node: node,\n          collapseToStart: isCollapseToStart,\n          offset: offset\n        };\n      };\n  \n      var textRange = document.body.createTextRange();\n      var info = textRangeInfo(point.node, point.offset);\n  \n      textRange.moveToElementText(info.node);\n      textRange.collapse(info.collapseToStart);\n      textRange.moveStart('character', info.offset);\n      return textRange;\n    };\n    \n    /**\n     * Wrapped Range\n     *\n     * @constructor\n     * @param {Node} sc - start container\n     * @param {Number} so - start offset\n     * @param {Node} ec - end container\n     * @param {Number} eo - end offset\n     */\n    var WrappedRange = function (sc, so, ec, eo) {\n      this.sc = sc;\n      this.so = so;\n      this.ec = ec;\n      this.eo = eo;\n  \n      // nativeRange: get nativeRange from sc, so, ec, eo\n      var nativeRange = function () {\n        if (agent.isW3CRangeSupport) {\n          var w3cRange = document.createRange();\n          w3cRange.setStart(sc, so);\n          w3cRange.setEnd(ec, eo);\n\n          return w3cRange;\n        } else {\n          var textRange = pointToTextRange({\n            node: sc,\n            offset: so\n          });\n\n          textRange.setEndPoint('EndToEnd', pointToTextRange({\n            node: ec,\n            offset: eo\n          }));\n\n          return textRange;\n        }\n      };\n\n      this.getPoints = function () {\n        return {\n          sc: sc,\n          so: so,\n          ec: ec,\n          eo: eo\n        };\n      };\n\n      this.getStartPoint = function () {\n        return {\n          node: sc,\n          offset: so\n        };\n      };\n\n      this.getEndPoint = function () {\n        return {\n          node: ec,\n          offset: eo\n        };\n      };\n\n      /**\n       * select update visible range\n       */\n      this.select = function () {\n        var nativeRng = nativeRange();\n        if (agent.isW3CRangeSupport) {\n          var selection = document.getSelection();\n          if (selection.rangeCount > 0) {\n            selection.removeAllRanges();\n          }\n          selection.addRange(nativeRng);\n        } else {\n          nativeRng.select();\n        }\n        \n        return this;\n      };\n\n      /**\n       * @return {WrappedRange}\n       */\n      this.normalize = function () {\n\n        /**\n         * @param {BoundaryPoint} point\n         * @return {BoundaryPoint}\n         */\n        var getVisiblePoint = function (point) {\n          if (!dom.isVisiblePoint(point)) {\n            if (dom.isLeftEdgePoint(point)) {\n              point = dom.nextPointUntil(point, dom.isVisiblePoint);\n            } else {\n              point = dom.prevPointUntil(point, dom.isVisiblePoint);\n            }\n          }\n          return point;\n        };\n\n        var startPoint = getVisiblePoint(this.getStartPoint());\n        var endPoint = getVisiblePoint(this.getEndPoint());\n\n        return new WrappedRange(\n          startPoint.node,\n          startPoint.offset,\n          endPoint.node,\n          endPoint.offset\n        );\n      };\n\n      /**\n       * returns matched nodes on range\n       *\n       * @param {Function} [pred] - predicate function\n       * @param {Object} [options]\n       * @param {Boolean} [options.includeAncestor]\n       * @param {Boolean} [options.fullyContains]\n       * @return {Node[]}\n       */\n      this.nodes = function (pred, options) {\n        pred = pred || func.ok;\n\n        var includeAncestor = options && options.includeAncestor;\n        var fullyContains = options && options.fullyContains;\n\n        // TODO compare points and sort\n        var startPoint = this.getStartPoint();\n        var endPoint = this.getEndPoint();\n\n        var nodes = [];\n        var leftEdgeNodes = [];\n\n        dom.walkPoint(startPoint, endPoint, function (point) {\n          if (dom.isEditable(point.node)) {\n            return;\n          }\n\n          var node;\n          if (fullyContains) {\n            if (dom.isLeftEdgePoint(point)) {\n              leftEdgeNodes.push(point.node);\n            }\n            if (dom.isRightEdgePoint(point) && list.contains(leftEdgeNodes, point.node)) {\n              node = point.node;\n            }\n          } else if (includeAncestor) {\n            node = dom.ancestor(point.node, pred);\n          } else {\n            node = point.node;\n          }\n\n          if (node && pred(node)) {\n            nodes.push(node);\n          }\n        }, true);\n\n        return list.unique(nodes);\n      };\n\n      /**\n       * returns commonAncestor of range\n       * @return {Element} - commonAncestor\n       */\n      this.commonAncestor = function () {\n        return dom.commonAncestor(sc, ec);\n      };\n\n      /**\n       * returns expanded range by pred\n       *\n       * @param {Function} pred - predicate function\n       * @return {WrappedRange}\n       */\n      this.expand = function (pred) {\n        var startAncestor = dom.ancestor(sc, pred);\n        var endAncestor = dom.ancestor(ec, pred);\n\n        if (!startAncestor && !endAncestor) {\n          return new WrappedRange(sc, so, ec, eo);\n        }\n\n        var boundaryPoints = this.getPoints();\n\n        if (startAncestor) {\n          boundaryPoints.sc = startAncestor;\n          boundaryPoints.so = 0;\n        }\n\n        if (endAncestor) {\n          boundaryPoints.ec = endAncestor;\n          boundaryPoints.eo = dom.nodeLength(endAncestor);\n        }\n\n        return new WrappedRange(\n          boundaryPoints.sc,\n          boundaryPoints.so,\n          boundaryPoints.ec,\n          boundaryPoints.eo\n        );\n      };\n\n      /**\n       * @param {Boolean} isCollapseToStart\n       * @return {WrappedRange}\n       */\n      this.collapse = function (isCollapseToStart) {\n        if (isCollapseToStart) {\n          return new WrappedRange(sc, so, sc, so);\n        } else {\n          return new WrappedRange(ec, eo, ec, eo);\n        }\n      };\n\n      /**\n       * splitText on range\n       */\n      this.splitText = function () {\n        var isSameContainer = sc === ec;\n        var boundaryPoints = this.getPoints();\n\n        if (dom.isText(ec) && !dom.isEdgePoint(this.getEndPoint())) {\n          ec.splitText(eo);\n        }\n\n        if (dom.isText(sc) && !dom.isEdgePoint(this.getStartPoint())) {\n          boundaryPoints.sc = sc.splitText(so);\n          boundaryPoints.so = 0;\n\n          if (isSameContainer) {\n            boundaryPoints.ec = boundaryPoints.sc;\n            boundaryPoints.eo = eo - so;\n          }\n        }\n\n        return new WrappedRange(\n          boundaryPoints.sc,\n          boundaryPoints.so,\n          boundaryPoints.ec,\n          boundaryPoints.eo\n        );\n      };\n\n      /**\n       * delete contents on range\n       * @return {WrappedRange}\n       */\n      this.deleteContents = function () {\n        if (this.isCollapsed()) {\n          return this;\n        }\n\n        var rng = this.splitText();\n        var nodes = rng.nodes(null, {\n          fullyContains: true\n        });\n\n        // find new cursor point\n        var point = dom.prevPointUntil(rng.getStartPoint(), function (point) {\n          return !list.contains(nodes, point.node);\n        });\n\n        var emptyParents = [];\n        $.each(nodes, function (idx, node) {\n          // find empty parents\n          var parent = node.parentNode;\n          if (point.node !== parent && dom.nodeLength(parent) === 1) {\n            emptyParents.push(parent);\n          }\n          dom.remove(node, false);\n        });\n\n        // remove empty parents\n        $.each(emptyParents, function (idx, node) {\n          dom.remove(node, false);\n        });\n\n        return new WrappedRange(\n          point.node,\n          point.offset,\n          point.node,\n          point.offset\n        ).normalize();\n      };\n      \n      /**\n       * makeIsOn: return isOn(pred) function\n       */\n      var makeIsOn = function (pred) {\n        return function () {\n          var ancestor = dom.ancestor(sc, pred);\n          return !!ancestor && (ancestor === dom.ancestor(ec, pred));\n        };\n      };\n  \n      // isOnEditable: judge whether range is on editable or not\n      this.isOnEditable = makeIsOn(dom.isEditable);\n      // isOnList: judge whether range is on list node or not\n      this.isOnList = makeIsOn(dom.isList);\n      // isOnAnchor: judge whether range is on anchor node or not\n      this.isOnAnchor = makeIsOn(dom.isAnchor);\n      // isOnAnchor: judge whether range is on cell node or not\n      this.isOnCell = makeIsOn(dom.isCell);\n\n      /**\n       * @param {Function} pred\n       * @return {Boolean}\n       */\n      this.isLeftEdgeOf = function (pred) {\n        if (!dom.isLeftEdgePoint(this.getStartPoint())) {\n          return false;\n        }\n\n        var node = dom.ancestor(this.sc, pred);\n        return node && dom.isLeftEdgeOf(this.sc, node);\n      };\n\n      /**\n       * returns whether range was collapsed or not\n       */\n      this.isCollapsed = function () {\n        return sc === ec && so === eo;\n      };\n\n      /**\n       * wrap inline nodes which children of body with paragraph\n       *\n       * @return {WrappedRange}\n       */\n      this.wrapBodyInlineWithPara = function () {\n        if (dom.isBodyContainer(sc) && dom.isEmpty(sc)) {\n          sc.innerHTML = dom.emptyPara;\n          return new WrappedRange(sc.firstChild, 0, sc.firstChild, 0);\n        }\n\n        if (dom.isParaInline(sc) || dom.isPara(sc)) {\n          return this.normalize();\n        }\n\n        // find inline top ancestor\n        var topAncestor;\n        if (dom.isInline(sc)) {\n          var ancestors = dom.listAncestor(sc, func.not(dom.isInline));\n          topAncestor = list.last(ancestors);\n          if (!dom.isInline(topAncestor)) {\n            topAncestor = ancestors[ancestors.length - 2] || sc.childNodes[so];\n          }\n        } else {\n          topAncestor = sc.childNodes[so > 0 ? so - 1 : 0];\n        }\n\n        // siblings not in paragraph\n        var inlineSiblings = dom.listPrev(topAncestor, dom.isParaInline).reverse();\n        inlineSiblings = inlineSiblings.concat(dom.listNext(topAncestor.nextSibling, dom.isParaInline));\n\n        // wrap with paragraph\n        if (inlineSiblings.length) {\n          var para = dom.wrap(list.head(inlineSiblings), 'p');\n          dom.appendChildNodes(para, list.tail(inlineSiblings));\n        }\n\n        return this.normalize();\n      };\n\n      /**\n       * insert node at current cursor\n       *\n       * @param {Node} node\n       * @return {Node}\n       */\n      this.insertNode = function (node) {\n        var rng = this.wrapBodyInlineWithPara().deleteContents();\n        var info = dom.splitPoint(rng.getStartPoint(), dom.isInline(node));\n\n        if (info.rightNode) {\n          info.rightNode.parentNode.insertBefore(node, info.rightNode);\n        } else {\n          info.container.appendChild(node);\n        }\n\n        return node;\n      };\n\n      /**\n       * insert html at current cursor\n       */\n      this.pasteHTML = function (markup) {\n        var self = this;\n        var contentsContainer = $('<div></div>').html(markup)[0];\n        var childNodes = list.from(contentsContainer.childNodes);\n\n        this.wrapBodyInlineWithPara().deleteContents();\n\n        return $.map(childNodes.reverse(), function (childNode) {\n          return self.insertNode(childNode);\n        }).reverse();\n      };\n  \n      /**\n       * returns text in range\n       *\n       * @return {String}\n       */\n      this.toString = function () {\n        var nativeRng = nativeRange();\n        return agent.isW3CRangeSupport ? nativeRng.toString() : nativeRng.text;\n      };\n\n      /**\n       * returns range for word before cursor\n       *\n       * @param {Boolean} [findAfter] - find after cursor, default: false\n       * @return {WrappedRange}\n       */\n      this.getWordRange = function (findAfter) {\n        var endPoint = this.getEndPoint();\n\n        if (!dom.isCharPoint(endPoint)) {\n          return this;\n        }\n\n        var startPoint = dom.prevPointUntil(endPoint, function (point) {\n          return !dom.isCharPoint(point);\n        });\n\n        if (findAfter) {\n          endPoint = dom.nextPointUntil(endPoint, function (point) {\n            return !dom.isCharPoint(point);\n          });\n        }\n\n        return new WrappedRange(\n          startPoint.node,\n          startPoint.offset,\n          endPoint.node,\n          endPoint.offset\n        );\n      };\n  \n      /**\n       * create offsetPath bookmark\n       *\n       * @param {Node} editable\n       */\n      this.bookmark = function (editable) {\n        return {\n          s: {\n            path: dom.makeOffsetPath(editable, sc),\n            offset: so\n          },\n          e: {\n            path: dom.makeOffsetPath(editable, ec),\n            offset: eo\n          }\n        };\n      };\n\n      /**\n       * create offsetPath bookmark base on paragraph\n       *\n       * @param {Node[]} paras\n       */\n      this.paraBookmark = function (paras) {\n        return {\n          s: {\n            path: list.tail(dom.makeOffsetPath(list.head(paras), sc)),\n            offset: so\n          },\n          e: {\n            path: list.tail(dom.makeOffsetPath(list.last(paras), ec)),\n            offset: eo\n          }\n        };\n      };\n\n      /**\n       * getClientRects\n       * @return {Rect[]}\n       */\n      this.getClientRects = function () {\n        var nativeRng = nativeRange();\n        return nativeRng.getClientRects();\n      };\n    };\n\n  /**\n   * @class core.range\n   *\n   * Data structure\n   *  * BoundaryPoint: a point of dom tree\n   *  * BoundaryPoints: two boundaryPoints corresponding to the start and the end of the Range\n   *\n   * See to http://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html#Level-2-Range-Position\n   *\n   * @singleton\n   * @alternateClassName range\n   */\n    return {\n      /**\n       * @method\n       * \n       * create Range Object From arguments or Browser Selection\n       *\n       * @param {Node} sc - start container\n       * @param {Number} so - start offset\n       * @param {Node} ec - end container\n       * @param {Number} eo - end offset\n       * @return {WrappedRange}\n       */\n      create : function (sc, so, ec, eo) {\n        if (!arguments.length) { // from Browser Selection\n          if (agent.isW3CRangeSupport) {\n            var selection = document.getSelection();\n            if (selection.rangeCount === 0) {\n              return null;\n            } else if (dom.isBody(selection.anchorNode)) {\n              // Firefox: returns entire body as range on initialization. We won't never need it.\n              return null;\n            }\n  \n            var nativeRng = selection.getRangeAt(0);\n            sc = nativeRng.startContainer;\n            so = nativeRng.startOffset;\n            ec = nativeRng.endContainer;\n            eo = nativeRng.endOffset;\n          } else { // IE8: TextRange\n            var textRange = document.selection.createRange();\n            var textRangeEnd = textRange.duplicate();\n            textRangeEnd.collapse(false);\n            var textRangeStart = textRange;\n            textRangeStart.collapse(true);\n  \n            var startPoint = textRangeToPoint(textRangeStart, true),\n            endPoint = textRangeToPoint(textRangeEnd, false);\n\n            // same visible point case: range was collapsed.\n            if (dom.isText(startPoint.node) && dom.isLeftEdgePoint(startPoint) &&\n                dom.isTextNode(endPoint.node) && dom.isRightEdgePoint(endPoint) &&\n                endPoint.node.nextSibling === startPoint.node) {\n              startPoint = endPoint;\n            }\n\n            sc = startPoint.cont;\n            so = startPoint.offset;\n            ec = endPoint.cont;\n            eo = endPoint.offset;\n          }\n        } else if (arguments.length === 2) { //collapsed\n          ec = sc;\n          eo = so;\n        }\n        return new WrappedRange(sc, so, ec, eo);\n      },\n\n      /**\n       * @method \n       * \n       * create WrappedRange from node\n       *\n       * @param {Node} node\n       * @return {WrappedRange}\n       */\n      createFromNode: function (node) {\n        var sc = node;\n        var so = 0;\n        var ec = node;\n        var eo = dom.nodeLength(ec);\n\n        // browsers can't target a picture or void node\n        if (dom.isVoid(sc)) {\n          so = dom.listPrev(sc).length - 1;\n          sc = sc.parentNode;\n        }\n        if (dom.isBR(ec)) {\n          eo = dom.listPrev(ec).length - 1;\n          ec = ec.parentNode;\n        } else if (dom.isVoid(ec)) {\n          eo = dom.listPrev(ec).length;\n          ec = ec.parentNode;\n        }\n\n        return this.create(sc, so, ec, eo);\n      },\n\n      /**\n       * @method \n       * \n       * create WrappedRange from bookmark\n       *\n       * @param {Node} editable\n       * @param {Object} bookmark\n       * @return {WrappedRange}\n       */\n      createFromBookmark : function (editable, bookmark) {\n        var sc = dom.fromOffsetPath(editable, bookmark.s.path);\n        var so = bookmark.s.offset;\n        var ec = dom.fromOffsetPath(editable, bookmark.e.path);\n        var eo = bookmark.e.offset;\n        return new WrappedRange(sc, so, ec, eo);\n      },\n\n      /**\n       * @method \n       *\n       * create WrappedRange from paraBookmark\n       *\n       * @param {Object} bookmark\n       * @param {Node[]} paras\n       * @return {WrappedRange}\n       */\n      createFromParaBookmark: function (bookmark, paras) {\n        var so = bookmark.s.offset;\n        var eo = bookmark.e.offset;\n        var sc = dom.fromOffsetPath(list.head(paras), bookmark.s.path);\n        var ec = dom.fromOffsetPath(list.last(paras), bookmark.e.path);\n\n        return new WrappedRange(sc, so, ec, eo);\n      }\n    };\n  })();\n\n  /**\n   * @class defaults \n   * \n   * @singleton\n   */\n  var defaults = {\n    /** @property */\n    version: '0.6.6',\n\n    /**\n     * \n     * for event options, reference to EventHandler.attach\n     * \n     * @property {Object} options \n     * @property {String/Number} [options.width=null] set editor width \n     * @property {String/Number} [options.height=null] set editor height, ex) 300\n     * @property {String/Number} options.minHeight set minimum height of editor\n     * @property {String/Number} options.maxHeight\n     * @property {String/Number} options.focus \n     * @property {Number} options.tabsize \n     * @property {Boolean} options.styleWithSpan\n     * @property {Object} options.codemirror\n     * @property {Object} [options.codemirror.mode='text/html']\n     * @property {Object} [options.codemirror.htmlMode=true]\n     * @property {Object} [options.codemirror.lineNumbers=true]\n     * @property {String} [options.lang=en-US] language 'en-US', 'ko-KR', ...\n     * @property {String} [options.direction=null] text direction, ex) 'rtl'\n     * @property {Array} [options.toolbar]\n     * @property {Boolean} [options.airMode=false]\n     * @property {Array} [options.airPopover]\n     * @property {Fucntion} [options.onInit] initialize\n     * @property {Fucntion} [options.onsubmit]\n     */\n    options: {\n      width: null,                  // set editor width\n      height: null,                 // set editor height, ex) 300\n\n      minHeight: null,              // set minimum height of editor\n      maxHeight: null,              // set maximum height of editor\n\n      focus: false,                 // set focus to editable area after initializing summernote\n\n      tabsize: 4,                   // size of tab ex) 2 or 4\n      styleWithSpan: true,          // style with span (Chrome and FF only)\n\n      disableLinkTarget: false,     // hide link Target Checkbox\n      disableDragAndDrop: false,    // disable drag and drop event\n      disableResizeEditor: false,   // disable resizing editor\n\n      shortcuts: true,              // enable keyboard shortcuts\n\n      placeholder: false,           // enable placeholder text\n      prettifyHtml: true,           // enable prettifying html while toggling codeview\n\n      iconPrefix: 'fa fa-',         // prefix for css icon classes\n\n      codemirror: {                 // codemirror options\n        mode: 'text/html',\n        htmlMode: true,\n        lineNumbers: true\n      },\n\n      // language\n      lang: 'en-US',                // language 'en-US', 'ko-KR', ...\n      direction: null,              // text direction, ex) 'rtl'\n\n      // toolbar\n      toolbar: [\n        ['style', ['style']],\n        ['font', ['bold', 'italic', 'underline', 'clear']],\n        // ['font', ['bold', 'italic', 'underline', 'strikethrough', 'superscript', 'subscript', 'clear']],\n        ['fontname', ['fontname']],\n        // ['fontsize', ['fontsize']],\n        ['color', ['color']],\n        ['para', ['ul', 'ol', 'paragraph']],\n        ['height', ['height']],\n        ['table', ['table']],\n        ['insert', ['link', 'picture', 'hr']],\n        ['view', ['fullscreen', 'codeview']],\n        ['help', ['help']]\n      ],\n\n      // air mode: inline editor\n      airMode: false,\n      // airPopover: [\n      //   ['style', ['style']],\n      //   ['font', ['bold', 'italic', 'underline', 'clear']],\n      //   ['fontname', ['fontname']],\n      //   ['color', ['color']],\n      //   ['para', ['ul', 'ol', 'paragraph']],\n      //   ['height', ['height']],\n      //   ['table', ['table']],\n      //   ['insert', ['link', 'picture']],\n      //   ['help', ['help']]\n      // ],\n      airPopover: [\n        ['color', ['color']],\n        ['font', ['bold', 'underline', 'clear']],\n        ['para', ['ul', 'paragraph']],\n        ['table', ['table']],\n        ['insert', ['link', 'picture']]\n      ],\n\n      // style tag\n      styleTags: ['p', 'blockquote', 'pre', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\n\n      // default fontName\n      defaultFontName: 'Helvetica Neue',\n\n      // fontName\n      fontNames: [\n        'Arial', 'Arial Black', 'Comic Sans MS', 'Courier New',\n        'Helvetica Neue', 'Helvetica', 'Impact', 'Lucida Grande',\n        'Tahoma', 'Times New Roman', 'Verdana'\n      ],\n      fontNamesIgnoreCheck: [],\n\n      fontSizes: ['8', '9', '10', '11', '12', '14', '18', '24', '36'],\n\n      // pallete colors(n x n)\n      colors: [\n        ['#000000', '#424242', '#636363', '#9C9C94', '#CEC6CE', '#EFEFEF', '#F7F7F7', '#FFFFFF'],\n        ['#FF0000', '#FF9C00', '#FFFF00', '#00FF00', '#00FFFF', '#0000FF', '#9C00FF', '#FF00FF'],\n        ['#F7C6CE', '#FFE7CE', '#FFEFC6', '#D6EFD6', '#CEDEE7', '#CEE7F7', '#D6D6E7', '#E7D6DE'],\n        ['#E79C9C', '#FFC69C', '#FFE79C', '#B5D6A5', '#A5C6CE', '#9CC6EF', '#B5A5D6', '#D6A5BD'],\n        ['#E76363', '#F7AD6B', '#FFD663', '#94BD7B', '#73A5AD', '#6BADDE', '#8C7BC6', '#C67BA5'],\n        ['#CE0000', '#E79439', '#EFC631', '#6BA54A', '#4A7B8C', '#3984C6', '#634AA5', '#A54A7B'],\n        ['#9C0000', '#B56308', '#BD9400', '#397B21', '#104A5A', '#085294', '#311873', '#731842'],\n        ['#630000', '#7B3900', '#846300', '#295218', '#083139', '#003163', '#21104A', '#4A1031']\n      ],\n\n      // lineHeight\n      lineHeights: ['1.0', '1.2', '1.4', '1.5', '1.6', '1.8', '2.0', '3.0'],\n\n      // insertTable max size\n      insertTableMaxSize: {\n        col: 10,\n        row: 10\n      },\n\n      // image\n      maximumImageFileSize: null, // size in bytes, null = no limit\n\n      // callbacks\n      oninit: null,             // initialize\n      onfocus: null,            // editable has focus\n      onblur: null,             // editable out of focus\n      onenter: null,            // enter key pressed\n      onkeyup: null,            // keyup\n      onkeydown: null,          // keydown\n      onImageUpload: null,      // imageUpload\n      onImageUploadError: null, // imageUploadError\n      onMediaDelete: null,      // media delete\n      onToolbarClick: null,\n      onsubmit: null,\n\n      /**\n       * manipulate link address when user create link\n       * @param {String} sLinkUrl\n       * @return {String}\n       */\n      onCreateLink: function (sLinkUrl) {\n        if (sLinkUrl.indexOf('@') !== -1 && sLinkUrl.indexOf(':') === -1) {\n          sLinkUrl =  'mailto:' + sLinkUrl;\n        } else if (sLinkUrl.indexOf('://') === -1) {\n          sLinkUrl = 'http://' + sLinkUrl;\n        }\n\n        return sLinkUrl;\n      },\n\n      keyMap: {\n        pc: {\n          'ENTER': 'insertParagraph',\n          'CTRL+Z': 'undo',\n          'CTRL+Y': 'redo',\n          'TAB': 'tab',\n          'SHIFT+TAB': 'untab',\n          'CTRL+B': 'bold',\n          'CTRL+I': 'italic',\n          'CTRL+U': 'underline',\n          'CTRL+SHIFT+S': 'strikethrough',\n          'CTRL+BACKSLASH': 'removeFormat',\n          'CTRL+SHIFT+L': 'justifyLeft',\n          'CTRL+SHIFT+E': 'justifyCenter',\n          'CTRL+SHIFT+R': 'justifyRight',\n          'CTRL+SHIFT+J': 'justifyFull',\n          'CTRL+SHIFT+NUM7': 'insertUnorderedList',\n          'CTRL+SHIFT+NUM8': 'insertOrderedList',\n          'CTRL+LEFTBRACKET': 'outdent',\n          'CTRL+RIGHTBRACKET': 'indent',\n          'CTRL+NUM0': 'formatPara',\n          'CTRL+NUM1': 'formatH1',\n          'CTRL+NUM2': 'formatH2',\n          'CTRL+NUM3': 'formatH3',\n          'CTRL+NUM4': 'formatH4',\n          'CTRL+NUM5': 'formatH5',\n          'CTRL+NUM6': 'formatH6',\n          'CTRL+ENTER': 'insertHorizontalRule',\n          'CTRL+K': 'showLinkDialog'\n        },\n\n        mac: {\n          'ENTER': 'insertParagraph',\n          'CMD+Z': 'undo',\n          'CMD+SHIFT+Z': 'redo',\n          'TAB': 'tab',\n          'SHIFT+TAB': 'untab',\n          'CMD+B': 'bold',\n          'CMD+I': 'italic',\n          'CMD+U': 'underline',\n          'CMD+SHIFT+S': 'strikethrough',\n          'CMD+BACKSLASH': 'removeFormat',\n          'CMD+SHIFT+L': 'justifyLeft',\n          'CMD+SHIFT+E': 'justifyCenter',\n          'CMD+SHIFT+R': 'justifyRight',\n          'CMD+SHIFT+J': 'justifyFull',\n          'CMD+SHIFT+NUM7': 'insertUnorderedList',\n          'CMD+SHIFT+NUM8': 'insertOrderedList',\n          'CMD+LEFTBRACKET': 'outdent',\n          'CMD+RIGHTBRACKET': 'indent',\n          'CMD+NUM0': 'formatPara',\n          'CMD+NUM1': 'formatH1',\n          'CMD+NUM2': 'formatH2',\n          'CMD+NUM3': 'formatH3',\n          'CMD+NUM4': 'formatH4',\n          'CMD+NUM5': 'formatH5',\n          'CMD+NUM6': 'formatH6',\n          'CMD+ENTER': 'insertHorizontalRule',\n          'CMD+K': 'showLinkDialog'\n        }\n      }\n    },\n\n    // default language: en-US\n    lang: {\n      'en-US': {\n        font: {\n          bold: 'Bold',\n          italic: 'Italic',\n          underline: 'Underline',\n          clear: 'Remove Font Style',\n          height: 'Line Height',\n          name: 'Font Family',\n          strikethrough: 'Strikethrough',\n          subscript: 'Subscript',\n          superscript: 'Superscript',\n          size: 'Font Size'\n        },\n        image: {\n          image: 'Picture',\n          insert: 'Insert Image',\n          resizeFull: 'Resize Full',\n          resizeHalf: 'Resize Half',\n          resizeQuarter: 'Resize Quarter',\n          floatLeft: 'Float Left',\n          floatRight: 'Float Right',\n          floatNone: 'Float None',\n          shapeRounded: 'Shape: Rounded',\n          shapeCircle: 'Shape: Circle',\n          shapeThumbnail: 'Shape: Thumbnail',\n          shapeNone: 'Shape: None',\n          dragImageHere: 'Drag image or text here',\n          dropImage: 'Drop image or Text',\n          selectFromFiles: 'Select from files',\n          maximumFileSize: 'Maximum file size',\n          maximumFileSizeError: 'Maximum file size exceeded.',\n          url: 'Image URL',\n          remove: 'Remove Image'\n        },\n        link: {\n          link: 'Link',\n          insert: 'Insert Link',\n          unlink: 'Unlink',\n          edit: 'Edit',\n          textToDisplay: 'Text to display',\n          url: 'To what URL should this link go?',\n          openInNewWindow: 'Open in new window'\n        },\n        table: {\n          table: 'Table'\n        },\n        hr: {\n          insert: 'Insert Horizontal Rule'\n        },\n        style: {\n          style: 'Style',\n          normal: 'Normal',\n          blockquote: 'Quote',\n          pre: 'Code',\n          h1: 'Header 1',\n          h2: 'Header 2',\n          h3: 'Header 3',\n          h4: 'Header 4',\n          h5: 'Header 5',\n          h6: 'Header 6'\n        },\n        lists: {\n          unordered: 'Unordered list',\n          ordered: 'Ordered list'\n        },\n        options: {\n          help: 'Help',\n          fullscreen: 'Full Screen',\n          codeview: 'Code View'\n        },\n        paragraph: {\n          paragraph: 'Paragraph',\n          outdent: 'Outdent',\n          indent: 'Indent',\n          left: 'Align left',\n          center: 'Align center',\n          right: 'Align right',\n          justify: 'Justify full'\n        },\n        color: {\n          recent: 'Recent Color',\n          more: 'More Color',\n          background: 'Background Color',\n          foreground: 'Foreground Color',\n          transparent: 'Transparent',\n          setTransparent: 'Set transparent',\n          reset: 'Reset',\n          resetToDefault: 'Reset to default'\n        },\n        shortcut: {\n          shortcuts: 'Keyboard shortcuts',\n          close: 'Close',\n          textFormatting: 'Text formatting',\n          action: 'Action',\n          paragraphFormatting: 'Paragraph formatting',\n          documentStyle: 'Document Style',\n          extraKeys: 'Extra keys'\n        },\n        history: {\n          undo: 'Undo',\n          redo: 'Redo'\n        }\n      }\n    }\n  };\n\n  /**\n   * @class core.async\n   *\n   * Async functions which returns `Promise`\n   *\n   * @singleton\n   * @alternateClassName async\n   */\n  var async = (function () {\n    /**\n     * @method readFileAsDataURL\n     *\n     * read contents of file as representing URL\n     *\n     * @param {File} file\n     * @return {Promise} - then: sDataUrl\n     */\n    var readFileAsDataURL = function (file) {\n      return $.Deferred(function (deferred) {\n        $.extend(new FileReader(), {\n          onload: function (e) {\n            var sDataURL = e.target.result;\n            deferred.resolve(sDataURL);\n          },\n          onerror: function () {\n            deferred.reject(this);\n          }\n        }).readAsDataURL(file);\n      }).promise();\n    };\n  \n    /**\n     * @method createImage\n     *\n     * create `<image>` from url string\n     *\n     * @param {String} sUrl\n     * @param {String} filename\n     * @return {Promise} - then: $image\n     */\n    var createImage = function (sUrl, filename) {\n      return $.Deferred(function (deferred) {\n        var $img = $('<img>');\n\n        $img.one('load', function () {\n          $img.off('error abort');\n          deferred.resolve($img);\n        }).one('error abort', function () {\n          $img.off('load').detach();\n          deferred.reject($img);\n        }).css({\n          display: 'none'\n        }).appendTo(document.body).attr({\n          'src': sUrl,\n          'data-filename': filename\n        });\n      }).promise();\n    };\n\n    return {\n      readFileAsDataURL: readFileAsDataURL,\n      createImage: createImage\n    };\n  })();\n\n  /**\n   * @class core.key\n   *\n   * Object for keycodes.\n   *\n   * @singleton\n   * @alternateClassName key\n   */\n  var key = (function () {\n    var keyMap = {\n      'BACKSPACE': 8,\n      'TAB': 9,\n      'ENTER': 13,\n      'SPACE': 32,\n\n      // Number: 0-9\n      'NUM0': 48,\n      'NUM1': 49,\n      'NUM2': 50,\n      'NUM3': 51,\n      'NUM4': 52,\n      'NUM5': 53,\n      'NUM6': 54,\n      'NUM7': 55,\n      'NUM8': 56,\n\n      // Alphabet: a-z\n      'B': 66,\n      'E': 69,\n      'I': 73,\n      'J': 74,\n      'K': 75,\n      'L': 76,\n      'R': 82,\n      'S': 83,\n      'U': 85,\n      'Y': 89,\n      'Z': 90,\n\n      'SLASH': 191,\n      'LEFTBRACKET': 219,\n      'BACKSLASH': 220,\n      'RIGHTBRACKET': 221\n    };\n\n    return {\n      /**\n       * @method isEdit\n       *\n       * @param {Number} keyCode\n       * @return {Boolean}\n       */\n      isEdit: function (keyCode) {\n        return list.contains([8, 9, 13, 32], keyCode);\n      },\n      /**\n       * @property {Object} nameFromCode\n       * @property {String} nameFromCode.8 \"BACKSPACE\"\n       */\n      nameFromCode: func.invertObject(keyMap),\n      code: keyMap\n    };\n  })();\n\n  /**\n   * @class editing.History\n   *\n   * Editor History\n   *\n   */\n  var History = function ($editable) {\n    var stack = [], stackOffset = -1;\n    var editable = $editable[0];\n\n    var makeSnapshot = function () {\n      var rng = range.create();\n      var emptyBookmark = {s: {path: [], offset: 0}, e: {path: [], offset: 0}};\n\n      return {\n        contents: $editable.html(),\n        bookmark: (rng ? rng.bookmark(editable) : emptyBookmark)\n      };\n    };\n\n    var applySnapshot = function (snapshot) {\n      if (snapshot.contents !== null) {\n        $editable.html(snapshot.contents);\n      }\n      if (snapshot.bookmark !== null) {\n        range.createFromBookmark(editable, snapshot.bookmark).select();\n      }\n    };\n\n    /**\n     * undo\n     */\n    this.undo = function () {\n      if (0 < stackOffset) {\n        stackOffset--;\n        applySnapshot(stack[stackOffset]);\n      }\n    };\n\n    /**\n     * redo\n     */\n    this.redo = function () {\n      if (stack.length - 1 > stackOffset) {\n        stackOffset++;\n        applySnapshot(stack[stackOffset]);\n      }\n    };\n\n    /**\n     * recorded undo\n     */\n    this.recordUndo = function () {\n      stackOffset++;\n\n      // Wash out stack after stackOffset\n      if (stack.length > stackOffset) {\n        stack = stack.slice(0, stackOffset);\n      }\n\n      // Create new snapshot and push it to the end\n      stack.push(makeSnapshot());\n    };\n\n    // Create first undo stack\n    this.recordUndo();\n  };\n\n  /**\n   * @class editing.Style\n   *\n   * Style\n   *\n   */\n  var Style = function () {\n    /**\n     * @method jQueryCSS\n     *\n     * [workaround] for old jQuery\n     * passing an array of style properties to .css()\n     * will result in an object of property-value pairs.\n     * (compability with version < 1.9)\n     *\n     * @private\n     * @param  {jQuery} $obj\n     * @param  {Array} propertyNames - An array of one or more CSS properties.\n     * @return {Object}\n     */\n    var jQueryCSS = function ($obj, propertyNames) {\n      if (agent.jqueryVersion < 1.9) {\n        var result = {};\n        $.each(propertyNames, function (idx, propertyName) {\n          result[propertyName] = $obj.css(propertyName);\n        });\n        return result;\n      }\n      return $obj.css.call($obj, propertyNames);\n    };\n\n    /**\n     * paragraph level style\n     *\n     * @param {WrappedRange} rng\n     * @param {Object} styleInfo\n     */\n    this.stylePara = function (rng, styleInfo) {\n      $.each(rng.nodes(dom.isPara, {\n        includeAncestor: true\n      }), function (idx, para) {\n        $(para).css(styleInfo);\n      });\n    };\n\n    /**\n     * insert and returns styleNodes on range.\n     *\n     * @param {WrappedRange} rng\n     * @param {Object} [options] - options for styleNodes\n     * @param {String} [options.nodeName] - default: `SPAN`\n     * @param {Boolean} [options.expandClosestSibling] - default: `false`\n     * @param {Boolean} [options.onlyPartialContains] - default: `false`\n     * @return {Node[]}\n     */\n    this.styleNodes = function (rng, options) {\n      rng = rng.splitText();\n\n      var nodeName = options && options.nodeName || 'SPAN';\n      var expandClosestSibling = !!(options && options.expandClosestSibling);\n      var onlyPartialContains = !!(options && options.onlyPartialContains);\n\n      if (rng.isCollapsed()) {\n        return rng.insertNode(dom.create(nodeName));\n      }\n\n      var pred = dom.makePredByNodeName(nodeName);\n      var nodes = $.map(rng.nodes(dom.isText, {\n        fullyContains: true\n      }), function (text) {\n        return dom.singleChildAncestor(text, pred) || dom.wrap(text, nodeName);\n      });\n\n      if (expandClosestSibling) {\n        if (onlyPartialContains) {\n          var nodesInRange = rng.nodes();\n          // compose with partial contains predication\n          pred = func.and(pred, function (node) {\n            return list.contains(nodesInRange, node);\n          });\n        }\n\n        return $.map(nodes, function (node) {\n          var siblings = dom.withClosestSiblings(node, pred);\n          var head = list.head(siblings);\n          var tails = list.tail(siblings);\n          $.each(tails, function (idx, elem) {\n            dom.appendChildNodes(head, elem.childNodes);\n            dom.remove(elem);\n          });\n          return list.head(siblings);\n        });\n      } else {\n        return nodes;\n      }\n    };\n\n    /**\n     * get current style on cursor\n     *\n     * @param {WrappedRange} rng\n     * @param {Node} target - target element on event\n     * @return {Object} - object contains style properties.\n     */\n    this.current = function (rng, target) {\n      var $cont = $(dom.isText(rng.sc) ? rng.sc.parentNode : rng.sc);\n      var properties = ['font-family', 'font-size', 'text-align', 'list-style-type', 'line-height'];\n      var styleInfo = jQueryCSS($cont, properties) || {};\n\n      styleInfo['font-size'] = parseInt(styleInfo['font-size'], 10);\n\n      // document.queryCommandState for toggle state\n      styleInfo['font-bold'] = document.queryCommandState('bold') ? 'bold' : 'normal';\n      styleInfo['font-italic'] = document.queryCommandState('italic') ? 'italic' : 'normal';\n      styleInfo['font-underline'] = document.queryCommandState('underline') ? 'underline' : 'normal';\n      styleInfo['font-strikethrough'] = document.queryCommandState('strikeThrough') ? 'strikethrough' : 'normal';\n      styleInfo['font-superscript'] = document.queryCommandState('superscript') ? 'superscript' : 'normal';\n      styleInfo['font-subscript'] = document.queryCommandState('subscript') ? 'subscript' : 'normal';\n\n      // list-style-type to list-style(unordered, ordered)\n      if (!rng.isOnList()) {\n        styleInfo['list-style'] = 'none';\n      } else {\n        var aOrderedType = ['circle', 'disc', 'disc-leading-zero', 'square'];\n        var isUnordered = $.inArray(styleInfo['list-style-type'], aOrderedType) > -1;\n        styleInfo['list-style'] = isUnordered ? 'unordered' : 'ordered';\n      }\n\n      var para = dom.ancestor(rng.sc, dom.isPara);\n      if (para && para.style['line-height']) {\n        styleInfo['line-height'] = para.style.lineHeight;\n      } else {\n        var lineHeight = parseInt(styleInfo['line-height'], 10) / parseInt(styleInfo['font-size'], 10);\n        styleInfo['line-height'] = lineHeight.toFixed(1);\n      }\n\n      styleInfo.image = dom.isImg(target) && target;\n      styleInfo.anchor = rng.isOnAnchor() && dom.ancestor(rng.sc, dom.isAnchor);\n      styleInfo.ancestors = dom.listAncestor(rng.sc, dom.isEditable);\n      styleInfo.range = rng;\n\n      return styleInfo;\n    };\n  };\n\n\n  /**\n   * @class editing.Bullet\n   *\n   * @alternateClassName Bullet\n   */\n  var Bullet = function () {\n    /**\n     * @method insertOrderedList\n     *\n     * toggle ordered list\n     *\n     * @type command\n     */\n    this.insertOrderedList = function () {\n      this.toggleList('OL');\n    };\n\n    /**\n     * @method insertUnorderedList\n     *\n     * toggle unordered list\n     *\n     * @type command\n     */\n    this.insertUnorderedList = function () {\n      this.toggleList('UL');\n    };\n\n    /**\n     * @method indent\n     *\n     * indent\n     *\n     * @type command\n     */\n    this.indent = function () {\n      var self = this;\n      var rng = range.create().wrapBodyInlineWithPara();\n\n      var paras = rng.nodes(dom.isPara, { includeAncestor: true });\n      var clustereds = list.clusterBy(paras, func.peq2('parentNode'));\n\n      $.each(clustereds, function (idx, paras) {\n        var head = list.head(paras);\n        if (dom.isLi(head)) {\n          self.wrapList(paras, head.parentNode.nodeName);\n        } else {\n          $.each(paras, function (idx, para) {\n            $(para).css('marginLeft', function (idx, val) {\n              return (parseInt(val, 10) || 0) + 25;\n            });\n          });\n        }\n      });\n\n      rng.select();\n    };\n\n    /**\n     * @method outdent\n     *\n     * outdent\n     *\n     * @type command\n     */\n    this.outdent = function () {\n      var self = this;\n      var rng = range.create().wrapBodyInlineWithPara();\n\n      var paras = rng.nodes(dom.isPara, { includeAncestor: true });\n      var clustereds = list.clusterBy(paras, func.peq2('parentNode'));\n\n      $.each(clustereds, function (idx, paras) {\n        var head = list.head(paras);\n        if (dom.isLi(head)) {\n          self.releaseList([paras]);\n        } else {\n          $.each(paras, function (idx, para) {\n            $(para).css('marginLeft', function (idx, val) {\n              val = (parseInt(val, 10) || 0);\n              return val > 25 ? val - 25 : '';\n            });\n          });\n        }\n      });\n\n      rng.select();\n    };\n\n    /**\n     * @method toggleList\n     *\n     * toggle list\n     *\n     * @param {String} listName - OL or UL\n     */\n    this.toggleList = function (listName) {\n      var self = this;\n      var rng = range.create().wrapBodyInlineWithPara();\n\n      var paras = rng.nodes(dom.isPara, { includeAncestor: true });\n      var bookmark = rng.paraBookmark(paras);\n      var clustereds = list.clusterBy(paras, func.peq2('parentNode'));\n\n      // paragraph to list\n      if (list.find(paras, dom.isPurePara)) {\n        var wrappedParas = [];\n        $.each(clustereds, function (idx, paras) {\n          wrappedParas = wrappedParas.concat(self.wrapList(paras, listName));\n        });\n        paras = wrappedParas;\n      // list to paragraph or change list style\n      } else {\n        var diffLists = rng.nodes(dom.isList, {\n          includeAncestor: true\n        }).filter(function (listNode) {\n          return !$.nodeName(listNode, listName);\n        });\n\n        if (diffLists.length) {\n          $.each(diffLists, function (idx, listNode) {\n            dom.replace(listNode, listName);\n          });\n        } else {\n          paras = this.releaseList(clustereds, true);\n        }\n      }\n\n      range.createFromParaBookmark(bookmark, paras).select();\n    };\n\n    /**\n     * @method wrapList\n     *\n     * @param {Node[]} paras\n     * @param {String} listName\n     * @return {Node[]}\n     */\n    this.wrapList = function (paras, listName) {\n      var head = list.head(paras);\n      var last = list.last(paras);\n\n      var prevList = dom.isList(head.previousSibling) && head.previousSibling;\n      var nextList = dom.isList(last.nextSibling) && last.nextSibling;\n\n      var listNode = prevList || dom.insertAfter(dom.create(listName || 'UL'), last);\n\n      // P to LI\n      paras = $.map(paras, function (para) {\n        return dom.isPurePara(para) ? dom.replace(para, 'LI') : para;\n      });\n\n      // append to list(<ul>, <ol>)\n      dom.appendChildNodes(listNode, paras);\n\n      if (nextList) {\n        dom.appendChildNodes(listNode, list.from(nextList.childNodes));\n        dom.remove(nextList);\n      }\n\n      return paras;\n    };\n\n    /**\n     * @method releaseList\n     *\n     * @param {Array[]} clustereds\n     * @param {Boolean} isEscapseToBody\n     * @return {Node[]}\n     */\n    this.releaseList = function (clustereds, isEscapseToBody) {\n      var releasedParas = [];\n\n      $.each(clustereds, function (idx, paras) {\n        var head = list.head(paras);\n        var last = list.last(paras);\n\n        var headList = isEscapseToBody ? dom.lastAncestor(head, dom.isList) :\n                                         head.parentNode;\n        var lastList = headList.childNodes.length > 1 ? dom.splitTree(headList, {\n          node: last.parentNode,\n          offset: dom.position(last) + 1\n        }, {\n          isSkipPaddingBlankHTML: true\n        }) : null;\n\n        var middleList = dom.splitTree(headList, {\n          node: head.parentNode,\n          offset: dom.position(head)\n        }, {\n          isSkipPaddingBlankHTML: true\n        });\n\n        paras = isEscapseToBody ? dom.listDescendant(middleList, dom.isLi) :\n                                  list.from(middleList.childNodes).filter(dom.isLi);\n\n        // LI to P\n        if (isEscapseToBody || !dom.isList(headList.parentNode)) {\n          paras = $.map(paras, function (para) {\n            return dom.replace(para, 'P');\n          });\n        }\n\n        $.each(list.from(paras).reverse(), function (idx, para) {\n          dom.insertAfter(para, headList);\n        });\n\n        // remove empty lists\n        var rootLists = list.compact([headList, middleList, lastList]);\n        $.each(rootLists, function (idx, rootList) {\n          var listNodes = [rootList].concat(dom.listDescendant(rootList, dom.isList));\n          $.each(listNodes.reverse(), function (idx, listNode) {\n            if (!dom.nodeLength(listNode)) {\n              dom.remove(listNode, true);\n            }\n          });\n        });\n\n        releasedParas = releasedParas.concat(paras);\n      });\n\n      return releasedParas;\n    };\n  };\n\n\n  /**\n   * @class editing.Typing\n   *\n   * Typing\n   *\n   */\n  var Typing = function () {\n\n    // a Bullet instance to toggle lists off\n    var bullet = new Bullet();\n\n    /**\n     * insert tab\n     *\n     * @param {jQuery} $editable\n     * @param {WrappedRange} rng\n     * @param {Number} tabsize\n     */\n    this.insertTab = function ($editable, rng, tabsize) {\n      var tab = dom.createText(new Array(tabsize + 1).join(dom.NBSP_CHAR));\n      rng = rng.deleteContents();\n      rng.insertNode(tab, true);\n\n      rng = range.create(tab, tabsize);\n      rng.select();\n    };\n\n    /**\n     * insert paragraph\n     */\n    this.insertParagraph = function () {\n      var rng = range.create();\n\n      // deleteContents on range.\n      rng = rng.deleteContents();\n\n      // Wrap range if it needs to be wrapped by paragraph\n      rng = rng.wrapBodyInlineWithPara();\n\n      // finding paragraph\n      var splitRoot = dom.ancestor(rng.sc, dom.isPara);\n\n      var nextPara;\n      // on paragraph: split paragraph\n      if (splitRoot) {\n        // if it is an empty line with li\n        if (dom.isEmpty(splitRoot) && dom.isLi(splitRoot)) {\n          // disable UL/OL and escape!\n          bullet.toggleList(splitRoot.parentNode.nodeName);\n          return;\n        // if new line has content (not a line break)\n        } else {\n          nextPara = dom.splitTree(splitRoot, rng.getStartPoint());\n\n          var emptyAnchors = dom.listDescendant(splitRoot, dom.isEmptyAnchor);\n          emptyAnchors = emptyAnchors.concat(dom.listDescendant(nextPara, dom.isEmptyAnchor));\n\n          $.each(emptyAnchors, function (idx, anchor) {\n            dom.remove(anchor);\n          });\n        }\n      // no paragraph: insert empty paragraph\n      } else {\n        var next = rng.sc.childNodes[rng.so];\n        nextPara = $(dom.emptyPara)[0];\n        if (next) {\n          rng.sc.insertBefore(nextPara, next);\n        } else {\n          rng.sc.appendChild(nextPara);\n        }\n      }\n\n      range.create(nextPara, 0).normalize().select();\n\n    };\n\n  };\n\n  /**\n   * @class editing.Table\n   *\n   * Table\n   *\n   */\n  var Table = function () {\n    /**\n     * handle tab key\n     *\n     * @param {WrappedRange} rng\n     * @param {Boolean} isShift\n     */\n    this.tab = function (rng, isShift) {\n      var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n      var table = dom.ancestor(cell, dom.isTable);\n      var cells = dom.listDescendant(table, dom.isCell);\n\n      var nextCell = list[isShift ? 'prev' : 'next'](cells, cell);\n      if (nextCell) {\n        range.create(nextCell, 0).select();\n      }\n    };\n\n    /**\n     * create empty table element\n     *\n     * @param {Number} rowCount\n     * @param {Number} colCount\n     * @return {Node}\n     */\n    this.createTable = function (colCount, rowCount) {\n      var tds = [], tdHTML;\n      for (var idxCol = 0; idxCol < colCount; idxCol++) {\n        tds.push('<td>' + dom.blank + '</td>');\n      }\n      tdHTML = tds.join('');\n\n      var trs = [], trHTML;\n      for (var idxRow = 0; idxRow < rowCount; idxRow++) {\n        trs.push('<tr>' + tdHTML + '</tr>');\n      }\n      trHTML = trs.join('');\n      return $('<table class=\"table table-bordered\">' + trHTML + '</table>')[0];\n    };\n  };\n\n  /**\n   * @class editing.Editor\n   *\n   * Editor\n   *\n   */\n  var Editor = function (handler) {\n\n    var style = new Style();\n    var table = new Table();\n    var typing = new Typing();\n    var bullet = new Bullet();\n\n    /**\n     * @method createRange\n     *\n     * create range\n     *\n     * @param {jQuery} $editable\n     * @return {WrappedRange}\n     */\n    this.createRange = function ($editable) {\n      $editable.focus();\n      return range.create();\n    };\n\n    /**\n     * @method saveRange\n     *\n     * save current range\n     *\n     * @param {jQuery} $editable\n     * @param {Boolean} [thenCollapse=false]\n     */\n    this.saveRange = function ($editable, thenCollapse) {\n      $editable.focus();\n      $editable.data('range', range.create());\n      if (thenCollapse) {\n        range.create().collapse().select();\n      }\n    };\n\n    /**\n     * @method saveRange\n     *\n     * save current node list to $editable.data('childNodes')\n     *\n     * @param {jQuery} $editable\n     */\n    this.saveNode = function ($editable) {\n      // copy child node reference\n      var copy = [];\n      for (var key  = 0, len = $editable[0].childNodes.length; key < len; key++) {\n        copy.push($editable[0].childNodes[key]);\n      }\n      $editable.data('childNodes', copy);\n    };\n\n    /**\n     * @method restoreRange\n     *\n     * restore lately range\n     *\n     * @param {jQuery} $editable\n     */\n    this.restoreRange = function ($editable) {\n      var rng = $editable.data('range');\n      if (rng) {\n        rng.select();\n        $editable.focus();\n      }\n    };\n\n    /**\n     * @method restoreNode\n     *\n     * restore lately node list\n     *\n     * @param {jQuery} $editable\n     */\n    this.restoreNode = function ($editable) {\n      $editable.html('');\n      var child = $editable.data('childNodes');\n      for (var index = 0, len = child.length; index < len; index++) {\n        $editable[0].appendChild(child[index]);\n      }\n    };\n    /**\n     * @method currentStyle\n     *\n     * current style\n     *\n     * @param {Node} target\n     * @return {Boolean} false if range is no\n     */\n    this.currentStyle = function (target) {\n      var rng = range.create();\n      return rng ? rng.isOnEditable() && style.current(rng, target) : false;\n    };\n\n    var triggerOnBeforeChange = function ($editable) {\n      var $holder = dom.makeLayoutInfo($editable).holder();\n      handler.bindCustomEvent(\n        $holder, $editable.data('callbacks'), 'before.command'\n      )($editable.html(), $editable);\n    };\n\n    var triggerOnChange = function ($editable) {\n      var $holder = dom.makeLayoutInfo($editable).holder();\n      handler.bindCustomEvent(\n        $holder, $editable.data('callbacks'), 'change'\n      )($editable.html(), $editable);\n    };\n\n    /**\n     * @method undo\n     * undo\n     * @param {jQuery} $editable\n     */\n    this.undo = function ($editable) {\n      triggerOnBeforeChange($editable);\n      $editable.data('NoteHistory').undo();\n      triggerOnChange($editable);\n    };\n\n    /**\n     * @method redo\n     * redo\n     * @param {jQuery} $editable\n     */\n    this.redo = function ($editable) {\n      triggerOnBeforeChange($editable);\n      $editable.data('NoteHistory').redo();\n      triggerOnChange($editable);\n    };\n\n    /**\n     * @method beforeCommand\n     * before command\n     * @param {jQuery} $editable\n     */\n    var beforeCommand = this.beforeCommand = function ($editable) {\n      triggerOnBeforeChange($editable);\n    };\n\n    /**\n     * @method afterCommand\n     * after command\n     * @param {jQuery} $editable\n     * @param {Boolean} isPreventTrigger\n     */\n    var afterCommand = this.afterCommand = function ($editable, isPreventTrigger) {\n      $editable.data('NoteHistory').recordUndo();\n      if (!isPreventTrigger) {\n        triggerOnChange($editable);\n      }\n    };\n\n    /**\n     * @method bold\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method italic\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method underline\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method strikethrough\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method formatBlock\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method superscript\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method subscript\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method justifyLeft\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method justifyCenter\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method justifyRight\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method justifyFull\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method formatBlock\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method removeFormat\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method backColor\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method foreColor\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method insertHorizontalRule\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method fontName\n     *\n     * change font name\n     *\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /* jshint ignore:start */\n    // native commands(with execCommand), generate function for execCommand\n    var commands = ['bold', 'italic', 'underline', 'strikethrough', 'superscript', 'subscript',\n                    'justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull',\n                    'formatBlock', 'removeFormat',\n                    'backColor', 'foreColor', 'insertHorizontalRule', 'fontName'];\n\n    for (var idx = 0, len = commands.length; idx < len; idx ++) {\n      this[commands[idx]] = (function (sCmd) {\n        return function ($editable, value) {\n          beforeCommand($editable);\n\n          document.execCommand(sCmd, false, value);\n\n          afterCommand($editable, true);\n        };\n      })(commands[idx]);\n    }\n    /* jshint ignore:end */\n\n    /**\n     * @method tab\n     *\n     * handle tab key\n     *\n     * @param {jQuery} $editable\n     * @param {Object} options\n     */\n    this.tab = function ($editable, options) {\n      var rng = range.create();\n      if (rng.isCollapsed() && rng.isOnCell()) {\n        table.tab(rng);\n      } else {\n        beforeCommand($editable);\n        typing.insertTab($editable, rng, options.tabsize);\n        afterCommand($editable);\n      }\n    };\n\n    /**\n     * @method untab\n     *\n     * handle shift+tab key\n     *\n     */\n    this.untab = function () {\n      var rng = range.create();\n      if (rng.isCollapsed() && rng.isOnCell()) {\n        table.tab(rng, true);\n      }\n    };\n\n    /**\n     * @method insertParagraph\n     *\n     * insert paragraph\n     *\n     * @param {Node} $editable\n     */\n    this.insertParagraph = function ($editable) {\n      beforeCommand($editable);\n      typing.insertParagraph($editable);\n      afterCommand($editable);\n    };\n\n    /**\n     * @method insertOrderedList\n     *\n     * @param {jQuery} $editable\n     */\n    this.insertOrderedList = function ($editable) {\n      beforeCommand($editable);\n      bullet.insertOrderedList($editable);\n      afterCommand($editable);\n    };\n\n    /**\n     * @param {jQuery} $editable\n     */\n    this.insertUnorderedList = function ($editable) {\n      beforeCommand($editable);\n      bullet.insertUnorderedList($editable);\n      afterCommand($editable);\n    };\n\n    /**\n     * @param {jQuery} $editable\n     */\n    this.indent = function ($editable) {\n      beforeCommand($editable);\n      bullet.indent($editable);\n      afterCommand($editable);\n    };\n\n    /**\n     * @param {jQuery} $editable\n     */\n    this.outdent = function ($editable) {\n      beforeCommand($editable);\n      bullet.outdent($editable);\n      afterCommand($editable);\n    };\n\n    /**\n     * insert image\n     *\n     * @param {jQuery} $editable\n     * @param {String} sUrl\n     */\n    this.insertImage = function ($editable, sUrl, filename) {\n      async.createImage(sUrl, filename).then(function ($image) {\n        beforeCommand($editable);\n        $image.css({\n          display: '',\n          width: Math.min($editable.width(), $image.width())\n        });\n        range.create().insertNode($image[0]);\n        range.createFromNode($image[0]).collapse().select();\n        afterCommand($editable);\n      }).fail(function () {\n        var callbacks = $editable.data('callbacks');\n        if (callbacks.onImageUploadError) {\n          callbacks.onImageUploadError();\n        }\n      });\n    };\n\n    /**\n     * @method insertNode\n     * insert node\n     * @param {Node} $editable\n     * @param {Node} node\n     */\n    this.insertNode = function ($editable, node) {\n      beforeCommand($editable);\n      var rng = this.createRange($editable);\n      rng.insertNode(node);\n      range.createFromNode(node).collapse().select();\n      afterCommand($editable);\n    };\n\n    /**\n     * insert text\n     * @param {Node} $editable\n     * @param {String} text\n     */\n    this.insertText = function ($editable, text) {\n      beforeCommand($editable);\n      var rng = this.createRange($editable);\n      var textNode = rng.insertNode(dom.createText(text));\n      range.create(textNode, dom.nodeLength(textNode)).select();\n      afterCommand($editable);\n    };\n\n    /**\n     * paste HTML\n     * @param {Node} $editable\n     * @param {String} markup\n     */\n    this.pasteHTML = function ($editable, markup) {\n      beforeCommand($editable);\n      var rng = this.createRange($editable);\n      var contents = rng.pasteHTML(markup);\n      range.createFromNode(list.last(contents)).collapse().select();\n      afterCommand($editable);\n    };\n\n    /**\n     * formatBlock\n     *\n     * @param {jQuery} $editable\n     * @param {String} tagName\n     */\n    this.formatBlock = function ($editable, tagName) {\n      beforeCommand($editable);\n      // [workaround] for MSIE, IE need `<`\n      tagName = agent.isMSIE ? '<' + tagName + '>' : tagName;\n      document.execCommand('FormatBlock', false, tagName);\n      afterCommand($editable);\n    };\n\n    this.formatPara = function ($editable) {\n      beforeCommand($editable);\n      this.formatBlock($editable, 'P');\n      afterCommand($editable);\n    };\n\n    /* jshint ignore:start */\n    for (var idx = 1; idx <= 6; idx ++) {\n      this['formatH' + idx] = function (idx) {\n        return function ($editable) {\n          this.formatBlock($editable, 'H' + idx);\n        };\n      }(idx);\n    };\n    /* jshint ignore:end */\n\n    /**\n     * fontSize\n     *\n     * @param {jQuery} $editable\n     * @param {String} value - px\n     */\n    this.fontSize = function ($editable, value) {\n      beforeCommand($editable);\n\n      var rng = this.createRange($editable);\n      var spans = style.styleNodes(rng);\n      $.each(spans, function (idx, span) {\n        $(span).css({\n          'font-size': value + 'px'\n        });\n      });\n\n      afterCommand($editable);\n    };\n\n    /**\n     * lineHeight\n     * @param {jQuery} $editable\n     * @param {String} value\n     */\n    this.lineHeight = function ($editable, value) {\n      beforeCommand($editable);\n      style.stylePara(range.create(), {\n        lineHeight: value\n      });\n      afterCommand($editable);\n    };\n\n    /**\n     * unlink\n     *\n     * @type command\n     *\n     * @param {jQuery} $editable\n     */\n    this.unlink = function ($editable) {\n      var rng = range.create();\n      if (rng.isOnAnchor()) {\n        var anchor = dom.ancestor(rng.sc, dom.isAnchor);\n        rng = range.createFromNode(anchor);\n        rng.select();\n\n        beforeCommand($editable);\n        document.execCommand('unlink');\n        afterCommand($editable);\n      }\n    };\n\n    /**\n     * create link (command)\n     *\n     * @param {jQuery} $editable\n     * @param {Object} linkInfo\n     * @param {Object} options\n     */\n    this.createLink = function ($editable, linkInfo, options) {\n      var linkUrl = linkInfo.url;\n      var linkText = linkInfo.text;\n      var isNewWindow = linkInfo.newWindow;\n      var rng = linkInfo.range;\n      var isTextChanged = rng.toString() !== linkText;\n\n      beforeCommand($editable);\n\n      if (options.onCreateLink) {\n        linkUrl = options.onCreateLink(linkUrl);\n      }\n\n      var anchors;\n      if (isTextChanged) {\n        // Create a new link when text changed.\n        var anchor = rng.insertNode($('<A>' + linkText + '</A>')[0]);\n        anchors = [anchor];\n      } else {\n        anchors = style.styleNodes(rng, {\n          nodeName: 'A',\n          expandClosestSibling: true,\n          onlyPartialContains: true\n        });\n      }\n\n      $.each(anchors, function (idx, anchor) {\n        $(anchor).attr('href', linkUrl);\n        if (isNewWindow) {\n          $(anchor).attr('target', '_blank');\n        } else {\n          $(anchor).removeAttr('target');\n        }\n      });\n\n      var startRange = range.createFromNode(list.head(anchors)).collapse(true);\n      var startPoint = startRange.getStartPoint();\n      var endRange = range.createFromNode(list.last(anchors)).collapse();\n      var endPoint = endRange.getEndPoint();\n\n      range.create(\n        startPoint.node,\n        startPoint.offset,\n        endPoint.node,\n        endPoint.offset\n      ).select();\n\n      afterCommand($editable);\n    };\n\n    /**\n     * returns link info\n     *\n     * @return {Object}\n     * @return {WrappedRange} return.range\n     * @return {String} return.text\n     * @return {Boolean} [return.isNewWindow=true]\n     * @return {String} [return.url=\"\"]\n     */\n    this.getLinkInfo = function ($editable) {\n      $editable.focus();\n\n      var rng = range.create().expand(dom.isAnchor);\n\n      // Get the first anchor on range(for edit).\n      var $anchor = $(list.head(rng.nodes(dom.isAnchor)));\n\n      return {\n        range: rng,\n        text: rng.toString(),\n        isNewWindow: $anchor.length ? $anchor.attr('target') === '_blank' : false,\n        url: $anchor.length ? $anchor.attr('href') : ''\n      };\n    };\n\n    /**\n     * setting color\n     *\n     * @param {Node} $editable\n     * @param {Object} sObjColor  color code\n     * @param {String} sObjColor.foreColor foreground color\n     * @param {String} sObjColor.backColor background color\n     */\n    this.color = function ($editable, sObjColor) {\n      var oColor = JSON.parse(sObjColor);\n      var foreColor = oColor.foreColor, backColor = oColor.backColor;\n\n      beforeCommand($editable);\n\n      if (foreColor) { document.execCommand('foreColor', false, foreColor); }\n      if (backColor) { document.execCommand('backColor', false, backColor); }\n\n      afterCommand($editable);\n    };\n\n    /**\n     * insert Table\n     *\n     * @param {Node} $editable\n     * @param {String} sDim dimension of table (ex : \"5x5\")\n     */\n    this.insertTable = function ($editable, sDim) {\n      var dimension = sDim.split('x');\n      beforeCommand($editable);\n\n      var rng = range.create();\n      rng = rng.deleteContents();\n      rng.insertNode(table.createTable(dimension[0], dimension[1]));\n      afterCommand($editable);\n    };\n\n    /**\n     * float me\n     *\n     * @param {jQuery} $editable\n     * @param {String} value\n     * @param {jQuery} $target\n     */\n    this.floatMe = function ($editable, value, $target) {\n      beforeCommand($editable);\n      $target.css('float', value);\n      afterCommand($editable);\n    };\n\n    /**\n     * change image shape\n     *\n     * @param {jQuery} $editable\n     * @param {String} value css class\n     * @param {Node} $target\n     */\n    this.imageShape = function ($editable, value, $target) {\n      beforeCommand($editable);\n\n      $target.removeClass('img-rounded img-circle img-thumbnail');\n\n      if (value) {\n        $target.addClass(value);\n      }\n\n      afterCommand($editable);\n    };\n\n    /**\n     * resize overlay element\n     * @param {jQuery} $editable\n     * @param {String} value\n     * @param {jQuery} $target - target element\n     */\n    this.resize = function ($editable, value, $target) {\n      beforeCommand($editable);\n\n      $target.css({\n        width: value * 100 + '%',\n        height: ''\n      });\n\n      afterCommand($editable);\n    };\n\n    /**\n     * @param {Position} pos\n     * @param {jQuery} $target - target element\n     * @param {Boolean} [bKeepRatio] - keep ratio\n     */\n    this.resizeTo = function (pos, $target, bKeepRatio) {\n      var imageSize;\n      if (bKeepRatio) {\n        var newRatio = pos.y / pos.x;\n        var ratio = $target.data('ratio');\n        imageSize = {\n          width: ratio > newRatio ? pos.x : pos.y / ratio,\n          height: ratio > newRatio ? pos.x * ratio : pos.y\n        };\n      } else {\n        imageSize = {\n          width: pos.x,\n          height: pos.y\n        };\n      }\n\n      $target.css(imageSize);\n    };\n\n    /**\n     * remove media object\n     *\n     * @param {jQuery} $editable\n     * @param {String} value - dummy argument (for keep interface)\n     * @param {jQuery} $target - target element\n     */\n    this.removeMedia = function ($editable, value, $target) {\n      beforeCommand($editable);\n      $target.detach();\n\n      handler.bindCustomEvent(\n        $(), $editable.data('callbacks'), 'media.delete'\n      ).call($target, this.$editable);\n\n      afterCommand($editable);\n    };\n\n    /**\n     * set focus\n     *\n     * @param $editable\n     */\n    this.focus = function ($editable) {\n      $editable.focus();\n\n      // [workaround] for firefox bug http://goo.gl/lVfAaI\n      if (agent.isFF) {\n        range.createFromNode($editable[0].firstChild || $editable[0]).collapse().select();\n      }\n    };\n  };\n\n  /**\n   * @class module.Button\n   *\n   * Button\n   */\n  var Button = function () {\n    /**\n     * update button status\n     *\n     * @param {jQuery} $container\n     * @param {Object} styleInfo\n     */\n    this.update = function ($container, styleInfo) {\n      /**\n       * handle dropdown's check mark (for fontname, fontsize, lineHeight).\n       * @param {jQuery} $btn\n       * @param {Number} value\n       */\n      var checkDropdownMenu = function ($btn, value) {\n        $btn.find('.dropdown-menu li a').each(function () {\n          // always compare string to avoid creating another func.\n          var isChecked = ($(this).data('value') + '') === (value + '');\n          this.className = isChecked ? 'checked' : '';\n        });\n      };\n\n      /**\n       * update button state(active or not).\n       *\n       * @private\n       * @param {String} selector\n       * @param {Function} pred\n       */\n      var btnState = function (selector, pred) {\n        var $btn = $container.find(selector);\n        $btn.toggleClass('active', pred());\n      };\n\n      if (styleInfo.image) {\n        var $img = $(styleInfo.image);\n\n        btnState('button[data-event=\"imageShape\"][data-value=\"img-rounded\"]', function () {\n          return $img.hasClass('img-rounded');\n        });\n        btnState('button[data-event=\"imageShape\"][data-value=\"img-circle\"]', function () {\n          return $img.hasClass('img-circle');\n        });\n        btnState('button[data-event=\"imageShape\"][data-value=\"img-thumbnail\"]', function () {\n          return $img.hasClass('img-thumbnail');\n        });\n        btnState('button[data-event=\"imageShape\"]:not([data-value])', function () {\n          return !$img.is('.img-rounded, .img-circle, .img-thumbnail');\n        });\n\n        var imgFloat = $img.css('float');\n        btnState('button[data-event=\"floatMe\"][data-value=\"left\"]', function () {\n          return imgFloat === 'left';\n        });\n        btnState('button[data-event=\"floatMe\"][data-value=\"right\"]', function () {\n          return imgFloat === 'right';\n        });\n        btnState('button[data-event=\"floatMe\"][data-value=\"none\"]', function () {\n          return imgFloat !== 'left' && imgFloat !== 'right';\n        });\n\n        var style = $img.attr('style');\n        btnState('button[data-event=\"resize\"][data-value=\"1\"]', function () {\n          return !!/(^|\\s)(max-)?width\\s*:\\s*100%/.test(style);\n        });\n        btnState('button[data-event=\"resize\"][data-value=\"0.5\"]', function () {\n          return !!/(^|\\s)(max-)?width\\s*:\\s*50%/.test(style);\n        });\n        btnState('button[data-event=\"resize\"][data-value=\"0.25\"]', function () {\n          return !!/(^|\\s)(max-)?width\\s*:\\s*25%/.test(style);\n        });\n        return;\n      }\n\n      // fontname\n      var $fontname = $container.find('.note-fontname');\n      if ($fontname.length) {\n        var selectedFont = styleInfo['font-family'];\n        if (!!selectedFont) {\n\n          var list = selectedFont.split(',');\n          for (var i = 0, len = list.length; i < len; i++) {\n            selectedFont = list[i].replace(/[\\'\\\"]/g, '').replace(/\\s+$/, '').replace(/^\\s+/, '');\n            if (agent.isFontInstalled(selectedFont)) {\n              break;\n            }\n          }\n          \n          $fontname.find('.note-current-fontname').text(selectedFont);\n          checkDropdownMenu($fontname, selectedFont);\n\n        }\n      }\n\n      // fontsize\n      var $fontsize = $container.find('.note-fontsize');\n      $fontsize.find('.note-current-fontsize').text(styleInfo['font-size']);\n      checkDropdownMenu($fontsize, parseFloat(styleInfo['font-size']));\n\n      // lineheight\n      var $lineHeight = $container.find('.note-height');\n      checkDropdownMenu($lineHeight, parseFloat(styleInfo['line-height']));\n\n      btnState('button[data-event=\"bold\"]', function () {\n        return styleInfo['font-bold'] === 'bold';\n      });\n      btnState('button[data-event=\"italic\"]', function () {\n        return styleInfo['font-italic'] === 'italic';\n      });\n      btnState('button[data-event=\"underline\"]', function () {\n        return styleInfo['font-underline'] === 'underline';\n      });\n      btnState('button[data-event=\"strikethrough\"]', function () {\n        return styleInfo['font-strikethrough'] === 'strikethrough';\n      });\n      btnState('button[data-event=\"superscript\"]', function () {\n        return styleInfo['font-superscript'] === 'superscript';\n      });\n      btnState('button[data-event=\"subscript\"]', function () {\n        return styleInfo['font-subscript'] === 'subscript';\n      });\n      btnState('button[data-event=\"justifyLeft\"]', function () {\n        return styleInfo['text-align'] === 'left' || styleInfo['text-align'] === 'start';\n      });\n      btnState('button[data-event=\"justifyCenter\"]', function () {\n        return styleInfo['text-align'] === 'center';\n      });\n      btnState('button[data-event=\"justifyRight\"]', function () {\n        return styleInfo['text-align'] === 'right';\n      });\n      btnState('button[data-event=\"justifyFull\"]', function () {\n        return styleInfo['text-align'] === 'justify';\n      });\n      btnState('button[data-event=\"insertUnorderedList\"]', function () {\n        return styleInfo['list-style'] === 'unordered';\n      });\n      btnState('button[data-event=\"insertOrderedList\"]', function () {\n        return styleInfo['list-style'] === 'ordered';\n      });\n    };\n\n    /**\n     * update recent color\n     *\n     * @param {Node} button\n     * @param {String} eventName\n     * @param {Mixed} value\n     */\n    this.updateRecentColor = function (button, eventName, value) {\n      var $color = $(button).closest('.note-color');\n      var $recentColor = $color.find('.note-recent-color');\n      var colorInfo = JSON.parse($recentColor.attr('data-value'));\n      colorInfo[eventName] = value;\n      $recentColor.attr('data-value', JSON.stringify(colorInfo));\n      var sKey = eventName === 'backColor' ? 'background-color' : 'color';\n      $recentColor.find('i').css(sKey, value);\n    };\n  };\n\n  /**\n   * @class module.Toolbar\n   *\n   * Toolbar\n   */\n  var Toolbar = function () {\n    var button = new Button();\n\n    this.update = function ($toolbar, styleInfo) {\n      button.update($toolbar, styleInfo);\n    };\n\n    /**\n     * @param {Node} button\n     * @param {String} eventName\n     * @param {String} value\n     */\n    this.updateRecentColor = function (buttonNode, eventName, value) {\n      button.updateRecentColor(buttonNode, eventName, value);\n    };\n\n    /**\n     * activate buttons exclude codeview\n     * @param {jQuery} $toolbar\n     */\n    this.activate = function ($toolbar) {\n      $toolbar.find('button')\n              .not('button[data-event=\"codeview\"]')\n              .removeClass('disabled');\n    };\n\n    /**\n     * deactivate buttons exclude codeview\n     * @param {jQuery} $toolbar\n     */\n    this.deactivate = function ($toolbar) {\n      $toolbar.find('button')\n              .not('button[data-event=\"codeview\"]')\n              .addClass('disabled');\n    };\n\n    /**\n     * @param {jQuery} $container\n     * @param {Boolean} [bFullscreen=false]\n     */\n    this.updateFullscreen = function ($container, bFullscreen) {\n      var $btn = $container.find('button[data-event=\"fullscreen\"]');\n      $btn.toggleClass('active', bFullscreen);\n    };\n\n    /**\n     * @param {jQuery} $container\n     * @param {Boolean} [isCodeview=false]\n     */\n    this.updateCodeview = function ($container, isCodeview) {\n      var $btn = $container.find('button[data-event=\"codeview\"]');\n      $btn.toggleClass('active', isCodeview);\n\n      if (isCodeview) {\n        this.deactivate($container);\n      } else {\n        this.activate($container);\n      }\n    };\n\n    /**\n     * get button in toolbar \n     *\n     * @param {jQuery} $editable\n     * @param {String} name\n     * @return {jQuery}\n     */\n    this.get = function ($editable, name) {\n      var $toolbar = dom.makeLayoutInfo($editable).toolbar();\n\n      return $toolbar.find('[data-name=' + name + ']');\n    };\n\n    /**\n     * set button state\n     * @param {jQuery} $editable\n     * @param {String} name\n     * @param {Boolean} [isActive=true]\n     */\n    this.setButtonState = function ($editable, name, isActive) {\n      isActive = (isActive === false) ? false : true;\n\n      var $button = this.get($editable, name);\n      $button.toggleClass('active', isActive);\n    };\n  };\n\n  var EDITABLE_PADDING = 24;\n\n  var Statusbar = function () {\n    var $document = $(document);\n\n    this.attach = function (layoutInfo, options) {\n      if (!options.disableResizeEditor) {\n        layoutInfo.statusbar().on('mousedown', hStatusbarMousedown);\n      }\n    };\n\n    /**\n     * `mousedown` event handler on statusbar\n     *\n     * @param {MouseEvent} event\n     */\n    var hStatusbarMousedown = function (event) {\n      event.preventDefault();\n      event.stopPropagation();\n\n      var $editable = dom.makeLayoutInfo(event.target).editable();\n      var editableTop = $editable.offset().top - $document.scrollTop();\n\n      var layoutInfo = dom.makeLayoutInfo(event.currentTarget || event.target);\n      var options = layoutInfo.editor().data('options');\n\n      $document.on('mousemove', function (event) {\n        var nHeight = event.clientY - (editableTop + EDITABLE_PADDING);\n\n        nHeight = (options.minHeight > 0) ? Math.max(nHeight, options.minHeight) : nHeight;\n        nHeight = (options.maxHeight > 0) ? Math.min(nHeight, options.maxHeight) : nHeight;\n\n        $editable.height(nHeight);\n      }).one('mouseup', function () {\n        $document.off('mousemove');\n      });\n    };\n  };\n\n  /**\n   * @class module.Popover\n   *\n   * Popover (http://getbootstrap.com/javascript/#popovers)\n   *\n   */\n  var Popover = function () {\n    var button = new Button();\n\n    /**\n     * returns position from placeholder\n     *\n     * @private\n     * @param {Node} placeholder\n     * @param {Boolean} isAirMode\n     * @return {Object}\n     * @return {Number} return.left\n     * @return {Number} return.top\n     */\n    var posFromPlaceholder = function (placeholder, isAirMode) {\n      var $placeholder = $(placeholder);\n      var pos = isAirMode ? $placeholder.offset() : $placeholder.position();\n      var height = $placeholder.outerHeight(true); // include margin\n\n      // popover below placeholder.\n      return {\n        left: pos.left,\n        top: pos.top + height\n      };\n    };\n\n    /**\n     * show popover\n     *\n     * @private\n     * @param {jQuery} popover\n     * @param {Position} pos\n     */\n    var showPopover = function ($popover, pos) {\n      $popover.css({\n        display: 'block',\n        left: pos.left,\n        top: pos.top\n      });\n    };\n\n    var PX_POPOVER_ARROW_OFFSET_X = 20;\n\n    /**\n     * update current state\n     * @param {jQuery} $popover - popover container\n     * @param {Object} styleInfo - style object\n     * @param {Boolean} isAirMode\n     */\n    this.update = function ($popover, styleInfo, isAirMode) {\n      button.update($popover, styleInfo);\n\n      var $linkPopover = $popover.find('.note-link-popover');\n      if (styleInfo.anchor) {\n        var $anchor = $linkPopover.find('a');\n        var href = $(styleInfo.anchor).attr('href');\n        var target = $(styleInfo.anchor).attr('target');\n        $anchor.attr('href', href).html(href);\n        if (!target) {\n          $anchor.removeAttr('target');\n        } else {\n          $anchor.attr('target', '_blank');\n        }\n        showPopover($linkPopover, posFromPlaceholder(styleInfo.anchor, isAirMode));\n      } else {\n        $linkPopover.hide();\n      }\n\n      var $imagePopover = $popover.find('.note-image-popover');\n      if (styleInfo.image) {\n        showPopover($imagePopover, posFromPlaceholder(styleInfo.image, isAirMode));\n      } else {\n        $imagePopover.hide();\n      }\n\n      var $airPopover = $popover.find('.note-air-popover');\n      if (isAirMode && !styleInfo.range.isCollapsed()) {\n        var rect = list.last(styleInfo.range.getClientRects());\n        if (rect) {\n          var bnd = func.rect2bnd(rect);\n          showPopover($airPopover, {\n            left: Math.max(bnd.left + bnd.width / 2 - PX_POPOVER_ARROW_OFFSET_X, 0),\n            top: bnd.top + bnd.height\n          });\n        }\n      } else {\n        $airPopover.hide();\n      }\n    };\n\n    /**\n     * @param {Node} button\n     * @param {String} eventName\n     * @param {String} value\n     */\n    this.updateRecentColor = function (button, eventName, value) {\n      button.updateRecentColor(button, eventName, value);\n    };\n\n    /**\n     * hide all popovers\n     * @param {jQuery} $popover - popover container\n     */\n    this.hide = function ($popover) {\n      $popover.children().hide();\n    };\n  };\n\n  /**\n   * @class module.Handle\n   *\n   * Handle\n   */\n  var Handle = function (handler) {\n    var $document = $(document);\n\n    /**\n     * `mousedown` event handler on $handle\n     *  - controlSizing: resize image\n     *\n     * @param {MouseEvent} event\n     */\n    var hHandleMousedown = function (event) {\n      if (dom.isControlSizing(event.target)) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        var layoutInfo = dom.makeLayoutInfo(event.target),\n            $handle = layoutInfo.handle(),\n            $popover = layoutInfo.popover(),\n            $editable = layoutInfo.editable(),\n            $editor = layoutInfo.editor();\n\n        var target = $handle.find('.note-control-selection').data('target'),\n            $target = $(target), posStart = $target.offset(),\n            scrollTop = $document.scrollTop();\n\n        var isAirMode = $editor.data('options').airMode;\n\n        $document.on('mousemove', function (event) {\n          handler.invoke('editor.resizeTo', {\n            x: event.clientX - posStart.left,\n            y: event.clientY - (posStart.top - scrollTop)\n          }, $target, !event.shiftKey);\n\n          handler.invoke('handle.update', $handle, {image: target}, isAirMode);\n          handler.invoke('popover.update', $popover, {image: target}, isAirMode);\n        }).one('mouseup', function () {\n          $document.off('mousemove');\n          handler.invoke('editor.afterCommand', $editable);\n        });\n\n        if (!$target.data('ratio')) { // original ratio.\n          $target.data('ratio', $target.height() / $target.width());\n        }\n      }\n    };\n\n    this.attach = function (layoutInfo) {\n      layoutInfo.handle().on('mousedown', hHandleMousedown);\n    };\n\n    /**\n     * update handle\n     * @param {jQuery} $handle\n     * @param {Object} styleInfo\n     * @param {Boolean} isAirMode\n     */\n    this.update = function ($handle, styleInfo, isAirMode) {\n      var $selection = $handle.find('.note-control-selection');\n      if (styleInfo.image) {\n        var $image = $(styleInfo.image);\n        var pos = isAirMode ? $image.offset() : $image.position();\n\n        // include margin\n        var imageSize = {\n          w: $image.outerWidth(true),\n          h: $image.outerHeight(true)\n        };\n\n        $selection.css({\n          display: 'block',\n          left: pos.left,\n          top: pos.top,\n          width: imageSize.w,\n          height: imageSize.h\n        }).data('target', styleInfo.image); // save current image element.\n        var sizingText = imageSize.w + 'x' + imageSize.h;\n        $selection.find('.note-control-selection-info').text(sizingText);\n      } else {\n        $selection.hide();\n      }\n    };\n\n    /**\n     * hide\n     *\n     * @param {jQuery} $handle\n     */\n    this.hide = function ($handle) {\n      $handle.children().hide();\n    };\n  };\n\n  var Fullscreen = function (handler) {\n    var $window = $(window);\n    var $scrollbar = $('html, body');\n\n    /**\n     * toggle fullscreen\n     *\n     * @param {Object} layoutInfo\n     */\n    this.toggle = function (layoutInfo) {\n\n      var $editor = layoutInfo.editor(),\n          $toolbar = layoutInfo.toolbar(),\n          $editable = layoutInfo.editable(),\n          $codable = layoutInfo.codable();\n\n      var resize = function (size) {\n        $editable.css('height', size.h);\n        $codable.css('height', size.h);\n        if ($codable.data('cmeditor')) {\n          $codable.data('cmeditor').setsize(null, size.h);\n        }\n      };\n\n      $editor.toggleClass('fullscreen');\n      var isFullscreen = $editor.hasClass('fullscreen');\n      if (isFullscreen) {\n        $editable.data('orgheight', $editable.css('height'));\n\n        $window.on('resize', function () {\n          resize({\n            h: $window.height() - $toolbar.outerHeight()\n          });\n        }).trigger('resize');\n\n        $scrollbar.css('overflow', 'hidden');\n      } else {\n        $window.off('resize');\n        resize({\n          h: $editable.data('orgheight')\n        });\n        $scrollbar.css('overflow', 'visible');\n      }\n\n      handler.invoke('toolbar.updateFullscreen', $toolbar, isFullscreen);\n    };\n  };\n\n\n  var CodeMirror;\n  if (agent.hasCodeMirror) {\n    if (agent.isSupportAmd) {\n      require(['CodeMirror'], function (cm) {\n        CodeMirror = cm;\n      });\n    } else {\n      CodeMirror = window.CodeMirror;\n    }\n  }\n\n  /**\n   * @class Codeview\n   */\n  var Codeview = function (handler) {\n\n    this.sync = function (layoutInfo) {\n      var isCodeview = handler.invoke('codeview.isActivated', layoutInfo);\n      if (isCodeview && agent.hasCodeMirror) {\n        layoutInfo.codable().data('cmEditor').save();\n      }\n    };\n\n    /**\n     * @param {Object} layoutInfo\n     * @return {Boolean}\n     */\n    this.isActivated = function (layoutInfo) {\n      var $editor = layoutInfo.editor();\n      return $editor.hasClass('codeview');\n    };\n\n    /**\n     * toggle codeview\n     *\n     * @param {Object} layoutInfo\n     */\n    this.toggle = function (layoutInfo) {\n      if (this.isActivated(layoutInfo)) {\n        this.deactivate(layoutInfo);\n      } else {\n        this.activate(layoutInfo);\n      }\n    };\n\n    /**\n     * activate code view\n     *\n     * @param {Object} layoutInfo\n     */\n    this.activate = function (layoutInfo) {\n      var $editor = layoutInfo.editor(),\n          $toolbar = layoutInfo.toolbar(),\n          $editable = layoutInfo.editable(),\n          $codable = layoutInfo.codable(),\n          $popover = layoutInfo.popover(),\n          $handle = layoutInfo.handle();\n\n      var options = $editor.data('options');\n\n      $codable.val(dom.html($editable, options.prettifyHtml));\n      $codable.height($editable.height());\n\n      handler.invoke('toolbar.updateCodeview', $toolbar, true);\n      handler.invoke('popover.hide', $popover);\n      handler.invoke('handle.hide', $handle);\n\n      $editor.addClass('codeview');\n\n      $codable.focus();\n\n      // activate CodeMirror as codable\n      if (agent.hasCodeMirror) {\n        var cmEditor = CodeMirror.fromTextArea($codable[0], options.codemirror);\n\n        // CodeMirror TernServer\n        if (options.codemirror.tern) {\n          var server = new CodeMirror.TernServer(options.codemirror.tern);\n          cmEditor.ternServer = server;\n          cmEditor.on('cursorActivity', function (cm) {\n            server.updateArgHints(cm);\n          });\n        }\n\n        // CodeMirror hasn't Padding.\n        cmEditor.setSize(null, $editable.outerHeight());\n        $codable.data('cmEditor', cmEditor);\n      }\n    };\n\n    /**\n     * deactivate code view\n     *\n     * @param {Object} layoutInfo\n     */\n    this.deactivate = function (layoutInfo) {\n      var $holder = layoutInfo.holder(),\n          $editor = layoutInfo.editor(),\n          $toolbar = layoutInfo.toolbar(),\n          $editable = layoutInfo.editable(),\n          $codable = layoutInfo.codable();\n\n      var options = $editor.data('options');\n\n      // deactivate CodeMirror as codable\n      if (agent.hasCodeMirror) {\n        var cmEditor = $codable.data('cmEditor');\n        $codable.val(cmEditor.getValue());\n        cmEditor.toTextArea();\n      }\n\n      var value = dom.value($codable, options.prettifyHtml) || dom.emptyPara;\n      var isChange = $editable.html() !== value;\n\n      $editable.html(value);\n      $editable.height(options.height ? $codable.height() : 'auto');\n      $editor.removeClass('codeview');\n\n      if (isChange) {\n        handler.bindCustomEvent(\n          $holder, $editable.data('callbacks'), 'change'\n        )($editable.html(), $editable);\n      }\n\n      $editable.focus();\n\n      handler.invoke('toolbar.updateCodeview', $toolbar, false);\n    };\n  };\n\n  var DragAndDrop = function (handler) {\n    var $document = $(document);\n\n    /**\n     * attach Drag and Drop Events\n     *\n     * @param {Object} layoutInfo - layout Informations\n     * @param {Object} options\n     */\n    this.attach = function (layoutInfo, options) {\n      if (options.airMode || options.disableDragAndDrop) {\n        // prevent default drop event\n        $document.on('drop', function (e) {\n          e.preventDefault();\n        });\n      } else {\n        this.attachDragAndDropEvent(layoutInfo, options);\n      }\n    };\n\n    /**\n     * attach Drag and Drop Events\n     *\n     * @param {Object} layoutInfo - layout Informations\n     * @param {Object} options\n     */\n    this.attachDragAndDropEvent = function (layoutInfo, options) {\n      var collection = $(),\n          $editor = layoutInfo.editor(),\n          $dropzone = layoutInfo.dropzone(),\n          $dropzoneMessage = $dropzone.find('.note-dropzone-message');\n\n      // show dropzone on dragenter when dragging a object to document\n      // -but only if the editor is visible, i.e. has a positive width and height\n      $document.on('dragenter', function (e) {\n        var isCodeview = handler.invoke('codeview.isActivated', layoutInfo);\n        var hasEditorSize = $editor.width() > 0 && $editor.height() > 0;\n        if (!isCodeview && !collection.length && hasEditorSize) {\n          $editor.addClass('dragover');\n          $dropzone.width($editor.width());\n          $dropzone.height($editor.height());\n          $dropzoneMessage.text(options.langInfo.image.dragImageHere);\n        }\n        collection = collection.add(e.target);\n      }).on('dragleave', function (e) {\n        collection = collection.not(e.target);\n        if (!collection.length) {\n          $editor.removeClass('dragover');\n        }\n      }).on('drop', function () {\n        collection = $();\n        $editor.removeClass('dragover');\n      });\n\n      // change dropzone's message on hover.\n      $dropzone.on('dragenter', function () {\n        $dropzone.addClass('hover');\n        $dropzoneMessage.text(options.langInfo.image.dropImage);\n      }).on('dragleave', function () {\n        $dropzone.removeClass('hover');\n        $dropzoneMessage.text(options.langInfo.image.dragImageHere);\n      });\n\n      // attach dropImage\n      $dropzone.on('drop', function (event) {\n        event.preventDefault();\n\n        var dataTransfer = event.originalEvent.dataTransfer;\n        var html = dataTransfer.getData('text/html');\n        var text = dataTransfer.getData('text/plain');\n\n        var layoutInfo = dom.makeLayoutInfo(event.currentTarget || event.target);\n\n        if (dataTransfer && dataTransfer.files && dataTransfer.files.length) {\n          layoutInfo.editable().focus();\n          handler.insertImages(layoutInfo, dataTransfer.files);\n        } else if (html) {\n          $(html).each(function () {\n            layoutInfo.editable().focus();\n            handler.invoke('editor.insertNode', layoutInfo.editable(), this);\n          });\n        } else if (text) {\n          layoutInfo.editable().focus();\n          handler.invoke('editor.insertText', layoutInfo.editable(), text);\n        }\n      }).on('dragover', false); // prevent default dragover event\n    };\n  };\n\n  var Clipboard = function (handler) {\n\n    this.attach = function (layoutInfo) {\n      layoutInfo.editable().on('paste', hPasteClipboardImage);\n    };\n\n    /**\n     * paste clipboard image\n     *\n     * @param {Event} event\n     */\n    var hPasteClipboardImage = function (event) {\n      var clipboardData = event.originalEvent.clipboardData;\n      var layoutInfo = dom.makeLayoutInfo(event.currentTarget || event.target);\n      var $editable = layoutInfo.editable();\n\n      if (!clipboardData || !clipboardData.items || !clipboardData.items.length) {\n        var callbacks = $editable.data('callbacks');\n        // only can run if it has onImageUpload method\n        if (!callbacks.onImageUpload) {\n          return;\n        }\n\n        // save cursor\n        handler.invoke('editor.saveNode', $editable);\n        handler.invoke('editor.saveRange', $editable);\n\n        $editable.html('');\n\n        setTimeout(function () {\n          var $img = $editable.find('img');\n\n          // if img is no in clipboard, insert text or dom\n          if (!$img.length || $img[0].src.indexOf('data:') === -1) {\n            var html = $editable.html();\n\n            handler.invoke('editor.restoreNode', $editable);\n            handler.invoke('editor.restoreRange', $editable);\n\n            handler.invoke('editor.focus', $editable);\n            try {\n              handler.invoke('editor.pasteHTML', $editable, html);\n            } catch (ex) {\n              handler.invoke('editor.insertText', $editable, html);\n            }\n            return;\n          }\n\n          var datauri = $img[0].src;\n\n          var data = atob(datauri.split(',')[1]);\n          var array = new Uint8Array(data.length);\n          for (var i = 0; i < data.length; i++) {\n            array[i] = data.charCodeAt(i);\n          }\n\n          var blob = new Blob([array], { type : 'image/png' });\n          blob.name = 'clipboard.png';\n\n          handler.invoke('editor.restoreNode', $editable);\n          handler.invoke('editor.restoreRange', $editable);\n          handler.insertImages(layoutInfo, [blob]);\n\n          handler.invoke('editor.afterCommand', $editable);\n        }, 0);\n\n        return;\n      }\n\n      var item = list.head(clipboardData.items);\n      var isClipboardImage = item.kind === 'file' && item.type.indexOf('image/') !== -1;\n\n      if (isClipboardImage) {\n        handler.insertImages(layoutInfo, [item.getAsFile()]);\n      }\n\n      handler.invoke('editor.afterCommand', $editable);\n    };\n  };\n\n  var LinkDialog = function (handler) {\n\n    /**\n     * toggle button status\n     *\n     * @private\n     * @param {jQuery} $btn\n     * @param {Boolean} isEnable\n     */\n    var toggleBtn = function ($btn, isEnable) {\n      $btn.toggleClass('disabled', !isEnable);\n      $btn.attr('disabled', !isEnable);\n    };\n\n    /**\n     * bind enter key\n     *\n     * @private\n     * @param {jQuery} $input\n     * @param {jQuery} $btn\n     */\n    var bindEnterKey = function ($input, $btn) {\n      $input.on('keypress', function (event) {\n        if (event.keyCode === key.code.ENTER) {\n          $btn.trigger('click');\n        }\n      });\n    };\n\n    /**\n     * Show link dialog and set event handlers on dialog controls.\n     *\n     * @param {jQuery} $editable\n     * @param {jQuery} $dialog\n     * @param {Object} linkInfo\n     * @return {Promise}\n     */\n    this.showLinkDialog = function ($editable, $dialog, linkInfo) {\n      return $.Deferred(function (deferred) {\n        var $linkDialog = $dialog.find('.note-link-dialog');\n\n        var $linkText = $linkDialog.find('.note-link-text'),\n        $linkUrl = $linkDialog.find('.note-link-url'),\n        $linkBtn = $linkDialog.find('.note-link-btn'),\n        $openInNewWindow = $linkDialog.find('input[type=checkbox]');\n\n        $linkDialog.one('shown.bs.modal', function () {\n          $linkText.val(linkInfo.text);\n\n          $linkText.on('input', function () {\n            // if linktext was modified by keyup,\n            // stop cloning text from linkUrl\n            linkInfo.text = $linkText.val();\n          });\n\n          // if no url was given, copy text to url\n          if (!linkInfo.url) {\n            linkInfo.url = linkInfo.text;\n            toggleBtn($linkBtn, linkInfo.text);\n          }\n\n          $linkUrl.on('input', function () {\n            toggleBtn($linkBtn, $linkUrl.val());\n            // display same link on `Text to display` input\n            // when create a new link\n            if (!linkInfo.text) {\n              $linkText.val($linkUrl.val());\n            }\n          }).val(linkInfo.url).trigger('focus').trigger('select');\n\n          bindEnterKey($linkUrl, $linkBtn);\n          bindEnterKey($linkText, $linkBtn);\n\n          $openInNewWindow.prop('checked', linkInfo.newWindow);\n\n          $linkBtn.one('click', function (event) {\n            event.preventDefault();\n\n            deferred.resolve({\n              range: linkInfo.range,\n              url: $linkUrl.val(),\n              text: $linkText.val(),\n              newWindow: $openInNewWindow.is(':checked')\n            });\n            $linkDialog.modal('hide');\n          });\n        }).one('hidden.bs.modal', function () {\n          // detach events\n          $linkText.off('input keypress');\n          $linkUrl.off('input keypress');\n          $linkBtn.off('click');\n\n          if (deferred.state() === 'pending') {\n            deferred.reject();\n          }\n        }).modal('show');\n      }).promise();\n    };\n\n    /**\n     * @param {Object} layoutInfo\n     */\n    this.show = function (layoutInfo) {\n      var $editor = layoutInfo.editor(),\n          $dialog = layoutInfo.dialog(),\n          $editable = layoutInfo.editable(),\n          $popover = layoutInfo.popover(),\n          linkInfo = handler.invoke('editor.getLinkInfo', $editable);\n\n      var options = $editor.data('options');\n\n      handler.invoke('editor.saveRange', $editable);\n      this.showLinkDialog($editable, $dialog, linkInfo).then(function (linkInfo) {\n        handler.invoke('editor.restoreRange', $editable);\n        handler.invoke('editor.createLink', $editable, linkInfo, options);\n        // hide popover after creating link\n        handler.invoke('popover.hide', $popover);\n      }).fail(function () {\n        handler.invoke('editor.restoreRange', $editable);\n      });\n    };\n  };\n\n  var ImageDialog = function (handler) {\n    /**\n     * toggle button status\n     *\n     * @private\n     * @param {jQuery} $btn\n     * @param {Boolean} isEnable\n     */\n    var toggleBtn = function ($btn, isEnable) {\n      $btn.toggleClass('disabled', !isEnable);\n      $btn.attr('disabled', !isEnable);\n    };\n\n    /**\n     * bind enter key\n     *\n     * @private\n     * @param {jQuery} $input\n     * @param {jQuery} $btn\n     */\n    var bindEnterKey = function ($input, $btn) {\n      $input.on('keypress', function (event) {\n        if (event.keyCode === key.code.ENTER) {\n          $btn.trigger('click');\n        }\n      });\n    };\n\n    this.show = function (layoutInfo) {\n      var $dialog = layoutInfo.dialog(),\n          $editable = layoutInfo.editable();\n\n      handler.invoke('editor.saveRange', $editable);\n      this.showImageDialog($editable, $dialog).then(function (data) {\n        handler.invoke('editor.restoreRange', $editable);\n\n        if (typeof data === 'string') {\n          // image url\n          handler.invoke('editor.insertImage', $editable, data);\n        } else {\n          // array of files\n          handler.insertImages(layoutInfo, data);\n        }\n      }).fail(function () {\n        handler.invoke('editor.restoreRange', $editable);\n      });\n    };\n\n    /**\n     * show image dialog\n     *\n     * @param {jQuery} $editable\n     * @param {jQuery} $dialog\n     * @return {Promise}\n     */\n    this.showImageDialog = function ($editable, $dialog) {\n      return $.Deferred(function (deferred) {\n        var $imageDialog = $dialog.find('.note-image-dialog');\n\n        var $imageInput = $dialog.find('.note-image-input'),\n            $imageUrl = $dialog.find('.note-image-url'),\n            $imageBtn = $dialog.find('.note-image-btn');\n\n        $imageDialog.one('shown.bs.modal', function () {\n          // Cloning imageInput to clear element.\n          $imageInput.replaceWith($imageInput.clone()\n            .on('change', function () {\n              deferred.resolve(this.files || this.value);\n              $imageDialog.modal('hide');\n            })\n            .val('')\n          );\n\n          $imageBtn.click(function (event) {\n            event.preventDefault();\n\n            deferred.resolve($imageUrl.val());\n            $imageDialog.modal('hide');\n          });\n\n          $imageUrl.on('keyup paste', function (event) {\n            var url;\n            \n            if (event.type === 'paste') {\n              url = event.originalEvent.clipboardData.getData('text');\n            } else {\n              url = $imageUrl.val();\n            }\n            \n            toggleBtn($imageBtn, url);\n          }).val('').trigger('focus');\n          bindEnterKey($imageUrl, $imageBtn);\n        }).one('hidden.bs.modal', function () {\n          $imageInput.off('change');\n          $imageUrl.off('keyup paste keypress');\n          $imageBtn.off('click');\n\n          if (deferred.state() === 'pending') {\n            deferred.reject();\n          }\n        }).modal('show');\n      });\n    };\n  };\n\n  var HelpDialog = function (handler) {\n    /**\n     * show help dialog\n     *\n     * @param {jQuery} $editable\n     * @param {jQuery} $dialog\n     * @return {Promise}\n     */\n    this.showHelpDialog = function ($editable, $dialog) {\n      return $.Deferred(function (deferred) {\n        var $helpDialog = $dialog.find('.note-help-dialog');\n\n        $helpDialog.one('hidden.bs.modal', function () {\n          deferred.resolve();\n        }).modal('show');\n      }).promise();\n    };\n\n    /**\n     * @param {Object} layoutInfo\n     */\n    this.show = function (layoutInfo) {\n      var $dialog = layoutInfo.dialog(),\n          $editable = layoutInfo.editable();\n\n      handler.invoke('editor.saveRange', $editable, true);\n      this.showHelpDialog($editable, $dialog).then(function () {\n        handler.invoke('editor.restoreRange', $editable);\n      });\n    };\n  };\n\n\n  /**\n   * @class EventHandler\n   *\n   * EventHandler\n   *  - TODO: new instance per a editor\n   */\n  var EventHandler = function () {\n    /**\n     * Modules\n     */\n    var modules = this.modules = {\n      editor: new Editor(this),\n      toolbar: new Toolbar(this),\n      statusbar: new Statusbar(this),\n      popover: new Popover(this),\n      handle: new Handle(this),\n      fullscreen: new Fullscreen(this),\n      codeview: new Codeview(this),\n      dragAndDrop: new DragAndDrop(this),\n      clipboard: new Clipboard(this),\n      linkDialog: new LinkDialog(this),\n      imageDialog: new ImageDialog(this),\n      helpDialog: new HelpDialog(this)\n    };\n\n    /**\n     * invoke module's method\n     *\n     * @param {String} moduleAndMethod - ex) 'editor.redo'\n     * @param {...*} arguments - arguments of method\n     * @return {*}\n     */\n    this.invoke = function () {\n      var moduleAndMethod = list.head(list.from(arguments));\n      var args = list.tail(list.from(arguments));\n\n      var splits = moduleAndMethod.split('.');\n      var hasSeparator = splits.length > 1;\n      var moduleName = hasSeparator && list.head(splits);\n      var methodName = hasSeparator ? list.last(splits) : list.head(splits);\n\n      var module = this.getModule(moduleName);\n      var method = module[methodName];\n\n      return method && method.apply(module, args);\n    };\n\n    /**\n     * returns module\n     *\n     * @param {String} moduleName - name of module\n     * @return {Module} - defaults is editor\n     */\n    this.getModule = function (moduleName) {\n      return this.modules[moduleName] || this.modules.editor;\n    };\n\n    /**\n     * @param {jQuery} $holder\n     * @param {Object} callbacks\n     * @param {String} eventNamespace\n     * @returns {Function}\n     */\n    var bindCustomEvent = this.bindCustomEvent = function ($holder, callbacks, eventNamespace) {\n      return function () {\n        var callback = callbacks[func.namespaceToCamel(eventNamespace, 'on')];\n        if (callback) {\n          callback.apply($holder[0], arguments);\n        }\n        return $holder.trigger('summernote.' + eventNamespace, arguments);\n      };\n    };\n\n    /**\n     * insert Images from file array.\n     *\n     * @private\n     * @param {Object} layoutInfo\n     * @param {File[]} files\n     */\n    this.insertImages = function (layoutInfo, files) {\n      var $editor = layoutInfo.editor(),\n          $editable = layoutInfo.editable(),\n          $holder = layoutInfo.holder();\n\n      var callbacks = $editable.data('callbacks');\n      var options = $editor.data('options');\n\n      // If onImageUpload options setted\n      if (callbacks.onImageUpload) {\n        bindCustomEvent($holder, callbacks, 'image.upload')(files);\n      // else insert Image as dataURL\n      } else {\n        $.each(files, function (idx, file) {\n          var filename = file.name;\n          if (options.maximumImageFileSize && options.maximumImageFileSize < file.size) {\n            bindCustomEvent($holder, callbacks, 'image.upload.error')(options.langInfo.image.maximumFileSizeError);\n          } else {\n            async.readFileAsDataURL(file).then(function (sDataURL) {\n              modules.editor.insertImage($editable, sDataURL, filename);\n            }).fail(function () {\n              bindCustomEvent($holder, callbacks, 'image.upload.error')(options.langInfo.image.maximumFileSizeError);\n            });\n          }\n        });\n      }\n    };\n\n    var commands = {\n      /**\n       * @param {Object} layoutInfo\n       */\n      showLinkDialog: function (layoutInfo) {\n        modules.linkDialog.show(layoutInfo);\n      },\n\n      /**\n       * @param {Object} layoutInfo\n       */\n      showImageDialog: function (layoutInfo) {\n        modules.imageDialog.show(layoutInfo);\n      },\n\n      /**\n       * @param {Object} layoutInfo\n       */\n      showHelpDialog: function (layoutInfo) {\n        modules.helpDialog.show(layoutInfo);\n      },\n\n      /**\n       * @param {Object} layoutInfo\n       */\n      fullscreen: function (layoutInfo) {\n        modules.fullscreen.toggle(layoutInfo);\n      },\n\n      /**\n       * @param {Object} layoutInfo\n       */\n      codeview: function (layoutInfo) {\n        modules.codeview.toggle(layoutInfo);\n      }\n    };\n\n    var hMousedown = function (event) {\n      //preventDefault Selection for FF, IE8+\n      if (dom.isImg(event.target)) {\n        event.preventDefault();\n      }\n    };\n\n    var hToolbarAndPopoverUpdate = function (event) {\n      // delay for range after mouseup\n      setTimeout(function () {\n        var layoutInfo = dom.makeLayoutInfo(event.currentTarget || event.target);\n        var styleInfo = modules.editor.currentStyle(event.target);\n        if (!styleInfo) { return; }\n\n        var isAirMode = layoutInfo.editor().data('options').airMode;\n        if (!isAirMode) {\n          modules.toolbar.update(layoutInfo.toolbar(), styleInfo);\n        }\n\n        modules.popover.update(layoutInfo.popover(), styleInfo, isAirMode);\n        modules.handle.update(layoutInfo.handle(), styleInfo, isAirMode);\n      }, 0);\n    };\n\n    var hScroll = function (event) {\n      var layoutInfo = dom.makeLayoutInfo(event.currentTarget || event.target);\n      //hide popover and handle when scrolled\n      modules.popover.hide(layoutInfo.popover());\n      modules.handle.hide(layoutInfo.handle());\n    };\n\n    var hToolbarAndPopoverMousedown = function (event) {\n      // prevent default event when insertTable (FF, Webkit)\n      var $btn = $(event.target).closest('[data-event]');\n      if ($btn.length) {\n        event.preventDefault();\n      }\n    };\n\n    var hToolbarAndPopoverClick = function (event) {\n      var $btn = $(event.target).closest('[data-event]');\n\n      if ($btn.length) {\n        var eventName = $btn.attr('data-event'),\n            value = $btn.attr('data-value'),\n            hide = $btn.attr('data-hide');\n\n        var layoutInfo = dom.makeLayoutInfo(event.target);\n\n        // before command: detect control selection element($target)\n        var $target;\n        if ($.inArray(eventName, ['resize', 'floatMe', 'removeMedia', 'imageShape']) !== -1) {\n          var $selection = layoutInfo.handle().find('.note-control-selection');\n          $target = $($selection.data('target'));\n        }\n\n        // If requested, hide the popover when the button is clicked.\n        // Useful for things like showHelpDialog.\n        if (hide) {\n          $btn.parents('.popover').hide();\n        }\n\n        if ($.isFunction($.summernote.pluginEvents[eventName])) {\n          $.summernote.pluginEvents[eventName](event, modules.editor, layoutInfo, value);\n        } else if (modules.editor[eventName]) { // on command\n          var $editable = layoutInfo.editable();\n          $editable.focus();\n          modules.editor[eventName]($editable, value, $target);\n          event.preventDefault();\n        } else if (commands[eventName]) {\n          commands[eventName].call(this, layoutInfo);\n          event.preventDefault();\n        }\n\n        // after command\n        if ($.inArray(eventName, ['backColor', 'foreColor']) !== -1) {\n          var options = layoutInfo.editor().data('options', options);\n          var module = options.airMode ? modules.popover : modules.toolbar;\n          module.updateRecentColor(list.head($btn), eventName, value);\n        }\n\n        hToolbarAndPopoverUpdate(event);\n      }\n    };\n\n    var PX_PER_EM = 18;\n    var hDimensionPickerMove = function (event, options) {\n      var $picker = $(event.target.parentNode); // target is mousecatcher\n      var $dimensionDisplay = $picker.next();\n      var $catcher = $picker.find('.note-dimension-picker-mousecatcher');\n      var $highlighted = $picker.find('.note-dimension-picker-highlighted');\n      var $unhighlighted = $picker.find('.note-dimension-picker-unhighlighted');\n\n      var posOffset;\n      // HTML5 with jQuery - e.offsetX is undefined in Firefox\n      if (event.offsetX === undefined) {\n        var posCatcher = $(event.target).offset();\n        posOffset = {\n          x: event.pageX - posCatcher.left,\n          y: event.pageY - posCatcher.top\n        };\n      } else {\n        posOffset = {\n          x: event.offsetX,\n          y: event.offsetY\n        };\n      }\n\n      var dim = {\n        c: Math.ceil(posOffset.x / PX_PER_EM) || 1,\n        r: Math.ceil(posOffset.y / PX_PER_EM) || 1\n      };\n\n      $highlighted.css({ width: dim.c + 'em', height: dim.r + 'em' });\n      $catcher.attr('data-value', dim.c + 'x' + dim.r);\n\n      if (3 < dim.c && dim.c < options.insertTableMaxSize.col) {\n        $unhighlighted.css({ width: dim.c + 1 + 'em'});\n      }\n\n      if (3 < dim.r && dim.r < options.insertTableMaxSize.row) {\n        $unhighlighted.css({ height: dim.r + 1 + 'em'});\n      }\n\n      $dimensionDisplay.html(dim.c + ' x ' + dim.r);\n    };\n    \n    /**\n     * bind KeyMap on keydown\n     *\n     * @param {Object} layoutInfo\n     * @param {Object} keyMap\n     */\n    this.bindKeyMap = function (layoutInfo, keyMap) {\n      var $editor = layoutInfo.editor();\n      var $editable = layoutInfo.editable();\n\n      $editable.on('keydown', function (event) {\n        var keys = [];\n\n        // modifier\n        if (event.metaKey) { keys.push('CMD'); }\n        if (event.ctrlKey && !event.altKey) { keys.push('CTRL'); }\n        if (event.shiftKey) { keys.push('SHIFT'); }\n\n        // keycode\n        var keyName = key.nameFromCode[event.keyCode];\n        if (keyName) {\n          keys.push(keyName);\n        }\n\n        var eventName = keyMap[keys.join('+')];\n        if (eventName) {\n          if ($.summernote.pluginEvents[eventName]) {\n            var plugin = $.summernote.pluginEvents[eventName];\n            if ($.isFunction(plugin)) {\n              plugin(event, modules.editor, layoutInfo);\n            }\n          } else if (modules.editor[eventName]) {\n            modules.editor[eventName]($editable, $editor.data('options'));\n            event.preventDefault();\n          } else if (commands[eventName]) {\n            commands[eventName].call(this, layoutInfo);\n            event.preventDefault();\n          }\n        } else if (key.isEdit(event.keyCode)) {\n          modules.editor.afterCommand($editable);\n        }\n      });\n    };\n\n    /**\n     * attach eventhandler\n     *\n     * @param {Object} layoutInfo - layout Informations\n     * @param {Object} options - user options include custom event handlers\n     */\n    this.attach = function (layoutInfo, options) {\n      // handlers for editable\n      if (options.shortcuts) {\n        this.bindKeyMap(layoutInfo, options.keyMap[agent.isMac ? 'mac' : 'pc']);\n      }\n      layoutInfo.editable().on('mousedown', hMousedown);\n      layoutInfo.editable().on('keyup mouseup', hToolbarAndPopoverUpdate);\n      layoutInfo.editable().on('scroll', hScroll);\n      modules.clipboard.attach(layoutInfo, options);\n\n      // handler for handle and popover\n      modules.handle.attach(layoutInfo, options);\n      layoutInfo.popover().on('click', hToolbarAndPopoverClick);\n      layoutInfo.popover().on('mousedown', hToolbarAndPopoverMousedown);\n\n      // handler for drag and drop\n      modules.dragAndDrop.attach(layoutInfo, options);\n\n      // handlers for frame mode (toolbar, statusbar)\n      if (!options.airMode) {\n        // handler for toolbar\n        layoutInfo.toolbar().on('click', hToolbarAndPopoverClick);\n        layoutInfo.toolbar().on('mousedown', hToolbarAndPopoverMousedown);\n\n        // handler for statusbar\n        modules.statusbar.attach(layoutInfo, options);\n      }\n\n      // handler for table dimension\n      var $catcherContainer = options.airMode ? layoutInfo.popover() :\n                                                layoutInfo.toolbar();\n      var $catcher = $catcherContainer.find('.note-dimension-picker-mousecatcher');\n      $catcher.css({\n        width: options.insertTableMaxSize.col + 'em',\n        height: options.insertTableMaxSize.row + 'em'\n      }).on('mousemove', function (event) {\n        hDimensionPickerMove(event, options);\n      });\n\n      // save options on editor\n      layoutInfo.editor().data('options', options);\n\n      // ret styleWithCSS for backColor / foreColor clearing with 'inherit'.\n      if (!agent.isMSIE) {\n        // [workaround] for Firefox\n        //  - protect FF Error: NS_ERROR_FAILURE: Failure\n        setTimeout(function () {\n          document.execCommand('styleWithCSS', 0, options.styleWithSpan);\n        }, 0);\n      }\n\n      // History\n      var history = new History(layoutInfo.editable());\n      layoutInfo.editable().data('NoteHistory', history);\n\n      // All editor status will be saved on editable with jquery's data\n      // for support multiple editor with singleton object.\n      layoutInfo.editable().data('callbacks', {\n        onInit: options.onInit,\n        onFocus: options.onFocus,\n        onBlur: options.onBlur,\n        onKeydown: options.onKeydown,\n        onKeyup: options.onKeyup,\n        onMousedown: options.onMousedown,\n        onEnter: options.onEnter,\n        onPaste: options.onPaste,\n        onBeforeCommand: options.onBeforeCommand,\n        onChange: options.onChange,\n        onImageUpload: options.onImageUpload,\n        onImageUploadError: options.onImageUploadError,\n        onMediaDelete : options.onMediaDelete\n      });\n\n      // Textarea: auto filling the code before form submit.\n      if (dom.isTextarea(list.head(layoutInfo.holder()))) {\n        layoutInfo.holder().closest('form').submit(function () {\n          var contents = layoutInfo.holder().code();\n          layoutInfo.holder().val(contents);\n\n          // callback on submit\n          if (options.onsubmit) {\n            options.onsubmit(contents);\n          }\n        });\n      }\n    };\n\n    /**\n     * attach jquery custom event\n     *\n     * @param {Object} layoutInfo - layout Informations\n     */\n    this.attachCustomEvent = function (layoutInfo, options) {\n      var $holder = layoutInfo.holder();\n      var $editable = layoutInfo.editable();\n      var callbacks = $editable.data('callbacks');\n\n      $editable.focus(bindCustomEvent($holder, callbacks, 'focus'));\n      $editable.blur(bindCustomEvent($holder, callbacks, 'blur'));\n\n      $editable.keydown(function (event) {\n        if (event.keyCode === key.code.ENTER) {\n          bindCustomEvent($holder, callbacks, 'enter').call(this, event);\n        }\n        bindCustomEvent($holder, callbacks, 'keydown').call(this, event);\n      });\n      $editable.keyup(bindCustomEvent($holder, callbacks, 'keyup'));\n\n      $editable.on('mousedown', bindCustomEvent($holder, callbacks, 'mousedown'));\n      $editable.on('mouseup', bindCustomEvent($holder, callbacks, 'mouseup'));\n      $editable.on('scroll', bindCustomEvent($holder, callbacks, 'scroll'));\n\n      $editable.on('paste', bindCustomEvent($holder, callbacks, 'paste'));\n      \n      // [workaround] for old IE - IE8 don't have input events\n      //  - TODO check IE version\n      var changeEventName = agent.isMSIE ? 'DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted' : 'input';\n      $editable.on(changeEventName, function () {\n        bindCustomEvent($holder, callbacks, 'change')($editable.html(), $editable);\n      });\n\n      // callbacks for advanced features (camel)\n      if (!options.airMode) {\n        layoutInfo.toolbar().click(bindCustomEvent($holder, callbacks, 'toolbar.click'));\n        layoutInfo.popover().click(bindCustomEvent($holder, callbacks, 'popover.click'));\n      }\n\n      // Textarea: auto filling the code before form submit.\n      if (dom.isTextarea(list.head($holder))) {\n        $holder.closest('form').submit(function (e) {\n          bindCustomEvent($holder, callbacks, 'submit').call(this, e, $holder.code());\n        });\n      }\n\n      // fire init event\n      bindCustomEvent($holder, callbacks, 'init')(layoutInfo);\n\n      // fire plugin init event\n      for (var i = 0, len = $.summernote.plugins.length; i < len; i++) {\n        if ($.isFunction($.summernote.plugins[i].init)) {\n          $.summernote.plugins[i].init(layoutInfo);\n        }\n      }\n    };\n      \n    this.detach = function (layoutInfo, options) {\n      layoutInfo.holder().off();\n      layoutInfo.editable().off();\n\n      layoutInfo.popover().off();\n      layoutInfo.handle().off();\n      layoutInfo.dialog().off();\n\n      if (!options.airMode) {\n        layoutInfo.dropzone().off();\n        layoutInfo.toolbar().off();\n        layoutInfo.statusbar().off();\n      }\n    };\n  };\n\n  /**\n   * @class Renderer\n   *\n   * renderer\n   *\n   * rendering toolbar and editable\n   */\n  var Renderer = function () {\n\n    /**\n     * bootstrap button template\n     * @private\n     * @param {String} label button name\n     * @param {Object} [options] button options\n     * @param {String} [options.event] data-event\n     * @param {String} [options.className] button's class name\n     * @param {String} [options.value] data-value\n     * @param {String} [options.title] button's title for popup\n     * @param {String} [options.dropdown] dropdown html\n     * @param {String} [options.hide] data-hide\n     */\n    var tplButton = function (label, options) {\n      var event = options.event;\n      var value = options.value;\n      var title = options.title;\n      var className = options.className;\n      var dropdown = options.dropdown;\n      var hide = options.hide;\n\n      return '<button type=\"button\"' +\n                 ' class=\"btn btn-default btn-sm btn-small' +\n                   (className ? ' ' + className : '') +\n                   (dropdown ? ' dropdown-toggle' : '') +\n                 '\"' +\n                 (dropdown ? ' data-toggle=\"dropdown\"' : '') +\n                 (title ? ' title=\"' + title + '\"' : '') +\n                 (event ? ' data-event=\"' + event + '\"' : '') +\n                 (value ? ' data-value=\\'' + value + '\\'' : '') +\n                 (hide ? ' data-hide=\\'' + hide + '\\'' : '') +\n                 ' tabindex=\"-1\">' +\n               label +\n               (dropdown ? ' <span class=\"caret\"></span>' : '') +\n             '</button>' +\n             (dropdown || '');\n    };\n\n    /**\n     * bootstrap icon button template\n     * @private\n     * @param {String} iconClassName\n     * @param {Object} [options]\n     * @param {String} [options.event]\n     * @param {String} [options.value]\n     * @param {String} [options.title]\n     * @param {String} [options.dropdown]\n     */\n    var tplIconButton = function (iconClassName, options) {\n      var label = '<i class=\"' + iconClassName + '\"></i>';\n      return tplButton(label, options);\n    };\n\n    /**\n     * bootstrap popover template\n     * @private\n     * @param {String} className\n     * @param {String} content\n     */\n    var tplPopover = function (className, content) {\n      var $popover = $('<div class=\"' + className + ' popover bottom in\" style=\"display: none;\">' +\n               '<div class=\"arrow\"></div>' +\n               '<div class=\"popover-content\">' +\n               '</div>' +\n             '</div>');\n      \n      $popover.find('.popover-content').append(content);\n      return $popover;\n    };\n\n    /**\n     * bootstrap dialog template\n     *\n     * @param {String} className\n     * @param {String} [title='']\n     * @param {String} body\n     * @param {String} [footer='']\n     */\n    var tplDialog = function (className, title, body, footer) {\n      return '<div class=\"' + className + ' modal\" aria-hidden=\"false\">' +\n               '<div class=\"modal-dialog\">' +\n                 '<div class=\"modal-content\">' +\n                   (title ?\n                   '<div class=\"modal-header\">' +\n                     '<button type=\"button\" class=\"close\" aria-hidden=\"true\" tabindex=\"-1\">&times;</button>' +\n                     '<h4 class=\"modal-title\">' + title + '</h4>' +\n                   '</div>' : ''\n                   ) +\n                   '<div class=\"modal-body\">' + body + '</div>' +\n                   (footer ?\n                   '<div class=\"modal-footer\">' + footer + '</div>' : ''\n                   ) +\n                 '</div>' +\n               '</div>' +\n             '</div>';\n    };\n\n    var tplButtonInfo = {\n      picture: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'picture-o', {\n          event: 'showImageDialog',\n          title: lang.image.image,\n          hide: true\n        });\n      },\n      link: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'link', {\n          event: 'showLinkDialog',\n          title: lang.link.link,\n          hide: true\n        });\n      },\n      table: function (lang, options) {\n        var dropdown = '<ul class=\"note-table dropdown-menu\">' +\n                         '<div class=\"note-dimension-picker\">' +\n                           '<div class=\"note-dimension-picker-mousecatcher\" data-event=\"insertTable\" data-value=\"1x1\"></div>' +\n                           '<div class=\"note-dimension-picker-highlighted\"></div>' +\n                           '<div class=\"note-dimension-picker-unhighlighted\"></div>' +\n                         '</div>' +\n                         '<div class=\"note-dimension-display\"> 1 x 1 </div>' +\n                       '</ul>';\n        return tplIconButton(options.iconPrefix + 'table', {\n          title: lang.table.table,\n          dropdown: dropdown\n        });\n      },\n      style: function (lang, options) {\n        var items = options.styleTags.reduce(function (memo, v) {\n          var label = lang.style[v === 'p' ? 'normal' : v];\n          return memo + '<li><a data-event=\"formatBlock\" href=\"#\" data-value=\"' + v + '\">' +\n                   (\n                     (v === 'p' || v === 'pre') ? label :\n                     '<' + v + '>' + label + '</' + v + '>'\n                   ) +\n                 '</a></li>';\n        }, '');\n\n        return tplIconButton(options.iconPrefix + 'magic', {\n          title: lang.style.style,\n          dropdown: '<ul class=\"dropdown-menu\">' + items + '</ul>'\n        });\n      },\n      fontname: function (lang, options) {\n        var realFontList = [];\n        var items = options.fontNames.reduce(function (memo, v) {\n          if (!agent.isFontInstalled(v) && options.fontNamesIgnoreCheck.indexOf(v) === -1) {\n            return memo;\n          }\n          realFontList.push(v);\n          return memo + '<li><a data-event=\"fontName\" href=\"#\" data-value=\"' + v + '\" style=\"font-family:\\'' + v + '\\'\">' +\n                          '<i class=\"' + options.iconPrefix + 'check\"></i> ' + v +\n                        '</a></li>';\n        }, '');\n\n        var hasDefaultFont = agent.isFontInstalled(options.defaultFontName);\n        var defaultFontName = (hasDefaultFont) ? options.defaultFontName : realFontList[0];\n          \n        var label = '<span class=\"note-current-fontname\">' +\n                        defaultFontName +\n                     '</span>';\n        return tplButton(label, {\n          title: lang.font.name,\n          dropdown: '<ul class=\"dropdown-menu\">' + items + '</ul>'\n        });\n      },\n      fontsize: function (lang, options) {\n        var items = options.fontSizes.reduce(function (memo, v) {\n          return memo + '<li><a data-event=\"fontSize\" href=\"#\" data-value=\"' + v + '\">' +\n                          '<i class=\"fa fa-check\"></i> ' + v +\n                        '</a></li>';\n        }, '');\n\n        var label = '<span class=\"note-current-fontsize\">11</span>';\n        return tplButton(label, {\n          title: lang.font.size,\n          dropdown: '<ul class=\"dropdown-menu\">' + items + '</ul>'\n        });\n      },\n      color: function (lang, options) {\n        var colorButtonLabel = '<i class=\"' + options.iconPrefix + 'font\" style=\"color:black;background-color:yellow;\"></i>';\n        var colorButton = tplButton(colorButtonLabel, {\n          className: 'note-recent-color',\n          title: lang.color.recent,\n          event: 'color',\n          value: '{\"backColor\":\"yellow\"}'\n        });\n\n        var dropdown = '<ul class=\"dropdown-menu\">' +\n                         '<li>' +\n                           '<div class=\"btn-group\">' +\n                             '<div class=\"note-palette-title\">' + lang.color.background + '</div>' +\n                             '<div class=\"note-color-reset\" data-event=\"backColor\"' +\n                               ' data-value=\"inherit\" title=\"' + lang.color.transparent + '\">' +\n                               lang.color.setTransparent +\n                             '</div>' +\n                             '<div class=\"note-color-palette\" data-target-event=\"backColor\"></div>' +\n                           '</div>' +\n                           '<div class=\"btn-group\">' +\n                             '<div class=\"note-palette-title\">' + lang.color.foreground + '</div>' +\n                             '<div class=\"note-color-reset\" data-event=\"foreColor\" data-value=\"inherit\" title=\"' + lang.color.reset + '\">' +\n                               lang.color.resetToDefault +\n                             '</div>' +\n                             '<div class=\"note-color-palette\" data-target-event=\"foreColor\"></div>' +\n                           '</div>' +\n                         '</li>' +\n                       '</ul>';\n\n        var moreButton = tplButton('', {\n          title: lang.color.more,\n          dropdown: dropdown\n        });\n\n        return colorButton + moreButton;\n      },\n      bold: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'bold', {\n          event: 'bold',\n          title: lang.font.bold\n        });\n      },\n      italic: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'italic', {\n          event: 'italic',\n          title: lang.font.italic\n        });\n      },\n      underline: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'underline', {\n          event: 'underline',\n          title: lang.font.underline\n        });\n      },\n      strikethrough: function (lang) {\n        return tplIconButton('fa fa-strikethrough', {\n          event: 'strikethrough',\n          title: lang.font.strikethrough\n        });\n      },\n      superscript: function (lang) {\n        return tplIconButton('fa fa-superscript', {\n          event: 'superscript',\n          title: lang.font.superscript\n        });\n      },\n      subscript: function (lang) {\n        return tplIconButton('fa fa-subscript', {\n          event: 'subscript',\n          title: lang.font.subscript\n        });\n      },\n      clear: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'eraser', {\n          event: 'removeFormat',\n          title: lang.font.clear\n        });\n      },\n      ul: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'list-ul', {\n          event: 'insertUnorderedList',\n          title: lang.lists.unordered\n        });\n      },\n      ol: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'list-ol', {\n          event: 'insertOrderedList',\n          title: lang.lists.ordered\n        });\n      },\n      paragraph: function (lang, options) {\n        var leftButton = tplIconButton(options.iconPrefix + 'align-left', {\n          title: lang.paragraph.left,\n          event: 'justifyLeft'\n        });\n        var centerButton = tplIconButton(options.iconPrefix + 'align-center', {\n          title: lang.paragraph.center,\n          event: 'justifyCenter'\n        });\n        var rightButton = tplIconButton(options.iconPrefix + 'align-right', {\n          title: lang.paragraph.right,\n          event: 'justifyRight'\n        });\n        var justifyButton = tplIconButton(options.iconPrefix + 'align-justify', {\n          title: lang.paragraph.justify,\n          event: 'justifyFull'\n        });\n\n        var outdentButton = tplIconButton(options.iconPrefix + 'outdent', {\n          title: lang.paragraph.outdent,\n          event: 'outdent'\n        });\n        var indentButton = tplIconButton(options.iconPrefix + 'indent', {\n          title: lang.paragraph.indent,\n          event: 'indent'\n        });\n\n        var dropdown = '<div class=\"dropdown-menu\">' +\n                         '<div class=\"note-align btn-group\">' +\n                           leftButton + centerButton + rightButton + justifyButton +\n                         '</div>' +\n                         '<div class=\"note-list btn-group\">' +\n                           indentButton + outdentButton +\n                         '</div>' +\n                       '</div>';\n\n        return tplIconButton(options.iconPrefix + 'align-left', {\n          title: lang.paragraph.paragraph,\n          dropdown: dropdown\n        });\n      },\n      height: function (lang, options) {\n        var items = options.lineHeights.reduce(function (memo, v) {\n          return memo + '<li><a data-event=\"lineHeight\" href=\"#\" data-value=\"' + parseFloat(v) + '\">' +\n                          '<i class=\"' + options.iconPrefix + 'check\"></i> ' + v +\n                        '</a></li>';\n        }, '');\n\n        return tplIconButton(options.iconPrefix + 'text-height', {\n          title: lang.font.height,\n          dropdown: '<ul class=\"dropdown-menu\">' + items + '</ul>'\n        });\n\n      },\n      help: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'question', {\n          event: 'showHelpDialog',\n          title: lang.options.help,\n          hide: true\n        });\n      },\n      fullscreen: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'arrows-alt', {\n          event: 'fullscreen',\n          title: lang.options.fullscreen\n        });\n      },\n      codeview: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'code', {\n          event: 'codeview',\n          title: lang.options.codeview\n        });\n      },\n      undo: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'undo', {\n          event: 'undo',\n          title: lang.history.undo\n        });\n      },\n      redo: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'repeat', {\n          event: 'redo',\n          title: lang.history.redo\n        });\n      },\n      hr: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'minus', {\n          event: 'insertHorizontalRule',\n          title: lang.hr.insert\n        });\n      }\n    };\n\n    var tplPopovers = function (lang, options) {\n      var tplLinkPopover = function () {\n        var linkButton = tplIconButton(options.iconPrefix + 'edit', {\n          title: lang.link.edit,\n          event: 'showLinkDialog',\n          hide: true\n        });\n        var unlinkButton = tplIconButton(options.iconPrefix + 'unlink', {\n          title: lang.link.unlink,\n          event: 'unlink'\n        });\n        var content = '<a href=\"http://www.google.com\" target=\"_blank\">www.google.com</a>&nbsp;&nbsp;' +\n                      '<div class=\"note-insert btn-group\">' +\n                        linkButton + unlinkButton +\n                      '</div>';\n        return tplPopover('note-link-popover', content);\n      };\n\n      var tplImagePopover = function () {\n        var fullButton = tplButton('<span class=\"note-fontsize-10\">100%</span>', {\n          title: lang.image.resizeFull,\n          event: 'resize',\n          value: '1'\n        });\n        var halfButton = tplButton('<span class=\"note-fontsize-10\">50%</span>', {\n          title: lang.image.resizeHalf,\n          event: 'resize',\n          value: '0.5'\n        });\n        var quarterButton = tplButton('<span class=\"note-fontsize-10\">25%</span>', {\n          title: lang.image.resizeQuarter,\n          event: 'resize',\n          value: '0.25'\n        });\n\n        var leftButton = tplIconButton(options.iconPrefix + 'align-left', {\n          title: lang.image.floatLeft,\n          event: 'floatMe',\n          value: 'left'\n        });\n        var rightButton = tplIconButton(options.iconPrefix + 'align-right', {\n          title: lang.image.floatRight,\n          event: 'floatMe',\n          value: 'right'\n        });\n        var justifyButton = tplIconButton(options.iconPrefix + 'align-justify', {\n          title: lang.image.floatNone,\n          event: 'floatMe',\n          value: 'none'\n        });\n\n        var roundedButton = tplIconButton(options.iconPrefix + 'square', {\n          title: lang.image.shapeRounded,\n          event: 'imageShape',\n          value: 'img-rounded'\n        });\n        var circleButton = tplIconButton(options.iconPrefix + 'circle-o', {\n          title: lang.image.shapeCircle,\n          event: 'imageShape',\n          value: 'img-circle'\n        });\n        var thumbnailButton = tplIconButton(options.iconPrefix + 'picture-o', {\n          title: lang.image.shapeThumbnail,\n          event: 'imageShape',\n          value: 'img-thumbnail'\n        });\n        var noneButton = tplIconButton(options.iconPrefix + 'times', {\n          title: lang.image.shapeNone,\n          event: 'imageShape',\n          value: ''\n        });\n\n        var removeButton = tplIconButton(options.iconPrefix + 'trash-o', {\n          title: lang.image.remove,\n          event: 'removeMedia',\n          value: 'none'\n        });\n\n        var content = '<div class=\"btn-group\">' + fullButton + halfButton + quarterButton + '</div>' +\n                      '<div class=\"btn-group\">' + leftButton + rightButton + justifyButton + '</div>' +\n                      '<div class=\"btn-group\">' + roundedButton + circleButton + thumbnailButton + noneButton + '</div>' +\n                      '<div class=\"btn-group\">' + removeButton + '</div>';\n        return tplPopover('note-image-popover', content);\n      };\n\n      var tplAirPopover = function () {\n        var $content = $('<div />');\n        for (var idx = 0, len = options.airPopover.length; idx < len; idx ++) {\n          var group = options.airPopover[idx];\n          \n          var $group = $('<div class=\"note-' + group[0] + ' btn-group\">');\n          for (var i = 0, lenGroup = group[1].length; i < lenGroup; i++) {\n            var $button = $(tplButtonInfo[group[1][i]](lang, options));\n\n            $button.attr('data-name', group[1][i]);\n            \n            $group.append($button);\n          }\n          $content.append($group);\n        }\n\n        return tplPopover('note-air-popover', $content.children());\n      };\n\n      var $notePopover = $('<div class=\"note-popover\" />');\n      \n      $notePopover.append(tplLinkPopover());\n      $notePopover.append(tplImagePopover());\n      \n      if (options.airMode) {\n        $notePopover.append(tplAirPopover());\n      }\n      \n      return $notePopover;\n    };\n\n    var tplHandles = function () {\n      return '<div class=\"note-handle\">' +\n               '<div class=\"note-control-selection\">' +\n                 '<div class=\"note-control-selection-bg\"></div>' +\n                 '<div class=\"note-control-holder note-control-nw\"></div>' +\n                 '<div class=\"note-control-holder note-control-ne\"></div>' +\n                 '<div class=\"note-control-holder note-control-sw\"></div>' +\n                 '<div class=\"note-control-sizing note-control-se\"></div>' +\n                 '<div class=\"note-control-selection-info\"></div>' +\n               '</div>' +\n             '</div>';\n    };\n\n    /**\n     * shortcut table template\n     * @param {String} title\n     * @param {String} body\n     */\n    var tplShortcut = function (title, keys) {\n      var keyClass = 'note-shortcut-col col-xs-6 note-shortcut-';\n      var body = [];\n\n      for (var i in keys) {\n        if (keys.hasOwnProperty(i)) {\n          body.push(\n            '<div class=\"' + keyClass + 'key\">' + keys[i].kbd + '</div>' +\n            '<div class=\"' + keyClass + 'name\">' + keys[i].text + '</div>'\n            );\n        }\n      }\n\n      return '<div class=\"note-shortcut-row row\"><div class=\"' + keyClass + 'title col-xs-offset-6\">' + title + '</div></div>' +\n             '<div class=\"note-shortcut-row row\">' + body.join('</div><div class=\"note-shortcut-row row\">') + '</div>';\n    };\n\n    var tplShortcutText = function (lang) {\n      var keys = [\n        { kbd: '⌘ + B', text: lang.font.bold },\n        { kbd: '⌘ + I', text: lang.font.italic },\n        { kbd: '⌘ + U', text: lang.font.underline },\n        { kbd: '⌘ + \\\\', text: lang.font.clear }\n      ];\n\n      return tplShortcut(lang.shortcut.textFormatting, keys);\n    };\n\n    var tplShortcutAction = function (lang) {\n      var keys = [\n        { kbd: '⌘ + Z', text: lang.history.undo },\n        { kbd: '⌘ + ⇧ + Z', text: lang.history.redo },\n        { kbd: '⌘ + ]', text: lang.paragraph.indent },\n        { kbd: '⌘ + [', text: lang.paragraph.outdent },\n        { kbd: '⌘ + ENTER', text: lang.hr.insert }\n      ];\n\n      return tplShortcut(lang.shortcut.action, keys);\n    };\n\n    var tplShortcutPara = function (lang) {\n      var keys = [\n        { kbd: '⌘ + ⇧ + L', text: lang.paragraph.left },\n        { kbd: '⌘ + ⇧ + E', text: lang.paragraph.center },\n        { kbd: '⌘ + ⇧ + R', text: lang.paragraph.right },\n        { kbd: '⌘ + ⇧ + J', text: lang.paragraph.justify },\n        { kbd: '⌘ + ⇧ + NUM7', text: lang.lists.ordered },\n        { kbd: '⌘ + ⇧ + NUM8', text: lang.lists.unordered }\n      ];\n\n      return tplShortcut(lang.shortcut.paragraphFormatting, keys);\n    };\n\n    var tplShortcutStyle = function (lang) {\n      var keys = [\n        { kbd: '⌘ + NUM0', text: lang.style.normal },\n        { kbd: '⌘ + NUM1', text: lang.style.h1 },\n        { kbd: '⌘ + NUM2', text: lang.style.h2 },\n        { kbd: '⌘ + NUM3', text: lang.style.h3 },\n        { kbd: '⌘ + NUM4', text: lang.style.h4 },\n        { kbd: '⌘ + NUM5', text: lang.style.h5 },\n        { kbd: '⌘ + NUM6', text: lang.style.h6 }\n      ];\n\n      return tplShortcut(lang.shortcut.documentStyle, keys);\n    };\n\n    var tplExtraShortcuts = function (lang, options) {\n      var extraKeys = options.extraKeys;\n      var keys = [];\n\n      for (var key in extraKeys) {\n        if (extraKeys.hasOwnProperty(key)) {\n          keys.push({ kbd: key, text: extraKeys[key] });\n        }\n      }\n\n      return tplShortcut(lang.shortcut.extraKeys, keys);\n    };\n\n    var tplShortcutTable = function (lang, options) {\n      var colClass = 'class=\"note-shortcut note-shortcut-col col-sm-6 col-xs-12\"';\n      var template = [\n        '<div ' + colClass + '>' + tplShortcutAction(lang, options) + '</div>' +\n        '<div ' + colClass + '>' + tplShortcutText(lang, options) + '</div>',\n        '<div ' + colClass + '>' + tplShortcutStyle(lang, options) + '</div>' +\n        '<div ' + colClass + '>' + tplShortcutPara(lang, options) + '</div>'\n      ];\n\n      if (options.extraKeys) {\n        template.push('<div ' + colClass + '>' + tplExtraShortcuts(lang, options) + '</div>');\n      }\n\n      return '<div class=\"note-shortcut-row row\">' +\n               template.join('</div><div class=\"note-shortcut-row row\">') +\n             '</div>';\n    };\n\n    var replaceMacKeys = function (sHtml) {\n      return sHtml.replace(/⌘/g, 'Ctrl').replace(/⇧/g, 'Shift');\n    };\n\n    var tplDialogInfo = {\n      image: function (lang, options) {\n        var imageLimitation = '';\n        if (options.maximumImageFileSize) {\n          var unit = Math.floor(Math.log(options.maximumImageFileSize) / Math.log(1024));\n          var readableSize = (options.maximumImageFileSize / Math.pow(1024, unit)).toFixed(2) * 1 +\n                             ' ' + ' KMGTP'[unit] + 'B';\n          imageLimitation = '<small>' + lang.image.maximumFileSize + ' : ' + readableSize + '</small>';\n        }\n\n        var body = '<div class=\"form-group row-fluid note-group-select-from-files\">' +\n                     '<label>' + lang.image.selectFromFiles + '</label>' +\n                     '<input class=\"note-image-input\" type=\"file\" name=\"files\" accept=\"image/*\" multiple=\"multiple\" />' +\n                     imageLimitation +\n                   '</div>' +\n                   '<div class=\"form-group row-fluid\">' +\n                     '<label>' + lang.image.url + '</label>' +\n                     '<input class=\"note-image-url form-control span12\" type=\"text\" />' +\n                   '</div>';\n        var footer = '<button href=\"#\" class=\"btn btn-primary note-image-btn disabled\" disabled>' + lang.image.insert + '</button>';\n        return tplDialog('note-image-dialog', lang.image.insert, body, footer);\n      },\n\n      link: function (lang, options) {\n        var body = '<div class=\"form-group row-fluid\">' +\n                     '<label>' + lang.link.textToDisplay + '</label>' +\n                     '<input class=\"note-link-text form-control span12\" type=\"text\" />' +\n                   '</div>' +\n                   '<div class=\"form-group row-fluid\">' +\n                     '<label>' + lang.link.url + '</label>' +\n                     '<input class=\"note-link-url form-control span12\" type=\"text\" />' +\n                   '</div>' +\n                   (!options.disableLinkTarget ?\n                     '<div class=\"checkbox\">' +\n                       '<label>' + '<input type=\"checkbox\" checked> ' +\n                         lang.link.openInNewWindow +\n                       '</label>' +\n                     '</div>' : ''\n                   );\n        var footer = '<button href=\"#\" class=\"btn btn-primary note-link-btn disabled\" disabled>' + lang.link.insert + '</button>';\n        return tplDialog('note-link-dialog', lang.link.insert, body, footer);\n      },\n\n      help: function (lang, options) {\n        var body = '<a class=\"modal-close pull-right\" aria-hidden=\"true\" tabindex=\"-1\">' + lang.shortcut.close + '</a>' +\n                   '<div class=\"title\">' + lang.shortcut.shortcuts + '</div>' +\n                   (agent.isMac ? tplShortcutTable(lang, options) : replaceMacKeys(tplShortcutTable(lang, options))) +\n                   '<p class=\"text-center\">' +\n                     '<a href=\"//summernote.org/\" target=\"_blank\">Summernote 0.6.6</a> · ' +\n                     '<a href=\"//github.com/summernote/summernote\" target=\"_blank\">Project</a> · ' +\n                     '<a href=\"//github.com/summernote/summernote/issues\" target=\"_blank\">Issues</a>' +\n                   '</p>';\n        return tplDialog('note-help-dialog', '', body, '');\n      }\n    };\n\n    var tplDialogs = function (lang, options) {\n      var dialogs = '';\n\n      $.each(tplDialogInfo, function (idx, tplDialog) {\n        dialogs += tplDialog(lang, options);\n      });\n\n      return '<div class=\"note-dialog\">' + dialogs + '</div>';\n    };\n\n    var tplStatusbar = function () {\n      return '<div class=\"note-resizebar\">' +\n               '<div class=\"note-icon-bar\"></div>' +\n               '<div class=\"note-icon-bar\"></div>' +\n               '<div class=\"note-icon-bar\"></div>' +\n             '</div>';\n    };\n\n    var representShortcut = function (str) {\n      if (agent.isMac) {\n        str = str.replace('CMD', '⌘').replace('SHIFT', '⇧');\n      }\n\n      return str.replace('BACKSLASH', '\\\\')\n                .replace('SLASH', '/')\n                .replace('LEFTBRACKET', '[')\n                .replace('RIGHTBRACKET', ']');\n    };\n\n    /**\n     * createTooltip\n     *\n     * @param {jQuery} $container\n     * @param {Object} keyMap\n     * @param {String} [sPlacement]\n     */\n    var createTooltip = function ($container, keyMap, sPlacement) {\n      var invertedKeyMap = func.invertObject(keyMap);\n      var $buttons = $container.find('button');\n\n      $buttons.each(function (i, elBtn) {\n        var $btn = $(elBtn);\n        var sShortcut = invertedKeyMap[$btn.data('event')];\n        if (sShortcut) {\n          $btn.attr('title', function (i, v) {\n            return v + ' (' + representShortcut(sShortcut) + ')';\n          });\n        }\n      // bootstrap tooltip on btn-group bug\n      // https://github.com/twbs/bootstrap/issues/5687\n      }).tooltip({\n        container: 'body',\n        trigger: 'hover',\n        placement: sPlacement || 'top'\n      }).on('click', function () {\n        $(this).tooltip('hide');\n      });\n    };\n\n    // createPalette\n    var createPalette = function ($container, options) {\n      var colorInfo = options.colors;\n      $container.find('.note-color-palette').each(function () {\n        var $palette = $(this), eventName = $palette.attr('data-target-event');\n        var paletteContents = [];\n        for (var row = 0, lenRow = colorInfo.length; row < lenRow; row++) {\n          var colors = colorInfo[row];\n          var buttons = [];\n          for (var col = 0, lenCol = colors.length; col < lenCol; col++) {\n            var color = colors[col];\n            buttons.push(['<button type=\"button\" class=\"note-color-btn\" style=\"background-color:', color,\n                           ';\" data-event=\"', eventName,\n                           '\" data-value=\"', color,\n                           '\" title=\"', color,\n                           '\" data-toggle=\"button\" tabindex=\"-1\"></button>'].join(''));\n          }\n          paletteContents.push('<div class=\"note-color-row\">' + buttons.join('') + '</div>');\n        }\n        $palette.html(paletteContents.join(''));\n      });\n    };\n\n    /**\n     * create summernote layout (air mode)\n     *\n     * @param {jQuery} $holder\n     * @param {Object} options\n     */\n    this.createLayoutByAirMode = function ($holder, options) {\n      var langInfo = options.langInfo;\n      var keyMap = options.keyMap[agent.isMac ? 'mac' : 'pc'];\n      var id = func.uniqueId();\n\n      $holder.addClass('note-air-editor note-editable');\n      $holder.attr({\n        'id': 'note-editor-' + id,\n        'contentEditable': true\n      });\n\n      var body = document.body;\n\n      // create Popover\n      var $popover = $(tplPopovers(langInfo, options));\n      $popover.addClass('note-air-layout');\n      $popover.attr('id', 'note-popover-' + id);\n      $popover.appendTo(body);\n      createTooltip($popover, keyMap);\n      createPalette($popover, options);\n\n      // create Handle\n      var $handle = $(tplHandles());\n      $handle.addClass('note-air-layout');\n      $handle.attr('id', 'note-handle-' + id);\n      $handle.appendTo(body);\n\n      // create Dialog\n      var $dialog = $(tplDialogs(langInfo, options));\n      $dialog.addClass('note-air-layout');\n      $dialog.attr('id', 'note-dialog-' + id);\n      $dialog.find('button.close, a.modal-close').click(function () {\n        $(this).closest('.modal').modal('hide');\n      });\n      $dialog.appendTo(body);\n    };\n\n    /**\n     * create summernote layout (normal mode)\n     *\n     * @param {jQuery} $holder\n     * @param {Object} options\n     */\n    this.createLayoutByFrame = function ($holder, options) {\n      var langInfo = options.langInfo;\n\n      //01. create Editor\n      var $editor = $('<div class=\"note-editor\"></div>');\n      if (options.width) {\n        $editor.width(options.width);\n      }\n\n      //02. statusbar (resizebar)\n      if (options.height > 0) {\n        $('<div class=\"note-statusbar\">' + (options.disableResizeEditor ? '' : tplStatusbar()) + '</div>').prependTo($editor);\n      }\n\n      //03. create Editable\n      var isContentEditable = !$holder.is(':disabled');\n      var $editable = $('<div class=\"note-editable\" contentEditable=\"' + isContentEditable + '\"></div>')\n          .prependTo($editor);\n      if (options.height) {\n        $editable.height(options.height);\n      }\n      if (options.direction) {\n        $editable.attr('dir', options.direction);\n      }\n      var placeholder = $holder.attr('placeholder') || options.placeholder;\n      if (placeholder) {\n        $editable.attr('data-placeholder', placeholder);\n      }\n\n      $editable.html(dom.html($holder));\n\n      //031. create codable\n      $('<textarea class=\"note-codable\"></textarea>').prependTo($editor);\n\n      //04. create Toolbar\n      var $toolbar = $('<div class=\"note-toolbar btn-toolbar\" />');\n      for (var idx = 0, len = options.toolbar.length; idx < len; idx ++) {\n        var groupName = options.toolbar[idx][0];\n        var groupButtons = options.toolbar[idx][1];\n\n        var $group = $('<div class=\"note-' + groupName + ' btn-group\" />');\n        for (var i = 0, btnLength = groupButtons.length; i < btnLength; i++) {\n          var buttonInfo = tplButtonInfo[groupButtons[i]];\n          // continue creating toolbar even if a button doesn't exist\n          if (!$.isFunction(buttonInfo)) { continue; }\n\n          var $button = $(buttonInfo(langInfo, options));\n          $button.attr('data-name', groupButtons[i]);  // set button's alias, becuase to get button element from $toolbar\n          $group.append($button);\n        }\n        $toolbar.append($group);\n      }\n      \n      $toolbar.prependTo($editor);\n      var keyMap = options.keyMap[agent.isMac ? 'mac' : 'pc'];\n      createPalette($toolbar, options);\n      createTooltip($toolbar, keyMap, 'bottom');\n\n      //05. create Popover\n      var $popover = $(tplPopovers(langInfo, options)).prependTo($editor);\n      createPalette($popover, options);\n      createTooltip($popover, keyMap);\n\n      //06. handle(control selection, ...)\n      $(tplHandles()).prependTo($editor);\n\n      //07. create Dialog\n      var $dialog = $(tplDialogs(langInfo, options)).prependTo($editor);\n      $dialog.find('button.close, a.modal-close').click(function () {\n        $(this).closest('.modal').modal('hide');\n      });\n\n      //08. create Dropzone\n      $('<div class=\"note-dropzone\"><div class=\"note-dropzone-message\"></div></div>').prependTo($editor);\n\n      //09. Editor/Holder switch\n      $editor.insertAfter($holder);\n      $holder.hide();\n    };\n\n    this.hasNoteEditor = function ($holder) {\n      return this.noteEditorFromHolder($holder).length > 0;\n    };\n\n    this.noteEditorFromHolder = function ($holder) {\n      if ($holder.hasClass('note-air-editor')) {\n        return $holder;\n      } else if ($holder.next().hasClass('note-editor')) {\n        return $holder.next();\n      } else {\n        return $();\n      }\n    };\n\n    /**\n     * create summernote layout\n     *\n     * @param {jQuery} $holder\n     * @param {Object} options\n     */\n    this.createLayout = function ($holder, options) {\n      if (options.airMode) {\n        this.createLayoutByAirMode($holder, options);\n      } else {\n        this.createLayoutByFrame($holder, options);\n      }\n    };\n\n    /**\n     * returns layoutInfo from holder\n     *\n     * @param {jQuery} $holder - placeholder\n     * @return {Object}\n     */\n    this.layoutInfoFromHolder = function ($holder) {\n      var $editor = this.noteEditorFromHolder($holder);\n      if (!$editor.length) {\n        return;\n      }\n\n      // connect $holder to $editor\n      $editor.data('holder', $holder);\n\n      return dom.buildLayoutInfo($editor);\n    };\n\n    /**\n     * removeLayout\n     *\n     * @param {jQuery} $holder - placeholder\n     * @param {Object} layoutInfo\n     * @param {Object} options\n     *\n     */\n    this.removeLayout = function ($holder, layoutInfo, options) {\n      if (options.airMode) {\n        $holder.removeClass('note-air-editor note-editable')\n               .removeAttr('id contentEditable');\n\n        layoutInfo.popover().remove();\n        layoutInfo.handle().remove();\n        layoutInfo.dialog().remove();\n      } else {\n        $holder.html(layoutInfo.editable().html());\n\n        layoutInfo.editor().remove();\n        $holder.show();\n      }\n    };\n\n    /**\n     *\n     * @return {Object}\n     * @return {function(label, options=):string} return.button {@link #tplButton function to make text button}\n     * @return {function(iconClass, options=):string} return.iconButton {@link #tplIconButton function to make icon button}\n     * @return {function(className, title=, body=, footer=):string} return.dialog {@link #tplDialog function to make dialog}\n     */\n    this.getTemplate = function () {\n      return {\n        button: tplButton,\n        iconButton: tplIconButton,\n        dialog: tplDialog\n      };\n    };\n\n    /**\n     * add button information\n     *\n     * @param {String} name button name\n     * @param {Function} buttonInfo function to make button, reference to {@link #tplButton},{@link #tplIconButton}\n     */\n    this.addButtonInfo = function (name, buttonInfo) {\n      tplButtonInfo[name] = buttonInfo;\n    };\n\n    /**\n     *\n     * @param {String} name\n     * @param {Function} dialogInfo function to make dialog, reference to {@link #tplDialog}\n     */\n    this.addDialogInfo = function (name, dialogInfo) {\n      tplDialogInfo[name] = dialogInfo;\n    };\n  };\n\n\n  // jQuery namespace for summernote\n  /**\n   * @class $.summernote \n   * \n   * summernote attribute  \n   * \n   * @mixin defaults\n   * @singleton  \n   * \n   */\n  $.summernote = $.summernote || {};\n\n  // extends default settings\n  //  - $.summernote.version\n  //  - $.summernote.options\n  //  - $.summernote.lang\n  $.extend($.summernote, defaults);\n\n  var renderer = new Renderer();\n  var eventHandler = new EventHandler();\n\n  $.extend($.summernote, {\n    /** @property {Renderer} */\n    renderer: renderer,\n    /** @property {EventHandler} */\n    eventHandler: eventHandler,\n    /** \n     * @property {Object} core \n     * @property {core.agent} core.agent \n     * @property {core.dom} core.dom\n     * @property {core.range} core.range \n     */\n    core: {\n      agent: agent,\n      dom: dom,\n      range: range\n    },\n    /** \n     * @property {Object} \n     * pluginEvents event list for plugins\n     * event has name and callback function.\n     * \n     * ``` \n     * $.summernote.addPlugin({\n     *     events : {\n     *          'hello' : function(layoutInfo, value, $target) {\n     *              console.log('event name is hello, value is ' + value );\n     *          }\n     *     }     \n     * })\n     * ```\n     * \n     * * event name is data-event property.\n     * * layoutInfo is a summernote layout information.\n     * * value is data-value property.\n     */\n    pluginEvents: {},\n\n    plugins : []\n  });\n\n  /**\n   * @method addPlugin\n   *\n   * add Plugin in Summernote \n   * \n   * Summernote can make a own plugin.\n   *\n   * ### Define plugin\n   * ```\n   * // get template function  \n   * var tmpl = $.summernote.renderer.getTemplate();\n   * \n   * // add a button   \n   * $.summernote.addPlugin({\n   *     buttons : {\n   *        // \"hello\"  is button's namespace.      \n   *        \"hello\" : function(lang, options) {\n   *            // make icon button by template function          \n   *            return tmpl.iconButton('fa fa-header', {\n   *                // callback function name when button clicked \n   *                event : 'hello',\n   *                // set data-value property                 \n   *                value : 'hello',                \n   *                hide : true\n   *            });           \n   *        }\n   *     \n   *     }, \n   *     \n   *     events : {\n   *        \"hello\" : function(layoutInfo, value) {\n   *            // here is event code \n   *        }\n   *     }     \n   * });\n   * ``` \n   * ### Use a plugin in toolbar\n   * \n   * ``` \n   *    $(\"#editor\").summernote({\n   *    ...\n   *    toolbar : [\n   *        // display hello plugin in toolbar     \n   *        ['group', [ 'hello' ]]\n   *    ]\n   *    ...    \n   *    });\n   * ```\n   *  \n   *  \n   * @param {Object} plugin\n   * @param {Object} [plugin.buttons] define plugin button. for detail, see to Renderer.addButtonInfo\n   * @param {Object} [plugin.dialogs] define plugin dialog. for detail, see to Renderer.addDialogInfo\n   * @param {Object} [plugin.events] add event in $.summernote.pluginEvents \n   * @param {Object} [plugin.langs] update $.summernote.lang\n   * @param {Object} [plugin.options] update $.summernote.options\n   */\n  $.summernote.addPlugin = function (plugin) {\n\n    // save plugin list\n    $.summernote.plugins.push(plugin);\n\n    if (plugin.buttons) {\n      $.each(plugin.buttons, function (name, button) {\n        renderer.addButtonInfo(name, button);\n      });\n    }\n\n    if (plugin.dialogs) {\n      $.each(plugin.dialogs, function (name, dialog) {\n        renderer.addDialogInfo(name, dialog);\n      });\n    }\n\n    if (plugin.events) {\n      $.each(plugin.events, function (name, event) {\n        $.summernote.pluginEvents[name] = event;\n      });\n    }\n\n    if (plugin.langs) {\n      $.each(plugin.langs, function (locale, lang) {\n        if ($.summernote.lang[locale]) {\n          $.extend($.summernote.lang[locale], lang);\n        }\n      });\n    }\n\n    if (plugin.options) {\n      $.extend($.summernote.options, plugin.options);\n    }\n  };\n\n  /*\n   * extend $.fn\n   */\n  $.fn.extend({\n    /**\n     * @method\n     * Initialize summernote\n     *  - create editor layout and attach Mouse and keyboard events.\n     * \n     * ```\n     * $(\"#summernote\").summernote( { options ..} );\n     * ```\n     *   \n     * @member $.fn\n     * @param {Object|String} options reference to $.summernote.options\n     * @return {this}\n     */\n    summernote: function () {\n      // check first argument's type\n      //  - {String}: External API call {{module}}.{{method}}\n      //  - {Object}: init options\n      var type = $.type(list.head(arguments));\n      var isExternalAPICalled = type === 'string';\n      var isInitOptions = type === 'object';\n\n      // extend default options with custom user options\n      var options = isInitOptions ? list.head(arguments) : {};\n      options = $.extend({}, $.summernote.options, options);\n\n      // Include langInfo in options for later use, e.g. for image drag-n-drop\n      // Setup language info with en-US as default\n      options.langInfo = $.extend(true, {}, $.summernote.lang['en-US'], $.summernote.lang[options.lang]);\n\n      this.each(function (idx, holder) {\n        var $holder = $(holder);\n\n        // if layout isn't created yet, createLayout and attach events\n        if (!renderer.hasNoteEditor($holder)) {\n          renderer.createLayout($holder, options);\n\n          var layoutInfo = renderer.layoutInfoFromHolder($holder);\n\n          eventHandler.attach(layoutInfo, options);\n          eventHandler.attachCustomEvent(layoutInfo, options);\n\n        }\n      });\n\n      // callback on init\n      if (!isExternalAPICalled && this.length && options.oninit) {\n        options.oninit();\n      }\n\n      var $first = this.first();\n      if ($first.length) {\n        var layoutInfo = renderer.layoutInfoFromHolder($first);\n\n        // external API\n        if (isExternalAPICalled) {\n          var moduleAndMethod = list.head(list.from(arguments));\n          var args = list.tail(list.from(arguments));\n\n          // TODO now external API only works for editor\n          var params = [moduleAndMethod, layoutInfo.editable()].concat(args);\n          return eventHandler.invoke.apply(eventHandler, params);\n        } else if (options.focus) {\n          // focus on first editable element for initialize editor\n          layoutInfo.editable().focus();\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * @method \n     * \n     * get the HTML contents of note or set the HTML contents of note.\n     *\n     * * get contents \n     * ```\n     * var content = $(\"#summernote\").code();\n     * ```\n     * * set contents \n     *\n     * ```\n     * $(\"#summernote\").code(html);\n     * ```\n     *\n     * @member $.fn \n     * @param {String} [html] - HTML contents(optional, set)\n     * @return {this|String} - context(set) or HTML contents of note(get).\n     */\n    code: function (html) {\n      // get the HTML contents of note\n      if (html === undefined) {\n        var $holder = this.first();\n        if (!$holder.length) {\n          return;\n        }\n\n        var layoutInfo = renderer.layoutInfoFromHolder($holder);\n        var $editable = layoutInfo && layoutInfo.editable();\n\n        if ($editable && $editable.length) {\n          var isCodeview = eventHandler.invoke('codeview.isActivated', layoutInfo);\n          eventHandler.invoke('codeview.sync', layoutInfo);\n          return isCodeview ? layoutInfo.codable().val() :\n                              layoutInfo.editable().html();\n        }\n        return dom.value($holder);\n      }\n\n      // set the HTML contents of note\n      this.each(function (i, holder) {\n        var layoutInfo = renderer.layoutInfoFromHolder($(holder));\n        var $editable = layoutInfo && layoutInfo.editable();\n        if ($editable) {\n          $editable.html(html);\n        }\n      });\n\n      return this;\n    },\n\n    /**\n     * @method\n     * \n     * destroy Editor Layout and detach Key and Mouse Event\n     *\n     * @member $.fn\n     * @return {this}\n     */\n    destroy: function () {\n      this.each(function (idx, holder) {\n        var $holder = $(holder);\n\n        if (!renderer.hasNoteEditor($holder)) {\n          return;\n        }\n\n        var info = renderer.layoutInfoFromHolder($holder);\n        var options = info.editor().data('options');\n\n        eventHandler.detach(info, options);\n        renderer.removeLayout($holder, info, options);\n      });\n\n      return this;\n    }\n  });\n}));\n\n//! moment.js\n//! version : 2.10.2\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n!function(a,b){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=b():\"function\"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){\"use strict\";function a(){return Ac.apply(null,arguments)}function b(a){Ac=a}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function d(a){return\"[object Array]\"===Object.prototype.toString.call(a)}function e(a){return\"[object Date]\"===Object.prototype.toString.call(a)||a instanceof Date}function f(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function g(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function h(a,b){for(var c in b)g(b,c)&&(a[c]=b[c]);return g(b,\"toString\")&&(a.toString=b.toString),g(b,\"valueOf\")&&(a.valueOf=b.valueOf),a}function i(a,b,c,d){return ya(a,b,c,d,!0).utc()}function j(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length&&void 0===a._pf.bigHour)),a._isValid}function k(a){var b=i(0/0);return null!=a?h(b._pf,a):b._pf.userInvalidated=!0,b}function l(a,b){var c,d,e;if(\"undefined\"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),\"undefined\"!=typeof b._i&&(a._i=b._i),\"undefined\"!=typeof b._f&&(a._f=b._f),\"undefined\"!=typeof b._l&&(a._l=b._l),\"undefined\"!=typeof b._strict&&(a._strict=b._strict),\"undefined\"!=typeof b._tzm&&(a._tzm=b._tzm),\"undefined\"!=typeof b._isUTC&&(a._isUTC=b._isUTC),\"undefined\"!=typeof b._offset&&(a._offset=b._offset),\"undefined\"!=typeof b._pf&&(a._pf=b._pf),\"undefined\"!=typeof b._locale&&(a._locale=b._locale),Cc.length>0)for(c in Cc)d=Cc[c],e=b[d],\"undefined\"!=typeof e&&(a[d]=e);return a}function m(b){l(this,b),this._d=new Date(+b._d),Dc===!1&&(Dc=!0,a.updateOffset(this),Dc=!1)}function n(a){return a instanceof m||null!=a&&g(a,\"_isAMomentObject\")}function o(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function p(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&o(a[d])!==o(b[d]))&&g++;return g+f}function q(){}function r(a){return a?a.toLowerCase().replace(\"_\",\"-\"):a}function s(a){for(var b,c,d,e,f=0;f<a.length;){for(e=r(a[f]).split(\"-\"),b=e.length,c=r(a[f+1]),c=c?c.split(\"-\"):null;b>0;){if(d=t(e.slice(0,b).join(\"-\")))return d;if(c&&c.length>=b&&p(e,c,!0)>=b-1)break;b--}f++}return null}function t(a){var b=null;if(!Ec[a]&&\"undefined\"!=typeof module&&module&&module.exports)try{b=Bc._abbr,require(\"./locale/\"+a),u(b)}catch(c){}return Ec[a]}function u(a,b){var c;return a&&(c=\"undefined\"==typeof b?w(a):v(a,b),c&&(Bc=c)),Bc._abbr}function v(a,b){return null!==b?(b.abbr=a,Ec[a]||(Ec[a]=new q),Ec[a].set(b),u(a),Ec[a]):(delete Ec[a],null)}function w(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Bc;if(!d(a)){if(b=t(a))return b;a=[a]}return s(a)}function x(a,b){var c=a.toLowerCase();Fc[c]=Fc[c+\"s\"]=Fc[b]=a}function y(a){return\"string\"==typeof a?Fc[a]||Fc[a.toLowerCase()]:void 0}function z(a){var b,c,d={};for(c in a)g(a,c)&&(b=y(c),b&&(d[b]=a[c]));return d}function A(b,c){return function(d){return null!=d?(C(this,b,d),a.updateOffset(this,c),this):B(this,b)}}function B(a,b){return a._d[\"get\"+(a._isUTC?\"UTC\":\"\")+b]()}function C(a,b,c){return a._d[\"set\"+(a._isUTC?\"UTC\":\"\")+b](c)}function D(a,b){var c;if(\"object\"==typeof a)for(c in a)this.set(c,a[c]);else if(a=y(a),\"function\"==typeof this[a])return this[a](b);return this}function E(a,b,c){for(var d=\"\"+Math.abs(a),e=a>=0;d.length<b;)d=\"0\"+d;return(e?c?\"+\":\"\":\"-\")+d}function F(a,b,c,d){var e=d;\"string\"==typeof d&&(e=function(){return this[d]()}),a&&(Jc[a]=e),b&&(Jc[b[0]]=function(){return E(e.apply(this,arguments),b[1],b[2])}),c&&(Jc[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function G(a){return a.match(/\\[[\\s\\S]/)?a.replace(/^\\[|\\]$/g,\"\"):a.replace(/\\\\/g,\"\")}function H(a){var b,c,d=a.match(Gc);for(b=0,c=d.length;c>b;b++)d[b]=Jc[d[b]]?Jc[d[b]]:G(d[b]);return function(e){var f=\"\";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function I(a,b){return a.isValid()?(b=J(b,a.localeData()),Ic[b]||(Ic[b]=H(b)),Ic[b](a)):a.localeData().invalidDate()}function J(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Hc.lastIndex=0;d>=0&&Hc.test(a);)a=a.replace(Hc,c),Hc.lastIndex=0,d-=1;return a}function K(a,b,c){Yc[a]=\"function\"==typeof b?b:function(a){return a&&c?c:b}}function L(a,b){return g(Yc,a)?Yc[a](b._strict,b._locale):new RegExp(M(a))}function M(a){return a.replace(\"\\\\\",\"\").replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\")}function N(a,b){var c,d=b;for(\"string\"==typeof a&&(a=[a]),\"number\"==typeof b&&(d=function(a,c){c[b]=o(a)}),c=0;c<a.length;c++)Zc[a[c]]=d}function O(a,b){N(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function P(a,b,c){null!=b&&g(Zc,a)&&Zc[a](b,c._a,c,a)}function Q(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function R(a){return this._months[a.month()]}function S(a){return this._monthsShort[a.month()]}function T(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=i([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp(\"^\"+this.months(e,\"\").replace(\".\",\"\")+\"$\",\"i\"),this._shortMonthsParse[d]=new RegExp(\"^\"+this.monthsShort(e,\"\").replace(\".\",\"\")+\"$\",\"i\")),c||this._monthsParse[d]||(f=\"^\"+this.months(e,\"\")+\"|^\"+this.monthsShort(e,\"\"),this._monthsParse[d]=new RegExp(f.replace(\".\",\"\"),\"i\")),c&&\"MMMM\"===b&&this._longMonthsParse[d].test(a))return d;if(c&&\"MMM\"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function U(a,b){var c;return\"string\"==typeof b&&(b=a.localeData().monthsParse(b),\"number\"!=typeof b)?a:(c=Math.min(a.date(),Q(a.year(),b)),a._d[\"set\"+(a._isUTC?\"UTC\":\"\")+\"Month\"](b,c),a)}function V(b){return null!=b?(U(this,b),a.updateOffset(this,!0),this):B(this,\"Month\")}function W(){return Q(this.year(),this.month())}function X(a){var b,c=a._a;return c&&-2===a._pf.overflow&&(b=c[_c]<0||c[_c]>11?_c:c[ad]<1||c[ad]>Q(c[$c],c[_c])?ad:c[bd]<0||c[bd]>24||24===c[bd]&&(0!==c[cd]||0!==c[dd]||0!==c[ed])?bd:c[cd]<0||c[cd]>59?cd:c[dd]<0||c[dd]>59?dd:c[ed]<0||c[ed]>999?ed:-1,a._pf._overflowDayOfYear&&($c>b||b>ad)&&(b=ad),a._pf.overflow=b),a}function Y(b){a.suppressDeprecationWarnings===!1&&\"undefined\"!=typeof console&&console.warn&&console.warn(\"Deprecation warning: \"+b)}function Z(a,b){var c=!0;return h(function(){return c&&(Y(a),c=!1),b.apply(this,arguments)},b)}function $(a,b){hd[a]||(Y(b),hd[a]=!0)}function _(a){var b,c,d=a._i,e=id.exec(d);if(e){for(a._pf.iso=!0,b=0,c=jd.length;c>b;b++)if(jd[b][1].exec(d)){a._f=jd[b][0]+(e[6]||\" \");break}for(b=0,c=kd.length;c>b;b++)if(kd[b][1].exec(d)){a._f+=kd[b][0];break}d.match(Vc)&&(a._f+=\"Z\"),sa(a)}else a._isValid=!1}function aa(b){var c=ld.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(_(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ba(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function ca(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function da(a){return ea(a)?366:365}function ea(a){return a%4===0&&a%100!==0||a%400===0}function fa(){return ea(this.year())}function ga(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=za(a).add(f,\"d\"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ha(a){return ga(a,this._week.dow,this._week.doy).week}function ia(){return this._week.dow}function ja(){return this._week.doy}function ka(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),\"d\")}function la(a){var b=ga(this,1,4).week;return null==a?b:this.add(7*(a-b),\"d\")}function ma(a,b,c,d,e){var f,g,h=ca(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:da(a-1)+g}}function na(a){var b=Math.round((this.clone().startOf(\"day\")-this.clone().startOf(\"year\"))/864e5)+1;return null==a?b:this.add(a-b,\"d\")}function oa(a,b,c){return null!=a?a:null!=b?b:c}function pa(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function qa(a){var b,c,d,e,f=[];if(!a._d){for(d=pa(a),a._w&&null==a._a[ad]&&null==a._a[_c]&&ra(a),a._dayOfYear&&(e=oa(a._a[$c],d[$c]),a._dayOfYear>da(e)&&(a._pf._overflowDayOfYear=!0),c=ca(e,0,a._dayOfYear),a._a[_c]=c.getUTCMonth(),a._a[ad]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[bd]&&0===a._a[cd]&&0===a._a[dd]&&0===a._a[ed]&&(a._nextDay=!0,a._a[bd]=0),a._d=(a._useUTC?ca:ba).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[bd]=24)}}function ra(a){var b,c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=oa(b.GG,a._a[$c],ga(za(),1,4).year),d=oa(b.W,1),e=oa(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=oa(b.gg,a._a[$c],ga(za(),f,g).year),d=oa(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),h=ma(c,d,e,g,f),a._a[$c]=h.year,a._dayOfYear=h.dayOfYear}function sa(b){if(b._f===a.ISO_8601)return void _(b);b._a=[],b._pf.empty=!0;var c,d,e,f,g,h=\"\"+b._i,i=h.length,j=0;for(e=J(b._f,b._locale).match(Gc)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(L(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&b._pf.unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),Jc[f]?(d?b._pf.empty=!1:b._pf.unusedTokens.push(f),P(f,d,b)):b._strict&&!d&&b._pf.unusedTokens.push(f);b._pf.charsLeftOver=i-j,h.length>0&&b._pf.unusedInput.push(h),b._pf.bigHour===!0&&b._a[bd]<=12&&(b._pf.bigHour=void 0),b._a[bd]=ta(b._locale,b._a[bd],b._meridiem),qa(b),X(b)}function ta(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function ua(a){var b,d,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(f=0;f<a._f.length;f++)g=0,b=l({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._pf=c(),b._f=a._f[f],sa(b),j(b)&&(g+=b._pf.charsLeftOver,g+=10*b._pf.unusedTokens.length,b._pf.score=g,(null==e||e>g)&&(e=g,d=b));h(a,d||b)}function va(a){if(!a._d){var b=z(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],qa(a)}}function wa(a){var b,c=a._i,e=a._f;return a._locale=a._locale||w(a._l),null===c||void 0===e&&\"\"===c?k({nullInput:!0}):(\"string\"==typeof c&&(a._i=c=a._locale.preparse(c)),n(c)?new m(X(c)):(d(e)?ua(a):e?sa(a):xa(a),b=new m(X(a)),b._nextDay&&(b.add(1,\"d\"),b._nextDay=void 0),b))}function xa(b){var c=b._i;void 0===c?b._d=new Date:e(c)?b._d=new Date(+c):\"string\"==typeof c?aa(b):d(c)?(b._a=f(c.slice(0),function(a){return parseInt(a,10)}),qa(b)):\"object\"==typeof c?va(b):\"number\"==typeof c?b._d=new Date(c):a.createFromInputFallback(b)}function ya(a,b,d,e,f){var g={};return\"boolean\"==typeof d&&(e=d,d=void 0),g._isAMomentObject=!0,g._useUTC=g._isUTC=f,g._l=d,g._i=a,g._f=b,g._strict=e,g._pf=c(),wa(g)}function za(a,b,c,d){return ya(a,b,c,d,!1)}function Aa(a,b){var c,e;if(1===b.length&&d(b[0])&&(b=b[0]),!b.length)return za();for(c=b[0],e=1;e<b.length;++e)b[e][a](c)&&(c=b[e]);return c}function Ba(){var a=[].slice.call(arguments,0);return Aa(\"isBefore\",a)}function Ca(){var a=[].slice.call(arguments,0);return Aa(\"isAfter\",a)}function Da(a){var b=z(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=w(),this._bubble()}function Ea(a){return a instanceof Da}function Fa(a,b){F(a,0,0,function(){var a=this.utcOffset(),c=\"+\";return 0>a&&(a=-a,c=\"-\"),c+E(~~(a/60),2)+b+E(~~a%60,2)})}function Ga(a){var b=(a||\"\").match(Vc)||[],c=b[b.length-1]||[],d=(c+\"\").match(qd)||[\"-\",0,0],e=+(60*d[1])+o(d[2]);return\"+\"===d[0]?e:-e}function Ha(b,c){var d,f;return c._isUTC?(d=c.clone(),f=(n(b)||e(b)?+b:+za(b))-+d,d._d.setTime(+d._d+f),a.updateOffset(d,!1),d):za(b).local();return c._isUTC?za(b).zone(c._offset||0):za(b).local()}function Ia(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Ja(b,c){var d,e=this._offset||0;return null!=b?(\"string\"==typeof b&&(b=Ga(b)),Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Ia(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,\"m\"),e!==b&&(!c||this._changeInProgress?Za(this,Ua(b-e,\"m\"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ia(this)}function Ka(a,b){return null!=a?(\"string\"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function La(a){return this.utcOffset(0,a)}function Ma(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ia(this),\"m\")),this}function Na(){return this._tzm?this.utcOffset(this._tzm):\"string\"==typeof this._i&&this.utcOffset(Ga(this._i)),this}function Oa(a){return a=a?za(a).utcOffset():0,(this.utcOffset()-a)%60===0}function Pa(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Qa(){if(this._a){var a=this._isUTC?i(this._a):za(this._a);return this.isValid()&&p(this._a,a.toArray())>0}return!1}function Ra(){return!this._isUTC}function Sa(){return this._isUTC}function Ta(){return this._isUTC&&0===this._offset}function Ua(a,b){var c,d,e,f=a,h=null;return Ea(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:\"number\"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(h=rd.exec(a))?(c=\"-\"===h[1]?-1:1,f={y:0,d:o(h[ad])*c,h:o(h[bd])*c,m:o(h[cd])*c,s:o(h[dd])*c,ms:o(h[ed])*c}):(h=sd.exec(a))?(c=\"-\"===h[1]?-1:1,f={y:Va(h[2],c),M:Va(h[3],c),d:Va(h[4],c),h:Va(h[5],c),m:Va(h[6],c),s:Va(h[7],c),w:Va(h[8],c)}):null==f?f={}:\"object\"==typeof f&&(\"from\"in f||\"to\"in f)&&(e=Xa(za(f.from),za(f.to)),f={},f.ms=e.milliseconds,f.M=e.months),d=new Da(f),Ea(a)&&g(a,\"_locale\")&&(d._locale=a._locale),d}function Va(a,b){var c=a&&parseFloat(a.replace(\",\",\".\"));return(isNaN(c)?0:c)*b}function Wa(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,\"M\").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,\"M\"),c}function Xa(a,b){var c;return b=Ha(b,a),a.isBefore(b)?c=Wa(a,b):(c=Wa(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function Ya(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||($(b,\"moment().\"+b+\"(period, number) is deprecated. Please use moment().\"+b+\"(number, period).\"),f=c,c=d,d=f),c=\"string\"==typeof c?+c:c,e=Ua(c,d),Za(this,e,a),this}}function Za(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&C(b,\"Date\",B(b,\"Date\")+g*d),h&&U(b,B(b,\"Month\")+h*d),e&&a.updateOffset(b,g||h)}function $a(a){var b=a||za(),c=Ha(b,this).startOf(\"day\"),d=this.diff(c,\"days\",!0),e=-6>d?\"sameElse\":-1>d?\"lastWeek\":0>d?\"lastDay\":1>d?\"sameDay\":2>d?\"nextDay\":7>d?\"nextWeek\":\"sameElse\";return this.format(this.localeData().calendar(e,this,za(b)))}function _a(){return new m(this)}function ab(a,b){var c;return b=y(\"undefined\"!=typeof b?b:\"millisecond\"),\"millisecond\"===b?(a=n(a)?a:za(a),+this>+a):(c=n(a)?+a:+za(a),c<+this.clone().startOf(b))}function bb(a,b){var c;return b=y(\"undefined\"!=typeof b?b:\"millisecond\"),\"millisecond\"===b?(a=n(a)?a:za(a),+a>+this):(c=n(a)?+a:+za(a),+this.clone().endOf(b)<c)}function cb(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function db(a,b){var c;return b=y(b||\"millisecond\"),\"millisecond\"===b?(a=n(a)?a:za(a),+this===+a):(c=+za(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function eb(a){return 0>a?Math.ceil(a):Math.floor(a)}function fb(a,b,c){var d,e,f=Ha(a,this),g=6e4*(f.utcOffset()-this.utcOffset());return b=y(b),\"year\"===b||\"month\"===b||\"quarter\"===b?(e=gb(this,f),\"quarter\"===b?e/=3:\"year\"===b&&(e/=12)):(d=this-f,e=\"second\"===b?d/1e3:\"minute\"===b?d/6e4:\"hour\"===b?d/36e5:\"day\"===b?(d-g)/864e5:\"week\"===b?(d-g)/6048e5:d),c?e:eb(e)}function gb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,\"months\");return 0>b-f?(c=a.clone().add(e-1,\"months\"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,\"months\"),d=(b-f)/(c-f)),-(e+d)}function hb(){return this.clone().locale(\"en\").format(\"ddd MMM DD YYYY HH:mm:ss [GMT]ZZ\")}function ib(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?\"function\"==typeof Date.prototype.toISOString?this.toDate().toISOString():I(a,\"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]\"):I(a,\"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]\")}function jb(b){var c=I(this,b||a.defaultFormat);return this.localeData().postformat(c)}function kb(a,b){return Ua({to:this,from:a}).locale(this.locale()).humanize(!b)}function lb(a){return this.from(za(),a)}function mb(a){var b;return void 0===a?this._locale._abbr:(b=w(a),null!=b&&(this._locale=b),this)}function nb(){return this._locale}function ob(a){switch(a=y(a)){case\"year\":this.month(0);case\"quarter\":case\"month\":this.date(1);case\"week\":case\"isoWeek\":case\"day\":this.hours(0);case\"hour\":this.minutes(0);case\"minute\":this.seconds(0);case\"second\":this.milliseconds(0)}return\"week\"===a&&this.weekday(0),\"isoWeek\"===a&&this.isoWeekday(1),\"quarter\"===a&&this.month(3*Math.floor(this.month()/3)),this}function pb(a){return a=y(a),void 0===a||\"millisecond\"===a?this:this.startOf(a).add(1,\"isoWeek\"===a?\"week\":a).subtract(1,\"ms\")}function qb(){return+this._d-6e4*(this._offset||0)}function rb(){return Math.floor(+this/1e3)}function sb(){return this._offset?new Date(+this):this._d}function tb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function ub(){return j(this)}function vb(){return h({},this._pf)}function wb(){return this._pf.overflow}function xb(a,b){F(0,[a,a.length],0,b)}function yb(a,b,c){return ga(za([a,11,31+b-c]),b,c).week}function zb(a){var b=ga(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,\"y\")}function Ab(a){var b=ga(this,1,4).year;return null==a?b:this.add(a-b,\"y\")}function Bb(){return yb(this.year(),1,4)}function Cb(){var a=this.localeData()._week;return yb(this.year(),a.dow,a.doy)}function Db(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Eb(a,b){if(\"string\"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),\"number\"!=typeof a)return null}else a=parseInt(a,10);return a}function Fb(a){return this._weekdays[a.day()]}function Gb(a){return this._weekdaysShort[a.day()]}function Hb(a){return this._weekdaysMin[a.day()]}function Ib(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=za([2e3,1]).day(b),d=\"^\"+this.weekdays(c,\"\")+\"|^\"+this.weekdaysShort(c,\"\")+\"|^\"+this.weekdaysMin(c,\"\"),this._weekdaysParse[b]=new RegExp(d.replace(\".\",\"\"),\"i\")),this._weekdaysParse[b].test(a))return b}function Jb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Eb(a,this.localeData()),this.add(a-b,\"d\")):b}function Kb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,\"d\")}function Lb(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Mb(a,b){F(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Nb(a,b){return b._meridiemParse}function Ob(a){return\"p\"===(a+\"\").toLowerCase().charAt(0)}function Pb(a,b,c){return a>11?c?\"pm\":\"PM\":c?\"am\":\"AM\"}function Qb(a){F(0,[a,3],0,\"millisecond\")}function Rb(){return this._isUTC?\"UTC\":\"\"}function Sb(){return this._isUTC?\"Coordinated Universal Time\":\"\"}function Tb(a){return za(1e3*a)}function Ub(){return za.apply(null,arguments).parseZone()}function Vb(a,b,c){var d=this._calendar[a];return\"function\"==typeof d?d.call(b,c):d}function Wb(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b}function Xb(){return this._invalidDate}function Yb(a){return this._ordinal.replace(\"%d\",a)}function Zb(a){return a}function $b(a,b,c,d){var e=this._relativeTime[c];return\"function\"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function _b(a,b){var c=this._relativeTime[a>0?\"future\":\"past\"];return\"function\"==typeof c?c(b):c.replace(/%s/i,b)}function ac(a){var b,c;for(c in a)b=a[c],\"function\"==typeof b?this[c]=b:this[\"_\"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+\"|\"+/\\d{1,2}/.source)}function bc(a,b,c,d){var e=w(),f=i().set(d,b);return e[c](f,a)}function cc(a,b,c,d,e){if(\"number\"==typeof a&&(b=a,a=void 0),a=a||\"\",null!=b)return bc(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=bc(a,f,c,e);return g}function dc(a,b){return cc(a,b,\"months\",12,\"month\")}function ec(a,b){return cc(a,b,\"monthsShort\",12,\"month\")}function fc(a,b){return cc(a,b,\"weekdays\",7,\"day\")}function gc(a,b){return cc(a,b,\"weekdaysShort\",7,\"day\")}function hc(a,b){return cc(a,b,\"weekdaysMin\",7,\"day\")}function ic(){var a=this._data;return this._milliseconds=Od(this._milliseconds),this._days=Od(this._days),this._months=Od(this._months),a.milliseconds=Od(a.milliseconds),a.seconds=Od(a.seconds),a.minutes=Od(a.minutes),a.hours=Od(a.hours),a.months=Od(a.months),a.years=Od(a.years),this}function jc(a,b,c,d){var e=Ua(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function kc(a,b){return jc(this,a,b,1)}function lc(a,b){return jc(this,a,b,-1)}function mc(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;return g.milliseconds=d%1e3,a=eb(d/1e3),g.seconds=a%60,b=eb(a/60),g.minutes=b%60,c=eb(b/60),g.hours=c%24,e+=eb(c/24),h=eb(nc(e)),e-=eb(oc(h)),f+=eb(e/30),e%=30,h+=eb(f/12),f%=12,g.days=e,g.months=f,g.years=h,this}function nc(a){return 400*a/146097}function oc(a){return 146097*a/400}function pc(a){var b,c,d=this._milliseconds;if(a=y(a),\"month\"===a||\"year\"===a)return b=this._days+d/864e5,c=this._months+12*nc(b),\"month\"===a?c:c/12;switch(b=this._days+Math.round(oc(this._months/12)),a){case\"week\":return b/7+d/6048e5;case\"day\":return b+d/864e5;case\"hour\":return 24*b+d/36e5;case\"minute\":return 24*b*60+d/6e4;case\"second\":return 24*b*60*60+d/1e3;case\"millisecond\":return Math.floor(24*b*60*60*1e3)+d;default:throw new Error(\"Unknown unit \"+a)}}function qc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*o(this._months/12)}function rc(a){return function(){return this.as(a)}}function sc(a){return a=y(a),this[a+\"s\"]()}function tc(a){return function(){return this._data[a]}}function uc(){return eb(this.days()/7)}function vc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function wc(a,b,c){var d=Ua(a).abs(),e=ce(d.as(\"s\")),f=ce(d.as(\"m\")),g=ce(d.as(\"h\")),h=ce(d.as(\"d\")),i=ce(d.as(\"M\")),j=ce(d.as(\"y\")),k=e<de.s&&[\"s\",e]||1===f&&[\"m\"]||f<de.m&&[\"mm\",f]||1===g&&[\"h\"]||g<de.h&&[\"hh\",g]||1===h&&[\"d\"]||h<de.d&&[\"dd\",h]||1===i&&[\"M\"]||i<de.M&&[\"MM\",i]||1===j&&[\"y\"]||[\"yy\",j];return k[2]=b,k[3]=+a>0,k[4]=c,vc.apply(null,k)}function xc(a,b){return void 0===de[a]?!1:void 0===b?de[a]:(de[a]=b,!0)}function yc(a){var b=this.localeData(),c=wc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function zc(){var a=ee(this.years()),b=ee(this.months()),c=ee(this.days()),d=ee(this.hours()),e=ee(this.minutes()),f=ee(this.seconds()+this.milliseconds()/1e3),g=this.asSeconds();return g?(0>g?\"-\":\"\")+\"P\"+(a?a+\"Y\":\"\")+(b?b+\"M\":\"\")+(c?c+\"D\":\"\")+(d||e||f?\"T\":\"\")+(d?d+\"H\":\"\")+(e?e+\"M\":\"\")+(f?f+\"S\":\"\"):\"P0D\"}var Ac,Bc,Cc=a.momentProperties=[],Dc=!1,Ec={},Fc={},Gc=/(\\[[^\\[]*\\])|(\\\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Hc=/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ic={},Jc={},Kc=/\\d/,Lc=/\\d\\d/,Mc=/\\d{3}/,Nc=/\\d{4}/,Oc=/[+-]?\\d{6}/,Pc=/\\d\\d?/,Qc=/\\d{1,3}/,Rc=/\\d{1,4}/,Sc=/[+-]?\\d{1,6}/,Tc=/\\d+/,Uc=/[+-]?\\d+/,Vc=/Z|[+-]\\d\\d:?\\d\\d/gi,Wc=/[+-]?\\d+(\\.\\d{1,3})?/,Xc=/[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i,Yc={},Zc={},$c=0,_c=1,ad=2,bd=3,cd=4,dd=5,ed=6;F(\"M\",[\"MM\",2],\"Mo\",function(){return this.month()+1}),F(\"MMM\",0,0,function(a){return this.localeData().monthsShort(this,a)}),F(\"MMMM\",0,0,function(a){return this.localeData().months(this,a)}),x(\"month\",\"M\"),K(\"M\",Pc),K(\"MM\",Pc,Lc),K(\"MMM\",Xc),K(\"MMMM\",Xc),N([\"M\",\"MM\"],function(a,b){b[_c]=o(a)-1}),N([\"MMM\",\"MMMM\"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[_c]=e:c._pf.invalidMonth=a});var fd=\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),gd=\"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\"),hd={};a.suppressDeprecationWarnings=!1;var id=/^\\s*(?:[+-]\\d{6}|\\d{4})-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,jd=[[\"YYYYYY-MM-DD\",/[+-]\\d{6}-\\d{2}-\\d{2}/],[\"YYYY-MM-DD\",/\\d{4}-\\d{2}-\\d{2}/],[\"GGGG-[W]WW-E\",/\\d{4}-W\\d{2}-\\d/],[\"GGGG-[W]WW\",/\\d{4}-W\\d{2}/],[\"YYYY-DDD\",/\\d{4}-\\d{3}/]],kd=[[\"HH:mm:ss.SSSS\",/(T| )\\d\\d:\\d\\d:\\d\\d\\.\\d+/],[\"HH:mm:ss\",/(T| )\\d\\d:\\d\\d:\\d\\d/],[\"HH:mm\",/(T| )\\d\\d:\\d\\d/],[\"HH\",/(T| )\\d\\d/]],ld=/^\\/?Date\\((\\-?\\d+)/i;a.createFromInputFallback=Z(\"moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.\",function(a){a._d=new Date(a._i+(a._useUTC?\" UTC\":\"\"))}),F(0,[\"YY\",2],0,function(){return this.year()%100}),F(0,[\"YYYY\",4],0,\"year\"),F(0,[\"YYYYY\",5],0,\"year\"),F(0,[\"YYYYYY\",6,!0],0,\"year\"),x(\"year\",\"y\"),K(\"Y\",Uc),K(\"YY\",Pc,Lc),K(\"YYYY\",Rc,Nc),K(\"YYYYY\",Sc,Oc),K(\"YYYYYY\",Sc,Oc),N([\"YYYY\",\"YYYYY\",\"YYYYYY\"],$c),N(\"YY\",function(b,c){c[$c]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return o(a)+(o(a)>68?1900:2e3)};var md=A(\"FullYear\",!1);F(\"w\",[\"ww\",2],\"wo\",\"week\"),F(\"W\",[\"WW\",2],\"Wo\",\"isoWeek\"),x(\"week\",\"w\"),x(\"isoWeek\",\"W\"),K(\"w\",Pc),K(\"ww\",Pc,Lc),K(\"W\",Pc),K(\"WW\",Pc,Lc),O([\"w\",\"ww\",\"W\",\"WW\"],function(a,b,c,d){b[d.substr(0,1)]=o(a)});var nd={dow:0,doy:6};F(\"DDD\",[\"DDDD\",3],\"DDDo\",\"dayOfYear\"),x(\"dayOfYear\",\"DDD\"),K(\"DDD\",Qc),K(\"DDDD\",Mc),N([\"DDD\",\"DDDD\"],function(a,b,c){c._dayOfYear=o(a)}),a.ISO_8601=function(){};var od=Z(\"moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548\",function(){var a=za.apply(null,arguments);return this>a?this:a}),pd=Z(\"moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548\",function(){var a=za.apply(null,arguments);return a>this?this:a});Fa(\"Z\",\":\"),Fa(\"ZZ\",\"\"),K(\"Z\",Vc),K(\"ZZ\",Vc),N([\"Z\",\"ZZ\"],function(a,b,c){c._useUTC=!0,c._tzm=Ga(a)});var qd=/([\\+\\-]|\\d\\d)/gi;a.updateOffset=function(){};var rd=/(\\-)?(?:(\\d*)\\.)?(\\d+)\\:(\\d+)(?:\\:(\\d+)\\.?(\\d{3})?)?/,sd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ua.fn=Da.prototype;var td=Ya(1,\"add\"),ud=Ya(-1,\"subtract\");a.defaultFormat=\"YYYY-MM-DDTHH:mm:ssZ\";var vd=Z(\"moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.\",function(a){return void 0===a?this.localeData():this.locale(a)});F(0,[\"gg\",2],0,function(){return this.weekYear()%100}),F(0,[\"GG\",2],0,function(){return this.isoWeekYear()%100}),xb(\"gggg\",\"weekYear\"),xb(\"ggggg\",\"weekYear\"),xb(\"GGGG\",\"isoWeekYear\"),xb(\"GGGGG\",\"isoWeekYear\"),x(\"weekYear\",\"gg\"),x(\"isoWeekYear\",\"GG\"),K(\"G\",Uc),K(\"g\",Uc),K(\"GG\",Pc,Lc),K(\"gg\",Pc,Lc),K(\"GGGG\",Rc,Nc),K(\"gggg\",Rc,Nc),K(\"GGGGG\",Sc,Oc),K(\"ggggg\",Sc,Oc),O([\"gggg\",\"ggggg\",\"GGGG\",\"GGGGG\"],function(a,b,c,d){b[d.substr(0,2)]=o(a)}),O([\"gg\",\"GG\"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),F(\"Q\",0,0,\"quarter\"),x(\"quarter\",\"Q\"),K(\"Q\",Kc),N(\"Q\",function(a,b){b[_c]=3*(o(a)-1)}),F(\"D\",[\"DD\",2],\"Do\",\"date\"),x(\"date\",\"D\"),K(\"D\",Pc),K(\"DD\",Pc,Lc),K(\"Do\",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),N([\"D\",\"DD\"],ad),N(\"Do\",function(a,b){b[ad]=o(a.match(Pc)[0],10)});var wd=A(\"Date\",!0);F(\"d\",0,\"do\",\"day\"),F(\"dd\",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),F(\"ddd\",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),F(\"dddd\",0,0,function(a){return this.localeData().weekdays(this,a)}),F(\"e\",0,0,\"weekday\"),F(\"E\",0,0,\"isoWeekday\"),x(\"day\",\"d\"),x(\"weekday\",\"e\"),x(\"isoWeekday\",\"E\"),K(\"d\",Pc),K(\"e\",Pc),K(\"E\",Pc),K(\"dd\",Xc),K(\"ddd\",Xc),K(\"dddd\",Xc),O([\"dd\",\"ddd\",\"dddd\"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:c._pf.invalidWeekday=a}),O([\"d\",\"e\",\"E\"],function(a,b,c,d){b[d]=o(a)});var xd=\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),yd=\"Sun_Mon_Tue_Wed_Thu_Fri_Sat\".split(\"_\"),zd=\"Su_Mo_Tu_We_Th_Fr_Sa\".split(\"_\");F(\"H\",[\"HH\",2],0,\"hour\"),F(\"h\",[\"hh\",2],0,function(){return this.hours()%12||12}),Mb(\"a\",!0),Mb(\"A\",!1),x(\"hour\",\"h\"),K(\"a\",Nb),K(\"A\",Nb),K(\"H\",Pc),K(\"h\",Pc),K(\"HH\",Pc,Lc),K(\"hh\",Pc,Lc),N([\"H\",\"HH\"],bd),N([\"a\",\"A\"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),N([\"h\",\"hh\"],function(a,b,c){b[bd]=o(a),c._pf.bigHour=!0});var Ad=/[ap]\\.?m?\\.?/i,Bd=A(\"Hours\",!0);F(\"m\",[\"mm\",2],0,\"minute\"),x(\"minute\",\"m\"),K(\"m\",Pc),K(\"mm\",Pc,Lc),N([\"m\",\"mm\"],cd);var Cd=A(\"Minutes\",!1);F(\"s\",[\"ss\",2],0,\"second\"),x(\"second\",\"s\"),K(\"s\",Pc),K(\"ss\",Pc,Lc),N([\"s\",\"ss\"],dd);var Dd=A(\"Seconds\",!1);F(\"S\",0,0,function(){return~~(this.millisecond()/100)}),F(0,[\"SS\",2],0,function(){return~~(this.millisecond()/10)}),Qb(\"SSS\"),Qb(\"SSSS\"),x(\"millisecond\",\"ms\"),K(\"S\",Qc,Kc),K(\"SS\",Qc,Lc),K(\"SSS\",Qc,Mc),K(\"SSSS\",Tc),N([\"S\",\"SS\",\"SSS\",\"SSSS\"],function(a,b){b[ed]=o(1e3*(\"0.\"+a))});var Ed=A(\"Milliseconds\",!1);F(\"z\",0,0,\"zoneAbbr\"),F(\"zz\",0,0,\"zoneName\");var Fd=m.prototype;Fd.add=td,Fd.calendar=$a,Fd.clone=_a,Fd.diff=fb,Fd.endOf=pb,Fd.format=jb,Fd.from=kb,Fd.fromNow=lb,Fd.get=D,Fd.invalidAt=wb,Fd.isAfter=ab,Fd.isBefore=bb,Fd.isBetween=cb,Fd.isSame=db,Fd.isValid=ub,Fd.lang=vd,Fd.locale=mb,Fd.localeData=nb,Fd.max=pd,Fd.min=od,Fd.parsingFlags=vb,Fd.set=D,Fd.startOf=ob,Fd.subtract=ud,Fd.toArray=tb,Fd.toDate=sb,Fd.toISOString=ib,Fd.toJSON=ib,Fd.toString=hb,Fd.unix=rb,Fd.valueOf=qb,Fd.year=md,Fd.isLeapYear=fa,Fd.weekYear=zb,Fd.isoWeekYear=Ab,Fd.quarter=Fd.quarters=Db,Fd.month=V,Fd.daysInMonth=W,Fd.week=Fd.weeks=ka,Fd.isoWeek=Fd.isoWeeks=la,Fd.weeksInYear=Cb,Fd.isoWeeksInYear=Bb,Fd.date=wd,Fd.day=Fd.days=Jb,Fd.weekday=Kb,Fd.isoWeekday=Lb,Fd.dayOfYear=na,Fd.hour=Fd.hours=Bd,Fd.minute=Fd.minutes=Cd,Fd.second=Fd.seconds=Dd,Fd.millisecond=Fd.milliseconds=Ed,Fd.utcOffset=Ja,Fd.utc=La,Fd.local=Ma,Fd.parseZone=Na,Fd.hasAlignedHourOffset=Oa,Fd.isDST=Pa,Fd.isDSTShifted=Qa,Fd.isLocal=Ra,Fd.isUtcOffset=Sa,Fd.isUtc=Ta,Fd.isUTC=Ta,Fd.zoneAbbr=Rb,Fd.zoneName=Sb,Fd.dates=Z(\"dates accessor is deprecated. Use date instead.\",wd),Fd.months=Z(\"months accessor is deprecated. Use month instead\",V),Fd.years=Z(\"years accessor is deprecated. Use year instead\",md),Fd.zone=Z(\"moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779\",Ka);var Gd=Fd,Hd={sameDay:\"[Today at] LT\",nextDay:\"[Tomorrow at] LT\",nextWeek:\"dddd [at] LT\",lastDay:\"[Yesterday at] LT\",lastWeek:\"[Last] dddd [at] LT\",sameElse:\"L\"},Id={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY LT\",LLLL:\"dddd, MMMM D, YYYY LT\"},Jd=\"Invalid date\",Kd=\"%d\",Ld=/\\d{1,2}/,Md={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"},Nd=q.prototype;Nd._calendar=Hd,Nd.calendar=Vb,Nd._longDateFormat=Id,Nd.longDateFormat=Wb,Nd._invalidDate=Jd,Nd.invalidDate=Xb,Nd._ordinal=Kd,Nd.ordinal=Yb,Nd._ordinalParse=Ld,\nNd.preparse=Zb,Nd.postformat=Zb,Nd._relativeTime=Md,Nd.relativeTime=$b,Nd.pastFuture=_b,Nd.set=ac,Nd.months=R,Nd._months=fd,Nd.monthsShort=S,Nd._monthsShort=gd,Nd.monthsParse=T,Nd.week=ha,Nd._week=nd,Nd.firstDayOfYear=ja,Nd.firstDayOfWeek=ia,Nd.weekdays=Fb,Nd._weekdays=xd,Nd.weekdaysMin=Hb,Nd._weekdaysMin=zd,Nd.weekdaysShort=Gb,Nd._weekdaysShort=yd,Nd.weekdaysParse=Ib,Nd.isPM=Ob,Nd._meridiemParse=Ad,Nd.meridiem=Pb,u(\"en\",{ordinalParse:/\\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===o(a%100/10)?\"th\":1===b?\"st\":2===b?\"nd\":3===b?\"rd\":\"th\";return a+c}}),a.lang=Z(\"moment.lang is deprecated. Use moment.locale instead.\",u),a.langData=Z(\"moment.langData is deprecated. Use moment.localeData instead.\",w);var Od=Math.abs,Pd=rc(\"ms\"),Qd=rc(\"s\"),Rd=rc(\"m\"),Sd=rc(\"h\"),Td=rc(\"d\"),Ud=rc(\"w\"),Vd=rc(\"M\"),Wd=rc(\"y\"),Xd=tc(\"milliseconds\"),Yd=tc(\"seconds\"),Zd=tc(\"minutes\"),$d=tc(\"hours\"),_d=tc(\"days\"),ae=tc(\"months\"),be=tc(\"years\"),ce=Math.round,de={s:45,m:45,h:22,d:26,M:11},ee=Math.abs,fe=Da.prototype;fe.abs=ic,fe.add=kc,fe.subtract=lc,fe.as=pc,fe.asMilliseconds=Pd,fe.asSeconds=Qd,fe.asMinutes=Rd,fe.asHours=Sd,fe.asDays=Td,fe.asWeeks=Ud,fe.asMonths=Vd,fe.asYears=Wd,fe.valueOf=qc,fe._bubble=mc,fe.get=sc,fe.milliseconds=Xd,fe.seconds=Yd,fe.minutes=Zd,fe.hours=$d,fe.days=_d,fe.weeks=uc,fe.months=ae,fe.years=be,fe.humanize=yc,fe.toISOString=zc,fe.toString=zc,fe.toJSON=zc,fe.locale=mb,fe.localeData=nb,fe.toIsoString=Z(\"toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)\",zc),fe.lang=vd,F(\"X\",0,0,\"unix\"),F(\"x\",0,0,\"valueOf\"),K(\"x\",Uc),K(\"X\",Wc),N(\"X\",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),N(\"x\",function(a,b,c){c._d=new Date(o(a))}),a.version=\"2.10.2\",b(za),a.fn=Gd,a.min=Ba,a.max=Ca,a.utc=i,a.unix=Tb,a.months=dc,a.isDate=e,a.locale=u,a.invalid=k,a.duration=Ua,a.isMoment=n,a.weekdays=fc,a.parseZone=Ub,a.localeData=w,a.isDuration=Ea,a.monthsShort=ec,a.weekdaysMin=hc,a.defineLocale=v,a.weekdaysShort=gc,a.normalizeUnits=y,a.relativeTimeThreshold=xc;var ge=a;return ge});\n/*! version : 4.7.14\n =========================================================\n bootstrap-datetimejs\n https://github.com/Eonasdan/bootstrap-datetimepicker\n Copyright (c) 2015 Jonathan Peterson\n =========================================================\n */\n!function(a){\"use strict\";if(\"function\"==typeof define&&define.amd)define([\"jquery\",\"moment\"],a);else if(\"object\"==typeof exports)a(require(\"jquery\"),require(\"moment\"));else{if(\"undefined\"==typeof jQuery)throw\"bootstrap-datetimepicker requires jQuery to be loaded first\";if(\"undefined\"==typeof moment)throw\"bootstrap-datetimepicker requires Moment.js to be loaded first\";a(jQuery,moment)}}(function(a,b){\"use strict\";if(!b)throw new Error(\"bootstrap-datetimepicker requires Moment.js to be loaded first\");var c=function(c,d){var e,f,g,h,i,j={},k=b().startOf(\"d\"),l=k.clone(),m=!0,n=!1,o=!1,p=0,q=[{clsName:\"days\",navFnc:\"M\",navStep:1},{clsName:\"months\",navFnc:\"y\",navStep:1},{clsName:\"years\",navFnc:\"y\",navStep:10}],r=[\"days\",\"months\",\"years\"],s=[\"top\",\"bottom\",\"auto\"],t=[\"left\",\"right\",\"auto\"],u=[\"default\",\"top\",\"bottom\"],v={up:38,38:\"up\",down:40,40:\"down\",left:37,37:\"left\",right:39,39:\"right\",tab:9,9:\"tab\",escape:27,27:\"escape\",enter:13,13:\"enter\",pageUp:33,33:\"pageUp\",pageDown:34,34:\"pageDown\",shift:16,16:\"shift\",control:17,17:\"control\",space:32,32:\"space\",t:84,84:\"t\",\"delete\":46,46:\"delete\"},w={},x=function(a){if(\"string\"!=typeof a||a.length>1)throw new TypeError(\"isEnabled expects a single character string parameter\");switch(a){case\"y\":return-1!==g.indexOf(\"Y\");case\"M\":return-1!==g.indexOf(\"M\");case\"d\":return-1!==g.toLowerCase().indexOf(\"d\");case\"h\":case\"H\":return-1!==g.toLowerCase().indexOf(\"h\");case\"m\":return-1!==g.indexOf(\"m\");case\"s\":return-1!==g.indexOf(\"s\");default:return!1}},y=function(){return x(\"h\")||x(\"m\")||x(\"s\")},z=function(){return x(\"y\")||x(\"M\")||x(\"d\")},A=function(){var b=a(\"<thead>\").append(a(\"<tr>\").append(a(\"<th>\").addClass(\"prev\").attr(\"data-action\",\"previous\").append(a(\"<span>\").addClass(d.icons.previous))).append(a(\"<th>\").addClass(\"picker-switch\").attr(\"data-action\",\"pickerSwitch\").attr(\"colspan\",d.calendarWeeks?\"6\":\"5\")).append(a(\"<th>\").addClass(\"next\").attr(\"data-action\",\"next\").append(a(\"<span>\").addClass(d.icons.next)))),c=a(\"<tbody>\").append(a(\"<tr>\").append(a(\"<td>\").attr(\"colspan\",d.calendarWeeks?\"8\":\"7\")));return[a(\"<div>\").addClass(\"datepicker-days\").append(a(\"<table>\").addClass(\"table-condensed\").append(b).append(a(\"<tbody>\"))),a(\"<div>\").addClass(\"datepicker-months\").append(a(\"<table>\").addClass(\"table-condensed\").append(b.clone()).append(c.clone())),a(\"<div>\").addClass(\"datepicker-years\").append(a(\"<table>\").addClass(\"table-condensed\").append(b.clone()).append(c.clone()))]},B=function(){var b=a(\"<tr>\"),c=a(\"<tr>\"),e=a(\"<tr>\");return x(\"h\")&&(b.append(a(\"<td>\").append(a(\"<a>\").attr({href:\"#\",tabindex:\"-1\"}).addClass(\"btn\").attr(\"data-action\",\"incrementHours\").append(a(\"<span>\").addClass(d.icons.up)))),c.append(a(\"<td>\").append(a(\"<span>\").addClass(\"timepicker-hour\").attr(\"data-time-component\",\"hours\").attr(\"data-action\",\"showHours\"))),e.append(a(\"<td>\").append(a(\"<a>\").attr({href:\"#\",tabindex:\"-1\"}).addClass(\"btn\").attr(\"data-action\",\"decrementHours\").append(a(\"<span>\").addClass(d.icons.down))))),x(\"m\")&&(x(\"h\")&&(b.append(a(\"<td>\").addClass(\"separator\")),c.append(a(\"<td>\").addClass(\"separator\").html(\":\")),e.append(a(\"<td>\").addClass(\"separator\"))),b.append(a(\"<td>\").append(a(\"<a>\").attr({href:\"#\",tabindex:\"-1\"}).addClass(\"btn\").attr(\"data-action\",\"incrementMinutes\").append(a(\"<span>\").addClass(d.icons.up)))),c.append(a(\"<td>\").append(a(\"<span>\").addClass(\"timepicker-minute\").attr(\"data-time-component\",\"minutes\").attr(\"data-action\",\"showMinutes\"))),e.append(a(\"<td>\").append(a(\"<a>\").attr({href:\"#\",tabindex:\"-1\"}).addClass(\"btn\").attr(\"data-action\",\"decrementMinutes\").append(a(\"<span>\").addClass(d.icons.down))))),x(\"s\")&&(x(\"m\")&&(b.append(a(\"<td>\").addClass(\"separator\")),c.append(a(\"<td>\").addClass(\"separator\").html(\":\")),e.append(a(\"<td>\").addClass(\"separator\"))),b.append(a(\"<td>\").append(a(\"<a>\").attr({href:\"#\",tabindex:\"-1\"}).addClass(\"btn\").attr(\"data-action\",\"incrementSeconds\").append(a(\"<span>\").addClass(d.icons.up)))),c.append(a(\"<td>\").append(a(\"<span>\").addClass(\"timepicker-second\").attr(\"data-time-component\",\"seconds\").attr(\"data-action\",\"showSeconds\"))),e.append(a(\"<td>\").append(a(\"<a>\").attr({href:\"#\",tabindex:\"-1\"}).addClass(\"btn\").attr(\"data-action\",\"decrementSeconds\").append(a(\"<span>\").addClass(d.icons.down))))),f||(b.append(a(\"<td>\").addClass(\"separator\")),c.append(a(\"<td>\").append(a(\"<button>\").addClass(\"btn btn-primary\").attr(\"data-action\",\"togglePeriod\"))),e.append(a(\"<td>\").addClass(\"separator\"))),a(\"<div>\").addClass(\"timepicker-picker\").append(a(\"<table>\").addClass(\"table-condensed\").append([b,c,e]))},C=function(){var b=a(\"<div>\").addClass(\"timepicker-hours\").append(a(\"<table>\").addClass(\"table-condensed\")),c=a(\"<div>\").addClass(\"timepicker-minutes\").append(a(\"<table>\").addClass(\"table-condensed\")),d=a(\"<div>\").addClass(\"timepicker-seconds\").append(a(\"<table>\").addClass(\"table-condensed\")),e=[B()];return x(\"h\")&&e.push(b),x(\"m\")&&e.push(c),x(\"s\")&&e.push(d),e},D=function(){var b=[];return d.showTodayButton&&b.push(a(\"<td>\").append(a(\"<a>\").attr(\"data-action\",\"today\").append(a(\"<span>\").addClass(d.icons.today)))),!d.sideBySide&&z()&&y()&&b.push(a(\"<td>\").append(a(\"<a>\").attr(\"data-action\",\"togglePicker\").append(a(\"<span>\").addClass(d.icons.time)))),d.showClear&&b.push(a(\"<td>\").append(a(\"<a>\").attr(\"data-action\",\"clear\").append(a(\"<span>\").addClass(d.icons.clear)))),d.showClose&&b.push(a(\"<td>\").append(a(\"<a>\").attr(\"data-action\",\"close\").append(a(\"<span>\").addClass(d.icons.close)))),a(\"<table>\").addClass(\"table-condensed\").append(a(\"<tbody>\").append(a(\"<tr>\").append(b)))},E=function(){var b=a(\"<div>\").addClass(\"bootstrap-datetimepicker-widget dropdown-menu\"),c=a(\"<div>\").addClass(\"datepicker\").append(A()),e=a(\"<div>\").addClass(\"timepicker\").append(C()),g=a(\"<ul>\").addClass(\"list-unstyled\"),h=a(\"<li>\").addClass(\"picker-switch\"+(d.collapse?\" accordion-toggle\":\"\")).append(D());return d.inline&&b.removeClass(\"dropdown-menu\"),f&&b.addClass(\"usetwentyfour\"),d.sideBySide&&z()&&y()?(b.addClass(\"timepicker-sbs\"),b.append(a(\"<div>\").addClass(\"row\").append(c.addClass(\"col-sm-6\")).append(e.addClass(\"col-sm-6\"))),b.append(h),b):(\"top\"===d.toolbarPlacement&&g.append(h),z()&&g.append(a(\"<li>\").addClass(d.collapse&&y()?\"collapse in\":\"\").append(c)),\"default\"===d.toolbarPlacement&&g.append(h),y()&&g.append(a(\"<li>\").addClass(d.collapse&&z()?\"collapse\":\"\").append(e)),\"bottom\"===d.toolbarPlacement&&g.append(h),b.append(g))},F=function(){var b,e={};return b=c.is(\"input\")||d.inline?c.data():c.find(\"input\").data(),b.dateOptions&&b.dateOptions instanceof Object&&(e=a.extend(!0,e,b.dateOptions)),a.each(d,function(a){var c=\"date\"+a.charAt(0).toUpperCase()+a.slice(1);void 0!==b[c]&&(e[a]=b[c])}),e},G=function(){var b,e=(n||c).position(),f=(n||c).offset(),g=d.widgetPositioning.vertical,h=d.widgetPositioning.horizontal;if(d.widgetParent)b=d.widgetParent.append(o);else if(c.is(\"input\"))b=c.parent().append(o);else{if(d.inline)return void(b=c.append(o));b=c,c.children().first().after(o)}if(\"auto\"===g&&(g=f.top+1.5*o.height()>=a(window).height()+a(window).scrollTop()&&o.height()+c.outerHeight()<f.top?\"top\":\"bottom\"),\"auto\"===h&&(h=b.width()<f.left+o.outerWidth()/2&&f.left+o.outerWidth()>a(window).width()?\"right\":\"left\"),\"top\"===g?o.addClass(\"top\").removeClass(\"bottom\"):o.addClass(\"bottom\").removeClass(\"top\"),\"right\"===h?o.addClass(\"pull-right\"):o.removeClass(\"pull-right\"),\"relative\"!==b.css(\"position\")&&(b=b.parents().filter(function(){return\"relative\"===a(this).css(\"position\")}).first()),0===b.length)throw new Error(\"datetimepicker component should be placed within a relative positioned container\");o.css({top:\"top\"===g?\"auto\":e.top+c.outerHeight(),bottom:\"top\"===g?e.top+c.outerHeight():\"auto\",left:\"left\"===h?b.css(\"padding-left\"):\"auto\",right:\"left\"===h?\"auto\":b.width()-c.outerWidth()})},H=function(a){\"dp.change\"===a.type&&(a.date&&a.date.isSame(a.oldDate)||!a.date&&!a.oldDate)||c.trigger(a)},I=function(a){o&&(a&&(i=Math.max(p,Math.min(2,i+a))),o.find(\".datepicker > div\").hide().filter(\".datepicker-\"+q[i].clsName).show())},J=function(){var b=a(\"<tr>\"),c=l.clone().startOf(\"w\");for(d.calendarWeeks===!0&&b.append(a(\"<th>\").addClass(\"cw\").text(\"#\"));c.isBefore(l.clone().endOf(\"w\"));)b.append(a(\"<th>\").addClass(\"dow\").text(c.format(\"dd\"))),c.add(1,\"d\");o.find(\".datepicker-days thead\").append(b)},K=function(a){return d.disabledDates[a.format(\"YYYY-MM-DD\")]===!0},L=function(a){return d.enabledDates[a.format(\"YYYY-MM-DD\")]===!0},M=function(a,b){return a.isValid()?d.disabledDates&&K(a)&&\"M\"!==b?!1:d.enabledDates&&!L(a)&&\"M\"!==b?!1:d.minDate&&a.isBefore(d.minDate,b)?!1:d.maxDate&&a.isAfter(d.maxDate,b)?!1:\"d\"===b&&-1!==d.daysOfWeekDisabled.indexOf(a.day())?!1:!0:!1},N=function(){for(var b=[],c=l.clone().startOf(\"y\").hour(12);c.isSame(l,\"y\");)b.push(a(\"<span>\").attr(\"data-action\",\"selectMonth\").addClass(\"month\").text(c.format(\"MMM\"))),c.add(1,\"M\");o.find(\".datepicker-months td\").empty().append(b)},O=function(){var b=o.find(\".datepicker-months\"),c=b.find(\"th\"),d=b.find(\"tbody\").find(\"span\");b.find(\".disabled\").removeClass(\"disabled\"),M(l.clone().subtract(1,\"y\"),\"y\")||c.eq(0).addClass(\"disabled\"),c.eq(1).text(l.year()),M(l.clone().add(1,\"y\"),\"y\")||c.eq(2).addClass(\"disabled\"),d.removeClass(\"active\"),k.isSame(l,\"y\")&&d.eq(k.month()).addClass(\"active\"),d.each(function(b){M(l.clone().month(b),\"M\")||a(this).addClass(\"disabled\")})},P=function(){var a=o.find(\".datepicker-years\"),b=a.find(\"th\"),c=l.clone().subtract(5,\"y\"),e=l.clone().add(6,\"y\"),f=\"\";for(a.find(\".disabled\").removeClass(\"disabled\"),d.minDate&&d.minDate.isAfter(c,\"y\")&&b.eq(0).addClass(\"disabled\"),b.eq(1).text(c.year()+\"-\"+e.year()),d.maxDate&&d.maxDate.isBefore(e,\"y\")&&b.eq(2).addClass(\"disabled\");!c.isAfter(e,\"y\");)f+='<span data-action=\"selectYear\" class=\"year'+(c.isSame(k,\"y\")?\" active\":\"\")+(M(c,\"y\")?\"\":\" disabled\")+'\">'+c.year()+\"</span>\",c.add(1,\"y\");a.find(\"td\").html(f)},Q=function(){var c,e,f,g=o.find(\".datepicker-days\"),h=g.find(\"th\"),i=[];if(z()){for(g.find(\".disabled\").removeClass(\"disabled\"),h.eq(1).text(l.format(d.dayViewHeaderFormat)),M(l.clone().subtract(1,\"M\"),\"M\")||h.eq(0).addClass(\"disabled\"),M(l.clone().add(1,\"M\"),\"M\")||h.eq(2).addClass(\"disabled\"),c=l.clone().startOf(\"M\").startOf(\"week\");!l.clone().endOf(\"M\").endOf(\"w\").isBefore(c,\"d\");)0===c.weekday()&&(e=a(\"<tr>\"),d.calendarWeeks&&e.append('<td class=\"cw\">'+c.week()+\"</td>\"),i.push(e)),f=\"\",c.isBefore(l,\"M\")&&(f+=\" old\"),c.isAfter(l,\"M\")&&(f+=\" new\"),c.isSame(k,\"d\")&&!m&&(f+=\" active\"),M(c,\"d\")||(f+=\" disabled\"),c.isSame(b(),\"d\")&&(f+=\" today\"),(0===c.day()||6===c.day())&&(f+=\" weekend\"),e.append('<td data-action=\"selectDay\" class=\"day'+f+'\">'+c.date()+\"</td>\"),c.add(1,\"d\");g.find(\"tbody\").empty().append(i),O(),P()}},R=function(){var b=o.find(\".timepicker-hours table\"),c=l.clone().startOf(\"d\"),d=[],e=a(\"<tr>\");for(l.hour()>11&&!f&&c.hour(12);c.isSame(l,\"d\")&&(f||l.hour()<12&&c.hour()<12||l.hour()>11);)c.hour()%4===0&&(e=a(\"<tr>\"),d.push(e)),e.append('<td data-action=\"selectHour\" class=\"hour'+(M(c,\"h\")?\"\":\" disabled\")+'\">'+c.format(f?\"HH\":\"hh\")+\"</td>\"),c.add(1,\"h\");b.empty().append(d)},S=function(){for(var b=o.find(\".timepicker-minutes table\"),c=l.clone().startOf(\"h\"),e=[],f=a(\"<tr>\"),g=1===d.stepping?5:d.stepping;l.isSame(c,\"h\");)c.minute()%(4*g)===0&&(f=a(\"<tr>\"),e.push(f)),f.append('<td data-action=\"selectMinute\" class=\"minute'+(M(c,\"m\")?\"\":\" disabled\")+'\">'+c.format(\"mm\")+\"</td>\"),c.add(g,\"m\");b.empty().append(e)},T=function(){for(var b=o.find(\".timepicker-seconds table\"),c=l.clone().startOf(\"m\"),d=[],e=a(\"<tr>\");l.isSame(c,\"m\");)c.second()%20===0&&(e=a(\"<tr>\"),d.push(e)),e.append('<td data-action=\"selectSecond\" class=\"second'+(M(c,\"s\")?\"\":\" disabled\")+'\">'+c.format(\"ss\")+\"</td>\"),c.add(5,\"s\");b.empty().append(d)},U=function(){var a=o.find(\".timepicker span[data-time-component]\");f||o.find(\".timepicker [data-action=togglePeriod]\").text(k.format(\"A\")),a.filter(\"[data-time-component=hours]\").text(k.format(f?\"HH\":\"hh\")),a.filter(\"[data-time-component=minutes]\").text(k.format(\"mm\")),a.filter(\"[data-time-component=seconds]\").text(k.format(\"ss\")),R(),S(),T()},V=function(){o&&(Q(),U())},W=function(a){var b=m?null:k;return a?(a=a.clone().locale(d.locale),1!==d.stepping&&a.minutes(Math.round(a.minutes()/d.stepping)*d.stepping%60).seconds(0),void(M(a)?(k=a,l=k.clone(),e.val(k.format(g)),c.data(\"date\",k.format(g)),V(),m=!1,H({type:\"dp.change\",date:k.clone(),oldDate:b})):(d.keepInvalid||e.val(m?\"\":k.format(g)),H({type:\"dp.error\",date:a})))):(m=!0,e.val(\"\"),c.data(\"date\",\"\"),H({type:\"dp.change\",date:null,oldDate:b}),void V())},X=function(){var b=!1;return o?(o.find(\".collapse\").each(function(){var c=a(this).data(\"collapse\");return c&&c.transitioning?(b=!0,!1):!0}),b?j:(n&&n.hasClass(\"btn\")&&n.toggleClass(\"active\"),o.hide(),a(window).off(\"resize\",G),o.off(\"click\",\"[data-action]\"),o.off(\"mousedown\",!1),o.remove(),o=!1,H({type:\"dp.hide\",date:k.clone()}),j)):j},Y=function(){W(null)},Z={next:function(){l.add(q[i].navStep,q[i].navFnc),Q()},previous:function(){l.subtract(q[i].navStep,q[i].navFnc),Q()},pickerSwitch:function(){I(1)},selectMonth:function(b){var c=a(b.target).closest(\"tbody\").find(\"span\").index(a(b.target));l.month(c),i===p?(W(k.clone().year(l.year()).month(l.month())),d.inline||X()):(I(-1),Q())},selectYear:function(b){var c=parseInt(a(b.target).text(),10)||0;l.year(c),i===p?(W(k.clone().year(l.year())),d.inline||X()):(I(-1),Q())},selectDay:function(b){var c=l.clone();a(b.target).is(\".old\")&&c.subtract(1,\"M\"),a(b.target).is(\".new\")&&c.add(1,\"M\"),W(c.date(parseInt(a(b.target).text(),10))),y()||d.keepOpen||d.inline||X()},incrementHours:function(){W(k.clone().add(1,\"h\"))},incrementMinutes:function(){W(k.clone().add(d.stepping,\"m\"))},incrementSeconds:function(){W(k.clone().add(1,\"s\"))},decrementHours:function(){W(k.clone().subtract(1,\"h\"))},decrementMinutes:function(){W(k.clone().subtract(d.stepping,\"m\"))},decrementSeconds:function(){W(k.clone().subtract(1,\"s\"))},togglePeriod:function(){W(k.clone().add(k.hours()>=12?-12:12,\"h\"))},togglePicker:function(b){var c,e=a(b.target),f=e.closest(\"ul\"),g=f.find(\".in\"),h=f.find(\".collapse:not(.in)\");if(g&&g.length){if(c=g.data(\"collapse\"),c&&c.transitioning)return;g.collapse?(g.collapse(\"hide\"),h.collapse(\"show\")):(g.removeClass(\"in\"),h.addClass(\"in\")),e.is(\"span\")?e.toggleClass(d.icons.time+\" \"+d.icons.date):e.find(\"span\").toggleClass(d.icons.time+\" \"+d.icons.date)}},showPicker:function(){o.find(\".timepicker > div:not(.timepicker-picker)\").hide(),o.find(\".timepicker .timepicker-picker\").show()},showHours:function(){o.find(\".timepicker .timepicker-picker\").hide(),o.find(\".timepicker .timepicker-hours\").show()},showMinutes:function(){o.find(\".timepicker .timepicker-picker\").hide(),o.find(\".timepicker .timepicker-minutes\").show()},showSeconds:function(){o.find(\".timepicker .timepicker-picker\").hide(),o.find(\".timepicker .timepicker-seconds\").show()},selectHour:function(b){var c=parseInt(a(b.target).text(),10);f||(k.hours()>=12?12!==c&&(c+=12):12===c&&(c=0)),W(k.clone().hours(c)),Z.showPicker.call(j)},selectMinute:function(b){W(k.clone().minutes(parseInt(a(b.target).text(),10))),Z.showPicker.call(j)},selectSecond:function(b){W(k.clone().seconds(parseInt(a(b.target).text(),10))),Z.showPicker.call(j)},clear:Y,today:function(){W(b())},close:X},$=function(b){return a(b.currentTarget).is(\".disabled\")?!1:(Z[a(b.currentTarget).data(\"action\")].apply(j,arguments),!1)},_=function(){var c,f={year:function(a){return a.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(a){return a.date(1).hours(0).seconds(0).minutes(0)},day:function(a){return a.hours(0).seconds(0).minutes(0)},hour:function(a){return a.seconds(0).minutes(0)},minute:function(a){return a.seconds(0)}};return e.prop(\"disabled\")||!d.ignoreReadonly&&e.prop(\"readonly\")||o?j:(d.useCurrent&&m&&(e.is(\"input\")&&0===e.val().trim().length||d.inline)&&(c=b(),\"string\"==typeof d.useCurrent&&(c=f[d.useCurrent](c)),W(c)),o=E(),J(),N(),o.find(\".timepicker-hours\").hide(),o.find(\".timepicker-minutes\").hide(),o.find(\".timepicker-seconds\").hide(),V(),I(),a(window).on(\"resize\",G),o.on(\"click\",\"[data-action]\",$),o.on(\"mousedown\",!1),n&&n.hasClass(\"btn\")&&n.toggleClass(\"active\"),o.show(),G(),e.is(\":focus\")||e.focus(),H({type:\"dp.show\"}),j)},ab=function(){return o?X():_()},bb=function(a){return a=b.isMoment(a)||a instanceof Date?b(a):b(a,h,d.useStrict),a.locale(d.locale),a},cb=function(a){var b,c,e,f,g=null,h=[],i={},k=a.which,l=\"p\";w[k]=l;for(b in w)w.hasOwnProperty(b)&&w[b]===l&&(h.push(b),parseInt(b,10)!==k&&(i[b]=!0));for(b in d.keyBinds)if(d.keyBinds.hasOwnProperty(b)&&\"function\"==typeof d.keyBinds[b]&&(e=b.split(\" \"),e.length===h.length&&v[k]===e[e.length-1])){for(f=!0,c=e.length-2;c>=0;c--)if(!(v[e[c]]in i)){f=!1;break}if(f){g=d.keyBinds[b];break}}g&&(g.call(j,o),a.stopPropagation(),a.preventDefault())},db=function(a){w[a.which]=\"r\",a.stopPropagation(),a.preventDefault()},eb=function(b){var c=a(b.target).val().trim(),d=c?bb(c):null;return W(d),b.stopImmediatePropagation(),!1},fb=function(){e.on({change:eb,blur:d.debug?\"\":X,keydown:cb,keyup:db}),c.is(\"input\")?e.on({focus:_}):n&&(n.on(\"click\",ab),n.on(\"mousedown\",!1))},gb=function(){e.off({change:eb,blur:X,keydown:cb,keyup:db}),c.is(\"input\")?e.off({focus:_}):n&&(n.off(\"click\",ab),n.off(\"mousedown\",!1))},hb=function(b){var c={};return a.each(b,function(){var a=bb(this);a.isValid()&&(c[a.format(\"YYYY-MM-DD\")]=!0)}),Object.keys(c).length?c:!1},ib=function(){var a=d.format||\"L LT\";g=a.replace(/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(a){var b=k.localeData().longDateFormat(a)||a;return b.replace(/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(a){return k.localeData().longDateFormat(a)||a})}),h=d.extraFormats?d.extraFormats.slice():[],h.indexOf(a)<0&&h.indexOf(g)<0&&h.push(g),f=g.toLowerCase().indexOf(\"a\")<1&&g.indexOf(\"h\")<1,x(\"y\")&&(p=2),x(\"M\")&&(p=1),x(\"d\")&&(p=0),i=Math.max(p,i),m||W(k)};if(j.destroy=function(){X(),gb(),c.removeData(\"DateTimePicker\"),c.removeData(\"date\")},j.toggle=ab,j.show=_,j.hide=X,j.disable=function(){return X(),n&&n.hasClass(\"btn\")&&n.addClass(\"disabled\"),e.prop(\"disabled\",!0),j},j.enable=function(){return n&&n.hasClass(\"btn\")&&n.removeClass(\"disabled\"),e.prop(\"disabled\",!1),j},j.ignoreReadonly=function(a){if(0===arguments.length)return d.ignoreReadonly;if(\"boolean\"!=typeof a)throw new TypeError(\"ignoreReadonly () expects a boolean parameter\");return d.ignoreReadonly=a,j},j.options=function(b){if(0===arguments.length)return a.extend(!0,{},d);if(!(b instanceof Object))throw new TypeError(\"options() options parameter should be an object\");return a.extend(!0,d,b),a.each(d,function(a,b){if(void 0===j[a])throw new TypeError(\"option \"+a+\" is not recognized!\");j[a](b)}),j},j.date=function(a){if(0===arguments.length)return m?null:k.clone();if(!(null===a||\"string\"==typeof a||b.isMoment(a)||a instanceof Date))throw new TypeError(\"date() parameter must be one of [null, string, moment or Date]\");return W(null===a?null:bb(a)),j},j.format=function(a){if(0===arguments.length)return d.format;if(\"string\"!=typeof a&&(\"boolean\"!=typeof a||a!==!1))throw new TypeError(\"format() expects a sting or boolean:false parameter \"+a);return d.format=a,g&&ib(),j},j.dayViewHeaderFormat=function(a){if(0===arguments.length)return d.dayViewHeaderFormat;if(\"string\"!=typeof a)throw new TypeError(\"dayViewHeaderFormat() expects a string parameter\");return d.dayViewHeaderFormat=a,j},j.extraFormats=function(a){if(0===arguments.length)return d.extraFormats;if(a!==!1&&!(a instanceof Array))throw new TypeError(\"extraFormats() expects an array or false parameter\");return d.extraFormats=a,h&&ib(),j},j.disabledDates=function(b){if(0===arguments.length)return d.disabledDates?a.extend({},d.disabledDates):d.disabledDates;if(!b)return d.disabledDates=!1,V(),j;if(!(b instanceof Array))throw new TypeError(\"disabledDates() expects an array parameter\");return d.disabledDates=hb(b),d.enabledDates=!1,V(),j},j.enabledDates=function(b){if(0===arguments.length)return d.enabledDates?a.extend({},d.enabledDates):d.enabledDates;if(!b)return d.enabledDates=!1,V(),j;if(!(b instanceof Array))throw new TypeError(\"enabledDates() expects an array parameter\");return d.enabledDates=hb(b),d.disabledDates=!1,V(),j},j.daysOfWeekDisabled=function(a){if(0===arguments.length)return d.daysOfWeekDisabled.splice(0);if(!(a instanceof Array))throw new TypeError(\"daysOfWeekDisabled() expects an array parameter\");return d.daysOfWeekDisabled=a.reduce(function(a,b){return b=parseInt(b,10),b>6||0>b||isNaN(b)?a:(-1===a.indexOf(b)&&a.push(b),a)},[]).sort(),V(),j},j.maxDate=function(a){if(0===arguments.length)return d.maxDate?d.maxDate.clone():d.maxDate;if(\"boolean\"==typeof a&&a===!1)return d.maxDate=!1,V(),j;\"string\"==typeof a&&(\"now\"===a||\"moment\"===a)&&(a=b());var c=bb(a);if(!c.isValid())throw new TypeError(\"maxDate() Could not parse date parameter: \"+a);if(d.minDate&&c.isBefore(d.minDate))throw new TypeError(\"maxDate() date parameter is before options.minDate: \"+c.format(g));return d.maxDate=c,d.maxDate.isBefore(a)&&W(d.maxDate),l.isAfter(c)&&(l=c.clone()),V(),j},j.minDate=function(a){if(0===arguments.length)return d.minDate?d.minDate.clone():d.minDate;if(\"boolean\"==typeof a&&a===!1)return d.minDate=!1,V(),j;\"string\"==typeof a&&(\"now\"===a||\"moment\"===a)&&(a=b());var c=bb(a);if(!c.isValid())throw new TypeError(\"minDate() Could not parse date parameter: \"+a);if(d.maxDate&&c.isAfter(d.maxDate))throw new TypeError(\"minDate() date parameter is after options.maxDate: \"+c.format(g));return d.minDate=c,d.minDate.isAfter(a)&&W(d.minDate),l.isBefore(c)&&(l=c.clone()),V(),j},j.defaultDate=function(a){if(0===arguments.length)return d.defaultDate?d.defaultDate.clone():d.defaultDate;if(!a)return d.defaultDate=!1,j;\"string\"==typeof a&&(\"now\"===a||\"moment\"===a)&&(a=b());var c=bb(a);if(!c.isValid())throw new TypeError(\"defaultDate() Could not parse date parameter: \"+a);if(!M(c))throw new TypeError(\"defaultDate() date passed is invalid according to component setup validations\");return d.defaultDate=c,d.defaultDate&&\"\"===e.val().trim()&&void 0===e.attr(\"placeholder\")&&W(d.defaultDate),j},j.locale=function(a){if(0===arguments.length)return d.locale;if(!b.localeData(a))throw new TypeError(\"locale() locale \"+a+\" is not loaded from moment locales!\");return d.locale=a,k.locale(d.locale),l.locale(d.locale),g&&ib(),o&&(X(),_()),j},j.stepping=function(a){return 0===arguments.length?d.stepping:(a=parseInt(a,10),(isNaN(a)||1>a)&&(a=1),d.stepping=a,j)},j.useCurrent=function(a){var b=[\"year\",\"month\",\"day\",\"hour\",\"minute\"];if(0===arguments.length)return d.useCurrent;if(\"boolean\"!=typeof a&&\"string\"!=typeof a)throw new TypeError(\"useCurrent() expects a boolean or string parameter\");if(\"string\"==typeof a&&-1===b.indexOf(a.toLowerCase()))throw new TypeError(\"useCurrent() expects a string parameter of \"+b.join(\", \"));return d.useCurrent=a,j},j.collapse=function(a){if(0===arguments.length)return d.collapse;if(\"boolean\"!=typeof a)throw new TypeError(\"collapse() expects a boolean parameter\");return d.collapse===a?j:(d.collapse=a,o&&(X(),_()),j)},j.icons=function(b){if(0===arguments.length)return a.extend({},d.icons);if(!(b instanceof Object))throw new TypeError(\"icons() expects parameter to be an Object\");return a.extend(d.icons,b),o&&(X(),_()),j},j.useStrict=function(a){if(0===arguments.length)return d.useStrict;if(\"boolean\"!=typeof a)throw new TypeError(\"useStrict() expects a boolean parameter\");return d.useStrict=a,j},j.sideBySide=function(a){if(0===arguments.length)return d.sideBySide;if(\"boolean\"!=typeof a)throw new TypeError(\"sideBySide() expects a boolean parameter\");return d.sideBySide=a,o&&(X(),_()),j},j.viewMode=function(a){if(0===arguments.length)return d.viewMode;if(\"string\"!=typeof a)throw new TypeError(\"viewMode() expects a string parameter\");if(-1===r.indexOf(a))throw new TypeError(\"viewMode() parameter must be one of (\"+r.join(\", \")+\") value\");return d.viewMode=a,i=Math.max(r.indexOf(a),p),I(),j},j.toolbarPlacement=function(a){if(0===arguments.length)return d.toolbarPlacement;if(\"string\"!=typeof a)throw new TypeError(\"toolbarPlacement() expects a string parameter\");if(-1===u.indexOf(a))throw new TypeError(\"toolbarPlacement() parameter must be one of (\"+u.join(\", \")+\") value\");return d.toolbarPlacement=a,o&&(X(),_()),j},j.widgetPositioning=function(b){if(0===arguments.length)return a.extend({},d.widgetPositioning);if(\"[object Object]\"!=={}.toString.call(b))throw new TypeError(\"widgetPositioning() expects an object variable\");if(b.horizontal){if(\"string\"!=typeof b.horizontal)throw new TypeError(\"widgetPositioning() horizontal variable must be a string\");if(b.horizontal=b.horizontal.toLowerCase(),-1===t.indexOf(b.horizontal))throw new TypeError(\"widgetPositioning() expects horizontal parameter to be one of (\"+t.join(\", \")+\")\");d.widgetPositioning.horizontal=b.horizontal}if(b.vertical){if(\"string\"!=typeof b.vertical)throw new TypeError(\"widgetPositioning() vertical variable must be a string\");if(b.vertical=b.vertical.toLowerCase(),-1===s.indexOf(b.vertical))throw new TypeError(\"widgetPositioning() expects vertical parameter to be one of (\"+s.join(\", \")+\")\");d.widgetPositioning.vertical=b.vertical}return V(),j},j.calendarWeeks=function(a){if(0===arguments.length)return d.calendarWeeks;if(\"boolean\"!=typeof a)throw new TypeError(\"calendarWeeks() expects parameter to be a boolean value\");return d.calendarWeeks=a,V(),j},j.showTodayButton=function(a){if(0===arguments.length)return d.showTodayButton;if(\"boolean\"!=typeof a)throw new TypeError(\"showTodayButton() expects a boolean parameter\");return d.showTodayButton=a,o&&(X(),_()),j},j.showClear=function(a){if(0===arguments.length)return d.showClear;if(\"boolean\"!=typeof a)throw new TypeError(\"showClear() expects a boolean parameter\");return d.showClear=a,o&&(X(),_()),j},j.widgetParent=function(b){if(0===arguments.length)return d.widgetParent;if(\"string\"==typeof b&&(b=a(b)),null!==b&&\"string\"!=typeof b&&!(b instanceof a))throw new TypeError(\"widgetParent() expects a string or a jQuery object parameter\");return d.widgetParent=b,o&&(X(),_()),j},j.keepOpen=function(a){if(0===arguments.length)return d.keepOpen;if(\"boolean\"!=typeof a)throw new TypeError(\"keepOpen() expects a boolean parameter\");return d.keepOpen=a,j},j.inline=function(a){if(0===arguments.length)return d.inline;if(\"boolean\"!=typeof a)throw new TypeError(\"inline() expects a boolean parameter\");return d.inline=a,j},j.clear=function(){return Y(),j},j.keyBinds=function(a){return d.keyBinds=a,j},j.debug=function(a){if(\"boolean\"!=typeof a)throw new TypeError(\"debug() expects a boolean parameter\");return d.debug=a,j},j.showClose=function(a){if(0===arguments.length)return d.showClose;if(\"boolean\"!=typeof a)throw new TypeError(\"showClose() expects a boolean parameter\");return d.showClose=a,j},j.keepInvalid=function(a){if(0===arguments.length)return d.keepInvalid;if(\"boolean\"!=typeof a)throw new TypeError(\"keepInvalid() expects a boolean parameter\");return d.keepInvalid=a,j},j.datepickerInput=function(a){if(0===arguments.length)return d.datepickerInput;if(\"string\"!=typeof a)throw new TypeError(\"datepickerInput() expects a string parameter\");return d.datepickerInput=a,j},c.is(\"input\"))e=c;else if(e=c.find(d.datepickerInput),0===e.size())e=c.find(\"input\");else if(!e.is(\"input\"))throw new Error('CSS class \"'+d.datepickerInput+'\" cannot be applied to non input element');if(c.hasClass(\"input-group\")&&(n=c.find(0===c.find(\".datepickerbutton\").size()?'[class^=\"input-group-\"]':\".datepickerbutton\")),!d.inline&&!e.is(\"input\"))throw new Error(\"Could not initialize DateTimePicker without an input element\");return a.extend(!0,d,F()),j.options(d),ib(),fb(),e.prop(\"disabled\")&&j.disable(),e.is(\"input\")&&0!==e.val().trim().length?W(bb(e.val().trim())):d.defaultDate&&void 0===e.attr(\"placeholder\")&&W(d.defaultDate),d.inline&&_(),j};a.fn.datetimepicker=function(b){return this.each(function(){var d=a(this);d.data(\"DateTimePicker\")||(b=a.extend(!0,{},a.fn.datetimepicker.defaults,b),d.data(\"DateTimePicker\",c(d,b)))})},a.fn.datetimepicker.defaults={format:!1,dayViewHeaderFormat:\"MMMM YYYY\",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:b.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:\"glyphicon glyphicon-time\",date:\"glyphicon glyphicon-calendar\",up:\"glyphicon glyphicon-chevron-up\",down:\"glyphicon glyphicon-chevron-down\",previous:\"glyphicon glyphicon-chevron-left\",next:\"glyphicon glyphicon-chevron-right\",today:\"glyphicon glyphicon-screenshot\",clear:\"glyphicon glyphicon-trash\",close:\"glyphicon glyphicon-remove\"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:[],calendarWeeks:!1,viewMode:\"days\",toolbarPlacement:\"default\",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:\"auto\",vertical:\"auto\"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,inline:!1,keepInvalid:!1,datepickerInput:\".datepickerinput\",keyBinds:{up:function(a){if(a){var c=this.date()||b();this.date(a.find(\".datepicker\").is(\":visible\")?c.clone().subtract(7,\"d\"):c.clone().add(1,\"m\"))}},down:function(a){if(!a)return void this.show();var c=this.date()||b();this.date(a.find(\".datepicker\").is(\":visible\")?c.clone().add(7,\"d\"):c.clone().subtract(1,\"m\"))},\"control up\":function(a){if(a){var c=this.date()||b();this.date(a.find(\".datepicker\").is(\":visible\")?c.clone().subtract(1,\"y\"):c.clone().add(1,\"h\"))}},\"control down\":function(a){if(a){var c=this.date()||b();this.date(a.find(\".datepicker\").is(\":visible\")?c.clone().add(1,\"y\"):c.clone().subtract(1,\"h\"))}},left:function(a){if(a){var c=this.date()||b();a.find(\".datepicker\").is(\":visible\")&&this.date(c.clone().subtract(1,\"d\"))}},right:function(a){if(a){var c=this.date()||b();a.find(\".datepicker\").is(\":visible\")&&this.date(c.clone().add(1,\"d\"))}},pageUp:function(a){if(a){var c=this.date()||b();a.find(\".datepicker\").is(\":visible\")&&this.date(c.clone().subtract(1,\"M\"))}},pageDown:function(a){if(a){var c=this.date()||b();a.find(\".datepicker\").is(\":visible\")&&this.date(c.clone().add(1,\"M\"))}},enter:function(){this.hide()},escape:function(){this.hide()},\"control space\":function(a){a.find(\".timepicker\").is(\":visible\")&&a.find('.btn[data-action=\"togglePeriod\"]').click()},t:function(){this.date(b())},\"delete\":function(){this.clear()}},debug:!1}});\n/*!\n * Select2 4.0.0\n * https://select2.github.io\n *\n * Released under the MIT license\n * https://github.com/select2/select2/blob/master/LICENSE.md\n */\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['jquery'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS\n    factory(require('jquery'));\n  } else {\n    // Browser globals\n    factory(jQuery);\n  }\n}(function (jQuery) {\n  // This is needed so we can catch the AMD loader configuration and use it\n  // The inner file should be wrapped (by `banner.start.js`) in a function that\n  // returns the AMD loader references.\n  var S2 =\n(function () {\n  // Restore the Select2 AMD loader so it can be used\n  // Needed mostly in the language files, where the loader is not inserted\n  if (jQuery && jQuery.fn && jQuery.fn.select2 && jQuery.fn.select2.amd) {\n    var S2 = jQuery.fn.select2.amd;\n  }\nvar S2;(function () { if (!S2 || !S2.requirejs) {\nif (!S2) { S2 = {}; } else { require = S2; }\n/**\n * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/jrburke/almond for details\n */\n//Going sloppy to avoid 'use strict' string cost, but strict practices should\n//be followed.\n/*jslint sloppy: true */\n/*global setTimeout: false */\n\nvar requirejs, require, define;\n(function (undef) {\n    var main, req, makeMap, handlers,\n        defined = {},\n        waiting = {},\n        config = {},\n        defining = {},\n        hasOwn = Object.prototype.hasOwnProperty,\n        aps = [].slice,\n        jsSuffixRegExp = /\\.js$/;\n\n    function hasProp(obj, prop) {\n        return hasOwn.call(obj, prop);\n    }\n\n    /**\n     * Given a relative module name, like ./something, normalize it to\n     * a real name that can be mapped to a path.\n     * @param {String} name the relative name\n     * @param {String} baseName a real name that the name arg is relative\n     * to.\n     * @returns {String} normalized name\n     */\n    function normalize(name, baseName) {\n        var nameParts, nameSegment, mapValue, foundMap, lastIndex,\n            foundI, foundStarMap, starI, i, j, part,\n            baseParts = baseName && baseName.split(\"/\"),\n            map = config.map,\n            starMap = (map && map['*']) || {};\n\n        //Adjust any relative paths.\n        if (name && name.charAt(0) === \".\") {\n            //If have a base name, try to normalize against it,\n            //otherwise, assume it is a top-level require that will\n            //be relative to baseUrl in the end.\n            if (baseName) {\n                //Convert baseName to array, and lop off the last part,\n                //so that . matches that \"directory\" and not name of the baseName's\n                //module. For instance, baseName of \"one/two/three\", maps to\n                //\"one/two/three.js\", but we want the directory, \"one/two\" for\n                //this normalization.\n                baseParts = baseParts.slice(0, baseParts.length - 1);\n                name = name.split('/');\n                lastIndex = name.length - 1;\n\n                // Node .js allowance:\n                if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {\n                    name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');\n                }\n\n                name = baseParts.concat(name);\n\n                //start trimDots\n                for (i = 0; i < name.length; i += 1) {\n                    part = name[i];\n                    if (part === \".\") {\n                        name.splice(i, 1);\n                        i -= 1;\n                    } else if (part === \"..\") {\n                        if (i === 1 && (name[2] === '..' || name[0] === '..')) {\n                            //End of the line. Keep at least one non-dot\n                            //path segment at the front so it can be mapped\n                            //correctly to disk. Otherwise, there is likely\n                            //no path mapping for a path starting with '..'.\n                            //This can still fail, but catches the most reasonable\n                            //uses of ..\n                            break;\n                        } else if (i > 0) {\n                            name.splice(i - 1, 2);\n                            i -= 2;\n                        }\n                    }\n                }\n                //end trimDots\n\n                name = name.join(\"/\");\n            } else if (name.indexOf('./') === 0) {\n                // No baseName, so this is ID is resolved relative\n                // to baseUrl, pull off the leading dot.\n                name = name.substring(2);\n            }\n        }\n\n        //Apply map config if available.\n        if ((baseParts || starMap) && map) {\n            nameParts = name.split('/');\n\n            for (i = nameParts.length; i > 0; i -= 1) {\n                nameSegment = nameParts.slice(0, i).join(\"/\");\n\n                if (baseParts) {\n                    //Find the longest baseName segment match in the config.\n                    //So, do joins on the biggest to smallest lengths of baseParts.\n                    for (j = baseParts.length; j > 0; j -= 1) {\n                        mapValue = map[baseParts.slice(0, j).join('/')];\n\n                        //baseName segment has  config, find if it has one for\n                        //this name.\n                        if (mapValue) {\n                            mapValue = mapValue[nameSegment];\n                            if (mapValue) {\n                                //Match, update name to the new value.\n                                foundMap = mapValue;\n                                foundI = i;\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                if (foundMap) {\n                    break;\n                }\n\n                //Check for a star map match, but just hold on to it,\n                //if there is a shorter segment match later in a matching\n                //config, then favor over this star map.\n                if (!foundStarMap && starMap && starMap[nameSegment]) {\n                    foundStarMap = starMap[nameSegment];\n                    starI = i;\n                }\n            }\n\n            if (!foundMap && foundStarMap) {\n                foundMap = foundStarMap;\n                foundI = starI;\n            }\n\n            if (foundMap) {\n                nameParts.splice(0, foundI, foundMap);\n                name = nameParts.join('/');\n            }\n        }\n\n        return name;\n    }\n\n    function makeRequire(relName, forceSync) {\n        return function () {\n            //A version of a require function that passes a moduleName\n            //value for items that may need to\n            //look up paths relative to the moduleName\n            return req.apply(undef, aps.call(arguments, 0).concat([relName, forceSync]));\n        };\n    }\n\n    function makeNormalize(relName) {\n        return function (name) {\n            return normalize(name, relName);\n        };\n    }\n\n    function makeLoad(depName) {\n        return function (value) {\n            defined[depName] = value;\n        };\n    }\n\n    function callDep(name) {\n        if (hasProp(waiting, name)) {\n            var args = waiting[name];\n            delete waiting[name];\n            defining[name] = true;\n            main.apply(undef, args);\n        }\n\n        if (!hasProp(defined, name) && !hasProp(defining, name)) {\n            throw new Error('No ' + name);\n        }\n        return defined[name];\n    }\n\n    //Turns a plugin!resource to [plugin, resource]\n    //with the plugin being undefined if the name\n    //did not have a plugin prefix.\n    function splitPrefix(name) {\n        var prefix,\n            index = name ? name.indexOf('!') : -1;\n        if (index > -1) {\n            prefix = name.substring(0, index);\n            name = name.substring(index + 1, name.length);\n        }\n        return [prefix, name];\n    }\n\n    /**\n     * Makes a name map, normalizing the name, and using a plugin\n     * for normalization if necessary. Grabs a ref to plugin\n     * too, as an optimization.\n     */\n    makeMap = function (name, relName) {\n        var plugin,\n            parts = splitPrefix(name),\n            prefix = parts[0];\n\n        name = parts[1];\n\n        if (prefix) {\n            prefix = normalize(prefix, relName);\n            plugin = callDep(prefix);\n        }\n\n        //Normalize according\n        if (prefix) {\n            if (plugin && plugin.normalize) {\n                name = plugin.normalize(name, makeNormalize(relName));\n            } else {\n                name = normalize(name, relName);\n            }\n        } else {\n            name = normalize(name, relName);\n            parts = splitPrefix(name);\n            prefix = parts[0];\n            name = parts[1];\n            if (prefix) {\n                plugin = callDep(prefix);\n            }\n        }\n\n        //Using ridiculous property names for space reasons\n        return {\n            f: prefix ? prefix + '!' + name : name, //fullName\n            n: name,\n            pr: prefix,\n            p: plugin\n        };\n    };\n\n    function makeConfig(name) {\n        return function () {\n            return (config && config.config && config.config[name]) || {};\n        };\n    }\n\n    handlers = {\n        require: function (name) {\n            return makeRequire(name);\n        },\n        exports: function (name) {\n            var e = defined[name];\n            if (typeof e !== 'undefined') {\n                return e;\n            } else {\n                return (defined[name] = {});\n            }\n        },\n        module: function (name) {\n            return {\n                id: name,\n                uri: '',\n                exports: defined[name],\n                config: makeConfig(name)\n            };\n        }\n    };\n\n    main = function (name, deps, callback, relName) {\n        var cjsModule, depName, ret, map, i,\n            args = [],\n            callbackType = typeof callback,\n            usingExports;\n\n        //Use name if no relName\n        relName = relName || name;\n\n        //Call the callback to define the module, if necessary.\n        if (callbackType === 'undefined' || callbackType === 'function') {\n            //Pull out the defined dependencies and pass the ordered\n            //values to the callback.\n            //Default to [require, exports, module] if no deps\n            deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;\n            for (i = 0; i < deps.length; i += 1) {\n                map = makeMap(deps[i], relName);\n                depName = map.f;\n\n                //Fast path CommonJS standard dependencies.\n                if (depName === \"require\") {\n                    args[i] = handlers.require(name);\n                } else if (depName === \"exports\") {\n                    //CommonJS module spec 1.1\n                    args[i] = handlers.exports(name);\n                    usingExports = true;\n                } else if (depName === \"module\") {\n                    //CommonJS module spec 1.1\n                    cjsModule = args[i] = handlers.module(name);\n                } else if (hasProp(defined, depName) ||\n                           hasProp(waiting, depName) ||\n                           hasProp(defining, depName)) {\n                    args[i] = callDep(depName);\n                } else if (map.p) {\n                    map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});\n                    args[i] = defined[depName];\n                } else {\n                    throw new Error(name + ' missing ' + depName);\n                }\n            }\n\n            ret = callback ? callback.apply(defined[name], args) : undefined;\n\n            if (name) {\n                //If setting exports via \"module\" is in play,\n                //favor that over return value and exports. After that,\n                //favor a non-undefined return value over exports use.\n                if (cjsModule && cjsModule.exports !== undef &&\n                        cjsModule.exports !== defined[name]) {\n                    defined[name] = cjsModule.exports;\n                } else if (ret !== undef || !usingExports) {\n                    //Use the return value from the function.\n                    defined[name] = ret;\n                }\n            }\n        } else if (name) {\n            //May just be an object definition for the module. Only\n            //worry about defining if have a module name.\n            defined[name] = callback;\n        }\n    };\n\n    requirejs = require = req = function (deps, callback, relName, forceSync, alt) {\n        if (typeof deps === \"string\") {\n            if (handlers[deps]) {\n                //callback in this case is really relName\n                return handlers[deps](callback);\n            }\n            //Just return the module wanted. In this scenario, the\n            //deps arg is the module name, and second arg (if passed)\n            //is just the relName.\n            //Normalize module name, if it contains . or ..\n            return callDep(makeMap(deps, callback).f);\n        } else if (!deps.splice) {\n            //deps is a config object, not an array.\n            config = deps;\n            if (config.deps) {\n                req(config.deps, config.callback);\n            }\n            if (!callback) {\n                return;\n            }\n\n            if (callback.splice) {\n                //callback is an array, which means it is a dependency list.\n                //Adjust args if there are dependencies\n                deps = callback;\n                callback = relName;\n                relName = null;\n            } else {\n                deps = undef;\n            }\n        }\n\n        //Support require(['a'])\n        callback = callback || function () {};\n\n        //If relName is a function, it is an errback handler,\n        //so remove it.\n        if (typeof relName === 'function') {\n            relName = forceSync;\n            forceSync = alt;\n        }\n\n        //Simulate async callback;\n        if (forceSync) {\n            main(undef, deps, callback, relName);\n        } else {\n            //Using a non-zero value because of concern for what old browsers\n            //do, and latest browsers \"upgrade\" to 4 if lower value is used:\n            //http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:\n            //If want a value immediately, use require('id') instead -- something\n            //that works in almond on the global level, but not guaranteed and\n            //unlikely to work in other AMD implementations.\n            setTimeout(function () {\n                main(undef, deps, callback, relName);\n            }, 4);\n        }\n\n        return req;\n    };\n\n    /**\n     * Just drops the config on the floor, but returns req in case\n     * the config return value is used.\n     */\n    req.config = function (cfg) {\n        return req(cfg);\n    };\n\n    /**\n     * Expose module registry for debugging and tooling\n     */\n    requirejs._defined = defined;\n\n    define = function (name, deps, callback) {\n\n        //This module may not have dependencies\n        if (!deps.splice) {\n            //deps is not an array, so probably means\n            //an object literal or factory function for\n            //the value. Adjust args.\n            callback = deps;\n            deps = [];\n        }\n\n        if (!hasProp(defined, name) && !hasProp(waiting, name)) {\n            waiting[name] = [name, deps, callback];\n        }\n    };\n\n    define.amd = {\n        jQuery: true\n    };\n}());\n\nS2.requirejs = requirejs;S2.require = require;S2.define = define;\n}\n}());\nS2.define(\"almond\", function(){});\n\n/* global jQuery:false, $:false */\nS2.define('jquery',[],function () {\n  var _$ = jQuery || $;\n\n  if (_$ == null && console && console.error) {\n    console.error(\n      'Select2: An instance of jQuery or a jQuery-compatible library was not ' +\n      'found. Make sure that you are including jQuery before Select2 on your ' +\n      'web page.'\n    );\n  }\n\n  return _$;\n});\n\nS2.define('select2/utils',[\n  'jquery'\n], function ($) {\n  var Utils = {};\n\n  Utils.Extend = function (ChildClass, SuperClass) {\n    var __hasProp = {}.hasOwnProperty;\n\n    function BaseConstructor () {\n      this.constructor = ChildClass;\n    }\n\n    for (var key in SuperClass) {\n      if (__hasProp.call(SuperClass, key)) {\n        ChildClass[key] = SuperClass[key];\n      }\n    }\n\n    BaseConstructor.prototype = SuperClass.prototype;\n    ChildClass.prototype = new BaseConstructor();\n    ChildClass.__super__ = SuperClass.prototype;\n\n    return ChildClass;\n  };\n\n  function getMethods (theClass) {\n    var proto = theClass.prototype;\n\n    var methods = [];\n\n    for (var methodName in proto) {\n      var m = proto[methodName];\n\n      if (typeof m !== 'function') {\n        continue;\n      }\n\n      if (methodName === 'constructor') {\n        continue;\n      }\n\n      methods.push(methodName);\n    }\n\n    return methods;\n  }\n\n  Utils.Decorate = function (SuperClass, DecoratorClass) {\n    var decoratedMethods = getMethods(DecoratorClass);\n    var superMethods = getMethods(SuperClass);\n\n    function DecoratedClass () {\n      var unshift = Array.prototype.unshift;\n\n      var argCount = DecoratorClass.prototype.constructor.length;\n\n      var calledConstructor = SuperClass.prototype.constructor;\n\n      if (argCount > 0) {\n        unshift.call(arguments, SuperClass.prototype.constructor);\n\n        calledConstructor = DecoratorClass.prototype.constructor;\n      }\n\n      calledConstructor.apply(this, arguments);\n    }\n\n    DecoratorClass.displayName = SuperClass.displayName;\n\n    function ctr () {\n      this.constructor = DecoratedClass;\n    }\n\n    DecoratedClass.prototype = new ctr();\n\n    for (var m = 0; m < superMethods.length; m++) {\n        var superMethod = superMethods[m];\n\n        DecoratedClass.prototype[superMethod] =\n          SuperClass.prototype[superMethod];\n    }\n\n    var calledMethod = function (methodName) {\n      // Stub out the original method if it's not decorating an actual method\n      var originalMethod = function () {};\n\n      if (methodName in DecoratedClass.prototype) {\n        originalMethod = DecoratedClass.prototype[methodName];\n      }\n\n      var decoratedMethod = DecoratorClass.prototype[methodName];\n\n      return function () {\n        var unshift = Array.prototype.unshift;\n\n        unshift.call(arguments, originalMethod);\n\n        return decoratedMethod.apply(this, arguments);\n      };\n    };\n\n    for (var d = 0; d < decoratedMethods.length; d++) {\n      var decoratedMethod = decoratedMethods[d];\n\n      DecoratedClass.prototype[decoratedMethod] = calledMethod(decoratedMethod);\n    }\n\n    return DecoratedClass;\n  };\n\n  var Observable = function () {\n    this.listeners = {};\n  };\n\n  Observable.prototype.on = function (event, callback) {\n    this.listeners = this.listeners || {};\n\n    if (event in this.listeners) {\n      this.listeners[event].push(callback);\n    } else {\n      this.listeners[event] = [callback];\n    }\n  };\n\n  Observable.prototype.trigger = function (event) {\n    var slice = Array.prototype.slice;\n\n    this.listeners = this.listeners || {};\n\n    if (event in this.listeners) {\n      this.invoke(this.listeners[event], slice.call(arguments, 1));\n    }\n\n    if ('*' in this.listeners) {\n      this.invoke(this.listeners['*'], arguments);\n    }\n  };\n\n  Observable.prototype.invoke = function (listeners, params) {\n    for (var i = 0, len = listeners.length; i < len; i++) {\n      listeners[i].apply(this, params);\n    }\n  };\n\n  Utils.Observable = Observable;\n\n  Utils.generateChars = function (length) {\n    var chars = '';\n\n    for (var i = 0; i < length; i++) {\n      var randomChar = Math.floor(Math.random() * 36);\n      chars += randomChar.toString(36);\n    }\n\n    return chars;\n  };\n\n  Utils.bind = function (func, context) {\n    return function () {\n      func.apply(context, arguments);\n    };\n  };\n\n  Utils._convertData = function (data) {\n    for (var originalKey in data) {\n      var keys = originalKey.split('-');\n\n      var dataLevel = data;\n\n      if (keys.length === 1) {\n        continue;\n      }\n\n      for (var k = 0; k < keys.length; k++) {\n        var key = keys[k];\n\n        // Lowercase the first letter\n        // By default, dash-separated becomes camelCase\n        key = key.substring(0, 1).toLowerCase() + key.substring(1);\n\n        if (!(key in dataLevel)) {\n          dataLevel[key] = {};\n        }\n\n        if (k == keys.length - 1) {\n          dataLevel[key] = data[originalKey];\n        }\n\n        dataLevel = dataLevel[key];\n      }\n\n      delete data[originalKey];\n    }\n\n    return data;\n  };\n\n  Utils.hasScroll = function (index, el) {\n    // Adapted from the function created by @ShadowScripter\n    // and adapted by @BillBarry on the Stack Exchange Code Review website.\n    // The original code can be found at\n    // http://codereview.stackexchange.com/q/13338\n    // and was designed to be used with the Sizzle selector engine.\n\n    var $el = $(el);\n    var overflowX = el.style.overflowX;\n    var overflowY = el.style.overflowY;\n\n    //Check both x and y declarations\n    if (overflowX === overflowY &&\n        (overflowY === 'hidden' || overflowY === 'visible')) {\n      return false;\n    }\n\n    if (overflowX === 'scroll' || overflowY === 'scroll') {\n      return true;\n    }\n\n    return ($el.innerHeight() < el.scrollHeight ||\n      $el.innerWidth() < el.scrollWidth);\n  };\n\n  Utils.escapeMarkup = function (markup) {\n    var replaceMap = {\n      '\\\\': '&#92;',\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      '\\'': '&#39;',\n      '/': '&#47;'\n    };\n\n    // Do not try to escape the markup if it's not a string\n    if (typeof markup !== 'string') {\n      return markup;\n    }\n\n    return String(markup).replace(/[&<>\"'\\/\\\\]/g, function (match) {\n      return replaceMap[match];\n    });\n  };\n\n  // Append an array of jQuery nodes to a given element.\n  Utils.appendMany = function ($element, $nodes) {\n    // jQuery 1.7.x does not support $.fn.append() with an array\n    // Fall back to a jQuery object collection using $.fn.add()\n    if ($.fn.jquery.substr(0, 3) === '1.7') {\n      var $jqNodes = $();\n\n      $.map($nodes, function (node) {\n        $jqNodes = $jqNodes.add(node);\n      });\n\n      $nodes = $jqNodes;\n    }\n\n    $element.append($nodes);\n  };\n\n  return Utils;\n});\n\nS2.define('select2/results',[\n  'jquery',\n  './utils'\n], function ($, Utils) {\n  function Results ($element, options, dataAdapter) {\n    this.$element = $element;\n    this.data = dataAdapter;\n    this.options = options;\n\n    Results.__super__.constructor.call(this);\n  }\n\n  Utils.Extend(Results, Utils.Observable);\n\n  Results.prototype.render = function () {\n    var $results = $(\n      '<ul class=\"select2-results__options\" role=\"tree\"></ul>'\n    );\n\n    if (this.options.get('multiple')) {\n      $results.attr('aria-multiselectable', 'true');\n    }\n\n    this.$results = $results;\n\n    return $results;\n  };\n\n  Results.prototype.clear = function () {\n    this.$results.empty();\n  };\n\n  Results.prototype.displayMessage = function (params) {\n    var escapeMarkup = this.options.get('escapeMarkup');\n\n    this.clear();\n    this.hideLoading();\n\n    var $message = $(\n      '<li role=\"treeitem\" class=\"select2-results__option\"></li>'\n    );\n\n    var message = this.options.get('translations').get(params.message);\n\n    $message.append(\n      escapeMarkup(\n        message(params.args)\n      )\n    );\n\n    this.$results.append($message);\n  };\n\n  Results.prototype.append = function (data) {\n    this.hideLoading();\n\n    var $options = [];\n\n    if (data.results == null || data.results.length === 0) {\n      if (this.$results.children().length === 0) {\n        this.trigger('results:message', {\n          message: 'noResults'\n        });\n      }\n\n      return;\n    }\n\n    data.results = this.sort(data.results);\n\n    for (var d = 0; d < data.results.length; d++) {\n      var item = data.results[d];\n\n      var $option = this.option(item);\n\n      $options.push($option);\n    }\n\n    this.$results.append($options);\n  };\n\n  Results.prototype.position = function ($results, $dropdown) {\n    var $resultsContainer = $dropdown.find('.select2-results');\n    $resultsContainer.append($results);\n  };\n\n  Results.prototype.sort = function (data) {\n    var sorter = this.options.get('sorter');\n\n    return sorter(data);\n  };\n\n  Results.prototype.setClasses = function () {\n    var self = this;\n\n    this.data.current(function (selected) {\n      var selectedIds = $.map(selected, function (s) {\n        return s.id.toString();\n      });\n\n      var $options = self.$results\n        .find('.select2-results__option[aria-selected]');\n\n      $options.each(function () {\n        var $option = $(this);\n\n        var item = $.data(this, 'data');\n\n        // id needs to be converted to a string when comparing\n        var id = '' + item.id;\n\n        if ((item.element != null && item.element.selected) ||\n            (item.element == null && $.inArray(id, selectedIds) > -1)) {\n          $option.attr('aria-selected', 'true');\n        } else {\n          $option.attr('aria-selected', 'false');\n        }\n      });\n\n      var $selected = $options.filter('[aria-selected=true]');\n\n      // Check if there are any selected options\n      if ($selected.length > 0) {\n        // If there are selected options, highlight the first\n        $selected.first().trigger('mouseenter');\n      } else {\n        // If there are no selected options, highlight the first option\n        // in the dropdown\n        $options.first().trigger('mouseenter');\n      }\n    });\n  };\n\n  Results.prototype.showLoading = function (params) {\n    this.hideLoading();\n\n    var loadingMore = this.options.get('translations').get('searching');\n\n    var loading = {\n      disabled: true,\n      loading: true,\n      text: loadingMore(params)\n    };\n    var $loading = this.option(loading);\n    $loading.className += ' loading-results';\n\n    this.$results.prepend($loading);\n  };\n\n  Results.prototype.hideLoading = function () {\n    this.$results.find('.loading-results').remove();\n  };\n\n  Results.prototype.option = function (data) {\n    var option = document.createElement('li');\n    option.className = 'select2-results__option';\n\n    var attrs = {\n      'role': 'treeitem',\n      'aria-selected': 'false'\n    };\n\n    if (data.disabled) {\n      delete attrs['aria-selected'];\n      attrs['aria-disabled'] = 'true';\n    }\n\n    if (data.id == null) {\n      delete attrs['aria-selected'];\n    }\n\n    if (data._resultId != null) {\n      option.id = data._resultId;\n    }\n\n    if (data.title) {\n      option.title = data.title;\n    }\n\n    if (data.children) {\n      attrs.role = 'group';\n      attrs['aria-label'] = data.text;\n      delete attrs['aria-selected'];\n    }\n\n    for (var attr in attrs) {\n      var val = attrs[attr];\n\n      option.setAttribute(attr, val);\n    }\n\n    if (data.children) {\n      var $option = $(option);\n\n      var label = document.createElement('strong');\n      label.className = 'select2-results__group';\n\n      var $label = $(label);\n      this.template(data, label);\n\n      var $children = [];\n\n      for (var c = 0; c < data.children.length; c++) {\n        var child = data.children[c];\n\n        var $child = this.option(child);\n\n        $children.push($child);\n      }\n\n      var $childrenContainer = $('<ul></ul>', {\n        'class': 'select2-results__options select2-results__options--nested'\n      });\n\n      $childrenContainer.append($children);\n\n      $option.append(label);\n      $option.append($childrenContainer);\n    } else {\n      this.template(data, option);\n    }\n\n    $.data(option, 'data', data);\n\n    return option;\n  };\n\n  Results.prototype.bind = function (container, $container) {\n    var self = this;\n\n    var id = container.id + '-results';\n\n    this.$results.attr('id', id);\n\n    container.on('results:all', function (params) {\n      self.clear();\n      self.append(params.data);\n\n      if (container.isOpen()) {\n        self.setClasses();\n      }\n    });\n\n    container.on('results:append', function (params) {\n      self.append(params.data);\n\n      if (container.isOpen()) {\n        self.setClasses();\n      }\n    });\n\n    container.on('query', function (params) {\n      self.showLoading(params);\n    });\n\n    container.on('select', function () {\n      if (!container.isOpen()) {\n        return;\n      }\n\n      self.setClasses();\n    });\n\n    container.on('unselect', function () {\n      if (!container.isOpen()) {\n        return;\n      }\n\n      self.setClasses();\n    });\n\n    container.on('open', function () {\n      // When the dropdown is open, aria-expended=\"true\"\n      self.$results.attr('aria-expanded', 'true');\n      self.$results.attr('aria-hidden', 'false');\n\n      self.setClasses();\n      self.ensureHighlightVisible();\n    });\n\n    container.on('close', function () {\n      // When the dropdown is closed, aria-expended=\"false\"\n      self.$results.attr('aria-expanded', 'false');\n      self.$results.attr('aria-hidden', 'true');\n      self.$results.removeAttr('aria-activedescendant');\n    });\n\n    container.on('results:toggle', function () {\n      var $highlighted = self.getHighlightedResults();\n\n      if ($highlighted.length === 0) {\n        return;\n      }\n\n      $highlighted.trigger('mouseup');\n    });\n\n    container.on('results:select', function () {\n      var $highlighted = self.getHighlightedResults();\n\n      if ($highlighted.length === 0) {\n        return;\n      }\n\n      var data = $highlighted.data('data');\n\n      if ($highlighted.attr('aria-selected') == 'true') {\n        self.trigger('close');\n      } else {\n        self.trigger('select', {\n          data: data\n        });\n      }\n    });\n\n    container.on('results:previous', function () {\n      var $highlighted = self.getHighlightedResults();\n\n      var $options = self.$results.find('[aria-selected]');\n\n      var currentIndex = $options.index($highlighted);\n\n      // If we are already at te top, don't move further\n      if (currentIndex === 0) {\n        return;\n      }\n\n      var nextIndex = currentIndex - 1;\n\n      // If none are highlighted, highlight the first\n      if ($highlighted.length === 0) {\n        nextIndex = 0;\n      }\n\n      var $next = $options.eq(nextIndex);\n\n      $next.trigger('mouseenter');\n\n      var currentOffset = self.$results.offset().top;\n      var nextTop = $next.offset().top;\n      var nextOffset = self.$results.scrollTop() + (nextTop - currentOffset);\n\n      if (nextIndex === 0) {\n        self.$results.scrollTop(0);\n      } else if (nextTop - currentOffset < 0) {\n        self.$results.scrollTop(nextOffset);\n      }\n    });\n\n    container.on('results:next', function () {\n      var $highlighted = self.getHighlightedResults();\n\n      var $options = self.$results.find('[aria-selected]');\n\n      var currentIndex = $options.index($highlighted);\n\n      var nextIndex = currentIndex + 1;\n\n      // If we are at the last option, stay there\n      if (nextIndex >= $options.length) {\n        return;\n      }\n\n      var $next = $options.eq(nextIndex);\n\n      $next.trigger('mouseenter');\n\n      var currentOffset = self.$results.offset().top +\n        self.$results.outerHeight(false);\n      var nextBottom = $next.offset().top + $next.outerHeight(false);\n      var nextOffset = self.$results.scrollTop() + nextBottom - currentOffset;\n\n      if (nextIndex === 0) {\n        self.$results.scrollTop(0);\n      } else if (nextBottom > currentOffset) {\n        self.$results.scrollTop(nextOffset);\n      }\n    });\n\n    container.on('results:focus', function (params) {\n      params.element.addClass('select2-results__option--highlighted');\n    });\n\n    container.on('results:message', function (params) {\n      self.displayMessage(params);\n    });\n\n    if ($.fn.mousewheel) {\n      this.$results.on('mousewheel', function (e) {\n        var top = self.$results.scrollTop();\n\n        var bottom = (\n          self.$results.get(0).scrollHeight -\n          self.$results.scrollTop() +\n          e.deltaY\n        );\n\n        var isAtTop = e.deltaY > 0 && top - e.deltaY <= 0;\n        var isAtBottom = e.deltaY < 0 && bottom <= self.$results.height();\n\n        if (isAtTop) {\n          self.$results.scrollTop(0);\n\n          e.preventDefault();\n          e.stopPropagation();\n        } else if (isAtBottom) {\n          self.$results.scrollTop(\n            self.$results.get(0).scrollHeight - self.$results.height()\n          );\n\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n    }\n\n    this.$results.on('mouseup', '.select2-results__option[aria-selected]',\n      function (evt) {\n      var $this = $(this);\n\n      var data = $this.data('data');\n\n      if ($this.attr('aria-selected') === 'true') {\n        if (self.options.get('multiple')) {\n          self.trigger('unselect', {\n            originalEvent: evt,\n            data: data\n          });\n        } else {\n          self.trigger('close');\n        }\n\n        return;\n      }\n\n      self.trigger('select', {\n        originalEvent: evt,\n        data: data\n      });\n    });\n\n    this.$results.on('mouseenter', '.select2-results__option[aria-selected]',\n      function (evt) {\n      var data = $(this).data('data');\n\n      self.getHighlightedResults()\n          .removeClass('select2-results__option--highlighted');\n\n      self.trigger('results:focus', {\n        data: data,\n        element: $(this)\n      });\n    });\n  };\n\n  Results.prototype.getHighlightedResults = function () {\n    var $highlighted = this.$results\n    .find('.select2-results__option--highlighted');\n\n    return $highlighted;\n  };\n\n  Results.prototype.destroy = function () {\n    this.$results.remove();\n  };\n\n  Results.prototype.ensureHighlightVisible = function () {\n    var $highlighted = this.getHighlightedResults();\n\n    if ($highlighted.length === 0) {\n      return;\n    }\n\n    var $options = this.$results.find('[aria-selected]');\n\n    var currentIndex = $options.index($highlighted);\n\n    var currentOffset = this.$results.offset().top;\n    var nextTop = $highlighted.offset().top;\n    var nextOffset = this.$results.scrollTop() + (nextTop - currentOffset);\n\n    var offsetDelta = nextTop - currentOffset;\n    nextOffset -= $highlighted.outerHeight(false) * 2;\n\n    if (currentIndex <= 2) {\n      this.$results.scrollTop(0);\n    } else if (offsetDelta > this.$results.outerHeight() || offsetDelta < 0) {\n      this.$results.scrollTop(nextOffset);\n    }\n  };\n\n  Results.prototype.template = function (result, container) {\n    var template = this.options.get('templateResult');\n    var escapeMarkup = this.options.get('escapeMarkup');\n\n    var content = template(result);\n\n    if (content == null) {\n      container.style.display = 'none';\n    } else if (typeof content === 'string') {\n      container.innerHTML = escapeMarkup(content);\n    } else {\n      $(container).append(content);\n    }\n  };\n\n  return Results;\n});\n\nS2.define('select2/keys',[\n\n], function () {\n  var KEYS = {\n    BACKSPACE: 8,\n    TAB: 9,\n    ENTER: 13,\n    SHIFT: 16,\n    CTRL: 17,\n    ALT: 18,\n    ESC: 27,\n    SPACE: 32,\n    PAGE_UP: 33,\n    PAGE_DOWN: 34,\n    END: 35,\n    HOME: 36,\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40,\n    DELETE: 46\n  };\n\n  return KEYS;\n});\n\nS2.define('select2/selection/base',[\n  'jquery',\n  '../utils',\n  '../keys'\n], function ($, Utils, KEYS) {\n  function BaseSelection ($element, options) {\n    this.$element = $element;\n    this.options = options;\n\n    BaseSelection.__super__.constructor.call(this);\n  }\n\n  Utils.Extend(BaseSelection, Utils.Observable);\n\n  BaseSelection.prototype.render = function () {\n    var $selection = $(\n      '<span class=\"select2-selection\" role=\"combobox\" ' +\n      'aria-autocomplete=\"list\" aria-haspopup=\"true\" aria-expanded=\"false\">' +\n      '</span>'\n    );\n\n    this._tabindex = 0;\n\n    if (this.$element.data('old-tabindex') != null) {\n      this._tabindex = this.$element.data('old-tabindex');\n    } else if (this.$element.attr('tabindex') != null) {\n      this._tabindex = this.$element.attr('tabindex');\n    }\n\n    $selection.attr('title', this.$element.attr('title'));\n    $selection.attr('tabindex', this._tabindex);\n\n    this.$selection = $selection;\n\n    return $selection;\n  };\n\n  BaseSelection.prototype.bind = function (container, $container) {\n    var self = this;\n\n    var id = container.id + '-container';\n    var resultsId = container.id + '-results';\n\n    this.container = container;\n\n    this.$selection.on('focus', function (evt) {\n      self.trigger('focus', evt);\n    });\n\n    this.$selection.on('blur', function (evt) {\n      self.trigger('blur', evt);\n    });\n\n    this.$selection.on('keydown', function (evt) {\n      self.trigger('keypress', evt);\n\n      if (evt.which === KEYS.SPACE) {\n        evt.preventDefault();\n      }\n    });\n\n    container.on('results:focus', function (params) {\n      self.$selection.attr('aria-activedescendant', params.data._resultId);\n    });\n\n    container.on('selection:update', function (params) {\n      self.update(params.data);\n    });\n\n    container.on('open', function () {\n      // When the dropdown is open, aria-expanded=\"true\"\n      self.$selection.attr('aria-expanded', 'true');\n      self.$selection.attr('aria-owns', resultsId);\n\n      self._attachCloseHandler(container);\n    });\n\n    container.on('close', function () {\n      // When the dropdown is closed, aria-expanded=\"false\"\n      self.$selection.attr('aria-expanded', 'false');\n      self.$selection.removeAttr('aria-activedescendant');\n      self.$selection.removeAttr('aria-owns');\n\n      self.$selection.focus();\n\n      self._detachCloseHandler(container);\n    });\n\n    container.on('enable', function () {\n      self.$selection.attr('tabindex', self._tabindex);\n    });\n\n    container.on('disable', function () {\n      self.$selection.attr('tabindex', '-1');\n    });\n  };\n\n  BaseSelection.prototype._attachCloseHandler = function (container) {\n    var self = this;\n\n    $(document.body).on('mousedown.select2.' + container.id, function (e) {\n      var $target = $(e.target);\n\n      var $select = $target.closest('.select2');\n\n      var $all = $('.select2.select2-container--open');\n\n      $all.each(function () {\n        var $this = $(this);\n\n        if (this == $select[0]) {\n          return;\n        }\n\n        var $element = $this.data('element');\n\n        $element.select2('close');\n      });\n    });\n  };\n\n  BaseSelection.prototype._detachCloseHandler = function (container) {\n    $(document.body).off('mousedown.select2.' + container.id);\n  };\n\n  BaseSelection.prototype.position = function ($selection, $container) {\n    var $selectionContainer = $container.find('.selection');\n    $selectionContainer.append($selection);\n  };\n\n  BaseSelection.prototype.destroy = function () {\n    this._detachCloseHandler(this.container);\n  };\n\n  BaseSelection.prototype.update = function (data) {\n    throw new Error('The `update` method must be defined in child classes.');\n  };\n\n  return BaseSelection;\n});\n\nS2.define('select2/selection/single',[\n  'jquery',\n  './base',\n  '../utils',\n  '../keys'\n], function ($, BaseSelection, Utils, KEYS) {\n  function SingleSelection () {\n    SingleSelection.__super__.constructor.apply(this, arguments);\n  }\n\n  Utils.Extend(SingleSelection, BaseSelection);\n\n  SingleSelection.prototype.render = function () {\n    var $selection = SingleSelection.__super__.render.call(this);\n\n    $selection.addClass('select2-selection--single');\n\n    $selection.html(\n      '<span class=\"select2-selection__rendered\"></span>' +\n      '<span class=\"select2-selection__arrow\" role=\"presentation\">' +\n        '<b role=\"presentation\"></b>' +\n      '</span>'\n    );\n\n    return $selection;\n  };\n\n  SingleSelection.prototype.bind = function (container, $container) {\n    var self = this;\n\n    SingleSelection.__super__.bind.apply(this, arguments);\n\n    var id = container.id + '-container';\n\n    this.$selection.find('.select2-selection__rendered').attr('id', id);\n    this.$selection.attr('aria-labelledby', id);\n\n    this.$selection.on('mousedown', function (evt) {\n      // Only respond to left clicks\n      if (evt.which !== 1) {\n        return;\n      }\n\n      self.trigger('toggle', {\n        originalEvent: evt\n      });\n    });\n\n    this.$selection.on('focus', function (evt) {\n      // User focuses on the container\n    });\n\n    this.$selection.on('blur', function (evt) {\n      // User exits the container\n    });\n\n    container.on('selection:update', function (params) {\n      self.update(params.data);\n    });\n  };\n\n  SingleSelection.prototype.clear = function () {\n    this.$selection.find('.select2-selection__rendered').empty();\n  };\n\n  SingleSelection.prototype.display = function (data) {\n    var template = this.options.get('templateSelection');\n    var escapeMarkup = this.options.get('escapeMarkup');\n\n    return escapeMarkup(template(data));\n  };\n\n  SingleSelection.prototype.selectionContainer = function () {\n    return $('<span></span>');\n  };\n\n  SingleSelection.prototype.update = function (data) {\n    if (data.length === 0) {\n      this.clear();\n      return;\n    }\n\n    var selection = data[0];\n\n    var formatted = this.display(selection);\n\n    var $rendered = this.$selection.find('.select2-selection__rendered');\n    $rendered.empty().append(formatted);\n    $rendered.prop('title', selection.title || selection.text);\n  };\n\n  return SingleSelection;\n});\n\nS2.define('select2/selection/multiple',[\n  'jquery',\n  './base',\n  '../utils'\n], function ($, BaseSelection, Utils) {\n  function MultipleSelection ($element, options) {\n    MultipleSelection.__super__.constructor.apply(this, arguments);\n  }\n\n  Utils.Extend(MultipleSelection, BaseSelection);\n\n  MultipleSelection.prototype.render = function () {\n    var $selection = MultipleSelection.__super__.render.call(this);\n\n    $selection.addClass('select2-selection--multiple');\n\n    $selection.html(\n      '<ul class=\"select2-selection__rendered\"></ul>'\n    );\n\n    return $selection;\n  };\n\n  MultipleSelection.prototype.bind = function (container, $container) {\n    var self = this;\n\n    MultipleSelection.__super__.bind.apply(this, arguments);\n\n    this.$selection.on('click', function (evt) {\n      self.trigger('toggle', {\n        originalEvent: evt\n      });\n    });\n\n    this.$selection.on('click', '.select2-selection__choice__remove',\n      function (evt) {\n      var $remove = $(this);\n      var $selection = $remove.parent();\n\n      var data = $selection.data('data');\n\n      self.trigger('unselect', {\n        originalEvent: evt,\n        data: data\n      });\n    });\n  };\n\n  MultipleSelection.prototype.clear = function () {\n    this.$selection.find('.select2-selection__rendered').empty();\n  };\n\n  MultipleSelection.prototype.display = function (data) {\n    var template = this.options.get('templateSelection');\n    var escapeMarkup = this.options.get('escapeMarkup');\n\n    return escapeMarkup(template(data));\n  };\n\n  MultipleSelection.prototype.selectionContainer = function () {\n    var $container = $(\n      '<li class=\"select2-selection__choice\">' +\n        '<span class=\"select2-selection__choice__remove\" role=\"presentation\">' +\n          '&times;' +\n        '</span>' +\n      '</li>'\n    );\n\n    return $container;\n  };\n\n  MultipleSelection.prototype.update = function (data) {\n    this.clear();\n\n    if (data.length === 0) {\n      return;\n    }\n\n    var $selections = [];\n\n    for (var d = 0; d < data.length; d++) {\n      var selection = data[d];\n\n      var formatted = this.display(selection);\n      var $selection = this.selectionContainer();\n\n      $selection.append(formatted);\n      $selection.prop('title', selection.title || selection.text);\n\n      $selection.data('data', selection);\n\n      $selections.push($selection);\n    }\n\n    var $rendered = this.$selection.find('.select2-selection__rendered');\n\n    Utils.appendMany($rendered, $selections);\n  };\n\n  return MultipleSelection;\n});\n\nS2.define('select2/selection/placeholder',[\n  '../utils'\n], function (Utils) {\n  function Placeholder (decorated, $element, options) {\n    this.placeholder = this.normalizePlaceholder(options.get('placeholder'));\n\n    decorated.call(this, $element, options);\n  }\n\n  Placeholder.prototype.normalizePlaceholder = function (_, placeholder) {\n    if (typeof placeholder === 'string') {\n      placeholder = {\n        id: '',\n        text: placeholder\n      };\n    }\n\n    return placeholder;\n  };\n\n  Placeholder.prototype.createPlaceholder = function (decorated, placeholder) {\n    var $placeholder = this.selectionContainer();\n\n    $placeholder.html(this.display(placeholder));\n    $placeholder.addClass('select2-selection__placeholder')\n                .removeClass('select2-selection__choice');\n\n    return $placeholder;\n  };\n\n  Placeholder.prototype.update = function (decorated, data) {\n    var singlePlaceholder = (\n      data.length == 1 && data[0].id != this.placeholder.id\n    );\n    var multipleSelections = data.length > 1;\n\n    if (multipleSelections || singlePlaceholder) {\n      return decorated.call(this, data);\n    }\n\n    this.clear();\n\n    var $placeholder = this.createPlaceholder(this.placeholder);\n\n    this.$selection.find('.select2-selection__rendered').append($placeholder);\n  };\n\n  return Placeholder;\n});\n\nS2.define('select2/selection/allowClear',[\n  'jquery',\n  '../keys'\n], function ($, KEYS) {\n  function AllowClear () { }\n\n  AllowClear.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    decorated.call(this, container, $container);\n\n    if (this.placeholder == null) {\n      if (this.options.get('debug') && window.console && console.error) {\n        console.error(\n          'Select2: The `allowClear` option should be used in combination ' +\n          'with the `placeholder` option.'\n        );\n      }\n    }\n\n    this.$selection.on('mousedown', '.select2-selection__clear',\n      function (evt) {\n        self._handleClear(evt);\n    });\n\n    container.on('keypress', function (evt) {\n      self._handleKeyboardClear(evt, container);\n    });\n  };\n\n  AllowClear.prototype._handleClear = function (_, evt) {\n    // Ignore the event if it is disabled\n    if (this.options.get('disabled')) {\n      return;\n    }\n\n    var $clear = this.$selection.find('.select2-selection__clear');\n\n    // Ignore the event if nothing has been selected\n    if ($clear.length === 0) {\n      return;\n    }\n\n    evt.stopPropagation();\n\n    var data = $clear.data('data');\n\n    for (var d = 0; d < data.length; d++) {\n      var unselectData = {\n        data: data[d]\n      };\n\n      // Trigger the `unselect` event, so people can prevent it from being\n      // cleared.\n      this.trigger('unselect', unselectData);\n\n      // If the event was prevented, don't clear it out.\n      if (unselectData.prevented) {\n        return;\n      }\n    }\n\n    this.$element.val(this.placeholder.id).trigger('change');\n\n    this.trigger('toggle');\n  };\n\n  AllowClear.prototype._handleKeyboardClear = function (_, evt, container) {\n    if (container.isOpen()) {\n      return;\n    }\n\n    if (evt.which == KEYS.DELETE || evt.which == KEYS.BACKSPACE) {\n      this._handleClear(evt);\n    }\n  };\n\n  AllowClear.prototype.update = function (decorated, data) {\n    decorated.call(this, data);\n\n    if (this.$selection.find('.select2-selection__placeholder').length > 0 ||\n        data.length === 0) {\n      return;\n    }\n\n    var $remove = $(\n      '<span class=\"select2-selection__clear\">' +\n        '&times;' +\n      '</span>'\n    );\n    $remove.data('data', data);\n\n    this.$selection.find('.select2-selection__rendered').prepend($remove);\n  };\n\n  return AllowClear;\n});\n\nS2.define('select2/selection/search',[\n  'jquery',\n  '../utils',\n  '../keys'\n], function ($, Utils, KEYS) {\n  function Search (decorated, $element, options) {\n    decorated.call(this, $element, options);\n  }\n\n  Search.prototype.render = function (decorated) {\n    var $search = $(\n      '<li class=\"select2-search select2-search--inline\">' +\n        '<input class=\"select2-search__field\" type=\"search\" tabindex=\"-1\"' +\n        ' autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\"' +\n        ' spellcheck=\"false\" role=\"textbox\" />' +\n      '</li>'\n    );\n\n    this.$searchContainer = $search;\n    this.$search = $search.find('input');\n\n    var $rendered = decorated.call(this);\n\n    return $rendered;\n  };\n\n  Search.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    decorated.call(this, container, $container);\n\n    container.on('open', function () {\n      self.$search.attr('tabindex', 0);\n\n      self.$search.focus();\n    });\n\n    container.on('close', function () {\n      self.$search.attr('tabindex', -1);\n\n      self.$search.val('');\n      self.$search.focus();\n    });\n\n    container.on('enable', function () {\n      self.$search.prop('disabled', false);\n    });\n\n    container.on('disable', function () {\n      self.$search.prop('disabled', true);\n    });\n\n    this.$selection.on('focusin', '.select2-search--inline', function (evt) {\n      self.trigger('focus', evt);\n    });\n\n    this.$selection.on('focusout', '.select2-search--inline', function (evt) {\n      self.trigger('blur', evt);\n    });\n\n    this.$selection.on('keydown', '.select2-search--inline', function (evt) {\n      evt.stopPropagation();\n\n      self.trigger('keypress', evt);\n\n      self._keyUpPrevented = evt.isDefaultPrevented();\n\n      var key = evt.which;\n\n      if (key === KEYS.BACKSPACE && self.$search.val() === '') {\n        var $previousChoice = self.$searchContainer\n          .prev('.select2-selection__choice');\n\n        if ($previousChoice.length > 0) {\n          var item = $previousChoice.data('data');\n\n          self.searchRemoveChoice(item);\n\n          evt.preventDefault();\n        }\n      }\n    });\n\n    // Workaround for browsers which do not support the `input` event\n    // This will prevent double-triggering of events for browsers which support\n    // both the `keyup` and `input` events.\n    this.$selection.on('input', '.select2-search--inline', function (evt) {\n      // Unbind the duplicated `keyup` event\n      self.$selection.off('keyup.search');\n    });\n\n    this.$selection.on('keyup.search input', '.select2-search--inline',\n        function (evt) {\n      self.handleSearch(evt);\n    });\n  };\n\n  Search.prototype.createPlaceholder = function (decorated, placeholder) {\n    this.$search.attr('placeholder', placeholder.text);\n  };\n\n  Search.prototype.update = function (decorated, data) {\n    this.$search.attr('placeholder', '');\n\n    decorated.call(this, data);\n\n    this.$selection.find('.select2-selection__rendered')\n                   .append(this.$searchContainer);\n\n    this.resizeSearch();\n  };\n\n  Search.prototype.handleSearch = function () {\n    this.resizeSearch();\n\n    if (!this._keyUpPrevented) {\n      var input = this.$search.val();\n\n      this.trigger('query', {\n        term: input\n      });\n    }\n\n    this._keyUpPrevented = false;\n  };\n\n  Search.prototype.searchRemoveChoice = function (decorated, item) {\n    this.trigger('unselect', {\n      data: item\n    });\n\n    this.trigger('open');\n\n    this.$search.val(item.text + ' ');\n  };\n\n  Search.prototype.resizeSearch = function () {\n    this.$search.css('width', '25px');\n\n    var width = '';\n\n    if (this.$search.attr('placeholder') !== '') {\n      width = this.$selection.find('.select2-selection__rendered').innerWidth();\n    } else {\n      var minimumWidth = this.$search.val().length + 1;\n\n      width = (minimumWidth * 0.75) + 'em';\n    }\n\n    this.$search.css('width', width);\n  };\n\n  return Search;\n});\n\nS2.define('select2/selection/eventRelay',[\n  'jquery'\n], function ($) {\n  function EventRelay () { }\n\n  EventRelay.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n    var relayEvents = [\n      'open', 'opening',\n      'close', 'closing',\n      'select', 'selecting',\n      'unselect', 'unselecting'\n    ];\n\n    var preventableEvents = ['opening', 'closing', 'selecting', 'unselecting'];\n\n    decorated.call(this, container, $container);\n\n    container.on('*', function (name, params) {\n      // Ignore events that should not be relayed\n      if ($.inArray(name, relayEvents) === -1) {\n        return;\n      }\n\n      // The parameters should always be an object\n      params = params || {};\n\n      // Generate the jQuery event for the Select2 event\n      var evt = $.Event('select2:' + name, {\n        params: params\n      });\n\n      self.$element.trigger(evt);\n\n      // Only handle preventable events if it was one\n      if ($.inArray(name, preventableEvents) === -1) {\n        return;\n      }\n\n      params.prevented = evt.isDefaultPrevented();\n    });\n  };\n\n  return EventRelay;\n});\n\nS2.define('select2/translation',[\n  'jquery',\n  'require'\n], function ($, require) {\n  function Translation (dict) {\n    this.dict = dict || {};\n  }\n\n  Translation.prototype.all = function () {\n    return this.dict;\n  };\n\n  Translation.prototype.get = function (key) {\n    return this.dict[key];\n  };\n\n  Translation.prototype.extend = function (translation) {\n    this.dict = $.extend({}, translation.all(), this.dict);\n  };\n\n  // Static functions\n\n  Translation._cache = {};\n\n  Translation.loadPath = function (path) {\n    if (!(path in Translation._cache)) {\n      var translations = require(path);\n\n      Translation._cache[path] = translations;\n    }\n\n    return new Translation(Translation._cache[path]);\n  };\n\n  return Translation;\n});\n\nS2.define('select2/diacritics',[\n\n], function () {\n  var diacritics = {\n    '\\u24B6': 'A',\n    '\\uFF21': 'A',\n    '\\u00C0': 'A',\n    '\\u00C1': 'A',\n    '\\u00C2': 'A',\n    '\\u1EA6': 'A',\n    '\\u1EA4': 'A',\n    '\\u1EAA': 'A',\n    '\\u1EA8': 'A',\n    '\\u00C3': 'A',\n    '\\u0100': 'A',\n    '\\u0102': 'A',\n    '\\u1EB0': 'A',\n    '\\u1EAE': 'A',\n    '\\u1EB4': 'A',\n    '\\u1EB2': 'A',\n    '\\u0226': 'A',\n    '\\u01E0': 'A',\n    '\\u00C4': 'A',\n    '\\u01DE': 'A',\n    '\\u1EA2': 'A',\n    '\\u00C5': 'A',\n    '\\u01FA': 'A',\n    '\\u01CD': 'A',\n    '\\u0200': 'A',\n    '\\u0202': 'A',\n    '\\u1EA0': 'A',\n    '\\u1EAC': 'A',\n    '\\u1EB6': 'A',\n    '\\u1E00': 'A',\n    '\\u0104': 'A',\n    '\\u023A': 'A',\n    '\\u2C6F': 'A',\n    '\\uA732': 'AA',\n    '\\u00C6': 'AE',\n    '\\u01FC': 'AE',\n    '\\u01E2': 'AE',\n    '\\uA734': 'AO',\n    '\\uA736': 'AU',\n    '\\uA738': 'AV',\n    '\\uA73A': 'AV',\n    '\\uA73C': 'AY',\n    '\\u24B7': 'B',\n    '\\uFF22': 'B',\n    '\\u1E02': 'B',\n    '\\u1E04': 'B',\n    '\\u1E06': 'B',\n    '\\u0243': 'B',\n    '\\u0182': 'B',\n    '\\u0181': 'B',\n    '\\u24B8': 'C',\n    '\\uFF23': 'C',\n    '\\u0106': 'C',\n    '\\u0108': 'C',\n    '\\u010A': 'C',\n    '\\u010C': 'C',\n    '\\u00C7': 'C',\n    '\\u1E08': 'C',\n    '\\u0187': 'C',\n    '\\u023B': 'C',\n    '\\uA73E': 'C',\n    '\\u24B9': 'D',\n    '\\uFF24': 'D',\n    '\\u1E0A': 'D',\n    '\\u010E': 'D',\n    '\\u1E0C': 'D',\n    '\\u1E10': 'D',\n    '\\u1E12': 'D',\n    '\\u1E0E': 'D',\n    '\\u0110': 'D',\n    '\\u018B': 'D',\n    '\\u018A': 'D',\n    '\\u0189': 'D',\n    '\\uA779': 'D',\n    '\\u01F1': 'DZ',\n    '\\u01C4': 'DZ',\n    '\\u01F2': 'Dz',\n    '\\u01C5': 'Dz',\n    '\\u24BA': 'E',\n    '\\uFF25': 'E',\n    '\\u00C8': 'E',\n    '\\u00C9': 'E',\n    '\\u00CA': 'E',\n    '\\u1EC0': 'E',\n    '\\u1EBE': 'E',\n    '\\u1EC4': 'E',\n    '\\u1EC2': 'E',\n    '\\u1EBC': 'E',\n    '\\u0112': 'E',\n    '\\u1E14': 'E',\n    '\\u1E16': 'E',\n    '\\u0114': 'E',\n    '\\u0116': 'E',\n    '\\u00CB': 'E',\n    '\\u1EBA': 'E',\n    '\\u011A': 'E',\n    '\\u0204': 'E',\n    '\\u0206': 'E',\n    '\\u1EB8': 'E',\n    '\\u1EC6': 'E',\n    '\\u0228': 'E',\n    '\\u1E1C': 'E',\n    '\\u0118': 'E',\n    '\\u1E18': 'E',\n    '\\u1E1A': 'E',\n    '\\u0190': 'E',\n    '\\u018E': 'E',\n    '\\u24BB': 'F',\n    '\\uFF26': 'F',\n    '\\u1E1E': 'F',\n    '\\u0191': 'F',\n    '\\uA77B': 'F',\n    '\\u24BC': 'G',\n    '\\uFF27': 'G',\n    '\\u01F4': 'G',\n    '\\u011C': 'G',\n    '\\u1E20': 'G',\n    '\\u011E': 'G',\n    '\\u0120': 'G',\n    '\\u01E6': 'G',\n    '\\u0122': 'G',\n    '\\u01E4': 'G',\n    '\\u0193': 'G',\n    '\\uA7A0': 'G',\n    '\\uA77D': 'G',\n    '\\uA77E': 'G',\n    '\\u24BD': 'H',\n    '\\uFF28': 'H',\n    '\\u0124': 'H',\n    '\\u1E22': 'H',\n    '\\u1E26': 'H',\n    '\\u021E': 'H',\n    '\\u1E24': 'H',\n    '\\u1E28': 'H',\n    '\\u1E2A': 'H',\n    '\\u0126': 'H',\n    '\\u2C67': 'H',\n    '\\u2C75': 'H',\n    '\\uA78D': 'H',\n    '\\u24BE': 'I',\n    '\\uFF29': 'I',\n    '\\u00CC': 'I',\n    '\\u00CD': 'I',\n    '\\u00CE': 'I',\n    '\\u0128': 'I',\n    '\\u012A': 'I',\n    '\\u012C': 'I',\n    '\\u0130': 'I',\n    '\\u00CF': 'I',\n    '\\u1E2E': 'I',\n    '\\u1EC8': 'I',\n    '\\u01CF': 'I',\n    '\\u0208': 'I',\n    '\\u020A': 'I',\n    '\\u1ECA': 'I',\n    '\\u012E': 'I',\n    '\\u1E2C': 'I',\n    '\\u0197': 'I',\n    '\\u24BF': 'J',\n    '\\uFF2A': 'J',\n    '\\u0134': 'J',\n    '\\u0248': 'J',\n    '\\u24C0': 'K',\n    '\\uFF2B': 'K',\n    '\\u1E30': 'K',\n    '\\u01E8': 'K',\n    '\\u1E32': 'K',\n    '\\u0136': 'K',\n    '\\u1E34': 'K',\n    '\\u0198': 'K',\n    '\\u2C69': 'K',\n    '\\uA740': 'K',\n    '\\uA742': 'K',\n    '\\uA744': 'K',\n    '\\uA7A2': 'K',\n    '\\u24C1': 'L',\n    '\\uFF2C': 'L',\n    '\\u013F': 'L',\n    '\\u0139': 'L',\n    '\\u013D': 'L',\n    '\\u1E36': 'L',\n    '\\u1E38': 'L',\n    '\\u013B': 'L',\n    '\\u1E3C': 'L',\n    '\\u1E3A': 'L',\n    '\\u0141': 'L',\n    '\\u023D': 'L',\n    '\\u2C62': 'L',\n    '\\u2C60': 'L',\n    '\\uA748': 'L',\n    '\\uA746': 'L',\n    '\\uA780': 'L',\n    '\\u01C7': 'LJ',\n    '\\u01C8': 'Lj',\n    '\\u24C2': 'M',\n    '\\uFF2D': 'M',\n    '\\u1E3E': 'M',\n    '\\u1E40': 'M',\n    '\\u1E42': 'M',\n    '\\u2C6E': 'M',\n    '\\u019C': 'M',\n    '\\u24C3': 'N',\n    '\\uFF2E': 'N',\n    '\\u01F8': 'N',\n    '\\u0143': 'N',\n    '\\u00D1': 'N',\n    '\\u1E44': 'N',\n    '\\u0147': 'N',\n    '\\u1E46': 'N',\n    '\\u0145': 'N',\n    '\\u1E4A': 'N',\n    '\\u1E48': 'N',\n    '\\u0220': 'N',\n    '\\u019D': 'N',\n    '\\uA790': 'N',\n    '\\uA7A4': 'N',\n    '\\u01CA': 'NJ',\n    '\\u01CB': 'Nj',\n    '\\u24C4': 'O',\n    '\\uFF2F': 'O',\n    '\\u00D2': 'O',\n    '\\u00D3': 'O',\n    '\\u00D4': 'O',\n    '\\u1ED2': 'O',\n    '\\u1ED0': 'O',\n    '\\u1ED6': 'O',\n    '\\u1ED4': 'O',\n    '\\u00D5': 'O',\n    '\\u1E4C': 'O',\n    '\\u022C': 'O',\n    '\\u1E4E': 'O',\n    '\\u014C': 'O',\n    '\\u1E50': 'O',\n    '\\u1E52': 'O',\n    '\\u014E': 'O',\n    '\\u022E': 'O',\n    '\\u0230': 'O',\n    '\\u00D6': 'O',\n    '\\u022A': 'O',\n    '\\u1ECE': 'O',\n    '\\u0150': 'O',\n    '\\u01D1': 'O',\n    '\\u020C': 'O',\n    '\\u020E': 'O',\n    '\\u01A0': 'O',\n    '\\u1EDC': 'O',\n    '\\u1EDA': 'O',\n    '\\u1EE0': 'O',\n    '\\u1EDE': 'O',\n    '\\u1EE2': 'O',\n    '\\u1ECC': 'O',\n    '\\u1ED8': 'O',\n    '\\u01EA': 'O',\n    '\\u01EC': 'O',\n    '\\u00D8': 'O',\n    '\\u01FE': 'O',\n    '\\u0186': 'O',\n    '\\u019F': 'O',\n    '\\uA74A': 'O',\n    '\\uA74C': 'O',\n    '\\u01A2': 'OI',\n    '\\uA74E': 'OO',\n    '\\u0222': 'OU',\n    '\\u24C5': 'P',\n    '\\uFF30': 'P',\n    '\\u1E54': 'P',\n    '\\u1E56': 'P',\n    '\\u01A4': 'P',\n    '\\u2C63': 'P',\n    '\\uA750': 'P',\n    '\\uA752': 'P',\n    '\\uA754': 'P',\n    '\\u24C6': 'Q',\n    '\\uFF31': 'Q',\n    '\\uA756': 'Q',\n    '\\uA758': 'Q',\n    '\\u024A': 'Q',\n    '\\u24C7': 'R',\n    '\\uFF32': 'R',\n    '\\u0154': 'R',\n    '\\u1E58': 'R',\n    '\\u0158': 'R',\n    '\\u0210': 'R',\n    '\\u0212': 'R',\n    '\\u1E5A': 'R',\n    '\\u1E5C': 'R',\n    '\\u0156': 'R',\n    '\\u1E5E': 'R',\n    '\\u024C': 'R',\n    '\\u2C64': 'R',\n    '\\uA75A': 'R',\n    '\\uA7A6': 'R',\n    '\\uA782': 'R',\n    '\\u24C8': 'S',\n    '\\uFF33': 'S',\n    '\\u1E9E': 'S',\n    '\\u015A': 'S',\n    '\\u1E64': 'S',\n    '\\u015C': 'S',\n    '\\u1E60': 'S',\n    '\\u0160': 'S',\n    '\\u1E66': 'S',\n    '\\u1E62': 'S',\n    '\\u1E68': 'S',\n    '\\u0218': 'S',\n    '\\u015E': 'S',\n    '\\u2C7E': 'S',\n    '\\uA7A8': 'S',\n    '\\uA784': 'S',\n    '\\u24C9': 'T',\n    '\\uFF34': 'T',\n    '\\u1E6A': 'T',\n    '\\u0164': 'T',\n    '\\u1E6C': 'T',\n    '\\u021A': 'T',\n    '\\u0162': 'T',\n    '\\u1E70': 'T',\n    '\\u1E6E': 'T',\n    '\\u0166': 'T',\n    '\\u01AC': 'T',\n    '\\u01AE': 'T',\n    '\\u023E': 'T',\n    '\\uA786': 'T',\n    '\\uA728': 'TZ',\n    '\\u24CA': 'U',\n    '\\uFF35': 'U',\n    '\\u00D9': 'U',\n    '\\u00DA': 'U',\n    '\\u00DB': 'U',\n    '\\u0168': 'U',\n    '\\u1E78': 'U',\n    '\\u016A': 'U',\n    '\\u1E7A': 'U',\n    '\\u016C': 'U',\n    '\\u00DC': 'U',\n    '\\u01DB': 'U',\n    '\\u01D7': 'U',\n    '\\u01D5': 'U',\n    '\\u01D9': 'U',\n    '\\u1EE6': 'U',\n    '\\u016E': 'U',\n    '\\u0170': 'U',\n    '\\u01D3': 'U',\n    '\\u0214': 'U',\n    '\\u0216': 'U',\n    '\\u01AF': 'U',\n    '\\u1EEA': 'U',\n    '\\u1EE8': 'U',\n    '\\u1EEE': 'U',\n    '\\u1EEC': 'U',\n    '\\u1EF0': 'U',\n    '\\u1EE4': 'U',\n    '\\u1E72': 'U',\n    '\\u0172': 'U',\n    '\\u1E76': 'U',\n    '\\u1E74': 'U',\n    '\\u0244': 'U',\n    '\\u24CB': 'V',\n    '\\uFF36': 'V',\n    '\\u1E7C': 'V',\n    '\\u1E7E': 'V',\n    '\\u01B2': 'V',\n    '\\uA75E': 'V',\n    '\\u0245': 'V',\n    '\\uA760': 'VY',\n    '\\u24CC': 'W',\n    '\\uFF37': 'W',\n    '\\u1E80': 'W',\n    '\\u1E82': 'W',\n    '\\u0174': 'W',\n    '\\u1E86': 'W',\n    '\\u1E84': 'W',\n    '\\u1E88': 'W',\n    '\\u2C72': 'W',\n    '\\u24CD': 'X',\n    '\\uFF38': 'X',\n    '\\u1E8A': 'X',\n    '\\u1E8C': 'X',\n    '\\u24CE': 'Y',\n    '\\uFF39': 'Y',\n    '\\u1EF2': 'Y',\n    '\\u00DD': 'Y',\n    '\\u0176': 'Y',\n    '\\u1EF8': 'Y',\n    '\\u0232': 'Y',\n    '\\u1E8E': 'Y',\n    '\\u0178': 'Y',\n    '\\u1EF6': 'Y',\n    '\\u1EF4': 'Y',\n    '\\u01B3': 'Y',\n    '\\u024E': 'Y',\n    '\\u1EFE': 'Y',\n    '\\u24CF': 'Z',\n    '\\uFF3A': 'Z',\n    '\\u0179': 'Z',\n    '\\u1E90': 'Z',\n    '\\u017B': 'Z',\n    '\\u017D': 'Z',\n    '\\u1E92': 'Z',\n    '\\u1E94': 'Z',\n    '\\u01B5': 'Z',\n    '\\u0224': 'Z',\n    '\\u2C7F': 'Z',\n    '\\u2C6B': 'Z',\n    '\\uA762': 'Z',\n    '\\u24D0': 'a',\n    '\\uFF41': 'a',\n    '\\u1E9A': 'a',\n    '\\u00E0': 'a',\n    '\\u00E1': 'a',\n    '\\u00E2': 'a',\n    '\\u1EA7': 'a',\n    '\\u1EA5': 'a',\n    '\\u1EAB': 'a',\n    '\\u1EA9': 'a',\n    '\\u00E3': 'a',\n    '\\u0101': 'a',\n    '\\u0103': 'a',\n    '\\u1EB1': 'a',\n    '\\u1EAF': 'a',\n    '\\u1EB5': 'a',\n    '\\u1EB3': 'a',\n    '\\u0227': 'a',\n    '\\u01E1': 'a',\n    '\\u00E4': 'a',\n    '\\u01DF': 'a',\n    '\\u1EA3': 'a',\n    '\\u00E5': 'a',\n    '\\u01FB': 'a',\n    '\\u01CE': 'a',\n    '\\u0201': 'a',\n    '\\u0203': 'a',\n    '\\u1EA1': 'a',\n    '\\u1EAD': 'a',\n    '\\u1EB7': 'a',\n    '\\u1E01': 'a',\n    '\\u0105': 'a',\n    '\\u2C65': 'a',\n    '\\u0250': 'a',\n    '\\uA733': 'aa',\n    '\\u00E6': 'ae',\n    '\\u01FD': 'ae',\n    '\\u01E3': 'ae',\n    '\\uA735': 'ao',\n    '\\uA737': 'au',\n    '\\uA739': 'av',\n    '\\uA73B': 'av',\n    '\\uA73D': 'ay',\n    '\\u24D1': 'b',\n    '\\uFF42': 'b',\n    '\\u1E03': 'b',\n    '\\u1E05': 'b',\n    '\\u1E07': 'b',\n    '\\u0180': 'b',\n    '\\u0183': 'b',\n    '\\u0253': 'b',\n    '\\u24D2': 'c',\n    '\\uFF43': 'c',\n    '\\u0107': 'c',\n    '\\u0109': 'c',\n    '\\u010B': 'c',\n    '\\u010D': 'c',\n    '\\u00E7': 'c',\n    '\\u1E09': 'c',\n    '\\u0188': 'c',\n    '\\u023C': 'c',\n    '\\uA73F': 'c',\n    '\\u2184': 'c',\n    '\\u24D3': 'd',\n    '\\uFF44': 'd',\n    '\\u1E0B': 'd',\n    '\\u010F': 'd',\n    '\\u1E0D': 'd',\n    '\\u1E11': 'd',\n    '\\u1E13': 'd',\n    '\\u1E0F': 'd',\n    '\\u0111': 'd',\n    '\\u018C': 'd',\n    '\\u0256': 'd',\n    '\\u0257': 'd',\n    '\\uA77A': 'd',\n    '\\u01F3': 'dz',\n    '\\u01C6': 'dz',\n    '\\u24D4': 'e',\n    '\\uFF45': 'e',\n    '\\u00E8': 'e',\n    '\\u00E9': 'e',\n    '\\u00EA': 'e',\n    '\\u1EC1': 'e',\n    '\\u1EBF': 'e',\n    '\\u1EC5': 'e',\n    '\\u1EC3': 'e',\n    '\\u1EBD': 'e',\n    '\\u0113': 'e',\n    '\\u1E15': 'e',\n    '\\u1E17': 'e',\n    '\\u0115': 'e',\n    '\\u0117': 'e',\n    '\\u00EB': 'e',\n    '\\u1EBB': 'e',\n    '\\u011B': 'e',\n    '\\u0205': 'e',\n    '\\u0207': 'e',\n    '\\u1EB9': 'e',\n    '\\u1EC7': 'e',\n    '\\u0229': 'e',\n    '\\u1E1D': 'e',\n    '\\u0119': 'e',\n    '\\u1E19': 'e',\n    '\\u1E1B': 'e',\n    '\\u0247': 'e',\n    '\\u025B': 'e',\n    '\\u01DD': 'e',\n    '\\u24D5': 'f',\n    '\\uFF46': 'f',\n    '\\u1E1F': 'f',\n    '\\u0192': 'f',\n    '\\uA77C': 'f',\n    '\\u24D6': 'g',\n    '\\uFF47': 'g',\n    '\\u01F5': 'g',\n    '\\u011D': 'g',\n    '\\u1E21': 'g',\n    '\\u011F': 'g',\n    '\\u0121': 'g',\n    '\\u01E7': 'g',\n    '\\u0123': 'g',\n    '\\u01E5': 'g',\n    '\\u0260': 'g',\n    '\\uA7A1': 'g',\n    '\\u1D79': 'g',\n    '\\uA77F': 'g',\n    '\\u24D7': 'h',\n    '\\uFF48': 'h',\n    '\\u0125': 'h',\n    '\\u1E23': 'h',\n    '\\u1E27': 'h',\n    '\\u021F': 'h',\n    '\\u1E25': 'h',\n    '\\u1E29': 'h',\n    '\\u1E2B': 'h',\n    '\\u1E96': 'h',\n    '\\u0127': 'h',\n    '\\u2C68': 'h',\n    '\\u2C76': 'h',\n    '\\u0265': 'h',\n    '\\u0195': 'hv',\n    '\\u24D8': 'i',\n    '\\uFF49': 'i',\n    '\\u00EC': 'i',\n    '\\u00ED': 'i',\n    '\\u00EE': 'i',\n    '\\u0129': 'i',\n    '\\u012B': 'i',\n    '\\u012D': 'i',\n    '\\u00EF': 'i',\n    '\\u1E2F': 'i',\n    '\\u1EC9': 'i',\n    '\\u01D0': 'i',\n    '\\u0209': 'i',\n    '\\u020B': 'i',\n    '\\u1ECB': 'i',\n    '\\u012F': 'i',\n    '\\u1E2D': 'i',\n    '\\u0268': 'i',\n    '\\u0131': 'i',\n    '\\u24D9': 'j',\n    '\\uFF4A': 'j',\n    '\\u0135': 'j',\n    '\\u01F0': 'j',\n    '\\u0249': 'j',\n    '\\u24DA': 'k',\n    '\\uFF4B': 'k',\n    '\\u1E31': 'k',\n    '\\u01E9': 'k',\n    '\\u1E33': 'k',\n    '\\u0137': 'k',\n    '\\u1E35': 'k',\n    '\\u0199': 'k',\n    '\\u2C6A': 'k',\n    '\\uA741': 'k',\n    '\\uA743': 'k',\n    '\\uA745': 'k',\n    '\\uA7A3': 'k',\n    '\\u24DB': 'l',\n    '\\uFF4C': 'l',\n    '\\u0140': 'l',\n    '\\u013A': 'l',\n    '\\u013E': 'l',\n    '\\u1E37': 'l',\n    '\\u1E39': 'l',\n    '\\u013C': 'l',\n    '\\u1E3D': 'l',\n    '\\u1E3B': 'l',\n    '\\u017F': 'l',\n    '\\u0142': 'l',\n    '\\u019A': 'l',\n    '\\u026B': 'l',\n    '\\u2C61': 'l',\n    '\\uA749': 'l',\n    '\\uA781': 'l',\n    '\\uA747': 'l',\n    '\\u01C9': 'lj',\n    '\\u24DC': 'm',\n    '\\uFF4D': 'm',\n    '\\u1E3F': 'm',\n    '\\u1E41': 'm',\n    '\\u1E43': 'm',\n    '\\u0271': 'm',\n    '\\u026F': 'm',\n    '\\u24DD': 'n',\n    '\\uFF4E': 'n',\n    '\\u01F9': 'n',\n    '\\u0144': 'n',\n    '\\u00F1': 'n',\n    '\\u1E45': 'n',\n    '\\u0148': 'n',\n    '\\u1E47': 'n',\n    '\\u0146': 'n',\n    '\\u1E4B': 'n',\n    '\\u1E49': 'n',\n    '\\u019E': 'n',\n    '\\u0272': 'n',\n    '\\u0149': 'n',\n    '\\uA791': 'n',\n    '\\uA7A5': 'n',\n    '\\u01CC': 'nj',\n    '\\u24DE': 'o',\n    '\\uFF4F': 'o',\n    '\\u00F2': 'o',\n    '\\u00F3': 'o',\n    '\\u00F4': 'o',\n    '\\u1ED3': 'o',\n    '\\u1ED1': 'o',\n    '\\u1ED7': 'o',\n    '\\u1ED5': 'o',\n    '\\u00F5': 'o',\n    '\\u1E4D': 'o',\n    '\\u022D': 'o',\n    '\\u1E4F': 'o',\n    '\\u014D': 'o',\n    '\\u1E51': 'o',\n    '\\u1E53': 'o',\n    '\\u014F': 'o',\n    '\\u022F': 'o',\n    '\\u0231': 'o',\n    '\\u00F6': 'o',\n    '\\u022B': 'o',\n    '\\u1ECF': 'o',\n    '\\u0151': 'o',\n    '\\u01D2': 'o',\n    '\\u020D': 'o',\n    '\\u020F': 'o',\n    '\\u01A1': 'o',\n    '\\u1EDD': 'o',\n    '\\u1EDB': 'o',\n    '\\u1EE1': 'o',\n    '\\u1EDF': 'o',\n    '\\u1EE3': 'o',\n    '\\u1ECD': 'o',\n    '\\u1ED9': 'o',\n    '\\u01EB': 'o',\n    '\\u01ED': 'o',\n    '\\u00F8': 'o',\n    '\\u01FF': 'o',\n    '\\u0254': 'o',\n    '\\uA74B': 'o',\n    '\\uA74D': 'o',\n    '\\u0275': 'o',\n    '\\u01A3': 'oi',\n    '\\u0223': 'ou',\n    '\\uA74F': 'oo',\n    '\\u24DF': 'p',\n    '\\uFF50': 'p',\n    '\\u1E55': 'p',\n    '\\u1E57': 'p',\n    '\\u01A5': 'p',\n    '\\u1D7D': 'p',\n    '\\uA751': 'p',\n    '\\uA753': 'p',\n    '\\uA755': 'p',\n    '\\u24E0': 'q',\n    '\\uFF51': 'q',\n    '\\u024B': 'q',\n    '\\uA757': 'q',\n    '\\uA759': 'q',\n    '\\u24E1': 'r',\n    '\\uFF52': 'r',\n    '\\u0155': 'r',\n    '\\u1E59': 'r',\n    '\\u0159': 'r',\n    '\\u0211': 'r',\n    '\\u0213': 'r',\n    '\\u1E5B': 'r',\n    '\\u1E5D': 'r',\n    '\\u0157': 'r',\n    '\\u1E5F': 'r',\n    '\\u024D': 'r',\n    '\\u027D': 'r',\n    '\\uA75B': 'r',\n    '\\uA7A7': 'r',\n    '\\uA783': 'r',\n    '\\u24E2': 's',\n    '\\uFF53': 's',\n    '\\u00DF': 's',\n    '\\u015B': 's',\n    '\\u1E65': 's',\n    '\\u015D': 's',\n    '\\u1E61': 's',\n    '\\u0161': 's',\n    '\\u1E67': 's',\n    '\\u1E63': 's',\n    '\\u1E69': 's',\n    '\\u0219': 's',\n    '\\u015F': 's',\n    '\\u023F': 's',\n    '\\uA7A9': 's',\n    '\\uA785': 's',\n    '\\u1E9B': 's',\n    '\\u24E3': 't',\n    '\\uFF54': 't',\n    '\\u1E6B': 't',\n    '\\u1E97': 't',\n    '\\u0165': 't',\n    '\\u1E6D': 't',\n    '\\u021B': 't',\n    '\\u0163': 't',\n    '\\u1E71': 't',\n    '\\u1E6F': 't',\n    '\\u0167': 't',\n    '\\u01AD': 't',\n    '\\u0288': 't',\n    '\\u2C66': 't',\n    '\\uA787': 't',\n    '\\uA729': 'tz',\n    '\\u24E4': 'u',\n    '\\uFF55': 'u',\n    '\\u00F9': 'u',\n    '\\u00FA': 'u',\n    '\\u00FB': 'u',\n    '\\u0169': 'u',\n    '\\u1E79': 'u',\n    '\\u016B': 'u',\n    '\\u1E7B': 'u',\n    '\\u016D': 'u',\n    '\\u00FC': 'u',\n    '\\u01DC': 'u',\n    '\\u01D8': 'u',\n    '\\u01D6': 'u',\n    '\\u01DA': 'u',\n    '\\u1EE7': 'u',\n    '\\u016F': 'u',\n    '\\u0171': 'u',\n    '\\u01D4': 'u',\n    '\\u0215': 'u',\n    '\\u0217': 'u',\n    '\\u01B0': 'u',\n    '\\u1EEB': 'u',\n    '\\u1EE9': 'u',\n    '\\u1EEF': 'u',\n    '\\u1EED': 'u',\n    '\\u1EF1': 'u',\n    '\\u1EE5': 'u',\n    '\\u1E73': 'u',\n    '\\u0173': 'u',\n    '\\u1E77': 'u',\n    '\\u1E75': 'u',\n    '\\u0289': 'u',\n    '\\u24E5': 'v',\n    '\\uFF56': 'v',\n    '\\u1E7D': 'v',\n    '\\u1E7F': 'v',\n    '\\u028B': 'v',\n    '\\uA75F': 'v',\n    '\\u028C': 'v',\n    '\\uA761': 'vy',\n    '\\u24E6': 'w',\n    '\\uFF57': 'w',\n    '\\u1E81': 'w',\n    '\\u1E83': 'w',\n    '\\u0175': 'w',\n    '\\u1E87': 'w',\n    '\\u1E85': 'w',\n    '\\u1E98': 'w',\n    '\\u1E89': 'w',\n    '\\u2C73': 'w',\n    '\\u24E7': 'x',\n    '\\uFF58': 'x',\n    '\\u1E8B': 'x',\n    '\\u1E8D': 'x',\n    '\\u24E8': 'y',\n    '\\uFF59': 'y',\n    '\\u1EF3': 'y',\n    '\\u00FD': 'y',\n    '\\u0177': 'y',\n    '\\u1EF9': 'y',\n    '\\u0233': 'y',\n    '\\u1E8F': 'y',\n    '\\u00FF': 'y',\n    '\\u1EF7': 'y',\n    '\\u1E99': 'y',\n    '\\u1EF5': 'y',\n    '\\u01B4': 'y',\n    '\\u024F': 'y',\n    '\\u1EFF': 'y',\n    '\\u24E9': 'z',\n    '\\uFF5A': 'z',\n    '\\u017A': 'z',\n    '\\u1E91': 'z',\n    '\\u017C': 'z',\n    '\\u017E': 'z',\n    '\\u1E93': 'z',\n    '\\u1E95': 'z',\n    '\\u01B6': 'z',\n    '\\u0225': 'z',\n    '\\u0240': 'z',\n    '\\u2C6C': 'z',\n    '\\uA763': 'z',\n    '\\u0386': '\\u0391',\n    '\\u0388': '\\u0395',\n    '\\u0389': '\\u0397',\n    '\\u038A': '\\u0399',\n    '\\u03AA': '\\u0399',\n    '\\u038C': '\\u039F',\n    '\\u038E': '\\u03A5',\n    '\\u03AB': '\\u03A5',\n    '\\u038F': '\\u03A9',\n    '\\u03AC': '\\u03B1',\n    '\\u03AD': '\\u03B5',\n    '\\u03AE': '\\u03B7',\n    '\\u03AF': '\\u03B9',\n    '\\u03CA': '\\u03B9',\n    '\\u0390': '\\u03B9',\n    '\\u03CC': '\\u03BF',\n    '\\u03CD': '\\u03C5',\n    '\\u03CB': '\\u03C5',\n    '\\u03B0': '\\u03C5',\n    '\\u03C9': '\\u03C9',\n    '\\u03C2': '\\u03C3'\n  };\n\n  return diacritics;\n});\n\nS2.define('select2/data/base',[\n  '../utils'\n], function (Utils) {\n  function BaseAdapter ($element, options) {\n    BaseAdapter.__super__.constructor.call(this);\n  }\n\n  Utils.Extend(BaseAdapter, Utils.Observable);\n\n  BaseAdapter.prototype.current = function (callback) {\n    throw new Error('The `current` method must be defined in child classes.');\n  };\n\n  BaseAdapter.prototype.query = function (params, callback) {\n    throw new Error('The `query` method must be defined in child classes.');\n  };\n\n  BaseAdapter.prototype.bind = function (container, $container) {\n    // Can be implemented in subclasses\n  };\n\n  BaseAdapter.prototype.destroy = function () {\n    // Can be implemented in subclasses\n  };\n\n  BaseAdapter.prototype.generateResultId = function (container, data) {\n    var id = container.id + '-result-';\n\n    id += Utils.generateChars(4);\n\n    if (data.id != null) {\n      id += '-' + data.id.toString();\n    } else {\n      id += '-' + Utils.generateChars(4);\n    }\n    return id;\n  };\n\n  return BaseAdapter;\n});\n\nS2.define('select2/data/select',[\n  './base',\n  '../utils',\n  'jquery'\n], function (BaseAdapter, Utils, $) {\n  function SelectAdapter ($element, options) {\n    this.$element = $element;\n    this.options = options;\n\n    SelectAdapter.__super__.constructor.call(this);\n  }\n\n  Utils.Extend(SelectAdapter, BaseAdapter);\n\n  SelectAdapter.prototype.current = function (callback) {\n    var data = [];\n    var self = this;\n\n    this.$element.find(':selected').each(function () {\n      var $option = $(this);\n\n      var option = self.item($option);\n\n      data.push(option);\n    });\n\n    callback(data);\n  };\n\n  SelectAdapter.prototype.select = function (data) {\n    var self = this;\n\n    data.selected = true;\n\n    // If data.element is a DOM node, use it instead\n    if ($(data.element).is('option')) {\n      data.element.selected = true;\n\n      this.$element.trigger('change');\n\n      return;\n    }\n\n    if (this.$element.prop('multiple')) {\n      this.current(function (currentData) {\n        var val = [];\n\n        data = [data];\n        data.push.apply(data, currentData);\n\n        for (var d = 0; d < data.length; d++) {\n          var id = data[d].id;\n\n          if ($.inArray(id, val) === -1) {\n            val.push(id);\n          }\n        }\n\n        self.$element.val(val);\n        self.$element.trigger('change');\n      });\n    } else {\n      var val = data.id;\n\n      this.$element.val(val);\n      this.$element.trigger('change');\n    }\n  };\n\n  SelectAdapter.prototype.unselect = function (data) {\n    var self = this;\n\n    if (!this.$element.prop('multiple')) {\n      return;\n    }\n\n    data.selected = false;\n\n    if ($(data.element).is('option')) {\n      data.element.selected = false;\n\n      this.$element.trigger('change');\n\n      return;\n    }\n\n    this.current(function (currentData) {\n      var val = [];\n\n      for (var d = 0; d < currentData.length; d++) {\n        var id = currentData[d].id;\n\n        if (id !== data.id && $.inArray(id, val) === -1) {\n          val.push(id);\n        }\n      }\n\n      self.$element.val(val);\n\n      self.$element.trigger('change');\n    });\n  };\n\n  SelectAdapter.prototype.bind = function (container, $container) {\n    var self = this;\n\n    this.container = container;\n\n    container.on('select', function (params) {\n      self.select(params.data);\n    });\n\n    container.on('unselect', function (params) {\n      self.unselect(params.data);\n    });\n  };\n\n  SelectAdapter.prototype.destroy = function () {\n    // Remove anything added to child elements\n    this.$element.find('*').each(function () {\n      // Remove any custom data set by Select2\n      $.removeData(this, 'data');\n    });\n  };\n\n  SelectAdapter.prototype.query = function (params, callback) {\n    var data = [];\n    var self = this;\n\n    var $options = this.$element.children();\n\n    $options.each(function () {\n      var $option = $(this);\n\n      if (!$option.is('option') && !$option.is('optgroup')) {\n        return;\n      }\n\n      var option = self.item($option);\n\n      var matches = self.matches(params, option);\n\n      if (matches !== null) {\n        data.push(matches);\n      }\n    });\n\n    callback({\n      results: data\n    });\n  };\n\n  SelectAdapter.prototype.addOptions = function ($options) {\n    Utils.appendMany(this.$element, $options);\n  };\n\n  SelectAdapter.prototype.option = function (data) {\n    var option;\n\n    if (data.children) {\n      option = document.createElement('optgroup');\n      option.label = data.text;\n    } else {\n      option = document.createElement('option');\n\n      if (option.textContent !== undefined) {\n        option.textContent = data.text;\n      } else {\n        option.innerText = data.text;\n      }\n    }\n\n    if (data.id) {\n      option.value = data.id;\n    }\n\n    if (data.disabled) {\n      option.disabled = true;\n    }\n\n    if (data.selected) {\n      option.selected = true;\n    }\n\n    if (data.title) {\n      option.title = data.title;\n    }\n\n    var $option = $(option);\n\n    var normalizedData = this._normalizeItem(data);\n    normalizedData.element = option;\n\n    // Override the option's data with the combined data\n    $.data(option, 'data', normalizedData);\n\n    return $option;\n  };\n\n  SelectAdapter.prototype.item = function ($option) {\n    var data = {};\n\n    data = $.data($option[0], 'data');\n\n    if (data != null) {\n      return data;\n    }\n\n    if ($option.is('option')) {\n      data = {\n        id: $option.val(),\n        text: $option.text(),\n        disabled: $option.prop('disabled'),\n        selected: $option.prop('selected'),\n        title: $option.prop('title')\n      };\n    } else if ($option.is('optgroup')) {\n      data = {\n        text: $option.prop('label'),\n        children: [],\n        title: $option.prop('title')\n      };\n\n      var $children = $option.children('option');\n      var children = [];\n\n      for (var c = 0; c < $children.length; c++) {\n        var $child = $($children[c]);\n\n        var child = this.item($child);\n\n        children.push(child);\n      }\n\n      data.children = children;\n    }\n\n    data = this._normalizeItem(data);\n    data.element = $option[0];\n\n    $.data($option[0], 'data', data);\n\n    return data;\n  };\n\n  SelectAdapter.prototype._normalizeItem = function (item) {\n    if (!$.isPlainObject(item)) {\n      item = {\n        id: item,\n        text: item\n      };\n    }\n\n    item = $.extend({}, {\n      text: ''\n    }, item);\n\n    var defaults = {\n      selected: false,\n      disabled: false\n    };\n\n    if (item.id != null) {\n      item.id = item.id.toString();\n    }\n\n    if (item.text != null) {\n      item.text = item.text.toString();\n    }\n\n    if (item._resultId == null && item.id && this.container != null) {\n      item._resultId = this.generateResultId(this.container, item);\n    }\n\n    return $.extend({}, defaults, item);\n  };\n\n  SelectAdapter.prototype.matches = function (params, data) {\n    var matcher = this.options.get('matcher');\n\n    return matcher(params, data);\n  };\n\n  return SelectAdapter;\n});\n\nS2.define('select2/data/array',[\n  './select',\n  '../utils',\n  'jquery'\n], function (SelectAdapter, Utils, $) {\n  function ArrayAdapter ($element, options) {\n    var data = options.get('data') || [];\n\n    ArrayAdapter.__super__.constructor.call(this, $element, options);\n\n    this.addOptions(this.convertToOptions(data));\n  }\n\n  Utils.Extend(ArrayAdapter, SelectAdapter);\n\n  ArrayAdapter.prototype.select = function (data) {\n    var $option = this.$element.find('option').filter(function (i, elm) {\n      return elm.value == data.id.toString();\n    });\n\n    if ($option.length === 0) {\n      $option = this.option(data);\n\n      this.addOptions($option);\n    }\n\n    ArrayAdapter.__super__.select.call(this, data);\n  };\n\n  ArrayAdapter.prototype.convertToOptions = function (data) {\n    var self = this;\n\n    var $existing = this.$element.find('option');\n    var existingIds = $existing.map(function () {\n      return self.item($(this)).id;\n    }).get();\n\n    var $options = [];\n\n    // Filter out all items except for the one passed in the argument\n    function onlyItem (item) {\n      return function () {\n        return $(this).val() == item.id;\n      };\n    }\n\n    for (var d = 0; d < data.length; d++) {\n      var item = this._normalizeItem(data[d]);\n\n      // Skip items which were pre-loaded, only merge the data\n      if ($.inArray(item.id, existingIds) >= 0) {\n        var $existingOption = $existing.filter(onlyItem(item));\n\n        var existingData = this.item($existingOption);\n        var newData = $.extend(true, {}, existingData, item);\n\n        var $newOption = this.option(existingData);\n\n        $existingOption.replaceWith($newOption);\n\n        continue;\n      }\n\n      var $option = this.option(item);\n\n      if (item.children) {\n        var $children = this.convertToOptions(item.children);\n\n        Utils.appendMany($option, $children);\n      }\n\n      $options.push($option);\n    }\n\n    return $options;\n  };\n\n  return ArrayAdapter;\n});\n\nS2.define('select2/data/ajax',[\n  './array',\n  '../utils',\n  'jquery'\n], function (ArrayAdapter, Utils, $) {\n  function AjaxAdapter ($element, options) {\n    this.ajaxOptions = this._applyDefaults(options.get('ajax'));\n\n    if (this.ajaxOptions.processResults != null) {\n      this.processResults = this.ajaxOptions.processResults;\n    }\n\n    ArrayAdapter.__super__.constructor.call(this, $element, options);\n  }\n\n  Utils.Extend(AjaxAdapter, ArrayAdapter);\n\n  AjaxAdapter.prototype._applyDefaults = function (options) {\n    var defaults = {\n      data: function (params) {\n        return {\n          q: params.term\n        };\n      },\n      transport: function (params, success, failure) {\n        var $request = $.ajax(params);\n\n        $request.then(success);\n        $request.fail(failure);\n\n        return $request;\n      }\n    };\n\n    return $.extend({}, defaults, options, true);\n  };\n\n  AjaxAdapter.prototype.processResults = function (results) {\n    return results;\n  };\n\n  AjaxAdapter.prototype.query = function (params, callback) {\n    var matches = [];\n    var self = this;\n\n    if (this._request != null) {\n      // JSONP requests cannot always be aborted\n      if ($.isFunction(this._request.abort)) {\n        this._request.abort();\n      }\n\n      this._request = null;\n    }\n\n    var options = $.extend({\n      type: 'GET'\n    }, this.ajaxOptions);\n\n    if (typeof options.url === 'function') {\n      options.url = options.url(params);\n    }\n\n    if (typeof options.data === 'function') {\n      options.data = options.data(params);\n    }\n\n    function request () {\n      var $request = options.transport(options, function (data) {\n        var results = self.processResults(data, params);\n\n        if (self.options.get('debug') && window.console && console.error) {\n          // Check to make sure that the response included a `results` key.\n          if (!results || !results.results || !$.isArray(results.results)) {\n            console.error(\n              'Select2: The AJAX results did not return an array in the ' +\n              '`results` key of the response.'\n            );\n          }\n        }\n\n        callback(results);\n      }, function () {\n        // TODO: Handle AJAX errors\n      });\n\n      self._request = $request;\n    }\n\n    if (this.ajaxOptions.delay && params.term !== '') {\n      if (this._queryTimeout) {\n        window.clearTimeout(this._queryTimeout);\n      }\n\n      this._queryTimeout = window.setTimeout(request, this.ajaxOptions.delay);\n    } else {\n      request();\n    }\n  };\n\n  return AjaxAdapter;\n});\n\nS2.define('select2/data/tags',[\n  'jquery'\n], function ($) {\n  function Tags (decorated, $element, options) {\n    var tags = options.get('tags');\n\n    var createTag = options.get('createTag');\n\n    if (createTag !== undefined) {\n      this.createTag = createTag;\n    }\n\n    decorated.call(this, $element, options);\n\n    if ($.isArray(tags)) {\n      for (var t = 0; t < tags.length; t++) {\n        var tag = tags[t];\n        var item = this._normalizeItem(tag);\n\n        var $option = this.option(item);\n\n        this.$element.append($option);\n      }\n    }\n  }\n\n  Tags.prototype.query = function (decorated, params, callback) {\n    var self = this;\n\n    this._removeOldTags();\n\n    if (params.term == null || params.page != null) {\n      decorated.call(this, params, callback);\n      return;\n    }\n\n    function wrapper (obj, child) {\n      var data = obj.results;\n\n      for (var i = 0; i < data.length; i++) {\n        var option = data[i];\n\n        var checkChildren = (\n          option.children != null &&\n          !wrapper({\n            results: option.children\n          }, true)\n        );\n\n        var checkText = option.text === params.term;\n\n        if (checkText || checkChildren) {\n          if (child) {\n            return false;\n          }\n\n          obj.data = data;\n          callback(obj);\n\n          return;\n        }\n      }\n\n      if (child) {\n        return true;\n      }\n\n      var tag = self.createTag(params);\n\n      if (tag != null) {\n        var $option = self.option(tag);\n        $option.attr('data-select2-tag', true);\n\n        self.addOptions([$option]);\n\n        self.insertTag(data, tag);\n      }\n\n      obj.results = data;\n\n      callback(obj);\n    }\n\n    decorated.call(this, params, wrapper);\n  };\n\n  Tags.prototype.createTag = function (decorated, params) {\n    var term = $.trim(params.term);\n\n    if (term === '') {\n      return null;\n    }\n\n    return {\n      id: term,\n      text: term\n    };\n  };\n\n  Tags.prototype.insertTag = function (_, data, tag) {\n    data.unshift(tag);\n  };\n\n  Tags.prototype._removeOldTags = function (_) {\n    var tag = this._lastTag;\n\n    var $options = this.$element.find('option[data-select2-tag]');\n\n    $options.each(function () {\n      if (this.selected) {\n        return;\n      }\n\n      $(this).remove();\n    });\n  };\n\n  return Tags;\n});\n\nS2.define('select2/data/tokenizer',[\n  'jquery'\n], function ($) {\n  function Tokenizer (decorated, $element, options) {\n    var tokenizer = options.get('tokenizer');\n\n    if (tokenizer !== undefined) {\n      this.tokenizer = tokenizer;\n    }\n\n    decorated.call(this, $element, options);\n  }\n\n  Tokenizer.prototype.bind = function (decorated, container, $container) {\n    decorated.call(this, container, $container);\n\n    this.$search =  container.dropdown.$search || container.selection.$search ||\n      $container.find('.select2-search__field');\n  };\n\n  Tokenizer.prototype.query = function (decorated, params, callback) {\n    var self = this;\n\n    function select (data) {\n      self.select(data);\n    }\n\n    params.term = params.term || '';\n\n    var tokenData = this.tokenizer(params, this.options, select);\n\n    if (tokenData.term !== params.term) {\n      // Replace the search term if we have the search box\n      if (this.$search.length) {\n        this.$search.val(tokenData.term);\n        this.$search.focus();\n      }\n\n      params.term = tokenData.term;\n    }\n\n    decorated.call(this, params, callback);\n  };\n\n  Tokenizer.prototype.tokenizer = function (_, params, options, callback) {\n    var separators = options.get('tokenSeparators') || [];\n    var term = params.term;\n    var i = 0;\n\n    var createTag = this.createTag || function (params) {\n      return {\n        id: params.term,\n        text: params.term\n      };\n    };\n\n    while (i < term.length) {\n      var termChar = term[i];\n\n      if ($.inArray(termChar, separators) === -1) {\n        i++;\n\n        continue;\n      }\n\n      var part = term.substr(0, i);\n      var partParams = $.extend({}, params, {\n        term: part\n      });\n\n      var data = createTag(partParams);\n\n      callback(data);\n\n      // Reset the term to not include the tokenized portion\n      term = term.substr(i + 1) || '';\n      i = 0;\n    }\n\n    return {\n      term: term\n    };\n  };\n\n  return Tokenizer;\n});\n\nS2.define('select2/data/minimumInputLength',[\n\n], function () {\n  function MinimumInputLength (decorated, $e, options) {\n    this.minimumInputLength = options.get('minimumInputLength');\n\n    decorated.call(this, $e, options);\n  }\n\n  MinimumInputLength.prototype.query = function (decorated, params, callback) {\n    params.term = params.term || '';\n\n    if (params.term.length < this.minimumInputLength) {\n      this.trigger('results:message', {\n        message: 'inputTooShort',\n        args: {\n          minimum: this.minimumInputLength,\n          input: params.term,\n          params: params\n        }\n      });\n\n      return;\n    }\n\n    decorated.call(this, params, callback);\n  };\n\n  return MinimumInputLength;\n});\n\nS2.define('select2/data/maximumInputLength',[\n\n], function () {\n  function MaximumInputLength (decorated, $e, options) {\n    this.maximumInputLength = options.get('maximumInputLength');\n\n    decorated.call(this, $e, options);\n  }\n\n  MaximumInputLength.prototype.query = function (decorated, params, callback) {\n    params.term = params.term || '';\n\n    if (this.maximumInputLength > 0 &&\n        params.term.length > this.maximumInputLength) {\n      this.trigger('results:message', {\n        message: 'inputTooLong',\n        args: {\n          maximum: this.maximumInputLength,\n          input: params.term,\n          params: params\n        }\n      });\n\n      return;\n    }\n\n    decorated.call(this, params, callback);\n  };\n\n  return MaximumInputLength;\n});\n\nS2.define('select2/data/maximumSelectionLength',[\n\n], function (){\n  function MaximumSelectionLength (decorated, $e, options) {\n    this.maximumSelectionLength = options.get('maximumSelectionLength');\n\n    decorated.call(this, $e, options);\n  }\n\n  MaximumSelectionLength.prototype.query =\n    function (decorated, params, callback) {\n      var self = this;\n\n      this.current(function (currentData) {\n        var count = currentData != null ? currentData.length : 0;\n        if (self.maximumSelectionLength > 0 &&\n          count >= self.maximumSelectionLength) {\n          self.trigger('results:message', {\n            message: 'maximumSelected',\n            args: {\n              maximum: self.maximumSelectionLength\n            }\n          });\n          return;\n        }\n        decorated.call(self, params, callback);\n      });\n  };\n\n  return MaximumSelectionLength;\n});\n\nS2.define('select2/dropdown',[\n  'jquery',\n  './utils'\n], function ($, Utils) {\n  function Dropdown ($element, options) {\n    this.$element = $element;\n    this.options = options;\n\n    Dropdown.__super__.constructor.call(this);\n  }\n\n  Utils.Extend(Dropdown, Utils.Observable);\n\n  Dropdown.prototype.render = function () {\n    var $dropdown = $(\n      '<span class=\"select2-dropdown\">' +\n        '<span class=\"select2-results\"></span>' +\n      '</span>'\n    );\n\n    $dropdown.attr('dir', this.options.get('dir'));\n\n    this.$dropdown = $dropdown;\n\n    return $dropdown;\n  };\n\n  Dropdown.prototype.position = function ($dropdown, $container) {\n    // Should be implmented in subclasses\n  };\n\n  Dropdown.prototype.destroy = function () {\n    // Remove the dropdown from the DOM\n    this.$dropdown.remove();\n  };\n\n  return Dropdown;\n});\n\nS2.define('select2/dropdown/search',[\n  'jquery',\n  '../utils'\n], function ($, Utils) {\n  function Search () { }\n\n  Search.prototype.render = function (decorated) {\n    var $rendered = decorated.call(this);\n\n    var $search = $(\n      '<span class=\"select2-search select2-search--dropdown\">' +\n        '<input class=\"select2-search__field\" type=\"search\" tabindex=\"-1\"' +\n        ' autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\"' +\n        ' spellcheck=\"false\" role=\"textbox\" />' +\n      '</span>'\n    );\n\n    this.$searchContainer = $search;\n    this.$search = $search.find('input');\n\n    $rendered.prepend($search);\n\n    return $rendered;\n  };\n\n  Search.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    decorated.call(this, container, $container);\n\n    this.$search.on('keydown', function (evt) {\n      self.trigger('keypress', evt);\n\n      self._keyUpPrevented = evt.isDefaultPrevented();\n    });\n\n    // Workaround for browsers which do not support the `input` event\n    // This will prevent double-triggering of events for browsers which support\n    // both the `keyup` and `input` events.\n    this.$search.on('input', function (evt) {\n      // Unbind the duplicated `keyup` event\n      $(this).off('keyup');\n    });\n\n    this.$search.on('keyup input', function (evt) {\n      self.handleSearch(evt);\n    });\n\n    container.on('open', function () {\n      self.$search.attr('tabindex', 0);\n\n      self.$search.focus();\n\n      window.setTimeout(function () {\n        self.$search.focus();\n      }, 0);\n    });\n\n    container.on('close', function () {\n      self.$search.attr('tabindex', -1);\n\n      self.$search.val('');\n    });\n\n    container.on('results:all', function (params) {\n      if (params.query.term == null || params.query.term === '') {\n        var showSearch = self.showSearch(params);\n\n        if (showSearch) {\n          self.$searchContainer.removeClass('select2-search--hide');\n        } else {\n          self.$searchContainer.addClass('select2-search--hide');\n        }\n      }\n    });\n  };\n\n  Search.prototype.handleSearch = function (evt) {\n    if (!this._keyUpPrevented) {\n      var input = this.$search.val();\n\n      this.trigger('query', {\n        term: input\n      });\n    }\n\n    this._keyUpPrevented = false;\n  };\n\n  Search.prototype.showSearch = function (_, params) {\n    return true;\n  };\n\n  return Search;\n});\n\nS2.define('select2/dropdown/hidePlaceholder',[\n\n], function () {\n  function HidePlaceholder (decorated, $element, options, dataAdapter) {\n    this.placeholder = this.normalizePlaceholder(options.get('placeholder'));\n\n    decorated.call(this, $element, options, dataAdapter);\n  }\n\n  HidePlaceholder.prototype.append = function (decorated, data) {\n    data.results = this.removePlaceholder(data.results);\n\n    decorated.call(this, data);\n  };\n\n  HidePlaceholder.prototype.normalizePlaceholder = function (_, placeholder) {\n    if (typeof placeholder === 'string') {\n      placeholder = {\n        id: '',\n        text: placeholder\n      };\n    }\n\n    return placeholder;\n  };\n\n  HidePlaceholder.prototype.removePlaceholder = function (_, data) {\n    var modifiedData = data.slice(0);\n\n    for (var d = data.length - 1; d >= 0; d--) {\n      var item = data[d];\n\n      if (this.placeholder.id === item.id) {\n        modifiedData.splice(d, 1);\n      }\n    }\n\n    return modifiedData;\n  };\n\n  return HidePlaceholder;\n});\n\nS2.define('select2/dropdown/infiniteScroll',[\n  'jquery'\n], function ($) {\n  function InfiniteScroll (decorated, $element, options, dataAdapter) {\n    this.lastParams = {};\n\n    decorated.call(this, $element, options, dataAdapter);\n\n    this.$loadingMore = this.createLoadingMore();\n    this.loading = false;\n  }\n\n  InfiniteScroll.prototype.append = function (decorated, data) {\n    this.$loadingMore.remove();\n    this.loading = false;\n\n    decorated.call(this, data);\n\n    if (this.showLoadingMore(data)) {\n      this.$results.append(this.$loadingMore);\n    }\n  };\n\n  InfiniteScroll.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    decorated.call(this, container, $container);\n\n    container.on('query', function (params) {\n      self.lastParams = params;\n      self.loading = true;\n    });\n\n    container.on('query:append', function (params) {\n      self.lastParams = params;\n      self.loading = true;\n    });\n\n    this.$results.on('scroll', function () {\n      var isLoadMoreVisible = $.contains(\n        document.documentElement,\n        self.$loadingMore[0]\n      );\n\n      if (self.loading || !isLoadMoreVisible) {\n        return;\n      }\n\n      var currentOffset = self.$results.offset().top +\n        self.$results.outerHeight(false);\n      var loadingMoreOffset = self.$loadingMore.offset().top +\n        self.$loadingMore.outerHeight(false);\n\n      if (currentOffset + 50 >= loadingMoreOffset) {\n        self.loadMore();\n      }\n    });\n  };\n\n  InfiniteScroll.prototype.loadMore = function () {\n    this.loading = true;\n\n    var params = $.extend({}, {page: 1}, this.lastParams);\n\n    params.page++;\n\n    this.trigger('query:append', params);\n  };\n\n  InfiniteScroll.prototype.showLoadingMore = function (_, data) {\n    return data.pagination && data.pagination.more;\n  };\n\n  InfiniteScroll.prototype.createLoadingMore = function () {\n    var $option = $(\n      '<li class=\"option load-more\" role=\"treeitem\"></li>'\n    );\n\n    var message = this.options.get('translations').get('loadingMore');\n\n    $option.html(message(this.lastParams));\n\n    return $option;\n  };\n\n  return InfiniteScroll;\n});\n\nS2.define('select2/dropdown/attachBody',[\n  'jquery',\n  '../utils'\n], function ($, Utils) {\n  function AttachBody (decorated, $element, options) {\n    this.$dropdownParent = options.get('dropdownParent') || document.body;\n\n    decorated.call(this, $element, options);\n  }\n\n  AttachBody.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    var setupResultsEvents = false;\n\n    decorated.call(this, container, $container);\n\n    container.on('open', function () {\n      self._showDropdown();\n      self._attachPositioningHandler(container);\n\n      if (!setupResultsEvents) {\n        setupResultsEvents = true;\n\n        container.on('results:all', function () {\n          self._positionDropdown();\n          self._resizeDropdown();\n        });\n\n        container.on('results:append', function () {\n          self._positionDropdown();\n          self._resizeDropdown();\n        });\n      }\n    });\n\n    container.on('close', function () {\n      self._hideDropdown();\n      self._detachPositioningHandler(container);\n    });\n\n    this.$dropdownContainer.on('mousedown', function (evt) {\n      evt.stopPropagation();\n    });\n  };\n\n  AttachBody.prototype.position = function (decorated, $dropdown, $container) {\n    // Clone all of the container classes\n    $dropdown.attr('class', $container.attr('class'));\n\n    $dropdown.removeClass('select2');\n    $dropdown.addClass('select2-container--open');\n\n    $dropdown.css({\n      position: 'absolute',\n      top: -999999\n    });\n\n    this.$container = $container;\n  };\n\n  AttachBody.prototype.render = function (decorated) {\n    var $container = $('<span></span>');\n\n    var $dropdown = decorated.call(this);\n    $container.append($dropdown);\n\n    this.$dropdownContainer = $container;\n\n    return $container;\n  };\n\n  AttachBody.prototype._hideDropdown = function (decorated) {\n    this.$dropdownContainer.detach();\n  };\n\n  AttachBody.prototype._attachPositioningHandler = function (container) {\n    var self = this;\n\n    var scrollEvent = 'scroll.select2.' + container.id;\n    var resizeEvent = 'resize.select2.' + container.id;\n    var orientationEvent = 'orientationchange.select2.' + container.id;\n\n    var $watchers = this.$container.parents().filter(Utils.hasScroll);\n    $watchers.each(function () {\n      $(this).data('select2-scroll-position', {\n        x: $(this).scrollLeft(),\n        y: $(this).scrollTop()\n      });\n    });\n\n    $watchers.on(scrollEvent, function (ev) {\n      var position = $(this).data('select2-scroll-position');\n      $(this).scrollTop(position.y);\n    });\n\n    $(window).on(scrollEvent + ' ' + resizeEvent + ' ' + orientationEvent,\n      function (e) {\n      self._positionDropdown();\n      self._resizeDropdown();\n    });\n  };\n\n  AttachBody.prototype._detachPositioningHandler = function (container) {\n    var scrollEvent = 'scroll.select2.' + container.id;\n    var resizeEvent = 'resize.select2.' + container.id;\n    var orientationEvent = 'orientationchange.select2.' + container.id;\n\n    var $watchers = this.$container.parents().filter(Utils.hasScroll);\n    $watchers.off(scrollEvent);\n\n    $(window).off(scrollEvent + ' ' + resizeEvent + ' ' + orientationEvent);\n  };\n\n  AttachBody.prototype._positionDropdown = function () {\n    var $window = $(window);\n\n    var isCurrentlyAbove = this.$dropdown.hasClass('select2-dropdown--above');\n    var isCurrentlyBelow = this.$dropdown.hasClass('select2-dropdown--below');\n\n    var newDirection = null;\n\n    var position = this.$container.position();\n    var offset = this.$container.offset();\n\n    offset.bottom = offset.top + this.$container.outerHeight(false);\n\n    var container = {\n      height: this.$container.outerHeight(false)\n    };\n\n    container.top = offset.top;\n    container.bottom = offset.top + container.height;\n\n    var dropdown = {\n      height: this.$dropdown.outerHeight(false)\n    };\n\n    var viewport = {\n      top: $window.scrollTop(),\n      bottom: $window.scrollTop() + $window.height()\n    };\n\n    var enoughRoomAbove = viewport.top < (offset.top - dropdown.height);\n    var enoughRoomBelow = viewport.bottom > (offset.bottom + dropdown.height);\n\n    var css = {\n      left: offset.left,\n      top: container.bottom\n    };\n\n    if (!isCurrentlyAbove && !isCurrentlyBelow) {\n      newDirection = 'below';\n    }\n\n    if (!enoughRoomBelow && enoughRoomAbove && !isCurrentlyAbove) {\n      newDirection = 'above';\n    } else if (!enoughRoomAbove && enoughRoomBelow && isCurrentlyAbove) {\n      newDirection = 'below';\n    }\n\n    if (newDirection == 'above' ||\n      (isCurrentlyAbove && newDirection !== 'below')) {\n      css.top = container.top - dropdown.height;\n    }\n\n    if (newDirection != null) {\n      this.$dropdown\n        .removeClass('select2-dropdown--below select2-dropdown--above')\n        .addClass('select2-dropdown--' + newDirection);\n      this.$container\n        .removeClass('select2-container--below select2-container--above')\n        .addClass('select2-container--' + newDirection);\n    }\n\n    this.$dropdownContainer.css(css);\n  };\n\n  AttachBody.prototype._resizeDropdown = function () {\n    this.$dropdownContainer.width();\n\n    var css = {\n      width: this.$container.outerWidth(false) + 'px'\n    };\n\n    if (this.options.get('dropdownAutoWidth')) {\n      css.minWidth = css.width;\n      css.width = 'auto';\n    }\n\n    this.$dropdown.css(css);\n  };\n\n  AttachBody.prototype._showDropdown = function (decorated) {\n    this.$dropdownContainer.appendTo(this.$dropdownParent);\n\n    this._positionDropdown();\n    this._resizeDropdown();\n  };\n\n  return AttachBody;\n});\n\nS2.define('select2/dropdown/minimumResultsForSearch',[\n\n], function () {\n  function countResults (data) {\n    var count = 0;\n\n    for (var d = 0; d < data.length; d++) {\n      var item = data[d];\n\n      if (item.children) {\n        count += countResults(item.children);\n      } else {\n        count++;\n      }\n    }\n\n    return count;\n  }\n\n  function MinimumResultsForSearch (decorated, $element, options, dataAdapter) {\n    this.minimumResultsForSearch = options.get('minimumResultsForSearch');\n\n    if (this.minimumResultsForSearch < 0) {\n      this.minimumResultsForSearch = Infinity;\n    }\n\n    decorated.call(this, $element, options, dataAdapter);\n  }\n\n  MinimumResultsForSearch.prototype.showSearch = function (decorated, params) {\n    if (countResults(params.data.results) < this.minimumResultsForSearch) {\n      return false;\n    }\n\n    return decorated.call(this, params);\n  };\n\n  return MinimumResultsForSearch;\n});\n\nS2.define('select2/dropdown/selectOnClose',[\n\n], function () {\n  function SelectOnClose () { }\n\n  SelectOnClose.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    decorated.call(this, container, $container);\n\n    container.on('close', function () {\n      self._handleSelectOnClose();\n    });\n  };\n\n  SelectOnClose.prototype._handleSelectOnClose = function () {\n    var $highlightedResults = this.getHighlightedResults();\n\n    if ($highlightedResults.length < 1) {\n      return;\n    }\n\n    this.trigger('select', {\n        data: $highlightedResults.data('data')\n    });\n  };\n\n  return SelectOnClose;\n});\n\nS2.define('select2/dropdown/closeOnSelect',[\n\n], function () {\n  function CloseOnSelect () { }\n\n  CloseOnSelect.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    decorated.call(this, container, $container);\n\n    container.on('select', function (evt) {\n      self._selectTriggered(evt);\n    });\n\n    container.on('unselect', function (evt) {\n      self._selectTriggered(evt);\n    });\n  };\n\n  CloseOnSelect.prototype._selectTriggered = function (_, evt) {\n    var originalEvent = evt.originalEvent;\n\n    // Don't close if the control key is being held\n    if (originalEvent && originalEvent.ctrlKey) {\n      return;\n    }\n\n    this.trigger('close');\n  };\n\n  return CloseOnSelect;\n});\n\nS2.define('select2/i18n/en',[],function () {\n  // English\n  return {\n    errorLoading: function () {\n      return 'The results could not be loaded.';\n    },\n    inputTooLong: function (args) {\n      var overChars = args.input.length - args.maximum;\n\n      var message = 'Please delete ' + overChars + ' character';\n\n      if (overChars != 1) {\n        message += 's';\n      }\n\n      return message;\n    },\n    inputTooShort: function (args) {\n      var remainingChars = args.minimum - args.input.length;\n\n      var message = 'Please enter ' + remainingChars + ' or more characters';\n\n      return message;\n    },\n    loadingMore: function () {\n      return 'Loading more results…';\n    },\n    maximumSelected: function (args) {\n      var message = 'You can only select ' + args.maximum + ' item';\n\n      if (args.maximum != 1) {\n        message += 's';\n      }\n\n      return message;\n    },\n    noResults: function () {\n      return 'No results found';\n    },\n    searching: function () {\n      return 'Searching…';\n    }\n  };\n});\n\nS2.define('select2/defaults',[\n  'jquery',\n  'require',\n\n  './results',\n\n  './selection/single',\n  './selection/multiple',\n  './selection/placeholder',\n  './selection/allowClear',\n  './selection/search',\n  './selection/eventRelay',\n\n  './utils',\n  './translation',\n  './diacritics',\n\n  './data/select',\n  './data/array',\n  './data/ajax',\n  './data/tags',\n  './data/tokenizer',\n  './data/minimumInputLength',\n  './data/maximumInputLength',\n  './data/maximumSelectionLength',\n\n  './dropdown',\n  './dropdown/search',\n  './dropdown/hidePlaceholder',\n  './dropdown/infiniteScroll',\n  './dropdown/attachBody',\n  './dropdown/minimumResultsForSearch',\n  './dropdown/selectOnClose',\n  './dropdown/closeOnSelect',\n\n  './i18n/en'\n], function ($, require,\n\n             ResultsList,\n\n             SingleSelection, MultipleSelection, Placeholder, AllowClear,\n             SelectionSearch, EventRelay,\n\n             Utils, Translation, DIACRITICS,\n\n             SelectData, ArrayData, AjaxData, Tags, Tokenizer,\n             MinimumInputLength, MaximumInputLength, MaximumSelectionLength,\n\n             Dropdown, DropdownSearch, HidePlaceholder, InfiniteScroll,\n             AttachBody, MinimumResultsForSearch, SelectOnClose, CloseOnSelect,\n\n             EnglishTranslation) {\n  function Defaults () {\n    this.reset();\n  }\n\n  Defaults.prototype.apply = function (options) {\n    options = $.extend({}, this.defaults, options);\n\n    if (options.dataAdapter == null) {\n      if (options.ajax != null) {\n        options.dataAdapter = AjaxData;\n      } else if (options.data != null) {\n        options.dataAdapter = ArrayData;\n      } else {\n        options.dataAdapter = SelectData;\n      }\n\n      if (options.minimumInputLength > 0) {\n        options.dataAdapter = Utils.Decorate(\n          options.dataAdapter,\n          MinimumInputLength\n        );\n      }\n\n      if (options.maximumInputLength > 0) {\n        options.dataAdapter = Utils.Decorate(\n          options.dataAdapter,\n          MaximumInputLength\n        );\n      }\n\n      if (options.maximumSelectionLength > 0) {\n        options.dataAdapter = Utils.Decorate(\n          options.dataAdapter,\n          MaximumSelectionLength\n        );\n      }\n\n      if (options.tags) {\n        options.dataAdapter = Utils.Decorate(options.dataAdapter, Tags);\n      }\n\n      if (options.tokenSeparators != null || options.tokenizer != null) {\n        options.dataAdapter = Utils.Decorate(\n          options.dataAdapter,\n          Tokenizer\n        );\n      }\n\n      if (options.query != null) {\n        var Query = require(options.amdBase + 'compat/query');\n\n        options.dataAdapter = Utils.Decorate(\n          options.dataAdapter,\n          Query\n        );\n      }\n\n      if (options.initSelection != null) {\n        var InitSelection = require(options.amdBase + 'compat/initSelection');\n\n        options.dataAdapter = Utils.Decorate(\n          options.dataAdapter,\n          InitSelection\n        );\n      }\n    }\n\n    if (options.resultsAdapter == null) {\n      options.resultsAdapter = ResultsList;\n\n      if (options.ajax != null) {\n        options.resultsAdapter = Utils.Decorate(\n          options.resultsAdapter,\n          InfiniteScroll\n        );\n      }\n\n      if (options.placeholder != null) {\n        options.resultsAdapter = Utils.Decorate(\n          options.resultsAdapter,\n          HidePlaceholder\n        );\n      }\n\n      if (options.selectOnClose) {\n        options.resultsAdapter = Utils.Decorate(\n          options.resultsAdapter,\n          SelectOnClose\n        );\n      }\n    }\n\n    if (options.dropdownAdapter == null) {\n      if (options.multiple) {\n        options.dropdownAdapter = Dropdown;\n      } else {\n        var SearchableDropdown = Utils.Decorate(Dropdown, DropdownSearch);\n\n        options.dropdownAdapter = SearchableDropdown;\n      }\n\n      if (options.minimumResultsForSearch !== 0) {\n        options.dropdownAdapter = Utils.Decorate(\n          options.dropdownAdapter,\n          MinimumResultsForSearch\n        );\n      }\n\n      if (options.closeOnSelect) {\n        options.dropdownAdapter = Utils.Decorate(\n          options.dropdownAdapter,\n          CloseOnSelect\n        );\n      }\n\n      if (\n        options.dropdownCssClass != null ||\n        options.dropdownCss != null ||\n        options.adaptDropdownCssClass != null\n      ) {\n        var DropdownCSS = require(options.amdBase + 'compat/dropdownCss');\n\n        options.dropdownAdapter = Utils.Decorate(\n          options.dropdownAdapter,\n          DropdownCSS\n        );\n      }\n\n      options.dropdownAdapter = Utils.Decorate(\n        options.dropdownAdapter,\n        AttachBody\n      );\n    }\n\n    if (options.selectionAdapter == null) {\n      if (options.multiple) {\n        options.selectionAdapter = MultipleSelection;\n      } else {\n        options.selectionAdapter = SingleSelection;\n      }\n\n      // Add the placeholder mixin if a placeholder was specified\n      if (options.placeholder != null) {\n        options.selectionAdapter = Utils.Decorate(\n          options.selectionAdapter,\n          Placeholder\n        );\n      }\n\n      if (options.allowClear) {\n        options.selectionAdapter = Utils.Decorate(\n          options.selectionAdapter,\n          AllowClear\n        );\n      }\n\n      if (options.multiple) {\n        options.selectionAdapter = Utils.Decorate(\n          options.selectionAdapter,\n          SelectionSearch\n        );\n      }\n\n      if (\n        options.containerCssClass != null ||\n        options.containerCss != null ||\n        options.adaptContainerCssClass != null\n      ) {\n        var ContainerCSS = require(options.amdBase + 'compat/containerCss');\n\n        options.selectionAdapter = Utils.Decorate(\n          options.selectionAdapter,\n          ContainerCSS\n        );\n      }\n\n      options.selectionAdapter = Utils.Decorate(\n        options.selectionAdapter,\n        EventRelay\n      );\n    }\n\n    if (typeof options.language === 'string') {\n      // Check if the language is specified with a region\n      if (options.language.indexOf('-') > 0) {\n        // Extract the region information if it is included\n        var languageParts = options.language.split('-');\n        var baseLanguage = languageParts[0];\n\n        options.language = [options.language, baseLanguage];\n      } else {\n        options.language = [options.language];\n      }\n    }\n\n    if ($.isArray(options.language)) {\n      var languages = new Translation();\n      options.language.push('en');\n\n      var languageNames = options.language;\n\n      for (var l = 0; l < languageNames.length; l++) {\n        var name = languageNames[l];\n        var language = {};\n\n        try {\n          // Try to load it with the original name\n          language = Translation.loadPath(name);\n        } catch (e) {\n          try {\n            // If we couldn't load it, check if it wasn't the full path\n            name = this.defaults.amdLanguageBase + name;\n            language = Translation.loadPath(name);\n          } catch (ex) {\n            // The translation could not be loaded at all. Sometimes this is\n            // because of a configuration problem, other times this can be\n            // because of how Select2 helps load all possible translation files.\n            if (options.debug && window.console && console.warn) {\n              console.warn(\n                'Select2: The language file for \"' + name + '\" could not be ' +\n                'automatically loaded. A fallback will be used instead.'\n              );\n            }\n\n            continue;\n          }\n        }\n\n        languages.extend(language);\n      }\n\n      options.translations = languages;\n    } else {\n      var baseTranslation = Translation.loadPath(\n        this.defaults.amdLanguageBase + 'en'\n      );\n      var customTranslation = new Translation(options.language);\n\n      customTranslation.extend(baseTranslation);\n\n      options.translations = customTranslation;\n    }\n\n    return options;\n  };\n\n  Defaults.prototype.reset = function () {\n    function stripDiacritics (text) {\n      // Used 'uni range + named function' from http://jsperf.com/diacritics/18\n      function match(a) {\n        return DIACRITICS[a] || a;\n      }\n\n      return text.replace(/[^\\u0000-\\u007E]/g, match);\n    }\n\n    function matcher (params, data) {\n      // Always return the object if there is nothing to compare\n      if ($.trim(params.term) === '') {\n        return data;\n      }\n\n      // Do a recursive check for options with children\n      if (data.children && data.children.length > 0) {\n        // Clone the data object if there are children\n        // This is required as we modify the object to remove any non-matches\n        var match = $.extend(true, {}, data);\n\n        // Check each child of the option\n        for (var c = data.children.length - 1; c >= 0; c--) {\n          var child = data.children[c];\n\n          var matches = matcher(params, child);\n\n          // If there wasn't a match, remove the object in the array\n          if (matches == null) {\n            match.children.splice(c, 1);\n          }\n        }\n\n        // If any children matched, return the new object\n        if (match.children.length > 0) {\n          return match;\n        }\n\n        // If there were no matching children, check just the plain object\n        return matcher(params, match);\n      }\n\n      var original = stripDiacritics(data.text).toUpperCase();\n      var term = stripDiacritics(params.term).toUpperCase();\n\n      // Check if the text contains the term\n      if (original.indexOf(term) > -1) {\n        return data;\n      }\n\n      // If it doesn't contain the term, don't return anything\n      return null;\n    }\n\n    this.defaults = {\n      amdBase: './',\n      amdLanguageBase: './i18n/',\n      closeOnSelect: true,\n      debug: false,\n      dropdownAutoWidth: false,\n      escapeMarkup: Utils.escapeMarkup,\n      language: EnglishTranslation,\n      matcher: matcher,\n      minimumInputLength: 0,\n      maximumInputLength: 0,\n      maximumSelectionLength: 0,\n      minimumResultsForSearch: 0,\n      selectOnClose: false,\n      sorter: function (data) {\n        return data;\n      },\n      templateResult: function (result) {\n        return result.text;\n      },\n      templateSelection: function (selection) {\n        return selection.text;\n      },\n      theme: 'default',\n      width: 'resolve'\n    };\n  };\n\n  Defaults.prototype.set = function (key, value) {\n    var camelKey = $.camelCase(key);\n\n    var data = {};\n    data[camelKey] = value;\n\n    var convertedData = Utils._convertData(data);\n\n    $.extend(this.defaults, convertedData);\n  };\n\n  var defaults = new Defaults();\n\n  return defaults;\n});\n\nS2.define('select2/options',[\n  'require',\n  'jquery',\n  './defaults',\n  './utils'\n], function (require, $, Defaults, Utils) {\n  function Options (options, $element) {\n    this.options = options;\n\n    if ($element != null) {\n      this.fromElement($element);\n    }\n\n    this.options = Defaults.apply(this.options);\n\n    if ($element && $element.is('input')) {\n      var InputCompat = require(this.get('amdBase') + 'compat/inputData');\n\n      this.options.dataAdapter = Utils.Decorate(\n        this.options.dataAdapter,\n        InputCompat\n      );\n    }\n  }\n\n  Options.prototype.fromElement = function ($e) {\n    var excludedData = ['select2'];\n\n    if (this.options.multiple == null) {\n      this.options.multiple = $e.prop('multiple');\n    }\n\n    if (this.options.disabled == null) {\n      this.options.disabled = $e.prop('disabled');\n    }\n\n    if (this.options.language == null) {\n      if ($e.prop('lang')) {\n        this.options.language = $e.prop('lang').toLowerCase();\n      } else if ($e.closest('[lang]').prop('lang')) {\n        this.options.language = $e.closest('[lang]').prop('lang');\n      }\n    }\n\n    if (this.options.dir == null) {\n      if ($e.prop('dir')) {\n        this.options.dir = $e.prop('dir');\n      } else if ($e.closest('[dir]').prop('dir')) {\n        this.options.dir = $e.closest('[dir]').prop('dir');\n      } else {\n        this.options.dir = 'ltr';\n      }\n    }\n\n    $e.prop('disabled', this.options.disabled);\n    $e.prop('multiple', this.options.multiple);\n\n    if ($e.data('select2Tags')) {\n      if (this.options.debug && window.console && console.warn) {\n        console.warn(\n          'Select2: The `data-select2-tags` attribute has been changed to ' +\n          'use the `data-data` and `data-tags=\"true\"` attributes and will be ' +\n          'removed in future versions of Select2.'\n        );\n      }\n\n      $e.data('data', $e.data('select2Tags'));\n      $e.data('tags', true);\n    }\n\n    if ($e.data('ajaxUrl')) {\n      if (this.options.debug && window.console && console.warn) {\n        console.warn(\n          'Select2: The `data-ajax-url` attribute has been changed to ' +\n          '`data-ajax--url` and support for the old attribute will be removed' +\n          ' in future versions of Select2.'\n        );\n      }\n\n      $e.attr('ajax--url', $e.data('ajaxUrl'));\n      $e.data('ajax--url', $e.data('ajaxUrl'));\n    }\n\n    var dataset = {};\n\n    // Prefer the element's `dataset` attribute if it exists\n    // jQuery 1.x does not correctly handle data attributes with multiple dashes\n    if ($.fn.jquery && $.fn.jquery.substr(0, 2) == '1.' && $e[0].dataset) {\n      dataset = $.extend(true, {}, $e[0].dataset, $e.data());\n    } else {\n      dataset = $e.data();\n    }\n\n    var data = $.extend(true, {}, dataset);\n\n    data = Utils._convertData(data);\n\n    for (var key in data) {\n      if ($.inArray(key, excludedData) > -1) {\n        continue;\n      }\n\n      if ($.isPlainObject(this.options[key])) {\n        $.extend(this.options[key], data[key]);\n      } else {\n        this.options[key] = data[key];\n      }\n    }\n\n    return this;\n  };\n\n  Options.prototype.get = function (key) {\n    return this.options[key];\n  };\n\n  Options.prototype.set = function (key, val) {\n    this.options[key] = val;\n  };\n\n  return Options;\n});\n\nS2.define('select2/core',[\n  'jquery',\n  './options',\n  './utils',\n  './keys'\n], function ($, Options, Utils, KEYS) {\n  var Select2 = function ($element, options) {\n    if ($element.data('select2') != null) {\n      $element.data('select2').destroy();\n    }\n\n    this.$element = $element;\n\n    this.id = this._generateId($element);\n\n    options = options || {};\n\n    this.options = new Options(options, $element);\n\n    Select2.__super__.constructor.call(this);\n\n    // Set up the tabindex\n\n    var tabindex = $element.attr('tabindex') || 0;\n    $element.data('old-tabindex', tabindex);\n    $element.attr('tabindex', '-1');\n\n    // Set up containers and adapters\n\n    var DataAdapter = this.options.get('dataAdapter');\n    this.dataAdapter = new DataAdapter($element, this.options);\n\n    var $container = this.render();\n\n    this._placeContainer($container);\n\n    var SelectionAdapter = this.options.get('selectionAdapter');\n    this.selection = new SelectionAdapter($element, this.options);\n    this.$selection = this.selection.render();\n\n    this.selection.position(this.$selection, $container);\n\n    var DropdownAdapter = this.options.get('dropdownAdapter');\n    this.dropdown = new DropdownAdapter($element, this.options);\n    this.$dropdown = this.dropdown.render();\n\n    this.dropdown.position(this.$dropdown, $container);\n\n    var ResultsAdapter = this.options.get('resultsAdapter');\n    this.results = new ResultsAdapter($element, this.options, this.dataAdapter);\n    this.$results = this.results.render();\n\n    this.results.position(this.$results, this.$dropdown);\n\n    // Bind events\n\n    var self = this;\n\n    // Bind the container to all of the adapters\n    this._bindAdapters();\n\n    // Register any DOM event handlers\n    this._registerDomEvents();\n\n    // Register any internal event handlers\n    this._registerDataEvents();\n    this._registerSelectionEvents();\n    this._registerDropdownEvents();\n    this._registerResultsEvents();\n    this._registerEvents();\n\n    // Set the initial state\n    this.dataAdapter.current(function (initialData) {\n      self.trigger('selection:update', {\n        data: initialData\n      });\n    });\n\n    // Hide the original select\n    $element.addClass('select2-hidden-accessible');\n\t$element.attr('aria-hidden', 'true');\n\t\n    // Synchronize any monitored attributes\n    this._syncAttributes();\n\n    $element.data('select2', this);\n  };\n\n  Utils.Extend(Select2, Utils.Observable);\n\n  Select2.prototype._generateId = function ($element) {\n    var id = '';\n\n    if ($element.attr('id') != null) {\n      id = $element.attr('id');\n    } else if ($element.attr('name') != null) {\n      id = $element.attr('name') + '-' + Utils.generateChars(2);\n    } else {\n      id = Utils.generateChars(4);\n    }\n\n    id = 'select2-' + id;\n\n    return id;\n  };\n\n  Select2.prototype._placeContainer = function ($container) {\n    $container.insertAfter(this.$element);\n\n    var width = this._resolveWidth(this.$element, this.options.get('width'));\n\n    if (width != null) {\n      $container.css('width', width);\n    }\n  };\n\n  Select2.prototype._resolveWidth = function ($element, method) {\n    var WIDTH = /^width:(([-+]?([0-9]*\\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;\n\n    if (method == 'resolve') {\n      var styleWidth = this._resolveWidth($element, 'style');\n\n      if (styleWidth != null) {\n        return styleWidth;\n      }\n\n      return this._resolveWidth($element, 'element');\n    }\n\n    if (method == 'element') {\n      var elementWidth = $element.outerWidth(false);\n\n      if (elementWidth <= 0) {\n        return 'auto';\n      }\n\n      return elementWidth + 'px';\n    }\n\n    if (method == 'style') {\n      var style = $element.attr('style');\n\n      if (typeof(style) !== 'string') {\n        return null;\n      }\n\n      var attrs = style.split(';');\n\n      for (var i = 0, l = attrs.length; i < l; i = i + 1) {\n        var attr = attrs[i].replace(/\\s/g, '');\n        var matches = attr.match(WIDTH);\n\n        if (matches !== null && matches.length >= 1) {\n          return matches[1];\n        }\n      }\n\n      return null;\n    }\n\n    return method;\n  };\n\n  Select2.prototype._bindAdapters = function () {\n    this.dataAdapter.bind(this, this.$container);\n    this.selection.bind(this, this.$container);\n\n    this.dropdown.bind(this, this.$container);\n    this.results.bind(this, this.$container);\n  };\n\n  Select2.prototype._registerDomEvents = function () {\n    var self = this;\n\n    this.$element.on('change.select2', function () {\n      self.dataAdapter.current(function (data) {\n        self.trigger('selection:update', {\n          data: data\n        });\n      });\n    });\n\n    this._sync = Utils.bind(this._syncAttributes, this);\n\n    if (this.$element[0].attachEvent) {\n      this.$element[0].attachEvent('onpropertychange', this._sync);\n    }\n\n    var observer = window.MutationObserver ||\n      window.WebKitMutationObserver ||\n      window.MozMutationObserver\n    ;\n\n    if (observer != null) {\n      this._observer = new observer(function (mutations) {\n        $.each(mutations, self._sync);\n      });\n      this._observer.observe(this.$element[0], {\n        attributes: true,\n        subtree: false\n      });\n    } else if (this.$element[0].addEventListener) {\n      this.$element[0].addEventListener('DOMAttrModified', self._sync, false);\n    }\n  };\n\n  Select2.prototype._registerDataEvents = function () {\n    var self = this;\n\n    this.dataAdapter.on('*', function (name, params) {\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerSelectionEvents = function () {\n    var self = this;\n    var nonRelayEvents = ['toggle'];\n\n    this.selection.on('toggle', function () {\n      self.toggleDropdown();\n    });\n\n    this.selection.on('*', function (name, params) {\n      if ($.inArray(name, nonRelayEvents) !== -1) {\n        return;\n      }\n\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerDropdownEvents = function () {\n    var self = this;\n\n    this.dropdown.on('*', function (name, params) {\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerResultsEvents = function () {\n    var self = this;\n\n    this.results.on('*', function (name, params) {\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerEvents = function () {\n    var self = this;\n\n    this.on('open', function () {\n      self.$container.addClass('select2-container--open');\n    });\n\n    this.on('close', function () {\n      self.$container.removeClass('select2-container--open');\n    });\n\n    this.on('enable', function () {\n      self.$container.removeClass('select2-container--disabled');\n    });\n\n    this.on('disable', function () {\n      self.$container.addClass('select2-container--disabled');\n    });\n\n    this.on('focus', function () {\n      self.$container.addClass('select2-container--focus');\n    });\n\n    this.on('blur', function () {\n      self.$container.removeClass('select2-container--focus');\n    });\n\n    this.on('query', function (params) {\n      if (!self.isOpen()) {\n        self.trigger('open');\n      }\n\n      this.dataAdapter.query(params, function (data) {\n        self.trigger('results:all', {\n          data: data,\n          query: params\n        });\n      });\n    });\n\n    this.on('query:append', function (params) {\n      this.dataAdapter.query(params, function (data) {\n        self.trigger('results:append', {\n          data: data,\n          query: params\n        });\n      });\n    });\n\n    this.on('keypress', function (evt) {\n      var key = evt.which;\n\n      if (self.isOpen()) {\n        if (key === KEYS.ENTER) {\n          self.trigger('results:select');\n\n          evt.preventDefault();\n        } else if ((key === KEYS.SPACE && evt.ctrlKey)) {\n          self.trigger('results:toggle');\n\n          evt.preventDefault();\n        } else if (key === KEYS.UP) {\n          self.trigger('results:previous');\n\n          evt.preventDefault();\n        } else if (key === KEYS.DOWN) {\n          self.trigger('results:next');\n\n          evt.preventDefault();\n        } else if (key === KEYS.ESC || key === KEYS.TAB) {\n          self.close();\n\n          evt.preventDefault();\n        }\n      } else {\n        if (key === KEYS.ENTER || key === KEYS.SPACE ||\n            ((key === KEYS.DOWN || key === KEYS.UP) && evt.altKey)) {\n          self.open();\n\n          evt.preventDefault();\n        }\n      }\n    });\n  };\n\n  Select2.prototype._syncAttributes = function () {\n    this.options.set('disabled', this.$element.prop('disabled'));\n\n    if (this.options.get('disabled')) {\n      if (this.isOpen()) {\n        this.close();\n      }\n\n      this.trigger('disable');\n    } else {\n      this.trigger('enable');\n    }\n  };\n\n  /**\n   * Override the trigger method to automatically trigger pre-events when\n   * there are events that can be prevented.\n   */\n  Select2.prototype.trigger = function (name, args) {\n    var actualTrigger = Select2.__super__.trigger;\n    var preTriggerMap = {\n      'open': 'opening',\n      'close': 'closing',\n      'select': 'selecting',\n      'unselect': 'unselecting'\n    };\n\n    if (name in preTriggerMap) {\n      var preTriggerName = preTriggerMap[name];\n      var preTriggerArgs = {\n        prevented: false,\n        name: name,\n        args: args\n      };\n\n      actualTrigger.call(this, preTriggerName, preTriggerArgs);\n\n      if (preTriggerArgs.prevented) {\n        args.prevented = true;\n\n        return;\n      }\n    }\n\n    actualTrigger.call(this, name, args);\n  };\n\n  Select2.prototype.toggleDropdown = function () {\n    if (this.options.get('disabled')) {\n      return;\n    }\n\n    if (this.isOpen()) {\n      this.close();\n    } else {\n      this.open();\n    }\n  };\n\n  Select2.prototype.open = function () {\n    if (this.isOpen()) {\n      return;\n    }\n\n    this.trigger('query', {});\n\n    this.trigger('open');\n  };\n\n  Select2.prototype.close = function () {\n    if (!this.isOpen()) {\n      return;\n    }\n\n    this.trigger('close');\n  };\n\n  Select2.prototype.isOpen = function () {\n    return this.$container.hasClass('select2-container--open');\n  };\n\n  Select2.prototype.enable = function (args) {\n    if (this.options.get('debug') && window.console && console.warn) {\n      console.warn(\n        'Select2: The `select2(\"enable\")` method has been deprecated and will' +\n        ' be removed in later Select2 versions. Use $element.prop(\"disabled\")' +\n        ' instead.'\n      );\n    }\n\n    if (args == null || args.length === 0) {\n      args = [true];\n    }\n\n    var disabled = !args[0];\n\n    this.$element.prop('disabled', disabled);\n  };\n\n  Select2.prototype.data = function () {\n    if (this.options.get('debug') &&\n        arguments.length > 0 && window.console && console.warn) {\n      console.warn(\n        'Select2: Data can no longer be set using `select2(\"data\")`. You ' +\n        'should consider setting the value instead using `$element.val()`.'\n      );\n    }\n\n    var data = [];\n\n    this.dataAdapter.current(function (currentData) {\n      data = currentData;\n    });\n\n    return data;\n  };\n\n  Select2.prototype.val = function (args) {\n    if (this.options.get('debug') && window.console && console.warn) {\n      console.warn(\n        'Select2: The `select2(\"val\")` method has been deprecated and will be' +\n        ' removed in later Select2 versions. Use $element.val() instead.'\n      );\n    }\n\n    if (args == null || args.length === 0) {\n      return this.$element.val();\n    }\n\n    var newVal = args[0];\n\n    if ($.isArray(newVal)) {\n      newVal = $.map(newVal, function (obj) {\n        return obj.toString();\n      });\n    }\n\n    this.$element.val(newVal).trigger('change');\n  };\n\n  Select2.prototype.destroy = function () {\n    this.$container.remove();\n\n    if (this.$element[0].detachEvent) {\n      this.$element[0].detachEvent('onpropertychange', this._sync);\n    }\n\n    if (this._observer != null) {\n      this._observer.disconnect();\n      this._observer = null;\n    } else if (this.$element[0].removeEventListener) {\n      this.$element[0]\n        .removeEventListener('DOMAttrModified', this._sync, false);\n    }\n\n    this._sync = null;\n\n    this.$element.off('.select2');\n    this.$element.attr('tabindex', this.$element.data('old-tabindex'));\n\n    this.$element.removeClass('select2-hidden-accessible');\n\tthis.$element.attr('aria-hidden', 'false');\n    this.$element.removeData('select2');\n\n    this.dataAdapter.destroy();\n    this.selection.destroy();\n    this.dropdown.destroy();\n    this.results.destroy();\n\n    this.dataAdapter = null;\n    this.selection = null;\n    this.dropdown = null;\n    this.results = null;\n  };\n\n  Select2.prototype.render = function () {\n    var $container = $(\n      '<span class=\"select2 select2-container\">' +\n        '<span class=\"selection\"></span>' +\n        '<span class=\"dropdown-wrapper\" aria-hidden=\"true\"></span>' +\n      '</span>'\n    );\n\n    $container.attr('dir', this.options.get('dir'));\n\n    this.$container = $container;\n\n    this.$container.addClass('select2-container--' + this.options.get('theme'));\n\n    $container.data('element', this.$element);\n\n    return $container;\n  };\n\n  return Select2;\n});\n\nS2.define('jquery.select2',[\n  'jquery',\n  'require',\n\n  './select2/core',\n  './select2/defaults'\n], function ($, require, Select2, Defaults) {\n  // Force jQuery.mousewheel to be loaded if it hasn't already\n  require('jquery.mousewheel');\n\n  if ($.fn.select2 == null) {\n    // All methods that should return the element\n    var thisMethods = ['open', 'close', 'destroy'];\n\n    $.fn.select2 = function (options) {\n      options = options || {};\n\n      if (typeof options === 'object') {\n        this.each(function () {\n          var instanceOptions = $.extend({}, options, true);\n\n          var instance = new Select2($(this), instanceOptions);\n        });\n\n        return this;\n      } else if (typeof options === 'string') {\n        var instance = this.data('select2');\n\n        if (instance == null && window.console && console.error) {\n          console.error(\n            'The select2(\\'' + options + '\\') method was called on an ' +\n            'element that is not using Select2.'\n          );\n        }\n\n        var args = Array.prototype.slice.call(arguments, 1);\n\n        var ret = instance[options](args);\n\n        // Check if we should be returning `this`\n        if ($.inArray(options, thisMethods) > -1) {\n          return this;\n        }\n\n        return ret;\n      } else {\n        throw new Error('Invalid arguments for Select2: ' + options);\n      }\n    };\n  }\n\n  if ($.fn.select2.defaults == null) {\n    $.fn.select2.defaults = Defaults;\n  }\n\n  return Select2;\n});\n\nS2.define('jquery.mousewheel',[\n  'jquery'\n], function ($) {\n  // Used to shim jQuery.mousewheel for non-full builds.\n  return $;\n});\n\n  // Return the AMD loader configuration so it can be used outside of this file\n  return {\n    define: S2.define,\n    require: S2.require\n  };\n}());\n\n  // Autoload the jQuery bindings\n  // We know that all of the modules exist above this, so we're safe\n  var select2 = S2.require('jquery.select2');\n\n  // Hold the AMD module references on the jQuery function that was just loaded\n  // This allows Select2 to use the internal loader outside of this file, such\n  // as in the language files.\n  jQuery.fn.select2.amd = S2;\n\n  // Return the Select2 instance for anyone who is importing it.\n  return select2;\n}));\n\n(function($){\n\n\t/**\n\t * Copyright 2012, Digital Fusion\n\t * Licensed under the MIT license.\n\t * http://teamdf.com/jquery-plugins/license/\n\t *\n\t * @author Sam Sehnert\n\t * @desc A small plugin that checks whether elements are within\n\t *\t\t the user visible viewport of a web browser.\n\t *\t\t only accounts for vertical position, not horizontal.\n\t */\n\t$.fn.visible = function(partial,hidden){\n\t\t\n\t    var $t\t\t\t\t= $(this).eq(0),\n\t    \tt\t\t\t\t= $t.get(0),\n\t    \t$w\t\t\t\t= $(window),\n\t    \tviewTop\t\t\t= $w.scrollTop(),\n\t    \tviewBottom\t\t= viewTop + $w.height(),\n\t    \t_top\t\t\t= $t.offset().top,\n\t    \t_bottom\t\t\t= _top + $t.height(),\n\t    \tcompareTop\t\t= partial === true ? _bottom : _top,\n\t    \tcompareBottom\t= partial === true ? _top : _bottom,\n\t    \tclientSize\t\t= hidden === true ? t.offsetWidth * t.offsetHeight : true;\n\t\t\n\t\treturn !!clientSize && ((compareBottom <= viewBottom) && (compareTop >= viewTop));\n    };\n    \n})(jQuery);\n/**\n * bootbox.js [v4.4.0]\n *\n * http://bootboxjs.com/license.txt\n */\n\n// @see https://github.com/makeusabrew/bootbox/issues/180\n// @see https://github.com/makeusabrew/bootbox/issues/186\n(function (root, factory) {\n\n  \"use strict\";\n  if (typeof define === \"function\" && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([\"jquery\"], factory);\n  } else if (typeof exports === \"object\") {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory(require(\"jquery\"));\n  } else {\n    // Browser globals (root is window)\n    root.bootbox = factory(root.jQuery);\n  }\n\n}(this, function init($, undefined) {\n\n  \"use strict\";\n\n  // the base DOM structure needed to create a modal\n  var templates = {\n    dialog:\n      \"<div class='bootbox modal' tabindex='-1' role='dialog'>\" +\n        \"<div class='modal-dialog'>\" +\n          \"<div class='modal-content'>\" +\n            \"<div class='modal-body'><div class='bootbox-body'></div></div>\" +\n          \"</div>\" +\n        \"</div>\" +\n      \"</div>\",\n    header:\n      \"<div class='modal-header'>\" +\n        \"<h4 class='modal-title'></h4>\" +\n      \"</div>\",\n    footer:\n      \"<div class='modal-footer'></div>\",\n    closeButton:\n      \"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>\",\n    form:\n      \"<form class='bootbox-form'></form>\",\n    inputs: {\n      text:\n        \"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />\",\n      textarea:\n        \"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>\",\n      email:\n        \"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />\",\n      select:\n        \"<select class='bootbox-input bootbox-input-select form-control'></select>\",\n      checkbox:\n        \"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>\",\n      date:\n        \"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />\",\n      time:\n        \"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />\",\n      number:\n        \"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />\",\n      password:\n        \"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />\"\n    }\n  };\n\n  var defaults = {\n    // default language\n    locale: \"en\",\n    // show backdrop or not. Default to static so user has to interact with dialog\n    backdrop: \"static\",\n    // animate the modal in/out\n    animate: true,\n    // additional class string applied to the top level dialog\n    className: null,\n    // whether or not to include a close button\n    closeButton: true,\n    // show the dialog immediately by default\n    show: true,\n    // dialog container\n    container: \"body\"\n  };\n\n  // our public object; augmented after our private API\n  var exports = {};\n\n  /**\n   * @private\n   */\n  function _t(key) {\n    var locale = locales[defaults.locale];\n    return locale ? locale[key] : locales.en[key];\n  }\n\n  function processCallback(e, dialog, callback) {\n    e.stopPropagation();\n    e.preventDefault();\n\n    // by default we assume a callback will get rid of the dialog,\n    // although it is given the opportunity to override this\n\n    // so, if the callback can be invoked and it *explicitly returns false*\n    // then we'll set a flag to keep the dialog active...\n    var preserveDialog = $.isFunction(callback) && callback.call(dialog, e) === false;\n\n    // ... otherwise we'll bin it\n    if (!preserveDialog) {\n      dialog.modal(\"hide\");\n    }\n  }\n\n  function getKeyLength(obj) {\n    // @TODO defer to Object.keys(x).length if available?\n    var k, t = 0;\n    for (k in obj) {\n      t ++;\n    }\n    return t;\n  }\n\n  function each(collection, iterator) {\n    var index = 0;\n    $.each(collection, function(key, value) {\n      iterator(key, value, index++);\n    });\n  }\n\n  function sanitize(options) {\n    var buttons;\n    var total;\n\n    if (typeof options !== \"object\") {\n      throw new Error(\"Please supply an object of options\");\n    }\n\n    if (!options.message) {\n      throw new Error(\"Please specify a message\");\n    }\n\n    // make sure any supplied options take precedence over defaults\n    options = $.extend({}, defaults, options);\n\n    if (!options.buttons) {\n      options.buttons = {};\n    }\n\n    buttons = options.buttons;\n\n    total = getKeyLength(buttons);\n\n    each(buttons, function(key, button, index) {\n\n      if ($.isFunction(button)) {\n        // short form, assume value is our callback. Since button\n        // isn't an object it isn't a reference either so re-assign it\n        button = buttons[key] = {\n          callback: button\n        };\n      }\n\n      // before any further checks make sure by now button is the correct type\n      if ($.type(button) !== \"object\") {\n        throw new Error(\"button with key \" + key + \" must be an object\");\n      }\n\n      if (!button.label) {\n        // the lack of an explicit label means we'll assume the key is good enough\n        button.label = key;\n      }\n\n      if (!button.className) {\n        if (total <= 2 && index === total-1) {\n          // always add a primary to the main option in a two-button dialog\n          button.className = \"btn-primary\";\n        } else {\n          button.className = \"btn-default\";\n        }\n      }\n    });\n\n    return options;\n  }\n\n  /**\n   * map a flexible set of arguments into a single returned object\n   * if args.length is already one just return it, otherwise\n   * use the properties argument to map the unnamed args to\n   * object properties\n   * so in the latter case:\n   * mapArguments([\"foo\", $.noop], [\"message\", \"callback\"])\n   * -> { message: \"foo\", callback: $.noop }\n   */\n  function mapArguments(args, properties) {\n    var argn = args.length;\n    var options = {};\n\n    if (argn < 1 || argn > 2) {\n      throw new Error(\"Invalid argument length\");\n    }\n\n    if (argn === 2 || typeof args[0] === \"string\") {\n      options[properties[0]] = args[0];\n      options[properties[1]] = args[1];\n    } else {\n      options = args[0];\n    }\n\n    return options;\n  }\n\n  /**\n   * merge a set of default dialog options with user supplied arguments\n   */\n  function mergeArguments(defaults, args, properties) {\n    return $.extend(\n      // deep merge\n      true,\n      // ensure the target is an empty, unreferenced object\n      {},\n      // the base options object for this type of dialog (often just buttons)\n      defaults,\n      // args could be an object or array; if it's an array properties will\n      // map it to a proper options object\n      mapArguments(\n        args,\n        properties\n      )\n    );\n  }\n\n  /**\n   * this entry-level method makes heavy use of composition to take a simple\n   * range of inputs and return valid options suitable for passing to bootbox.dialog\n   */\n  function mergeDialogOptions(className, labels, properties, args) {\n    //  build up a base set of dialog properties\n    var baseOptions = {\n      className: \"bootbox-\" + className,\n      buttons: createLabels.apply(null, labels)\n    };\n\n    // ensure the buttons properties generated, *after* merging\n    // with user args are still valid against the supplied labels\n    return validateButtons(\n      // merge the generated base properties with user supplied arguments\n      mergeArguments(\n        baseOptions,\n        args,\n        // if args.length > 1, properties specify how each arg maps to an object key\n        properties\n      ),\n      labels\n    );\n  }\n\n  /**\n   * from a given list of arguments return a suitable object of button labels\n   * all this does is normalise the given labels and translate them where possible\n   * e.g. \"ok\", \"confirm\" -> { ok: \"OK, cancel: \"Annuleren\" }\n   */\n  function createLabels() {\n    var buttons = {};\n\n    for (var i = 0, j = arguments.length; i < j; i++) {\n      var argument = arguments[i];\n      var key = argument.toLowerCase();\n      var value = argument.toUpperCase();\n\n      buttons[key] = {\n        label: _t(value)\n      };\n    }\n\n    return buttons;\n  }\n\n  function validateButtons(options, buttons) {\n    var allowedButtons = {};\n    each(buttons, function(key, value) {\n      allowedButtons[value] = true;\n    });\n\n    each(options.buttons, function(key) {\n      if (allowedButtons[key] === undefined) {\n        throw new Error(\"button key \" + key + \" is not allowed (options are \" + buttons.join(\"\\n\") + \")\");\n      }\n    });\n\n    return options;\n  }\n\n  exports.alert = function() {\n    var options;\n\n    options = mergeDialogOptions(\"alert\", [\"ok\"], [\"message\", \"callback\"], arguments);\n\n    if (options.callback && !$.isFunction(options.callback)) {\n      throw new Error(\"alert requires callback property to be a function when provided\");\n    }\n\n    /**\n     * overrides\n     */\n    options.buttons.ok.callback = options.onEscape = function() {\n      if ($.isFunction(options.callback)) {\n        return options.callback.call(this);\n      }\n      return true;\n    };\n\n    return exports.dialog(options);\n  };\n\n  exports.confirm = function() {\n    var options;\n\n    options = mergeDialogOptions(\"confirm\", [\"cancel\", \"confirm\"], [\"message\", \"callback\"], arguments);\n\n    /**\n     * overrides; undo anything the user tried to set they shouldn't have\n     */\n    options.buttons.cancel.callback = options.onEscape = function() {\n      return options.callback.call(this, false);\n    };\n\n    options.buttons.confirm.callback = function() {\n      return options.callback.call(this, true);\n    };\n\n    // confirm specific validation\n    if (!$.isFunction(options.callback)) {\n      throw new Error(\"confirm requires a callback\");\n    }\n\n    return exports.dialog(options);\n  };\n\n  exports.prompt = function() {\n    var options;\n    var defaults;\n    var dialog;\n    var form;\n    var input;\n    var shouldShow;\n    var inputOptions;\n\n    // we have to create our form first otherwise\n    // its value is undefined when gearing up our options\n    // @TODO this could be solved by allowing message to\n    // be a function instead...\n    form = $(templates.form);\n\n    // prompt defaults are more complex than others in that\n    // users can override more defaults\n    // @TODO I don't like that prompt has to do a lot of heavy\n    // lifting which mergeDialogOptions can *almost* support already\n    // just because of 'value' and 'inputType' - can we refactor?\n    defaults = {\n      className: \"bootbox-prompt\",\n      buttons: createLabels(\"cancel\", \"confirm\"),\n      value: \"\",\n      inputType: \"text\"\n    };\n\n    options = validateButtons(\n      mergeArguments(defaults, arguments, [\"title\", \"callback\"]),\n      [\"cancel\", \"confirm\"]\n    );\n\n    // capture the user's show value; we always set this to false before\n    // spawning the dialog to give us a chance to attach some handlers to\n    // it, but we need to make sure we respect a preference not to show it\n    shouldShow = (options.show === undefined) ? true : options.show;\n\n    /**\n     * overrides; undo anything the user tried to set they shouldn't have\n     */\n    options.message = form;\n\n    options.buttons.cancel.callback = options.onEscape = function() {\n      return options.callback.call(this, null);\n    };\n\n    options.buttons.confirm.callback = function() {\n      var value;\n\n      switch (options.inputType) {\n        case \"text\":\n        case \"textarea\":\n        case \"email\":\n        case \"select\":\n        case \"date\":\n        case \"time\":\n        case \"number\":\n        case \"password\":\n          value = input.val();\n          break;\n\n        case \"checkbox\":\n          var checkedItems = input.find(\"input:checked\");\n\n          // we assume that checkboxes are always multiple,\n          // hence we default to an empty array\n          value = [];\n\n          each(checkedItems, function(_, item) {\n            value.push($(item).val());\n          });\n          break;\n      }\n\n      return options.callback.call(this, value);\n    };\n\n    options.show = false;\n\n    // prompt specific validation\n    if (!options.title) {\n      throw new Error(\"prompt requires a title\");\n    }\n\n    if (!$.isFunction(options.callback)) {\n      throw new Error(\"prompt requires a callback\");\n    }\n\n    if (!templates.inputs[options.inputType]) {\n      throw new Error(\"invalid prompt type\");\n    }\n\n    // create the input based on the supplied type\n    input = $(templates.inputs[options.inputType]);\n\n    switch (options.inputType) {\n      case \"text\":\n      case \"textarea\":\n      case \"email\":\n      case \"date\":\n      case \"time\":\n      case \"number\":\n      case \"password\":\n        input.val(options.value);\n        break;\n\n      case \"select\":\n        var groups = {};\n        inputOptions = options.inputOptions || [];\n\n        if (!$.isArray(inputOptions)) {\n          throw new Error(\"Please pass an array of input options\");\n        }\n\n        if (!inputOptions.length) {\n          throw new Error(\"prompt with select requires options\");\n        }\n\n        each(inputOptions, function(_, option) {\n\n          // assume the element to attach to is the input...\n          var elem = input;\n\n          if (option.value === undefined || option.text === undefined) {\n            throw new Error(\"given options in wrong format\");\n          }\n\n          // ... but override that element if this option sits in a group\n\n          if (option.group) {\n            // initialise group if necessary\n            if (!groups[option.group]) {\n              groups[option.group] = $(\"<optgroup/>\").attr(\"label\", option.group);\n            }\n\n            elem = groups[option.group];\n          }\n\n          elem.append(\"<option value='\" + option.value + \"'>\" + option.text + \"</option>\");\n        });\n\n        each(groups, function(_, group) {\n          input.append(group);\n        });\n\n        // safe to set a select's value as per a normal input\n        input.val(options.value);\n        break;\n\n      case \"checkbox\":\n        var values   = $.isArray(options.value) ? options.value : [options.value];\n        inputOptions = options.inputOptions || [];\n\n        if (!inputOptions.length) {\n          throw new Error(\"prompt with checkbox requires options\");\n        }\n\n        if (!inputOptions[0].value || !inputOptions[0].text) {\n          throw new Error(\"given options in wrong format\");\n        }\n\n        // checkboxes have to nest within a containing element, so\n        // they break the rules a bit and we end up re-assigning\n        // our 'input' element to this container instead\n        input = $(\"<div/>\");\n\n        each(inputOptions, function(_, option) {\n          var checkbox = $(templates.inputs[options.inputType]);\n\n          checkbox.find(\"input\").attr(\"value\", option.value);\n          checkbox.find(\"label\").append(option.text);\n\n          // we've ensured values is an array so we can always iterate over it\n          each(values, function(_, value) {\n            if (value === option.value) {\n              checkbox.find(\"input\").prop(\"checked\", true);\n            }\n          });\n\n          input.append(checkbox);\n        });\n        break;\n    }\n\n    // @TODO provide an attributes option instead\n    // and simply map that as keys: vals\n    if (options.placeholder) {\n      input.attr(\"placeholder\", options.placeholder);\n    }\n\n    if (options.pattern) {\n      input.attr(\"pattern\", options.pattern);\n    }\n\n    if (options.maxlength) {\n      input.attr(\"maxlength\", options.maxlength);\n    }\n\n    // now place it in our form\n    form.append(input);\n\n    form.on(\"submit\", function(e) {\n      e.preventDefault();\n      // Fix for SammyJS (or similar JS routing library) hijacking the form post.\n      e.stopPropagation();\n      // @TODO can we actually click *the* button object instead?\n      // e.g. buttons.confirm.click() or similar\n      dialog.find(\".btn-primary\").click();\n    });\n\n    dialog = exports.dialog(options);\n\n    // clear the existing handler focusing the submit button...\n    dialog.off(\"shown.bs.modal\");\n\n    // ...and replace it with one focusing our input, if possible\n    dialog.on(\"shown.bs.modal\", function() {\n      // need the closure here since input isn't\n      // an object otherwise\n      input.focus();\n    });\n\n    if (shouldShow === true) {\n      dialog.modal(\"show\");\n    }\n\n    return dialog;\n  };\n\n  exports.dialog = function(options) {\n    options = sanitize(options);\n\n    var dialog = $(templates.dialog);\n    var innerDialog = dialog.find(\".modal-dialog\");\n    var body = dialog.find(\".modal-body\");\n    var buttons = options.buttons;\n    var buttonStr = \"\";\n    var callbacks = {\n      onEscape: options.onEscape\n    };\n\n    if ($.fn.modal === undefined) {\n      throw new Error(\n        \"$.fn.modal is not defined; please double check you have included \" +\n        \"the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ \" +\n        \"for more details.\"\n      );\n    }\n\n    each(buttons, function(key, button) {\n\n      // @TODO I don't like this string appending to itself; bit dirty. Needs reworking\n      // can we just build up button elements instead? slower but neater. Then button\n      // can just become a template too\n      buttonStr += \"<button data-bb-handler='\" + key + \"' type='button' class='btn \" + button.className + \"'>\" + button.label + \"</button>\";\n      callbacks[key] = button.callback;\n    });\n\n    body.find(\".bootbox-body\").html(options.message);\n\n    if (options.animate === true) {\n      dialog.addClass(\"fade\");\n    }\n\n    if (options.className) {\n      dialog.addClass(options.className);\n    }\n\n    if (options.size === \"large\") {\n      innerDialog.addClass(\"modal-lg\");\n    } else if (options.size === \"small\") {\n      innerDialog.addClass(\"modal-sm\");\n    }\n\n    if (options.title) {\n      body.before(templates.header);\n    }\n\n    if (options.closeButton) {\n      var closeButton = $(templates.closeButton);\n\n      if (options.title) {\n        dialog.find(\".modal-header\").prepend(closeButton);\n      } else {\n        closeButton.css(\"margin-top\", \"-10px\").prependTo(body);\n      }\n    }\n\n    if (options.title) {\n      dialog.find(\".modal-title\").html(options.title);\n    }\n\n    if (buttonStr.length) {\n      body.after(templates.footer);\n      dialog.find(\".modal-footer\").html(buttonStr);\n    }\n\n\n    /**\n     * Bootstrap event listeners; used handle extra\n     * setup & teardown required after the underlying\n     * modal has performed certain actions\n     */\n\n    dialog.on(\"hidden.bs.modal\", function(e) {\n      // ensure we don't accidentally intercept hidden events triggered\n      // by children of the current dialog. We shouldn't anymore now BS\n      // namespaces its events; but still worth doing\n      if (e.target === this) {\n        dialog.remove();\n      }\n    });\n\n    /*\n    dialog.on(\"show.bs.modal\", function() {\n      // sadly this doesn't work; show is called *just* before\n      // the backdrop is added so we'd need a setTimeout hack or\n      // otherwise... leaving in as would be nice\n      if (options.backdrop) {\n        dialog.next(\".modal-backdrop\").addClass(\"bootbox-backdrop\");\n      }\n    });\n    */\n\n    dialog.on(\"shown.bs.modal\", function() {\n      dialog.find(\".btn-primary:first\").focus();\n    });\n\n    /**\n     * Bootbox event listeners; experimental and may not last\n     * just an attempt to decouple some behaviours from their\n     * respective triggers\n     */\n\n    if (options.backdrop !== \"static\") {\n      // A boolean true/false according to the Bootstrap docs\n      // should show a dialog the user can dismiss by clicking on\n      // the background.\n      // We always only ever pass static/false to the actual\n      // $.modal function because with `true` we can't trap\n      // this event (the .modal-backdrop swallows it)\n      // However, we still want to sort of respect true\n      // and invoke the escape mechanism instead\n      dialog.on(\"click.dismiss.bs.modal\", function(e) {\n        // @NOTE: the target varies in >= 3.3.x releases since the modal backdrop\n        // moved *inside* the outer dialog rather than *alongside* it\n        if (dialog.children(\".modal-backdrop\").length) {\n          e.currentTarget = dialog.children(\".modal-backdrop\").get(0);\n        }\n\n        if (e.target !== e.currentTarget) {\n          return;\n        }\n\n        dialog.trigger(\"escape.close.bb\");\n      });\n    }\n\n    dialog.on(\"escape.close.bb\", function(e) {\n      if (callbacks.onEscape) {\n        processCallback(e, dialog, callbacks.onEscape);\n      }\n    });\n\n    /**\n     * Standard jQuery event listeners; used to handle user\n     * interaction with our dialog\n     */\n\n    dialog.on(\"click\", \".modal-footer button\", function(e) {\n      var callbackKey = $(this).data(\"bb-handler\");\n\n      processCallback(e, dialog, callbacks[callbackKey]);\n    });\n\n    dialog.on(\"click\", \".bootbox-close-button\", function(e) {\n      // onEscape might be falsy but that's fine; the fact is\n      // if the user has managed to click the close button we\n      // have to close the dialog, callback or not\n      processCallback(e, dialog, callbacks.onEscape);\n    });\n\n    dialog.on(\"keyup\", function(e) {\n      if (e.which === 27) {\n        dialog.trigger(\"escape.close.bb\");\n      }\n    });\n\n    // the remainder of this method simply deals with adding our\n    // dialogent to the DOM, augmenting it with Bootstrap's modal\n    // functionality and then giving the resulting object back\n    // to our caller\n\n    $(options.container).append(dialog);\n\n    dialog.modal({\n      backdrop: options.backdrop ? \"static\": false,\n      keyboard: false,\n      show: false\n    });\n\n    if (options.show) {\n      dialog.modal(\"show\");\n    }\n\n    // @TODO should we return the raw element here or should\n    // we wrap it in an object on which we can expose some neater\n    // methods, e.g. var d = bootbox.alert(); d.hide(); instead\n    // of d.modal(\"hide\");\n\n   /*\n    function BBDialog(elem) {\n      this.elem = elem;\n    }\n\n    BBDialog.prototype = {\n      hide: function() {\n        return this.elem.modal(\"hide\");\n      },\n      show: function() {\n        return this.elem.modal(\"show\");\n      }\n    };\n    */\n\n    return dialog;\n\n  };\n\n  exports.setDefaults = function() {\n    var values = {};\n\n    if (arguments.length === 2) {\n      // allow passing of single key/value...\n      values[arguments[0]] = arguments[1];\n    } else {\n      // ... and as an object too\n      values = arguments[0];\n    }\n\n    $.extend(defaults, values);\n  };\n\n  exports.hideAll = function() {\n    $(\".bootbox\").modal(\"hide\");\n\n    return exports;\n  };\n\n\n  /**\n   * standard locales. Please add more according to ISO 639-1 standard. Multiple language variants are\n   * unlikely to be required. If this gets too large it can be split out into separate JS files.\n   */\n  var locales = {\n    bg_BG : {\n      OK      : \"Ок\",\n      CANCEL  : \"Отказ\",\n      CONFIRM : \"Потвърждавам\"\n    },\n    br : {\n      OK      : \"OK\",\n      CANCEL  : \"Cancelar\",\n      CONFIRM : \"Sim\"\n    },\n    cs : {\n      OK      : \"OK\",\n      CANCEL  : \"Zrušit\",\n      CONFIRM : \"Potvrdit\"\n    },\n    da : {\n      OK      : \"OK\",\n      CANCEL  : \"Annuller\",\n      CONFIRM : \"Accepter\"\n    },\n    de : {\n      OK      : \"OK\",\n      CANCEL  : \"Abbrechen\",\n      CONFIRM : \"Akzeptieren\"\n    },\n    el : {\n      OK      : \"Εντάξει\",\n      CANCEL  : \"Ακύρωση\",\n      CONFIRM : \"Επιβεβαίωση\"\n    },\n    en : {\n      OK      : \"OK\",\n      CANCEL  : \"Cancel\",\n      CONFIRM : \"OK\"\n    },\n    es : {\n      OK      : \"OK\",\n      CANCEL  : \"Cancelar\",\n      CONFIRM : \"Aceptar\"\n    },\n    et : {\n      OK      : \"OK\",\n      CANCEL  : \"Katkesta\",\n      CONFIRM : \"OK\"\n    },\n    fa : {\n      OK      : \"قبول\",\n      CANCEL  : \"لغو\",\n      CONFIRM : \"تایید\"\n    },\n    fi : {\n      OK      : \"OK\",\n      CANCEL  : \"Peruuta\",\n      CONFIRM : \"OK\"\n    },\n    fr : {\n      OK      : \"OK\",\n      CANCEL  : \"Annuler\",\n      CONFIRM : \"D'accord\"\n    },\n    he : {\n      OK      : \"אישור\",\n      CANCEL  : \"ביטול\",\n      CONFIRM : \"אישור\"\n    },\n    hu : {\n      OK      : \"OK\",\n      CANCEL  : \"Mégsem\",\n      CONFIRM : \"Megerősít\"\n    },\n    hr : {\n      OK      : \"OK\",\n      CANCEL  : \"Odustani\",\n      CONFIRM : \"Potvrdi\"\n    },\n    id : {\n      OK      : \"OK\",\n      CANCEL  : \"Batal\",\n      CONFIRM : \"OK\"\n    },\n    it : {\n      OK      : \"OK\",\n      CANCEL  : \"Annulla\",\n      CONFIRM : \"Conferma\"\n    },\n    ja : {\n      OK      : \"OK\",\n      CANCEL  : \"キャンセル\",\n      CONFIRM : \"確認\"\n    },\n    lt : {\n      OK      : \"Gerai\",\n      CANCEL  : \"Atšaukti\",\n      CONFIRM : \"Patvirtinti\"\n    },\n    lv : {\n      OK      : \"Labi\",\n      CANCEL  : \"Atcelt\",\n      CONFIRM : \"Apstiprināt\"\n    },\n    nl : {\n      OK      : \"OK\",\n      CANCEL  : \"Annuleren\",\n      CONFIRM : \"Accepteren\"\n    },\n    no : {\n      OK      : \"OK\",\n      CANCEL  : \"Avbryt\",\n      CONFIRM : \"OK\"\n    },\n    pl : {\n      OK      : \"OK\",\n      CANCEL  : \"Anuluj\",\n      CONFIRM : \"Potwierdź\"\n    },\n    pt : {\n      OK      : \"OK\",\n      CANCEL  : \"Cancelar\",\n      CONFIRM : \"Confirmar\"\n    },\n    ru : {\n      OK      : \"OK\",\n      CANCEL  : \"Отмена\",\n      CONFIRM : \"Применить\"\n    },\n    sq : {\n      OK : \"OK\",\n      CANCEL : \"Anulo\",\n      CONFIRM : \"Prano\"\n    },\n    sv : {\n      OK      : \"OK\",\n      CANCEL  : \"Avbryt\",\n      CONFIRM : \"OK\"\n    },\n    th : {\n      OK      : \"ตกลง\",\n      CANCEL  : \"ยกเลิก\",\n      CONFIRM : \"ยืนยัน\"\n    },\n    tr : {\n      OK      : \"Tamam\",\n      CANCEL  : \"İptal\",\n      CONFIRM : \"Onayla\"\n    },\n    zh_CN : {\n      OK      : \"OK\",\n      CANCEL  : \"取消\",\n      CONFIRM : \"确认\"\n    },\n    zh_TW : {\n      OK      : \"OK\",\n      CANCEL  : \"取消\",\n      CONFIRM : \"確認\"\n    }\n  };\n\n  exports.addLocale = function(name, values) {\n    $.each([\"OK\", \"CANCEL\", \"CONFIRM\"], function(_, v) {\n      if (!values[v]) {\n        throw new Error(\"Please supply a translation for '\" + v + \"'\");\n      }\n    });\n\n    locales[name] = {\n      OK: values.OK,\n      CANCEL: values.CANCEL,\n      CONFIRM: values.CONFIRM\n    };\n\n    return exports;\n  };\n\n  exports.removeLocale = function(name) {\n    delete locales[name];\n\n    return exports;\n  };\n\n  exports.setLocale = function(name) {\n    return exports.setDefaults(\"locale\", name);\n  };\n\n  exports.init = function(_$) {\n    return init(_$ || $);\n  };\n\n  return exports;\n}));\n\n/*!\n * Chart.js\n * http://chartjs.org/\n * Version: 1.0.2\n *\n * Copyright 2015 Nick Downie\n * Released under the MIT license\n * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md\n */\n\n\n(function(){\n\n\t\"use strict\";\n\n\t//Declare root variable - window in the browser, global on the server\n\tvar root = this,\n\t\tprevious = root.Chart;\n\n\t//Occupy the global variable of Chart, and create a simple base class\n\tvar Chart = function(context){\n\t\tvar chart = this;\n\t\tthis.canvas = context.canvas;\n\n\t\tthis.ctx = context;\n\n\t\t//Variables global to the chart\n\t\tvar computeDimension = function(element,dimension)\n\t\t{\n\t\t\tif (element['offset'+dimension])\n\t\t\t{\n\t\t\t\treturn element['offset'+dimension];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn document.defaultView.getComputedStyle(element).getPropertyValue(dimension);\n\t\t\t}\n\t\t}\n\n\t\tvar width = this.width = computeDimension(context.canvas,'Width');\n\t\tvar height = this.height = computeDimension(context.canvas,'Height');\n\n\t\t// Firefox requires this to work correctly\n\t\tcontext.canvas.width  = width;\n\t\tcontext.canvas.height = height;\n\n\t\tvar width = this.width = context.canvas.width;\n\t\tvar height = this.height = context.canvas.height;\n\t\tthis.aspectRatio = this.width / this.height;\n\t\t//High pixel density displays - multiply the size of the canvas height/width by the device pixel ratio, then scale.\n\t\thelpers.retinaScale(this);\n\n\t\treturn this;\n\t};\n\t//Globally expose the defaults to allow for user updating/changing\n\tChart.defaults = {\n\t\tglobal: {\n\t\t\t// Boolean - Whether to animate the chart\n\t\t\tanimation: true,\n\n\t\t\t// Number - Number of animation steps\n\t\t\tanimationSteps: 60,\n\n\t\t\t// String - Animation easing effect\n\t\t\tanimationEasing: \"easeOutQuart\",\n\n\t\t\t// Boolean - If we should show the scale at all\n\t\t\tshowScale: true,\n\n\t\t\t// Boolean - If we want to override with a hard coded scale\n\t\t\tscaleOverride: false,\n\n\t\t\t// ** Required if scaleOverride is true **\n\t\t\t// Number - The number of steps in a hard coded scale\n\t\t\tscaleSteps: null,\n\t\t\t// Number - The value jump in the hard coded scale\n\t\t\tscaleStepWidth: null,\n\t\t\t// Number - The scale starting value\n\t\t\tscaleStartValue: null,\n\n\t\t\t// String - Colour of the scale line\n\t\t\tscaleLineColor: \"rgba(0,0,0,.1)\",\n\n\t\t\t// Number - Pixel width of the scale line\n\t\t\tscaleLineWidth: 1,\n\n\t\t\t// Boolean - Whether to show labels on the scale\n\t\t\tscaleShowLabels: true,\n\n\t\t\t// Interpolated JS string - can access value\n\t\t\tscaleLabel: \"<%=value%>\",\n\n\t\t\t// Boolean - Whether the scale should stick to integers, and not show any floats even if drawing space is there\n\t\t\tscaleIntegersOnly: true,\n\n\t\t\t// Boolean - Whether the scale should start at zero, or an order of magnitude down from the lowest value\n\t\t\tscaleBeginAtZero: false,\n\n\t\t\t// String - Scale label font declaration for the scale label\n\t\t\tscaleFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n\n\t\t\t// Number - Scale label font size in pixels\n\t\t\tscaleFontSize: 12,\n\n\t\t\t// String - Scale label font weight style\n\t\t\tscaleFontStyle: \"normal\",\n\n\t\t\t// String - Scale label font colour\n\t\t\tscaleFontColor: \"#666\",\n\n\t\t\t// Boolean - whether or not the chart should be responsive and resize when the browser does.\n\t\t\tresponsive: false,\n\n\t\t\t// Boolean - whether to maintain the starting aspect ratio or not when responsive, if set to false, will take up entire container\n\t\t\tmaintainAspectRatio: true,\n\n\t\t\t// Boolean - Determines whether to draw tooltips on the canvas or not - attaches events to touchmove & mousemove\n\t\t\tshowTooltips: true,\n\n\t\t\t// Boolean - Determines whether to draw built-in tooltip or call custom tooltip function\n\t\t\tcustomTooltips: false,\n\n\t\t\t// Array - Array of string names to attach tooltip events\n\t\t\ttooltipEvents: [\"mousemove\", \"touchstart\", \"touchmove\", \"mouseout\"],\n\n\t\t\t// String - Tooltip background colour\n\t\t\ttooltipFillColor: \"rgba(0,0,0,0.8)\",\n\n\t\t\t// String - Tooltip label font declaration for the scale label\n\t\t\ttooltipFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n\n\t\t\t// Number - Tooltip label font size in pixels\n\t\t\ttooltipFontSize: 14,\n\n\t\t\t// String - Tooltip font weight style\n\t\t\ttooltipFontStyle: \"normal\",\n\n\t\t\t// String - Tooltip label font colour\n\t\t\ttooltipFontColor: \"#fff\",\n\n\t\t\t// String - Tooltip title font declaration for the scale label\n\t\t\ttooltipTitleFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n\n\t\t\t// Number - Tooltip title font size in pixels\n\t\t\ttooltipTitleFontSize: 14,\n\n\t\t\t// String - Tooltip title font weight style\n\t\t\ttooltipTitleFontStyle: \"bold\",\n\n\t\t\t// String - Tooltip title font colour\n\t\t\ttooltipTitleFontColor: \"#fff\",\n\n\t\t\t// Number - pixel width of padding around tooltip text\n\t\t\ttooltipYPadding: 6,\n\n\t\t\t// Number - pixel width of padding around tooltip text\n\t\t\ttooltipXPadding: 6,\n\n\t\t\t// Number - Size of the caret on the tooltip\n\t\t\ttooltipCaretSize: 8,\n\n\t\t\t// Number - Pixel radius of the tooltip border\n\t\t\ttooltipCornerRadius: 6,\n\n\t\t\t// Number - Pixel offset from point x to tooltip edge\n\t\t\ttooltipXOffset: 10,\n\n\t\t\t// String - Template string for single tooltips\n\t\t\ttooltipTemplate: \"<%if (label){%><%=label%>: <%}%><%= value %>\",\n\n\t\t\t// String - Template string for single tooltips\n\t\t\tmultiTooltipTemplate: \"<%= value %>\",\n\n\t\t\t// String - Colour behind the legend colour block\n\t\t\tmultiTooltipKeyBackground: '#fff',\n\n\t\t\t// Function - Will fire on animation progression.\n\t\t\tonAnimationProgress: function(){},\n\n\t\t\t// Function - Will fire on animation completion.\n\t\t\tonAnimationComplete: function(){}\n\n\t\t}\n\t};\n\n\t//Create a dictionary of chart types, to allow for extension of existing types\n\tChart.types = {};\n\n\t//Global Chart helpers object for utility methods and classes\n\tvar helpers = Chart.helpers = {};\n\n\t\t//-- Basic js utility methods\n\tvar each = helpers.each = function(loopable,callback,self){\n\t\t\tvar additionalArgs = Array.prototype.slice.call(arguments, 3);\n\t\t\t// Check to see if null or undefined firstly.\n\t\t\tif (loopable){\n\t\t\t\tif (loopable.length === +loopable.length){\n\t\t\t\t\tvar i;\n\t\t\t\t\tfor (i=0; i<loopable.length; i++){\n\t\t\t\t\t\tcallback.apply(self,[loopable[i], i].concat(additionalArgs));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tfor (var item in loopable){\n\t\t\t\t\t\tcallback.apply(self,[loopable[item],item].concat(additionalArgs));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tclone = helpers.clone = function(obj){\n\t\t\tvar objClone = {};\n\t\t\teach(obj,function(value,key){\n\t\t\t\tif (obj.hasOwnProperty(key)) objClone[key] = value;\n\t\t\t});\n\t\t\treturn objClone;\n\t\t},\n\t\textend = helpers.extend = function(base){\n\t\t\teach(Array.prototype.slice.call(arguments,1), function(extensionObject) {\n\t\t\t\teach(extensionObject,function(value,key){\n\t\t\t\t\tif (extensionObject.hasOwnProperty(key)) base[key] = value;\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn base;\n\t\t},\n\t\tmerge = helpers.merge = function(base,master){\n\t\t\t//Merge properties in left object over to a shallow clone of object right.\n\t\t\tvar args = Array.prototype.slice.call(arguments,0);\n\t\t\targs.unshift({});\n\t\t\treturn extend.apply(null, args);\n\t\t},\n\t\tindexOf = helpers.indexOf = function(arrayToSearch, item){\n\t\t\tif (Array.prototype.indexOf) {\n\t\t\t\treturn arrayToSearch.indexOf(item);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfor (var i = 0; i < arrayToSearch.length; i++) {\n\t\t\t\t\tif (arrayToSearch[i] === item) return i;\n\t\t\t\t}\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t},\n\t\twhere = helpers.where = function(collection, filterCallback){\n\t\t\tvar filtered = [];\n\n\t\t\thelpers.each(collection, function(item){\n\t\t\t\tif (filterCallback(item)){\n\t\t\t\t\tfiltered.push(item);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn filtered;\n\t\t},\n\t\tfindNextWhere = helpers.findNextWhere = function(arrayToSearch, filterCallback, startIndex){\n\t\t\t// Default to start of the array\n\t\t\tif (!startIndex){\n\t\t\t\tstartIndex = -1;\n\t\t\t}\n\t\t\tfor (var i = startIndex + 1; i < arrayToSearch.length; i++) {\n\t\t\t\tvar currentItem = arrayToSearch[i];\n\t\t\t\tif (filterCallback(currentItem)){\n\t\t\t\t\treturn currentItem;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tfindPreviousWhere = helpers.findPreviousWhere = function(arrayToSearch, filterCallback, startIndex){\n\t\t\t// Default to end of the array\n\t\t\tif (!startIndex){\n\t\t\t\tstartIndex = arrayToSearch.length;\n\t\t\t}\n\t\t\tfor (var i = startIndex - 1; i >= 0; i--) {\n\t\t\t\tvar currentItem = arrayToSearch[i];\n\t\t\t\tif (filterCallback(currentItem)){\n\t\t\t\t\treturn currentItem;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tinherits = helpers.inherits = function(extensions){\n\t\t\t//Basic javascript inheritance based on the model created in Backbone.js\n\t\t\tvar parent = this;\n\t\t\tvar ChartElement = (extensions && extensions.hasOwnProperty(\"constructor\")) ? extensions.constructor : function(){ return parent.apply(this, arguments); };\n\n\t\t\tvar Surrogate = function(){ this.constructor = ChartElement;};\n\t\t\tSurrogate.prototype = parent.prototype;\n\t\t\tChartElement.prototype = new Surrogate();\n\n\t\t\tChartElement.extend = inherits;\n\n\t\t\tif (extensions) extend(ChartElement.prototype, extensions);\n\n\t\t\tChartElement.__super__ = parent.prototype;\n\n\t\t\treturn ChartElement;\n\t\t},\n\t\tnoop = helpers.noop = function(){},\n\t\tuid = helpers.uid = (function(){\n\t\t\tvar id=0;\n\t\t\treturn function(){\n\t\t\t\treturn \"chart-\" + id++;\n\t\t\t};\n\t\t})(),\n\t\twarn = helpers.warn = function(str){\n\t\t\t//Method for warning of errors\n\t\t\tif (window.console && typeof window.console.warn == \"function\") console.warn(str);\n\t\t},\n\t\tamd = helpers.amd = (typeof define == 'function' && define.amd),\n\t\t//-- Math methods\n\t\tisNumber = helpers.isNumber = function(n){\n\t\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\n\t\t},\n\t\tmax = helpers.max = function(array){\n\t\t\treturn Math.max.apply( Math, array );\n\t\t},\n\t\tmin = helpers.min = function(array){\n\t\t\treturn Math.min.apply( Math, array );\n\t\t},\n\t\tcap = helpers.cap = function(valueToCap,maxValue,minValue){\n\t\t\tif(isNumber(maxValue)) {\n\t\t\t\tif( valueToCap > maxValue ) {\n\t\t\t\t\treturn maxValue;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(isNumber(minValue)){\n\t\t\t\tif ( valueToCap < minValue ){\n\t\t\t\t\treturn minValue;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn valueToCap;\n\t\t},\n\t\tgetDecimalPlaces = helpers.getDecimalPlaces = function(num){\n\t\t\tif (num%1!==0 && isNumber(num)){\n\t\t\t\treturn num.toString().split(\".\")[1].length;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t},\n\t\ttoRadians = helpers.radians = function(degrees){\n\t\t\treturn degrees * (Math.PI/180);\n\t\t},\n\t\t// Gets the angle from vertical upright to the point about a centre.\n\t\tgetAngleFromPoint = helpers.getAngleFromPoint = function(centrePoint, anglePoint){\n\t\t\tvar distanceFromXCenter = anglePoint.x - centrePoint.x,\n\t\t\t\tdistanceFromYCenter = anglePoint.y - centrePoint.y,\n\t\t\t\tradialDistanceFromCenter = Math.sqrt( distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n\n\n\t\t\tvar angle = Math.PI * 2 + Math.atan2(distanceFromYCenter, distanceFromXCenter);\n\n\t\t\t//If the segment is in the top left quadrant, we need to add another rotation to the angle\n\t\t\tif (distanceFromXCenter < 0 && distanceFromYCenter < 0){\n\t\t\t\tangle += Math.PI*2;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tangle: angle,\n\t\t\t\tdistance: radialDistanceFromCenter\n\t\t\t};\n\t\t},\n\t\taliasPixel = helpers.aliasPixel = function(pixelWidth){\n\t\t\treturn (pixelWidth % 2 === 0) ? 0 : 0.5;\n\t\t},\n\t\tsplineCurve = helpers.splineCurve = function(FirstPoint,MiddlePoint,AfterPoint,t){\n\t\t\t//Props to Rob Spencer at scaled innovation for his post on splining between points\n\t\t\t//http://scaledinnovation.com/analytics/splines/aboutSplines.html\n\t\t\tvar d01=Math.sqrt(Math.pow(MiddlePoint.x-FirstPoint.x,2)+Math.pow(MiddlePoint.y-FirstPoint.y,2)),\n\t\t\t\td12=Math.sqrt(Math.pow(AfterPoint.x-MiddlePoint.x,2)+Math.pow(AfterPoint.y-MiddlePoint.y,2)),\n\t\t\t\tfa=t*d01/(d01+d12),// scaling factor for triangle Ta\n\t\t\t\tfb=t*d12/(d01+d12);\n\t\t\treturn {\n\t\t\t\tinner : {\n\t\t\t\t\tx : MiddlePoint.x-fa*(AfterPoint.x-FirstPoint.x),\n\t\t\t\t\ty : MiddlePoint.y-fa*(AfterPoint.y-FirstPoint.y)\n\t\t\t\t},\n\t\t\t\touter : {\n\t\t\t\t\tx: MiddlePoint.x+fb*(AfterPoint.x-FirstPoint.x),\n\t\t\t\t\ty : MiddlePoint.y+fb*(AfterPoint.y-FirstPoint.y)\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tcalculateOrderOfMagnitude = helpers.calculateOrderOfMagnitude = function(val){\n\t\t\treturn Math.floor(Math.log(val) / Math.LN10);\n\t\t},\n\t\tcalculateScaleRange = helpers.calculateScaleRange = function(valuesArray, drawingSize, textSize, startFromZero, integersOnly){\n\n\t\t\t//Set a minimum step of two - a point at the top of the graph, and a point at the base\n\t\t\tvar minSteps = 2,\n\t\t\t\tmaxSteps = Math.floor(drawingSize/(textSize * 1.5)),\n\t\t\t\tskipFitting = (minSteps >= maxSteps);\n\n\t\t\tvar maxValue = max(valuesArray),\n\t\t\t\tminValue = min(valuesArray);\n\n\t\t\t// We need some degree of seperation here to calculate the scales if all the values are the same\n\t\t\t// Adding/minusing 0.5 will give us a range of 1.\n\t\t\tif (maxValue === minValue){\n\t\t\t\tmaxValue += 0.5;\n\t\t\t\t// So we don't end up with a graph with a negative start value if we've said always start from zero\n\t\t\t\tif (minValue >= 0.5 && !startFromZero){\n\t\t\t\t\tminValue -= 0.5;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\t// Make up a whole number above the values\n\t\t\t\t\tmaxValue += 0.5;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar\tvalueRange = Math.abs(maxValue - minValue),\n\t\t\t\trangeOrderOfMagnitude = calculateOrderOfMagnitude(valueRange),\n\t\t\t\tgraphMax = Math.ceil(maxValue / (1 * Math.pow(10, rangeOrderOfMagnitude))) * Math.pow(10, rangeOrderOfMagnitude),\n\t\t\t\tgraphMin = (startFromZero) ? 0 : Math.floor(minValue / (1 * Math.pow(10, rangeOrderOfMagnitude))) * Math.pow(10, rangeOrderOfMagnitude),\n\t\t\t\tgraphRange = graphMax - graphMin,\n\t\t\t\tstepValue = Math.pow(10, rangeOrderOfMagnitude),\n\t\t\t\tnumberOfSteps = Math.round(graphRange / stepValue);\n\n\t\t\t//If we have more space on the graph we'll use it to give more definition to the data\n\t\t\twhile((numberOfSteps > maxSteps || (numberOfSteps * 2) < maxSteps) && !skipFitting) {\n\t\t\t\tif(numberOfSteps > maxSteps){\n\t\t\t\t\tstepValue *=2;\n\t\t\t\t\tnumberOfSteps = Math.round(graphRange/stepValue);\n\t\t\t\t\t// Don't ever deal with a decimal number of steps - cancel fitting and just use the minimum number of steps.\n\t\t\t\t\tif (numberOfSteps % 1 !== 0){\n\t\t\t\t\t\tskipFitting = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//We can fit in double the amount of scale points on the scale\n\t\t\t\telse{\n\t\t\t\t\t//If user has declared ints only, and the step value isn't a decimal\n\t\t\t\t\tif (integersOnly && rangeOrderOfMagnitude >= 0){\n\t\t\t\t\t\t//If the user has said integers only, we need to check that making the scale more granular wouldn't make it a float\n\t\t\t\t\t\tif(stepValue/2 % 1 === 0){\n\t\t\t\t\t\t\tstepValue /=2;\n\t\t\t\t\t\t\tnumberOfSteps = Math.round(graphRange/stepValue);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//If it would make it a float break out of the loop\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//If the scale doesn't have to be an int, make the scale more granular anyway.\n\t\t\t\t\telse{\n\t\t\t\t\t\tstepValue /=2;\n\t\t\t\t\t\tnumberOfSteps = Math.round(graphRange/stepValue);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (skipFitting){\n\t\t\t\tnumberOfSteps = minSteps;\n\t\t\t\tstepValue = graphRange / numberOfSteps;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tsteps : numberOfSteps,\n\t\t\t\tstepValue : stepValue,\n\t\t\t\tmin : graphMin,\n\t\t\t\tmax\t: graphMin + (numberOfSteps * stepValue)\n\t\t\t};\n\n\t\t},\n\t\t/* jshint ignore:start */\n\t\t// Blows up jshint errors based on the new Function constructor\n\t\t//Templating methods\n\t\t//Javascript micro templating by John Resig - source at http://ejohn.org/blog/javascript-micro-templating/\n\t\ttemplate = helpers.template = function(templateString, valuesObject){\n\n\t\t\t// If templateString is function rather than string-template - call the function for valuesObject\n\n\t\t\tif(templateString instanceof Function){\n\t\t\t \treturn templateString(valuesObject);\n\t\t \t}\n\n\t\t\tvar cache = {};\n\t\t\tfunction tmpl(str, data){\n\t\t\t\t// Figure out if we're getting a template, or if we need to\n\t\t\t\t// load the template - and be sure to cache the result.\n\t\t\t\tvar fn = !/\\W/.test(str) ?\n\t\t\t\tcache[str] = cache[str] :\n\n\t\t\t\t// Generate a reusable function that will serve as a template\n\t\t\t\t// generator (and which will be cached).\n\t\t\t\tnew Function(\"obj\",\n\t\t\t\t\t\"var p=[],print=function(){p.push.apply(p,arguments);};\" +\n\n\t\t\t\t\t// Introduce the data as local variables using with(){}\n\t\t\t\t\t\"with(obj){p.push('\" +\n\n\t\t\t\t\t// Convert the template into pure JavaScript\n\t\t\t\t\tstr\n\t\t\t\t\t\t.replace(/[\\r\\t\\n]/g, \" \")\n\t\t\t\t\t\t.split(\"<%\").join(\"\\t\")\n\t\t\t\t\t\t.replace(/((^|%>)[^\\t]*)'/g, \"$1\\r\")\n\t\t\t\t\t\t.replace(/\\t=(.*?)%>/g, \"',$1,'\")\n\t\t\t\t\t\t.split(\"\\t\").join(\"');\")\n\t\t\t\t\t\t.split(\"%>\").join(\"p.push('\")\n\t\t\t\t\t\t.split(\"\\r\").join(\"\\\\'\") +\n\t\t\t\t\t\"');}return p.join('');\"\n\t\t\t\t);\n\n\t\t\t\t// Provide some basic currying to the user\n\t\t\t\treturn data ? fn( data ) : fn;\n\t\t\t}\n\t\t\treturn tmpl(templateString,valuesObject);\n\t\t},\n\t\t/* jshint ignore:end */\n\t\tgenerateLabels = helpers.generateLabels = function(templateString,numberOfSteps,graphMin,stepValue){\n\t\t\tvar labelsArray = new Array(numberOfSteps);\n\t\t\tif (labelTemplateString){\n\t\t\t\teach(labelsArray,function(val,index){\n\t\t\t\t\tlabelsArray[index] = template(templateString,{value: (graphMin + (stepValue*(index+1)))});\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn labelsArray;\n\t\t},\n\t\t//--Animation methods\n\t\t//Easing functions adapted from Robert Penner's easing equations\n\t\t//http://www.robertpenner.com/easing/\n\t\teasingEffects = helpers.easingEffects = {\n\t\t\tlinear: function (t) {\n\t\t\t\treturn t;\n\t\t\t},\n\t\t\teaseInQuad: function (t) {\n\t\t\t\treturn t * t;\n\t\t\t},\n\t\t\teaseOutQuad: function (t) {\n\t\t\t\treturn -1 * t * (t - 2);\n\t\t\t},\n\t\t\teaseInOutQuad: function (t) {\n\t\t\t\tif ((t /= 1 / 2) < 1) return 1 / 2 * t * t;\n\t\t\t\treturn -1 / 2 * ((--t) * (t - 2) - 1);\n\t\t\t},\n\t\t\teaseInCubic: function (t) {\n\t\t\t\treturn t * t * t;\n\t\t\t},\n\t\t\teaseOutCubic: function (t) {\n\t\t\t\treturn 1 * ((t = t / 1 - 1) * t * t + 1);\n\t\t\t},\n\t\t\teaseInOutCubic: function (t) {\n\t\t\t\tif ((t /= 1 / 2) < 1) return 1 / 2 * t * t * t;\n\t\t\t\treturn 1 / 2 * ((t -= 2) * t * t + 2);\n\t\t\t},\n\t\t\teaseInQuart: function (t) {\n\t\t\t\treturn t * t * t * t;\n\t\t\t},\n\t\t\teaseOutQuart: function (t) {\n\t\t\t\treturn -1 * ((t = t / 1 - 1) * t * t * t - 1);\n\t\t\t},\n\t\t\teaseInOutQuart: function (t) {\n\t\t\t\tif ((t /= 1 / 2) < 1) return 1 / 2 * t * t * t * t;\n\t\t\t\treturn -1 / 2 * ((t -= 2) * t * t * t - 2);\n\t\t\t},\n\t\t\teaseInQuint: function (t) {\n\t\t\t\treturn 1 * (t /= 1) * t * t * t * t;\n\t\t\t},\n\t\t\teaseOutQuint: function (t) {\n\t\t\t\treturn 1 * ((t = t / 1 - 1) * t * t * t * t + 1);\n\t\t\t},\n\t\t\teaseInOutQuint: function (t) {\n\t\t\t\tif ((t /= 1 / 2) < 1) return 1 / 2 * t * t * t * t * t;\n\t\t\t\treturn 1 / 2 * ((t -= 2) * t * t * t * t + 2);\n\t\t\t},\n\t\t\teaseInSine: function (t) {\n\t\t\t\treturn -1 * Math.cos(t / 1 * (Math.PI / 2)) + 1;\n\t\t\t},\n\t\t\teaseOutSine: function (t) {\n\t\t\t\treturn 1 * Math.sin(t / 1 * (Math.PI / 2));\n\t\t\t},\n\t\t\teaseInOutSine: function (t) {\n\t\t\t\treturn -1 / 2 * (Math.cos(Math.PI * t / 1) - 1);\n\t\t\t},\n\t\t\teaseInExpo: function (t) {\n\t\t\t\treturn (t === 0) ? 1 : 1 * Math.pow(2, 10 * (t / 1 - 1));\n\t\t\t},\n\t\t\teaseOutExpo: function (t) {\n\t\t\t\treturn (t === 1) ? 1 : 1 * (-Math.pow(2, -10 * t / 1) + 1);\n\t\t\t},\n\t\t\teaseInOutExpo: function (t) {\n\t\t\t\tif (t === 0) return 0;\n\t\t\t\tif (t === 1) return 1;\n\t\t\t\tif ((t /= 1 / 2) < 1) return 1 / 2 * Math.pow(2, 10 * (t - 1));\n\t\t\t\treturn 1 / 2 * (-Math.pow(2, -10 * --t) + 2);\n\t\t\t},\n\t\t\teaseInCirc: function (t) {\n\t\t\t\tif (t >= 1) return t;\n\t\t\t\treturn -1 * (Math.sqrt(1 - (t /= 1) * t) - 1);\n\t\t\t},\n\t\t\teaseOutCirc: function (t) {\n\t\t\t\treturn 1 * Math.sqrt(1 - (t = t / 1 - 1) * t);\n\t\t\t},\n\t\t\teaseInOutCirc: function (t) {\n\t\t\t\tif ((t /= 1 / 2) < 1) return -1 / 2 * (Math.sqrt(1 - t * t) - 1);\n\t\t\t\treturn 1 / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n\t\t\t},\n\t\t\teaseInElastic: function (t) {\n\t\t\t\tvar s = 1.70158;\n\t\t\t\tvar p = 0;\n\t\t\t\tvar a = 1;\n\t\t\t\tif (t === 0) return 0;\n\t\t\t\tif ((t /= 1) == 1) return 1;\n\t\t\t\tif (!p) p = 1 * 0.3;\n\t\t\t\tif (a < Math.abs(1)) {\n\t\t\t\t\ta = 1;\n\t\t\t\t\ts = p / 4;\n\t\t\t\t} else s = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t\treturn -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p));\n\t\t\t},\n\t\t\teaseOutElastic: function (t) {\n\t\t\t\tvar s = 1.70158;\n\t\t\t\tvar p = 0;\n\t\t\t\tvar a = 1;\n\t\t\t\tif (t === 0) return 0;\n\t\t\t\tif ((t /= 1) == 1) return 1;\n\t\t\t\tif (!p) p = 1 * 0.3;\n\t\t\t\tif (a < Math.abs(1)) {\n\t\t\t\t\ta = 1;\n\t\t\t\t\ts = p / 4;\n\t\t\t\t} else s = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t\treturn a * Math.pow(2, -10 * t) * Math.sin((t * 1 - s) * (2 * Math.PI) / p) + 1;\n\t\t\t},\n\t\t\teaseInOutElastic: function (t) {\n\t\t\t\tvar s = 1.70158;\n\t\t\t\tvar p = 0;\n\t\t\t\tvar a = 1;\n\t\t\t\tif (t === 0) return 0;\n\t\t\t\tif ((t /= 1 / 2) == 2) return 1;\n\t\t\t\tif (!p) p = 1 * (0.3 * 1.5);\n\t\t\t\tif (a < Math.abs(1)) {\n\t\t\t\t\ta = 1;\n\t\t\t\t\ts = p / 4;\n\t\t\t\t} else s = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t\tif (t < 1) return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p));\n\t\t\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p) * 0.5 + 1;\n\t\t\t},\n\t\t\teaseInBack: function (t) {\n\t\t\t\tvar s = 1.70158;\n\t\t\t\treturn 1 * (t /= 1) * t * ((s + 1) * t - s);\n\t\t\t},\n\t\t\teaseOutBack: function (t) {\n\t\t\t\tvar s = 1.70158;\n\t\t\t\treturn 1 * ((t = t / 1 - 1) * t * ((s + 1) * t + s) + 1);\n\t\t\t},\n\t\t\teaseInOutBack: function (t) {\n\t\t\t\tvar s = 1.70158;\n\t\t\t\tif ((t /= 1 / 2) < 1) return 1 / 2 * (t * t * (((s *= (1.525)) + 1) * t - s));\n\t\t\t\treturn 1 / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n\t\t\t},\n\t\t\teaseInBounce: function (t) {\n\t\t\t\treturn 1 - easingEffects.easeOutBounce(1 - t);\n\t\t\t},\n\t\t\teaseOutBounce: function (t) {\n\t\t\t\tif ((t /= 1) < (1 / 2.75)) {\n\t\t\t\t\treturn 1 * (7.5625 * t * t);\n\t\t\t\t} else if (t < (2 / 2.75)) {\n\t\t\t\t\treturn 1 * (7.5625 * (t -= (1.5 / 2.75)) * t + 0.75);\n\t\t\t\t} else if (t < (2.5 / 2.75)) {\n\t\t\t\t\treturn 1 * (7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375);\n\t\t\t\t} else {\n\t\t\t\t\treturn 1 * (7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375);\n\t\t\t\t}\n\t\t\t},\n\t\t\teaseInOutBounce: function (t) {\n\t\t\t\tif (t < 1 / 2) return easingEffects.easeInBounce(t * 2) * 0.5;\n\t\t\t\treturn easingEffects.easeOutBounce(t * 2 - 1) * 0.5 + 1 * 0.5;\n\t\t\t}\n\t\t},\n\t\t//Request animation polyfill - http://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\n\t\trequestAnimFrame = helpers.requestAnimFrame = (function(){\n\t\t\treturn window.requestAnimationFrame ||\n\t\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\t\twindow.oRequestAnimationFrame ||\n\t\t\t\twindow.msRequestAnimationFrame ||\n\t\t\t\tfunction(callback) {\n\t\t\t\t\treturn window.setTimeout(callback, 1000 / 60);\n\t\t\t\t};\n\t\t})(),\n\t\tcancelAnimFrame = helpers.cancelAnimFrame = (function(){\n\t\t\treturn window.cancelAnimationFrame ||\n\t\t\t\twindow.webkitCancelAnimationFrame ||\n\t\t\t\twindow.mozCancelAnimationFrame ||\n\t\t\t\twindow.oCancelAnimationFrame ||\n\t\t\t\twindow.msCancelAnimationFrame ||\n\t\t\t\tfunction(callback) {\n\t\t\t\t\treturn window.clearTimeout(callback, 1000 / 60);\n\t\t\t\t};\n\t\t})(),\n\t\tanimationLoop = helpers.animationLoop = function(callback,totalSteps,easingString,onProgress,onComplete,chartInstance){\n\n\t\t\tvar currentStep = 0,\n\t\t\t\teasingFunction = easingEffects[easingString] || easingEffects.linear;\n\n\t\t\tvar animationFrame = function(){\n\t\t\t\tcurrentStep++;\n\t\t\t\tvar stepDecimal = currentStep/totalSteps;\n\t\t\t\tvar easeDecimal = easingFunction(stepDecimal);\n\n\t\t\t\tcallback.call(chartInstance,easeDecimal,stepDecimal, currentStep);\n\t\t\t\tonProgress.call(chartInstance,easeDecimal,stepDecimal);\n\t\t\t\tif (currentStep < totalSteps){\n\t\t\t\t\tchartInstance.animationFrame = requestAnimFrame(animationFrame);\n\t\t\t\t} else{\n\t\t\t\t\tonComplete.apply(chartInstance);\n\t\t\t\t}\n\t\t\t};\n\t\t\trequestAnimFrame(animationFrame);\n\t\t},\n\t\t//-- DOM methods\n\t\tgetRelativePosition = helpers.getRelativePosition = function(evt){\n\t\t\tvar mouseX, mouseY;\n\t\t\tvar e = evt.originalEvent || evt,\n\t\t\t\tcanvas = evt.currentTarget || evt.srcElement,\n\t\t\t\tboundingRect = canvas.getBoundingClientRect();\n\n\t\t\tif (e.touches){\n\t\t\t\tmouseX = e.touches[0].clientX - boundingRect.left;\n\t\t\t\tmouseY = e.touches[0].clientY - boundingRect.top;\n\n\t\t\t}\n\t\t\telse{\n\t\t\t\tmouseX = e.clientX - boundingRect.left;\n\t\t\t\tmouseY = e.clientY - boundingRect.top;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx : mouseX,\n\t\t\t\ty : mouseY\n\t\t\t};\n\n\t\t},\n\t\taddEvent = helpers.addEvent = function(node,eventType,method){\n\t\t\tif (node.addEventListener){\n\t\t\t\tnode.addEventListener(eventType,method);\n\t\t\t} else if (node.attachEvent){\n\t\t\t\tnode.attachEvent(\"on\"+eventType, method);\n\t\t\t} else {\n\t\t\t\tnode[\"on\"+eventType] = method;\n\t\t\t}\n\t\t},\n\t\tremoveEvent = helpers.removeEvent = function(node, eventType, handler){\n\t\t\tif (node.removeEventListener){\n\t\t\t\tnode.removeEventListener(eventType, handler, false);\n\t\t\t} else if (node.detachEvent){\n\t\t\t\tnode.detachEvent(\"on\"+eventType,handler);\n\t\t\t} else{\n\t\t\t\tnode[\"on\" + eventType] = noop;\n\t\t\t}\n\t\t},\n\t\tbindEvents = helpers.bindEvents = function(chartInstance, arrayOfEvents, handler){\n\t\t\t// Create the events object if it's not already present\n\t\t\tif (!chartInstance.events) chartInstance.events = {};\n\n\t\t\teach(arrayOfEvents,function(eventName){\n\t\t\t\tchartInstance.events[eventName] = function(){\n\t\t\t\t\thandler.apply(chartInstance, arguments);\n\t\t\t\t};\n\t\t\t\taddEvent(chartInstance.chart.canvas,eventName,chartInstance.events[eventName]);\n\t\t\t});\n\t\t},\n\t\tunbindEvents = helpers.unbindEvents = function (chartInstance, arrayOfEvents) {\n\t\t\teach(arrayOfEvents, function(handler,eventName){\n\t\t\t\tremoveEvent(chartInstance.chart.canvas, eventName, handler);\n\t\t\t});\n\t\t},\n\t\tgetMaximumWidth = helpers.getMaximumWidth = function(domNode){\n\t\t\tvar container = domNode.parentNode;\n\t\t\t// TODO = check cross browser stuff with this.\n\t\t\treturn container.clientWidth;\n\t\t},\n\t\tgetMaximumHeight = helpers.getMaximumHeight = function(domNode){\n\t\t\tvar container = domNode.parentNode;\n\t\t\t// TODO = check cross browser stuff with this.\n\t\t\treturn container.clientHeight;\n\t\t},\n\t\tgetMaximumSize = helpers.getMaximumSize = helpers.getMaximumWidth, // legacy support\n\t\tretinaScale = helpers.retinaScale = function(chart){\n\t\t\tvar ctx = chart.ctx,\n\t\t\t\twidth = chart.canvas.width,\n\t\t\t\theight = chart.canvas.height;\n\n\t\t\tif (window.devicePixelRatio) {\n\t\t\t\tctx.canvas.style.width = width + \"px\";\n\t\t\t\tctx.canvas.style.height = height + \"px\";\n\t\t\t\tctx.canvas.height = height * window.devicePixelRatio;\n\t\t\t\tctx.canvas.width = width * window.devicePixelRatio;\n\t\t\t\tctx.scale(window.devicePixelRatio, window.devicePixelRatio);\n\t\t\t}\n\t\t},\n\t\t//-- Canvas methods\n\t\tclear = helpers.clear = function(chart){\n\t\t\tchart.ctx.clearRect(0,0,chart.width,chart.height);\n\t\t},\n\t\tfontString = helpers.fontString = function(pixelSize,fontStyle,fontFamily){\n\t\t\treturn fontStyle + \" \" + pixelSize+\"px \" + fontFamily;\n\t\t},\n\t\tlongestText = helpers.longestText = function(ctx,font,arrayOfStrings){\n\t\t\tctx.font = font;\n\t\t\tvar longest = 0;\n\t\t\teach(arrayOfStrings,function(string){\n\t\t\t\tvar textWidth = ctx.measureText(string).width;\n\t\t\t\tlongest = (textWidth > longest) ? textWidth : longest;\n\t\t\t});\n\t\t\treturn longest;\n\t\t},\n\t\tdrawRoundedRectangle = helpers.drawRoundedRectangle = function(ctx,x,y,width,height,radius){\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x + radius, y);\n\t\t\tctx.lineTo(x + width - radius, y);\n\t\t\tctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n\t\t\tctx.lineTo(x + width, y + height - radius);\n\t\t\tctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n\t\t\tctx.lineTo(x + radius, y + height);\n\t\t\tctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n\t\t\tctx.lineTo(x, y + radius);\n\t\t\tctx.quadraticCurveTo(x, y, x + radius, y);\n\t\t\tctx.closePath();\n\t\t};\n\n\n\t//Store a reference to each instance - allowing us to globally resize chart instances on window resize.\n\t//Destroy method on the chart will remove the instance of the chart from this reference.\n\tChart.instances = {};\n\n\tChart.Type = function(data,options,chart){\n\t\tthis.options = options;\n\t\tthis.chart = chart;\n\t\tthis.id = uid();\n\t\t//Add the chart instance to the global namespace\n\t\tChart.instances[this.id] = this;\n\n\t\t// Initialize is always called when a chart type is created\n\t\t// By default it is a no op, but it should be extended\n\t\tif (options.responsive){\n\t\t\tthis.resize();\n\t\t}\n\t\tthis.initialize.call(this,data);\n\t};\n\n\t//Core methods that'll be a part of every chart type\n\textend(Chart.Type.prototype,{\n\t\tinitialize : function(){return this;},\n\t\tclear : function(){\n\t\t\tclear(this.chart);\n\t\t\treturn this;\n\t\t},\n\t\tstop : function(){\n\t\t\t// Stops any current animation loop occuring\n\t\t\tcancelAnimFrame(this.animationFrame);\n\t\t\treturn this;\n\t\t},\n\t\tresize : function(callback){\n\t\t\tthis.stop();\n\t\t\tvar canvas = this.chart.canvas,\n\t\t\t\tnewWidth = getMaximumWidth(this.chart.canvas),\n\t\t\t\tnewHeight = this.options.maintainAspectRatio ? newWidth / this.chart.aspectRatio : getMaximumHeight(this.chart.canvas);\n\n\t\t\tcanvas.width = this.chart.width = newWidth;\n\t\t\tcanvas.height = this.chart.height = newHeight;\n\n\t\t\tretinaScale(this.chart);\n\n\t\t\tif (typeof callback === \"function\"){\n\t\t\t\tcallback.apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\treflow : noop,\n\t\trender : function(reflow){\n\t\t\tif (reflow){\n\t\t\t\tthis.reflow();\n\t\t\t}\n\t\t\tif (this.options.animation && !reflow){\n\t\t\t\thelpers.animationLoop(\n\t\t\t\t\tthis.draw,\n\t\t\t\t\tthis.options.animationSteps,\n\t\t\t\t\tthis.options.animationEasing,\n\t\t\t\t\tthis.options.onAnimationProgress,\n\t\t\t\t\tthis.options.onAnimationComplete,\n\t\t\t\t\tthis\n\t\t\t\t);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.draw();\n\t\t\t\tthis.options.onAnimationComplete.call(this);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tgenerateLegend : function(){\n\t\t\treturn template(this.options.legendTemplate,this);\n\t\t},\n\t\tdestroy : function(){\n\t\t\tthis.clear();\n\t\t\tunbindEvents(this, this.events);\n\t\t\tvar canvas = this.chart.canvas;\n\n\t\t\t// Reset canvas height/width attributes starts a fresh with the canvas context\n\t\t\tcanvas.width = this.chart.width;\n\t\t\tcanvas.height = this.chart.height;\n\n\t\t\t// < IE9 doesn't support removeProperty\n\t\t\tif (canvas.style.removeProperty) {\n\t\t\t\tcanvas.style.removeProperty('width');\n\t\t\t\tcanvas.style.removeProperty('height');\n\t\t\t} else {\n\t\t\t\tcanvas.style.removeAttribute('width');\n\t\t\t\tcanvas.style.removeAttribute('height');\n\t\t\t}\n\n\t\t\tdelete Chart.instances[this.id];\n\t\t},\n\t\tshowTooltip : function(ChartElements, forceRedraw){\n\t\t\t// Only redraw the chart if we've actually changed what we're hovering on.\n\t\t\tif (typeof this.activeElements === 'undefined') this.activeElements = [];\n\n\t\t\tvar isChanged = (function(Elements){\n\t\t\t\tvar changed = false;\n\n\t\t\t\tif (Elements.length !== this.activeElements.length){\n\t\t\t\t\tchanged = true;\n\t\t\t\t\treturn changed;\n\t\t\t\t}\n\n\t\t\t\teach(Elements, function(element, index){\n\t\t\t\t\tif (element !== this.activeElements[index]){\n\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t\treturn changed;\n\t\t\t}).call(this, ChartElements);\n\n\t\t\tif (!isChanged && !forceRedraw){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.activeElements = ChartElements;\n\t\t\t}\n\t\t\tthis.draw();\n\t\t\tif(this.options.customTooltips){\n\t\t\t\tthis.options.customTooltips(false);\n\t\t\t}\n\t\t\tif (ChartElements.length > 0){\n\t\t\t\t// If we have multiple datasets, show a MultiTooltip for all of the data points at that index\n\t\t\t\tif (this.datasets && this.datasets.length > 1) {\n\t\t\t\t\tvar dataArray,\n\t\t\t\t\t\tdataIndex;\n\n\t\t\t\t\tfor (var i = this.datasets.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tdataArray = this.datasets[i].points || this.datasets[i].bars || this.datasets[i].segments;\n\t\t\t\t\t\tdataIndex = indexOf(dataArray, ChartElements[0]);\n\t\t\t\t\t\tif (dataIndex !== -1){\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar tooltipLabels = [],\n\t\t\t\t\t\ttooltipColors = [],\n\t\t\t\t\t\tmedianPosition = (function(index) {\n\n\t\t\t\t\t\t\t// Get all the points at that particular index\n\t\t\t\t\t\t\tvar Elements = [],\n\t\t\t\t\t\t\t\tdataCollection,\n\t\t\t\t\t\t\t\txPositions = [],\n\t\t\t\t\t\t\t\tyPositions = [],\n\t\t\t\t\t\t\t\txMax,\n\t\t\t\t\t\t\t\tyMax,\n\t\t\t\t\t\t\t\txMin,\n\t\t\t\t\t\t\t\tyMin;\n\t\t\t\t\t\t\thelpers.each(this.datasets, function(dataset){\n\t\t\t\t\t\t\t\tdataCollection = dataset.points || dataset.bars || dataset.segments;\n\t\t\t\t\t\t\t\tif (dataCollection[dataIndex] && dataCollection[dataIndex].hasValue()){\n\t\t\t\t\t\t\t\t\tElements.push(dataCollection[dataIndex]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\thelpers.each(Elements, function(element) {\n\t\t\t\t\t\t\t\txPositions.push(element.x);\n\t\t\t\t\t\t\t\tyPositions.push(element.y);\n\n\n\t\t\t\t\t\t\t\t//Include any colour information about the element\n\t\t\t\t\t\t\t\ttooltipLabels.push(helpers.template(this.options.multiTooltipTemplate, element));\n\t\t\t\t\t\t\t\ttooltipColors.push({\n\t\t\t\t\t\t\t\t\tfill: element._saved.fillColor || element.fillColor,\n\t\t\t\t\t\t\t\t\tstroke: element._saved.strokeColor || element.strokeColor\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t}, this);\n\n\t\t\t\t\t\t\tyMin = min(yPositions);\n\t\t\t\t\t\t\tyMax = max(yPositions);\n\n\t\t\t\t\t\t\txMin = min(xPositions);\n\t\t\t\t\t\t\txMax = max(xPositions);\n\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tx: (xMin > this.chart.width/2) ? xMin : xMax,\n\t\t\t\t\t\t\t\ty: (yMin + yMax)/2\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}).call(this, dataIndex);\n\n\t\t\t\t\tnew Chart.MultiTooltip({\n\t\t\t\t\t\tx: medianPosition.x,\n\t\t\t\t\t\ty: medianPosition.y,\n\t\t\t\t\t\txPadding: this.options.tooltipXPadding,\n\t\t\t\t\t\tyPadding: this.options.tooltipYPadding,\n\t\t\t\t\t\txOffset: this.options.tooltipXOffset,\n\t\t\t\t\t\tfillColor: this.options.tooltipFillColor,\n\t\t\t\t\t\ttextColor: this.options.tooltipFontColor,\n\t\t\t\t\t\tfontFamily: this.options.tooltipFontFamily,\n\t\t\t\t\t\tfontStyle: this.options.tooltipFontStyle,\n\t\t\t\t\t\tfontSize: this.options.tooltipFontSize,\n\t\t\t\t\t\ttitleTextColor: this.options.tooltipTitleFontColor,\n\t\t\t\t\t\ttitleFontFamily: this.options.tooltipTitleFontFamily,\n\t\t\t\t\t\ttitleFontStyle: this.options.tooltipTitleFontStyle,\n\t\t\t\t\t\ttitleFontSize: this.options.tooltipTitleFontSize,\n\t\t\t\t\t\tcornerRadius: this.options.tooltipCornerRadius,\n\t\t\t\t\t\tlabels: tooltipLabels,\n\t\t\t\t\t\tlegendColors: tooltipColors,\n\t\t\t\t\t\tlegendColorBackground : this.options.multiTooltipKeyBackground,\n\t\t\t\t\t\ttitle: ChartElements[0].label,\n\t\t\t\t\t\tchart: this.chart,\n\t\t\t\t\t\tctx: this.chart.ctx,\n\t\t\t\t\t\tcustom: this.options.customTooltips\n\t\t\t\t\t}).draw();\n\n\t\t\t\t} else {\n\t\t\t\t\teach(ChartElements, function(Element) {\n\t\t\t\t\t\tvar tooltipPosition = Element.tooltipPosition();\n\t\t\t\t\t\tnew Chart.Tooltip({\n\t\t\t\t\t\t\tx: Math.round(tooltipPosition.x),\n\t\t\t\t\t\t\ty: Math.round(tooltipPosition.y),\n\t\t\t\t\t\t\txPadding: this.options.tooltipXPadding,\n\t\t\t\t\t\t\tyPadding: this.options.tooltipYPadding,\n\t\t\t\t\t\t\tfillColor: this.options.tooltipFillColor,\n\t\t\t\t\t\t\ttextColor: this.options.tooltipFontColor,\n\t\t\t\t\t\t\tfontFamily: this.options.tooltipFontFamily,\n\t\t\t\t\t\t\tfontStyle: this.options.tooltipFontStyle,\n\t\t\t\t\t\t\tfontSize: this.options.tooltipFontSize,\n\t\t\t\t\t\t\tcaretHeight: this.options.tooltipCaretSize,\n\t\t\t\t\t\t\tcornerRadius: this.options.tooltipCornerRadius,\n\t\t\t\t\t\t\ttext: template(this.options.tooltipTemplate, Element),\n\t\t\t\t\t\t\tchart: this.chart,\n\t\t\t\t\t\t\tcustom: this.options.customTooltips\n\t\t\t\t\t\t}).draw();\n\t\t\t\t\t}, this);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\ttoBase64Image : function(){\n\t\t\treturn this.chart.canvas.toDataURL.apply(this.chart.canvas, arguments);\n\t\t}\n\t});\n\n\tChart.Type.extend = function(extensions){\n\n\t\tvar parent = this;\n\n\t\tvar ChartType = function(){\n\t\t\treturn parent.apply(this,arguments);\n\t\t};\n\n\t\t//Copy the prototype object of the this class\n\t\tChartType.prototype = clone(parent.prototype);\n\t\t//Now overwrite some of the properties in the base class with the new extensions\n\t\textend(ChartType.prototype, extensions);\n\n\t\tChartType.extend = Chart.Type.extend;\n\n\t\tif (extensions.name || parent.prototype.name){\n\n\t\t\tvar chartName = extensions.name || parent.prototype.name;\n\t\t\t//Assign any potential default values of the new chart type\n\n\t\t\t//If none are defined, we'll use a clone of the chart type this is being extended from.\n\t\t\t//I.e. if we extend a line chart, we'll use the defaults from the line chart if our new chart\n\t\t\t//doesn't define some defaults of their own.\n\n\t\t\tvar baseDefaults = (Chart.defaults[parent.prototype.name]) ? clone(Chart.defaults[parent.prototype.name]) : {};\n\n\t\t\tChart.defaults[chartName] = extend(baseDefaults,extensions.defaults);\n\n\t\t\tChart.types[chartName] = ChartType;\n\n\t\t\t//Register this new chart type in the Chart prototype\n\t\t\tChart.prototype[chartName] = function(data,options){\n\t\t\t\tvar config = merge(Chart.defaults.global, Chart.defaults[chartName], options || {});\n\t\t\t\treturn new ChartType(data,config,this);\n\t\t\t};\n\t\t} else{\n\t\t\twarn(\"Name not provided for this chart, so it hasn't been registered\");\n\t\t}\n\t\treturn parent;\n\t};\n\n\tChart.Element = function(configuration){\n\t\textend(this,configuration);\n\t\tthis.initialize.apply(this,arguments);\n\t\tthis.save();\n\t};\n\textend(Chart.Element.prototype,{\n\t\tinitialize : function(){},\n\t\trestore : function(props){\n\t\t\tif (!props){\n\t\t\t\textend(this,this._saved);\n\t\t\t} else {\n\t\t\t\teach(props,function(key){\n\t\t\t\t\tthis[key] = this._saved[key];\n\t\t\t\t},this);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tsave : function(){\n\t\t\tthis._saved = clone(this);\n\t\t\tdelete this._saved._saved;\n\t\t\treturn this;\n\t\t},\n\t\tupdate : function(newProps){\n\t\t\teach(newProps,function(value,key){\n\t\t\t\tthis._saved[key] = this[key];\n\t\t\t\tthis[key] = value;\n\t\t\t},this);\n\t\t\treturn this;\n\t\t},\n\t\ttransition : function(props,ease){\n\t\t\teach(props,function(value,key){\n\t\t\t\tthis[key] = ((value - this._saved[key]) * ease) + this._saved[key];\n\t\t\t},this);\n\t\t\treturn this;\n\t\t},\n\t\ttooltipPosition : function(){\n\t\t\treturn {\n\t\t\t\tx : this.x,\n\t\t\t\ty : this.y\n\t\t\t};\n\t\t},\n\t\thasValue: function(){\n\t\t\treturn isNumber(this.value);\n\t\t}\n\t});\n\n\tChart.Element.extend = inherits;\n\n\n\tChart.Point = Chart.Element.extend({\n\t\tdisplay: true,\n\t\tinRange: function(chartX,chartY){\n\t\t\tvar hitDetectionRange = this.hitDetectionRadius + this.radius;\n\t\t\treturn ((Math.pow(chartX-this.x, 2)+Math.pow(chartY-this.y, 2)) < Math.pow(hitDetectionRange,2));\n\t\t},\n\t\tdraw : function(){\n\t\t\tif (this.display){\n\t\t\t\tvar ctx = this.ctx;\n\t\t\t\tctx.beginPath();\n\n\t\t\t\tctx.arc(this.x, this.y, this.radius, 0, Math.PI*2);\n\t\t\t\tctx.closePath();\n\n\t\t\t\tctx.strokeStyle = this.strokeColor;\n\t\t\t\tctx.lineWidth = this.strokeWidth;\n\n\t\t\t\tctx.fillStyle = this.fillColor;\n\n\t\t\t\tctx.fill();\n\t\t\t\tctx.stroke();\n\t\t\t}\n\n\n\t\t\t//Quick debug for bezier curve splining\n\t\t\t//Highlights control points and the line between them.\n\t\t\t//Handy for dev - stripped in the min version.\n\n\t\t\t// ctx.save();\n\t\t\t// ctx.fillStyle = \"black\";\n\t\t\t// ctx.strokeStyle = \"black\"\n\t\t\t// ctx.beginPath();\n\t\t\t// ctx.arc(this.controlPoints.inner.x,this.controlPoints.inner.y, 2, 0, Math.PI*2);\n\t\t\t// ctx.fill();\n\n\t\t\t// ctx.beginPath();\n\t\t\t// ctx.arc(this.controlPoints.outer.x,this.controlPoints.outer.y, 2, 0, Math.PI*2);\n\t\t\t// ctx.fill();\n\n\t\t\t// ctx.moveTo(this.controlPoints.inner.x,this.controlPoints.inner.y);\n\t\t\t// ctx.lineTo(this.x, this.y);\n\t\t\t// ctx.lineTo(this.controlPoints.outer.x,this.controlPoints.outer.y);\n\t\t\t// ctx.stroke();\n\n\t\t\t// ctx.restore();\n\n\n\n\t\t}\n\t});\n\n\tChart.Arc = Chart.Element.extend({\n\t\tinRange : function(chartX,chartY){\n\n\t\t\tvar pointRelativePosition = helpers.getAngleFromPoint(this, {\n\t\t\t\tx: chartX,\n\t\t\t\ty: chartY\n\t\t\t});\n\n\t\t\t//Check if within the range of the open/close angle\n\t\t\tvar betweenAngles = (pointRelativePosition.angle >= this.startAngle && pointRelativePosition.angle <= this.endAngle),\n\t\t\t\twithinRadius = (pointRelativePosition.distance >= this.innerRadius && pointRelativePosition.distance <= this.outerRadius);\n\n\t\t\treturn (betweenAngles && withinRadius);\n\t\t\t//Ensure within the outside of the arc centre, but inside arc outer\n\t\t},\n\t\ttooltipPosition : function(){\n\t\t\tvar centreAngle = this.startAngle + ((this.endAngle - this.startAngle) / 2),\n\t\t\t\trangeFromCentre = (this.outerRadius - this.innerRadius) / 2 + this.innerRadius;\n\t\t\treturn {\n\t\t\t\tx : this.x + (Math.cos(centreAngle) * rangeFromCentre),\n\t\t\t\ty : this.y + (Math.sin(centreAngle) * rangeFromCentre)\n\t\t\t};\n\t\t},\n\t\tdraw : function(animationPercent){\n\n\t\t\tvar easingDecimal = animationPercent || 1;\n\n\t\t\tvar ctx = this.ctx;\n\n\t\t\tctx.beginPath();\n\n\t\t\tctx.arc(this.x, this.y, this.outerRadius, this.startAngle, this.endAngle);\n\n\t\t\tctx.arc(this.x, this.y, this.innerRadius, this.endAngle, this.startAngle, true);\n\n\t\t\tctx.closePath();\n\t\t\tctx.strokeStyle = this.strokeColor;\n\t\t\tctx.lineWidth = this.strokeWidth;\n\n\t\t\tctx.fillStyle = this.fillColor;\n\n\t\t\tctx.fill();\n\t\t\tctx.lineJoin = 'bevel';\n\n\t\t\tif (this.showStroke){\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t}\n\t});\n\n\tChart.Rectangle = Chart.Element.extend({\n\t\tdraw : function(){\n\t\t\tvar ctx = this.ctx,\n\t\t\t\thalfWidth = this.width/2,\n\t\t\t\tleftX = this.x - halfWidth,\n\t\t\t\trightX = this.x + halfWidth,\n\t\t\t\ttop = this.base - (this.base - this.y),\n\t\t\t\thalfStroke = this.strokeWidth / 2;\n\n\t\t\t// Canvas doesn't allow us to stroke inside the width so we can\n\t\t\t// adjust the sizes to fit if we're setting a stroke on the line\n\t\t\tif (this.showStroke){\n\t\t\t\tleftX += halfStroke;\n\t\t\t\trightX -= halfStroke;\n\t\t\t\ttop += halfStroke;\n\t\t\t}\n\n\t\t\tctx.beginPath();\n\n\t\t\tctx.fillStyle = this.fillColor;\n\t\t\tctx.strokeStyle = this.strokeColor;\n\t\t\tctx.lineWidth = this.strokeWidth;\n\n\t\t\t// It'd be nice to keep this class totally generic to any rectangle\n\t\t\t// and simply specify which border to miss out.\n\t\t\tctx.moveTo(leftX, this.base);\n\t\t\tctx.lineTo(leftX, top);\n\t\t\tctx.lineTo(rightX, top);\n\t\t\tctx.lineTo(rightX, this.base);\n\t\t\tctx.fill();\n\t\t\tif (this.showStroke){\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t},\n\t\theight : function(){\n\t\t\treturn this.base - this.y;\n\t\t},\n\t\tinRange : function(chartX,chartY){\n\t\t\treturn (chartX >= this.x - this.width/2 && chartX <= this.x + this.width/2) && (chartY >= this.y && chartY <= this.base);\n\t\t}\n\t});\n\n\tChart.Tooltip = Chart.Element.extend({\n\t\tdraw : function(){\n\n\t\t\tvar ctx = this.chart.ctx;\n\n\t\t\tctx.font = fontString(this.fontSize,this.fontStyle,this.fontFamily);\n\n\t\t\tthis.xAlign = \"center\";\n\t\t\tthis.yAlign = \"above\";\n\n\t\t\t//Distance between the actual element.y position and the start of the tooltip caret\n\t\t\tvar caretPadding = this.caretPadding = 2;\n\n\t\t\tvar tooltipWidth = ctx.measureText(this.text).width + 2*this.xPadding,\n\t\t\t\ttooltipRectHeight = this.fontSize + 2*this.yPadding,\n\t\t\t\ttooltipHeight = tooltipRectHeight + this.caretHeight + caretPadding;\n\n\t\t\tif (this.x + tooltipWidth/2 >this.chart.width){\n\t\t\t\tthis.xAlign = \"left\";\n\t\t\t} else if (this.x - tooltipWidth/2 < 0){\n\t\t\t\tthis.xAlign = \"right\";\n\t\t\t}\n\n\t\t\tif (this.y - tooltipHeight < 0){\n\t\t\t\tthis.yAlign = \"below\";\n\t\t\t}\n\n\n\t\t\tvar tooltipX = this.x - tooltipWidth/2,\n\t\t\t\ttooltipY = this.y - tooltipHeight;\n\n\t\t\tctx.fillStyle = this.fillColor;\n\n\t\t\t// Custom Tooltips\n\t\t\tif(this.custom){\n\t\t\t\tthis.custom(this);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tswitch(this.yAlign)\n\t\t\t\t{\n\t\t\t\tcase \"above\":\n\t\t\t\t\t//Draw a caret above the x/y\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(this.x,this.y - caretPadding);\n\t\t\t\t\tctx.lineTo(this.x + this.caretHeight, this.y - (caretPadding + this.caretHeight));\n\t\t\t\t\tctx.lineTo(this.x - this.caretHeight, this.y - (caretPadding + this.caretHeight));\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"below\":\n\t\t\t\t\ttooltipY = this.y + caretPadding + this.caretHeight;\n\t\t\t\t\t//Draw a caret below the x/y\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(this.x, this.y + caretPadding);\n\t\t\t\t\tctx.lineTo(this.x + this.caretHeight, this.y + caretPadding + this.caretHeight);\n\t\t\t\t\tctx.lineTo(this.x - this.caretHeight, this.y + caretPadding + this.caretHeight);\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tswitch(this.xAlign)\n\t\t\t\t{\n\t\t\t\tcase \"left\":\n\t\t\t\t\ttooltipX = this.x - tooltipWidth + (this.cornerRadius + this.caretHeight);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"right\":\n\t\t\t\t\ttooltipX = this.x - (this.cornerRadius + this.caretHeight);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tdrawRoundedRectangle(ctx,tooltipX,tooltipY,tooltipWidth,tooltipRectHeight,this.cornerRadius);\n\n\t\t\t\tctx.fill();\n\n\t\t\t\tctx.fillStyle = this.textColor;\n\t\t\t\tctx.textAlign = \"center\";\n\t\t\t\tctx.textBaseline = \"middle\";\n\t\t\t\tctx.fillText(this.text, tooltipX + tooltipWidth/2, tooltipY + tooltipRectHeight/2);\n\t\t\t}\n\t\t}\n\t});\n\n\tChart.MultiTooltip = Chart.Element.extend({\n\t\tinitialize : function(){\n\t\t\tthis.font = fontString(this.fontSize,this.fontStyle,this.fontFamily);\n\n\t\t\tthis.titleFont = fontString(this.titleFontSize,this.titleFontStyle,this.titleFontFamily);\n\n\t\t\tthis.height = (this.labels.length * this.fontSize) + ((this.labels.length-1) * (this.fontSize/2)) + (this.yPadding*2) + this.titleFontSize *1.5;\n\n\t\t\tthis.ctx.font = this.titleFont;\n\n\t\t\tvar titleWidth = this.ctx.measureText(this.title).width,\n\t\t\t\t//Label has a legend square as well so account for this.\n\t\t\t\tlabelWidth = longestText(this.ctx,this.font,this.labels) + this.fontSize + 3,\n\t\t\t\tlongestTextWidth = max([labelWidth,titleWidth]);\n\n\t\t\tthis.width = longestTextWidth + (this.xPadding*2);\n\n\n\t\t\tvar halfHeight = this.height/2;\n\n\t\t\t//Check to ensure the height will fit on the canvas\n\t\t\tif (this.y - halfHeight < 0 ){\n\t\t\t\tthis.y = halfHeight;\n\t\t\t} else if (this.y + halfHeight > this.chart.height){\n\t\t\t\tthis.y = this.chart.height - halfHeight;\n\t\t\t}\n\n\t\t\t//Decide whether to align left or right based on position on canvas\n\t\t\tif (this.x > this.chart.width/2){\n\t\t\t\tthis.x -= this.xOffset + this.width;\n\t\t\t} else {\n\t\t\t\tthis.x += this.xOffset;\n\t\t\t}\n\n\n\t\t},\n\t\tgetLineHeight : function(index){\n\t\t\tvar baseLineHeight = this.y - (this.height/2) + this.yPadding,\n\t\t\t\tafterTitleIndex = index-1;\n\n\t\t\t//If the index is zero, we're getting the title\n\t\t\tif (index === 0){\n\t\t\t\treturn baseLineHeight + this.titleFontSize/2;\n\t\t\t} else{\n\t\t\t\treturn baseLineHeight + ((this.fontSize*1.5*afterTitleIndex) + this.fontSize/2) + this.titleFontSize * 1.5;\n\t\t\t}\n\n\t\t},\n\t\tdraw : function(){\n\t\t\t// Custom Tooltips\n\t\t\tif(this.custom){\n\t\t\t\tthis.custom(this);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tdrawRoundedRectangle(this.ctx,this.x,this.y - this.height/2,this.width,this.height,this.cornerRadius);\n\t\t\t\tvar ctx = this.ctx;\n\t\t\t\tctx.fillStyle = this.fillColor;\n\t\t\t\tctx.fill();\n\t\t\t\tctx.closePath();\n\n\t\t\t\tctx.textAlign = \"left\";\n\t\t\t\tctx.textBaseline = \"middle\";\n\t\t\t\tctx.fillStyle = this.titleTextColor;\n\t\t\t\tctx.font = this.titleFont;\n\n\t\t\t\tctx.fillText(this.title,this.x + this.xPadding, this.getLineHeight(0));\n\n\t\t\t\tctx.font = this.font;\n\t\t\t\thelpers.each(this.labels,function(label,index){\n\t\t\t\t\tctx.fillStyle = this.textColor;\n\t\t\t\t\tctx.fillText(label,this.x + this.xPadding + this.fontSize + 3, this.getLineHeight(index + 1));\n\n\t\t\t\t\t//A bit gnarly, but clearing this rectangle breaks when using explorercanvas (clears whole canvas)\n\t\t\t\t\t//ctx.clearRect(this.x + this.xPadding, this.getLineHeight(index + 1) - this.fontSize/2, this.fontSize, this.fontSize);\n\t\t\t\t\t//Instead we'll make a white filled block to put the legendColour palette over.\n\n\t\t\t\t\tctx.fillStyle = this.legendColorBackground;\n\t\t\t\t\tctx.fillRect(this.x + this.xPadding, this.getLineHeight(index + 1) - this.fontSize/2, this.fontSize, this.fontSize);\n\n\t\t\t\t\tctx.fillStyle = this.legendColors[index].fill;\n\t\t\t\t\tctx.fillRect(this.x + this.xPadding, this.getLineHeight(index + 1) - this.fontSize/2, this.fontSize, this.fontSize);\n\n\n\t\t\t\t},this);\n\t\t\t}\n\t\t}\n\t});\n\n\tChart.Scale = Chart.Element.extend({\n\t\tinitialize : function(){\n\t\t\tthis.fit();\n\t\t},\n\t\tbuildYLabels : function(){\n\t\t\tthis.yLabels = [];\n\n\t\t\tvar stepDecimalPlaces = getDecimalPlaces(this.stepValue);\n\n\t\t\tfor (var i=0; i<=this.steps; i++){\n\t\t\t\tthis.yLabels.push(template(this.templateString,{value:(this.min + (i * this.stepValue)).toFixed(stepDecimalPlaces)}));\n\t\t\t}\n\t\t\tthis.yLabelWidth = (this.display && this.showLabels) ? longestText(this.ctx,this.font,this.yLabels) : 0;\n\t\t},\n\t\taddXLabel : function(label){\n\t\t\tthis.xLabels.push(label);\n\t\t\tthis.valuesCount++;\n\t\t\tthis.fit();\n\t\t},\n\t\tremoveXLabel : function(){\n\t\t\tthis.xLabels.shift();\n\t\t\tthis.valuesCount--;\n\t\t\tthis.fit();\n\t\t},\n\t\t// Fitting loop to rotate x Labels and figure out what fits there, and also calculate how many Y steps to use\n\t\tfit: function(){\n\t\t\t// First we need the width of the yLabels, assuming the xLabels aren't rotated\n\n\t\t\t// To do that we need the base line at the top and base of the chart, assuming there is no x label rotation\n\t\t\tthis.startPoint = (this.display) ? this.fontSize : 0;\n\t\t\tthis.endPoint = (this.display) ? this.height - (this.fontSize * 1.5) - 5 : this.height; // -5 to pad labels\n\n\t\t\t// Apply padding settings to the start and end point.\n\t\t\tthis.startPoint += this.padding;\n\t\t\tthis.endPoint -= this.padding;\n\n\t\t\t// Cache the starting height, so can determine if we need to recalculate the scale yAxis\n\t\t\tvar cachedHeight = this.endPoint - this.startPoint,\n\t\t\t\tcachedYLabelWidth;\n\n\t\t\t// Build the current yLabels so we have an idea of what size they'll be to start\n\t\t\t/*\n\t\t\t *\tThis sets what is returned from calculateScaleRange as static properties of this class:\n\t\t\t *\n\t\t\t\tthis.steps;\n\t\t\t\tthis.stepValue;\n\t\t\t\tthis.min;\n\t\t\t\tthis.max;\n\t\t\t *\n\t\t\t */\n\t\t\tthis.calculateYRange(cachedHeight);\n\n\t\t\t// With these properties set we can now build the array of yLabels\n\t\t\t// and also the width of the largest yLabel\n\t\t\tthis.buildYLabels();\n\n\t\t\tthis.calculateXLabelRotation();\n\n\t\t\twhile((cachedHeight > this.endPoint - this.startPoint)){\n\t\t\t\tcachedHeight = this.endPoint - this.startPoint;\n\t\t\t\tcachedYLabelWidth = this.yLabelWidth;\n\n\t\t\t\tthis.calculateYRange(cachedHeight);\n\t\t\t\tthis.buildYLabels();\n\n\t\t\t\t// Only go through the xLabel loop again if the yLabel width has changed\n\t\t\t\tif (cachedYLabelWidth < this.yLabelWidth){\n\t\t\t\t\tthis.calculateXLabelRotation();\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\tcalculateXLabelRotation : function(){\n\t\t\t//Get the width of each grid by calculating the difference\n\t\t\t//between x offsets between 0 and 1.\n\n\t\t\tthis.ctx.font = this.font;\n\n\t\t\tvar firstWidth = this.ctx.measureText(this.xLabels[0]).width,\n\t\t\t\tlastWidth = this.ctx.measureText(this.xLabels[this.xLabels.length - 1]).width,\n\t\t\t\tfirstRotated,\n\t\t\t\tlastRotated;\n\n\n\t\t\tthis.xScalePaddingRight = lastWidth/2 + 3;\n\t\t\tthis.xScalePaddingLeft = (firstWidth/2 > this.yLabelWidth + 10) ? firstWidth/2 : this.yLabelWidth + 10;\n\n\t\t\tthis.xLabelRotation = 0;\n\t\t\tif (this.display){\n\t\t\t\tvar originalLabelWidth = longestText(this.ctx,this.font,this.xLabels),\n\t\t\t\t\tcosRotation,\n\t\t\t\t\tfirstRotatedWidth;\n\t\t\t\tthis.xLabelWidth = originalLabelWidth;\n\t\t\t\t//Allow 3 pixels x2 padding either side for label readability\n\t\t\t\tvar xGridWidth = Math.floor(this.calculateX(1) - this.calculateX(0)) - 6;\n\n\t\t\t\t//Max label rotate should be 90 - also act as a loop counter\n\t\t\t\twhile ((this.xLabelWidth > xGridWidth && this.xLabelRotation === 0) || (this.xLabelWidth > xGridWidth && this.xLabelRotation <= 90 && this.xLabelRotation > 0)){\n\t\t\t\t\tcosRotation = Math.cos(toRadians(this.xLabelRotation));\n\n\t\t\t\t\tfirstRotated = cosRotation * firstWidth;\n\t\t\t\t\tlastRotated = cosRotation * lastWidth;\n\n\t\t\t\t\t// We're right aligning the text now.\n\t\t\t\t\tif (firstRotated + this.fontSize / 2 > this.yLabelWidth + 8){\n\t\t\t\t\t\tthis.xScalePaddingLeft = firstRotated + this.fontSize / 2;\n\t\t\t\t\t}\n\t\t\t\t\tthis.xScalePaddingRight = this.fontSize/2;\n\n\n\t\t\t\t\tthis.xLabelRotation++;\n\t\t\t\t\tthis.xLabelWidth = cosRotation * originalLabelWidth;\n\n\t\t\t\t}\n\t\t\t\tif (this.xLabelRotation > 0){\n\t\t\t\t\tthis.endPoint -= Math.sin(toRadians(this.xLabelRotation))*originalLabelWidth + 3;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.xLabelWidth = 0;\n\t\t\t\tthis.xScalePaddingRight = this.padding;\n\t\t\t\tthis.xScalePaddingLeft = this.padding;\n\t\t\t}\n\n\t\t},\n\t\t// Needs to be overidden in each Chart type\n\t\t// Otherwise we need to pass all the data into the scale class\n\t\tcalculateYRange: noop,\n\t\tdrawingArea: function(){\n\t\t\treturn this.startPoint - this.endPoint;\n\t\t},\n\t\tcalculateY : function(value){\n\t\t\tvar scalingFactor = this.drawingArea() / (this.min - this.max);\n\t\t\treturn this.endPoint - (scalingFactor * (value - this.min));\n\t\t},\n\t\tcalculateX : function(index){\n\t\t\tvar isRotated = (this.xLabelRotation > 0),\n\t\t\t\t// innerWidth = (this.offsetGridLines) ? this.width - offsetLeft - this.padding : this.width - (offsetLeft + halfLabelWidth * 2) - this.padding,\n\t\t\t\tinnerWidth = this.width - (this.xScalePaddingLeft + this.xScalePaddingRight),\n\t\t\t\tvalueWidth = innerWidth/Math.max((this.valuesCount - ((this.offsetGridLines) ? 0 : 1)), 1),\n\t\t\t\tvalueOffset = (valueWidth * index) + this.xScalePaddingLeft;\n\n\t\t\tif (this.offsetGridLines){\n\t\t\t\tvalueOffset += (valueWidth/2);\n\t\t\t}\n\n\t\t\treturn Math.round(valueOffset);\n\t\t},\n\t\tupdate : function(newProps){\n\t\t\thelpers.extend(this, newProps);\n\t\t\tthis.fit();\n\t\t},\n\t\tdraw : function(){\n\t\t\tvar ctx = this.ctx,\n\t\t\t\tyLabelGap = (this.endPoint - this.startPoint) / this.steps,\n\t\t\t\txStart = Math.round(this.xScalePaddingLeft);\n\t\t\tif (this.display){\n\t\t\t\tctx.fillStyle = this.textColor;\n\t\t\t\tctx.font = this.font;\n\t\t\t\teach(this.yLabels,function(labelString,index){\n\t\t\t\t\tvar yLabelCenter = this.endPoint - (yLabelGap * index),\n\t\t\t\t\t\tlinePositionY = Math.round(yLabelCenter),\n\t\t\t\t\t\tdrawHorizontalLine = this.showHorizontalLines;\n\n\t\t\t\t\tctx.textAlign = \"right\";\n\t\t\t\t\tctx.textBaseline = \"middle\";\n\t\t\t\t\tif (this.showLabels){\n\t\t\t\t\t\tctx.fillText(labelString,xStart - 10,yLabelCenter);\n\t\t\t\t\t}\n\n\t\t\t\t\t// This is X axis, so draw it\n\t\t\t\t\tif (index === 0 && !drawHorizontalLine){\n\t\t\t\t\t\tdrawHorizontalLine = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (drawHorizontalLine){\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (index > 0){\n\t\t\t\t\t\t// This is a grid line in the centre, so drop that\n\t\t\t\t\t\tctx.lineWidth = this.gridLineWidth;\n\t\t\t\t\t\tctx.strokeStyle = this.gridLineColor;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// This is the first line on the scale\n\t\t\t\t\t\tctx.lineWidth = this.lineWidth;\n\t\t\t\t\t\tctx.strokeStyle = this.lineColor;\n\t\t\t\t\t}\n\n\t\t\t\t\tlinePositionY += helpers.aliasPixel(ctx.lineWidth);\n\n\t\t\t\t\tif(drawHorizontalLine){\n\t\t\t\t\t\tctx.moveTo(xStart, linePositionY);\n\t\t\t\t\t\tctx.lineTo(this.width, linePositionY);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.lineWidth = this.lineWidth;\n\t\t\t\t\tctx.strokeStyle = this.lineColor;\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(xStart - 5, linePositionY);\n\t\t\t\t\tctx.lineTo(xStart, linePositionY);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t\tctx.closePath();\n\n\t\t\t\t},this);\n\n\t\t\t\teach(this.xLabels,function(label,index){\n\t\t\t\t\tvar xPos = this.calculateX(index) + aliasPixel(this.lineWidth),\n\t\t\t\t\t\t// Check to see if line/bar here and decide where to place the line\n\t\t\t\t\t\tlinePos = this.calculateX(index - (this.offsetGridLines ? 0.5 : 0)) + aliasPixel(this.lineWidth),\n\t\t\t\t\t\tisRotated = (this.xLabelRotation > 0),\n\t\t\t\t\t\tdrawVerticalLine = this.showVerticalLines;\n\n\t\t\t\t\t// This is Y axis, so draw it\n\t\t\t\t\tif (index === 0 && !drawVerticalLine){\n\t\t\t\t\t\tdrawVerticalLine = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (drawVerticalLine){\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (index > 0){\n\t\t\t\t\t\t// This is a grid line in the centre, so drop that\n\t\t\t\t\t\tctx.lineWidth = this.gridLineWidth;\n\t\t\t\t\t\tctx.strokeStyle = this.gridLineColor;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// This is the first line on the scale\n\t\t\t\t\t\tctx.lineWidth = this.lineWidth;\n\t\t\t\t\t\tctx.strokeStyle = this.lineColor;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (drawVerticalLine){\n\t\t\t\t\t\tctx.moveTo(linePos,this.endPoint);\n\t\t\t\t\t\tctx.lineTo(linePos,this.startPoint - 3);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t}\n\n\n\t\t\t\t\tctx.lineWidth = this.lineWidth;\n\t\t\t\t\tctx.strokeStyle = this.lineColor;\n\n\n\t\t\t\t\t// Small lines at the bottom of the base grid line\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(linePos,this.endPoint);\n\t\t\t\t\tctx.lineTo(linePos,this.endPoint + 5);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t\tctx.closePath();\n\n\t\t\t\t\tctx.save();\n\t\t\t\t\tctx.translate(xPos,(isRotated) ? this.endPoint + 12 : this.endPoint + 8);\n\t\t\t\t\tctx.rotate(toRadians(this.xLabelRotation)*-1);\n\t\t\t\t\tctx.font = this.font;\n\t\t\t\t\tctx.textAlign = (isRotated) ? \"right\" : \"center\";\n\t\t\t\t\tctx.textBaseline = (isRotated) ? \"middle\" : \"top\";\n\t\t\t\t\tctx.fillText(label, 0, 0);\n\t\t\t\t\tctx.restore();\n\t\t\t\t},this);\n\n\t\t\t}\n\t\t}\n\n\t});\n\n\tChart.RadialScale = Chart.Element.extend({\n\t\tinitialize: function(){\n\t\t\tthis.size = min([this.height, this.width]);\n\t\t\tthis.drawingArea = (this.display) ? (this.size/2) - (this.fontSize/2 + this.backdropPaddingY) : (this.size/2);\n\t\t},\n\t\tcalculateCenterOffset: function(value){\n\t\t\t// Take into account half font size + the yPadding of the top value\n\t\t\tvar scalingFactor = this.drawingArea / (this.max - this.min);\n\n\t\t\treturn (value - this.min) * scalingFactor;\n\t\t},\n\t\tupdate : function(){\n\t\t\tif (!this.lineArc){\n\t\t\t\tthis.setScaleSize();\n\t\t\t} else {\n\t\t\t\tthis.drawingArea = (this.display) ? (this.size/2) - (this.fontSize/2 + this.backdropPaddingY) : (this.size/2);\n\t\t\t}\n\t\t\tthis.buildYLabels();\n\t\t},\n\t\tbuildYLabels: function(){\n\t\t\tthis.yLabels = [];\n\n\t\t\tvar stepDecimalPlaces = getDecimalPlaces(this.stepValue);\n\n\t\t\tfor (var i=0; i<=this.steps; i++){\n\t\t\t\tthis.yLabels.push(template(this.templateString,{value:(this.min + (i * this.stepValue)).toFixed(stepDecimalPlaces)}));\n\t\t\t}\n\t\t},\n\t\tgetCircumference : function(){\n\t\t\treturn ((Math.PI*2) / this.valuesCount);\n\t\t},\n\t\tsetScaleSize: function(){\n\t\t\t/*\n\t\t\t * Right, this is really confusing and there is a lot of maths going on here\n\t\t\t * The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9\n\t\t\t *\n\t\t\t * Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif\n\t\t\t *\n\t\t\t * Solution:\n\t\t\t *\n\t\t\t * We assume the radius of the polygon is half the size of the canvas at first\n\t\t\t * at each index we check if the text overlaps.\n\t\t\t *\n\t\t\t * Where it does, we store that angle and that index.\n\t\t\t *\n\t\t\t * After finding the largest index and angle we calculate how much we need to remove\n\t\t\t * from the shape radius to move the point inwards by that x.\n\t\t\t *\n\t\t\t * We average the left and right distances to get the maximum shape radius that can fit in the box\n\t\t\t * along with labels.\n\t\t\t *\n\t\t\t * Once we have that, we can find the centre point for the chart, by taking the x text protrusion\n\t\t\t * on each side, removing that from the size, halving it and adding the left x protrusion width.\n\t\t\t *\n\t\t\t * This will mean we have a shape fitted to the canvas, as large as it can be with the labels\n\t\t\t * and position it in the most space efficient manner\n\t\t\t *\n\t\t\t * https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif\n\t\t\t */\n\n\n\t\t\t// Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.\n\t\t\t// Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points\n\t\t\tvar largestPossibleRadius = min([(this.height/2 - this.pointLabelFontSize - 5), this.width/2]),\n\t\t\t\tpointPosition,\n\t\t\t\ti,\n\t\t\t\ttextWidth,\n\t\t\t\thalfTextWidth,\n\t\t\t\tfurthestRight = this.width,\n\t\t\t\tfurthestRightIndex,\n\t\t\t\tfurthestRightAngle,\n\t\t\t\tfurthestLeft = 0,\n\t\t\t\tfurthestLeftIndex,\n\t\t\t\tfurthestLeftAngle,\n\t\t\t\txProtrusionLeft,\n\t\t\t\txProtrusionRight,\n\t\t\t\tradiusReductionRight,\n\t\t\t\tradiusReductionLeft,\n\t\t\t\tmaxWidthRadius;\n\t\t\tthis.ctx.font = fontString(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily);\n\t\t\tfor (i=0;i<this.valuesCount;i++){\n\t\t\t\t// 5px to space the text slightly out - similar to what we do in the draw function.\n\t\t\t\tpointPosition = this.getPointPosition(i, largestPossibleRadius);\n\t\t\t\ttextWidth = this.ctx.measureText(template(this.templateString, { value: this.labels[i] })).width + 5;\n\t\t\t\tif (i === 0 || i === this.valuesCount/2){\n\t\t\t\t\t// If we're at index zero, or exactly the middle, we're at exactly the top/bottom\n\t\t\t\t\t// of the radar chart, so text will be aligned centrally, so we'll half it and compare\n\t\t\t\t\t// w/left and right text sizes\n\t\t\t\t\thalfTextWidth = textWidth/2;\n\t\t\t\t\tif (pointPosition.x + halfTextWidth > furthestRight) {\n\t\t\t\t\t\tfurthestRight = pointPosition.x + halfTextWidth;\n\t\t\t\t\t\tfurthestRightIndex = i;\n\t\t\t\t\t}\n\t\t\t\t\tif (pointPosition.x - halfTextWidth < furthestLeft) {\n\t\t\t\t\t\tfurthestLeft = pointPosition.x - halfTextWidth;\n\t\t\t\t\t\tfurthestLeftIndex = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (i < this.valuesCount/2) {\n\t\t\t\t\t// Less than half the values means we'll left align the text\n\t\t\t\t\tif (pointPosition.x + textWidth > furthestRight) {\n\t\t\t\t\t\tfurthestRight = pointPosition.x + textWidth;\n\t\t\t\t\t\tfurthestRightIndex = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (i > this.valuesCount/2){\n\t\t\t\t\t// More than half the values means we'll right align the text\n\t\t\t\t\tif (pointPosition.x - textWidth < furthestLeft) {\n\t\t\t\t\t\tfurthestLeft = pointPosition.x - textWidth;\n\t\t\t\t\t\tfurthestLeftIndex = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\txProtrusionLeft = furthestLeft;\n\n\t\t\txProtrusionRight = Math.ceil(furthestRight - this.width);\n\n\t\t\tfurthestRightAngle = this.getIndexAngle(furthestRightIndex);\n\n\t\t\tfurthestLeftAngle = this.getIndexAngle(furthestLeftIndex);\n\n\t\t\tradiusReductionRight = xProtrusionRight / Math.sin(furthestRightAngle + Math.PI/2);\n\n\t\t\tradiusReductionLeft = xProtrusionLeft / Math.sin(furthestLeftAngle + Math.PI/2);\n\n\t\t\t// Ensure we actually need to reduce the size of the chart\n\t\t\tradiusReductionRight = (isNumber(radiusReductionRight)) ? radiusReductionRight : 0;\n\t\t\tradiusReductionLeft = (isNumber(radiusReductionLeft)) ? radiusReductionLeft : 0;\n\n\t\t\tthis.drawingArea = largestPossibleRadius - (radiusReductionLeft + radiusReductionRight)/2;\n\n\t\t\t//this.drawingArea = min([maxWidthRadius, (this.height - (2 * (this.pointLabelFontSize + 5)))/2])\n\t\t\tthis.setCenterPoint(radiusReductionLeft, radiusReductionRight);\n\n\t\t},\n\t\tsetCenterPoint: function(leftMovement, rightMovement){\n\n\t\t\tvar maxRight = this.width - rightMovement - this.drawingArea,\n\t\t\t\tmaxLeft = leftMovement + this.drawingArea;\n\n\t\t\tthis.xCenter = (maxLeft + maxRight)/2;\n\t\t\t// Always vertically in the centre as the text height doesn't change\n\t\t\tthis.yCenter = (this.height/2);\n\t\t},\n\n\t\tgetIndexAngle : function(index){\n\t\t\tvar angleMultiplier = (Math.PI * 2) / this.valuesCount;\n\t\t\t// Start from the top instead of right, so remove a quarter of the circle\n\n\t\t\treturn index * angleMultiplier - (Math.PI/2);\n\t\t},\n\t\tgetPointPosition : function(index, distanceFromCenter){\n\t\t\tvar thisAngle = this.getIndexAngle(index);\n\t\t\treturn {\n\t\t\t\tx : (Math.cos(thisAngle) * distanceFromCenter) + this.xCenter,\n\t\t\t\ty : (Math.sin(thisAngle) * distanceFromCenter) + this.yCenter\n\t\t\t};\n\t\t},\n\t\tdraw: function(){\n\t\t\tif (this.display){\n\t\t\t\tvar ctx = this.ctx;\n\t\t\t\teach(this.yLabels, function(label, index){\n\t\t\t\t\t// Don't draw a centre value\n\t\t\t\t\tif (index > 0){\n\t\t\t\t\t\tvar yCenterOffset = index * (this.drawingArea/this.steps),\n\t\t\t\t\t\t\tyHeight = this.yCenter - yCenterOffset,\n\t\t\t\t\t\t\tpointPosition;\n\n\t\t\t\t\t\t// Draw circular lines around the scale\n\t\t\t\t\t\tif (this.lineWidth > 0){\n\t\t\t\t\t\t\tctx.strokeStyle = this.lineColor;\n\t\t\t\t\t\t\tctx.lineWidth = this.lineWidth;\n\n\t\t\t\t\t\t\tif(this.lineArc){\n\t\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\t\tctx.arc(this.xCenter, this.yCenter, yCenterOffset, 0, Math.PI*2);\n\t\t\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\t\tfor (var i=0;i<this.valuesCount;i++)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpointPosition = this.getPointPosition(i, this.calculateCenterOffset(this.min + (index * this.stepValue)));\n\t\t\t\t\t\t\t\t\tif (i === 0){\n\t\t\t\t\t\t\t\t\t\tctx.moveTo(pointPosition.x, pointPosition.y);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tctx.lineTo(pointPosition.x, pointPosition.y);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(this.showLabels){\n\t\t\t\t\t\t\tctx.font = fontString(this.fontSize,this.fontStyle,this.fontFamily);\n\t\t\t\t\t\t\tif (this.showLabelBackdrop){\n\t\t\t\t\t\t\t\tvar labelWidth = ctx.measureText(label).width;\n\t\t\t\t\t\t\t\tctx.fillStyle = this.backdropColor;\n\t\t\t\t\t\t\t\tctx.fillRect(\n\t\t\t\t\t\t\t\t\tthis.xCenter - labelWidth/2 - this.backdropPaddingX,\n\t\t\t\t\t\t\t\t\tyHeight - this.fontSize/2 - this.backdropPaddingY,\n\t\t\t\t\t\t\t\t\tlabelWidth + this.backdropPaddingX*2,\n\t\t\t\t\t\t\t\t\tthis.fontSize + this.backdropPaddingY*2\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tctx.textAlign = 'center';\n\t\t\t\t\t\t\tctx.textBaseline = \"middle\";\n\t\t\t\t\t\t\tctx.fillStyle = this.fontColor;\n\t\t\t\t\t\t\tctx.fillText(label, this.xCenter, yHeight);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\n\t\t\t\tif (!this.lineArc){\n\t\t\t\t\tctx.lineWidth = this.angleLineWidth;\n\t\t\t\t\tctx.strokeStyle = this.angleLineColor;\n\t\t\t\t\tfor (var i = this.valuesCount - 1; i >= 0; i--) {\n\t\t\t\t\t\tif (this.angleLineWidth > 0){\n\t\t\t\t\t\t\tvar outerPosition = this.getPointPosition(i, this.calculateCenterOffset(this.max));\n\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\tctx.moveTo(this.xCenter, this.yCenter);\n\t\t\t\t\t\t\tctx.lineTo(outerPosition.x, outerPosition.y);\n\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Extra 3px out for some label spacing\n\t\t\t\t\t\tvar pointLabelPosition = this.getPointPosition(i, this.calculateCenterOffset(this.max) + 5);\n\t\t\t\t\t\tctx.font = fontString(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily);\n\t\t\t\t\t\tctx.fillStyle = this.pointLabelFontColor;\n\n\t\t\t\t\t\tvar labelsCount = this.labels.length,\n\t\t\t\t\t\t\thalfLabelsCount = this.labels.length/2,\n\t\t\t\t\t\t\tquarterLabelsCount = halfLabelsCount/2,\n\t\t\t\t\t\t\tupperHalf = (i < quarterLabelsCount || i > labelsCount - quarterLabelsCount),\n\t\t\t\t\t\t\texactQuarter = (i === quarterLabelsCount || i === labelsCount - quarterLabelsCount);\n\t\t\t\t\t\tif (i === 0){\n\t\t\t\t\t\t\tctx.textAlign = 'center';\n\t\t\t\t\t\t} else if(i === halfLabelsCount){\n\t\t\t\t\t\t\tctx.textAlign = 'center';\n\t\t\t\t\t\t} else if (i < halfLabelsCount){\n\t\t\t\t\t\t\tctx.textAlign = 'left';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tctx.textAlign = 'right';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Set the correct text baseline based on outer positioning\n\t\t\t\t\t\tif (exactQuarter){\n\t\t\t\t\t\t\tctx.textBaseline = 'middle';\n\t\t\t\t\t\t} else if (upperHalf){\n\t\t\t\t\t\t\tctx.textBaseline = 'bottom';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tctx.textBaseline = 'top';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tctx.fillText(this.labels[i], pointLabelPosition.x, pointLabelPosition.y);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t// Attach global event to resize each chart instance when the browser resizes\n\thelpers.addEvent(window, \"resize\", (function(){\n\t\t// Basic debounce of resize function so it doesn't hurt performance when resizing browser.\n\t\tvar timeout;\n\t\treturn function(){\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(function(){\n\t\t\t\teach(Chart.instances,function(instance){\n\t\t\t\t\t// If the responsive flag is set in the chart instance config\n\t\t\t\t\t// Cascade the resize event down to the chart.\n\t\t\t\t\tif (instance.options.responsive){\n\t\t\t\t\t\tinstance.resize(instance.render, true);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, 50);\n\t\t};\n\t})());\n\n\n\tif (amd) {\n\t\tdefine(function(){\n\t\t\treturn Chart;\n\t\t});\n\t} else if (typeof module === 'object' && module.exports) {\n\t\tmodule.exports = Chart;\n\t}\n\n\troot.Chart = Chart;\n\n\tChart.noConflict = function(){\n\t\troot.Chart = previous;\n\t\treturn Chart;\n\t};\n\n}).call(this);\n\n(function(){\n\t\"use strict\";\n\n\tvar root = this,\n\t\tChart = root.Chart,\n\t\thelpers = Chart.helpers;\n\n\n\tvar defaultConfig = {\n\t\t//Boolean - Whether the scale should start at zero, or an order of magnitude down from the lowest value\n\t\tscaleBeginAtZero : true,\n\n\t\t//Boolean - Whether grid lines are shown across the chart\n\t\tscaleShowGridLines : true,\n\n\t\t//String - Colour of the grid lines\n\t\tscaleGridLineColor : \"rgba(0,0,0,.05)\",\n\n\t\t//Number - Width of the grid lines\n\t\tscaleGridLineWidth : 1,\n\n\t\t//Boolean - Whether to show horizontal lines (except X axis)\n\t\tscaleShowHorizontalLines: true,\n\n\t\t//Boolean - Whether to show vertical lines (except Y axis)\n\t\tscaleShowVerticalLines: true,\n\n\t\t//Boolean - If there is a stroke on each bar\n\t\tbarShowStroke : true,\n\n\t\t//Number - Pixel width of the bar stroke\n\t\tbarStrokeWidth : 2,\n\n\t\t//Number - Spacing between each of the X value sets\n\t\tbarValueSpacing : 5,\n\n\t\t//Number - Spacing between data sets within X values\n\t\tbarDatasetSpacing : 1,\n\n\t\t//String - A legend template\n\t\tlegendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\\\"background-color:<%=datasets[i].fillColor%>\\\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>\"\n\n\t};\n\n\n\tChart.Type.extend({\n\t\tname: \"Bar\",\n\t\tdefaults : defaultConfig,\n\t\tinitialize:  function(data){\n\n\t\t\t//Expose options as a scope variable here so we can access it in the ScaleClass\n\t\t\tvar options = this.options;\n\n\t\t\tthis.ScaleClass = Chart.Scale.extend({\n\t\t\t\toffsetGridLines : true,\n\t\t\t\tcalculateBarX : function(datasetCount, datasetIndex, barIndex){\n\t\t\t\t\t//Reusable method for calculating the xPosition of a given bar based on datasetIndex & width of the bar\n\t\t\t\t\tvar xWidth = this.calculateBaseWidth(),\n\t\t\t\t\t\txAbsolute = this.calculateX(barIndex) - (xWidth/2),\n\t\t\t\t\t\tbarWidth = this.calculateBarWidth(datasetCount);\n\n\t\t\t\t\treturn xAbsolute + (barWidth * datasetIndex) + (datasetIndex * options.barDatasetSpacing) + barWidth/2;\n\t\t\t\t},\n\t\t\t\tcalculateBaseWidth : function(){\n\t\t\t\t\treturn (this.calculateX(1) - this.calculateX(0)) - (2*options.barValueSpacing);\n\t\t\t\t},\n\t\t\t\tcalculateBarWidth : function(datasetCount){\n\t\t\t\t\t//The padding between datasets is to the right of each bar, providing that there are more than 1 dataset\n\t\t\t\t\tvar baseWidth = this.calculateBaseWidth() - ((datasetCount - 1) * options.barDatasetSpacing);\n\n\t\t\t\t\treturn (baseWidth / datasetCount);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.datasets = [];\n\n\t\t\t//Set up tooltip events on the chart\n\t\t\tif (this.options.showTooltips){\n\t\t\t\thelpers.bindEvents(this, this.options.tooltipEvents, function(evt){\n\t\t\t\t\tvar activeBars = (evt.type !== 'mouseout') ? this.getBarsAtEvent(evt) : [];\n\n\t\t\t\t\tthis.eachBars(function(bar){\n\t\t\t\t\t\tbar.restore(['fillColor', 'strokeColor']);\n\t\t\t\t\t});\n\t\t\t\t\thelpers.each(activeBars, function(activeBar){\n\t\t\t\t\t\tactiveBar.fillColor = activeBar.highlightFill;\n\t\t\t\t\t\tactiveBar.strokeColor = activeBar.highlightStroke;\n\t\t\t\t\t});\n\t\t\t\t\tthis.showTooltip(activeBars);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t//Declare the extension of the default point, to cater for the options passed in to the constructor\n\t\t\tthis.BarClass = Chart.Rectangle.extend({\n\t\t\t\tstrokeWidth : this.options.barStrokeWidth,\n\t\t\t\tshowStroke : this.options.barShowStroke,\n\t\t\t\tctx : this.chart.ctx\n\t\t\t});\n\n\t\t\t//Iterate through each of the datasets, and build this into a property of the chart\n\t\t\thelpers.each(data.datasets,function(dataset,datasetIndex){\n\n\t\t\t\tvar datasetObject = {\n\t\t\t\t\tlabel : dataset.label || null,\n\t\t\t\t\tfillColor : dataset.fillColor,\n\t\t\t\t\tstrokeColor : dataset.strokeColor,\n\t\t\t\t\tbars : []\n\t\t\t\t};\n\n\t\t\t\tthis.datasets.push(datasetObject);\n\n\t\t\t\thelpers.each(dataset.data,function(dataPoint,index){\n\t\t\t\t\t//Add a new point for each piece of data, passing any required data to draw.\n\t\t\t\t\tdatasetObject.bars.push(new this.BarClass({\n\t\t\t\t\t\tvalue : dataPoint,\n\t\t\t\t\t\tlabel : data.labels[index],\n\t\t\t\t\t\tdatasetLabel: dataset.label,\n\t\t\t\t\t\tstrokeColor : dataset.strokeColor,\n\t\t\t\t\t\tfillColor : dataset.fillColor,\n\t\t\t\t\t\thighlightFill : dataset.highlightFill || dataset.fillColor,\n\t\t\t\t\t\thighlightStroke : dataset.highlightStroke || dataset.strokeColor\n\t\t\t\t\t}));\n\t\t\t\t},this);\n\n\t\t\t},this);\n\n\t\t\tthis.buildScale(data.labels);\n\n\t\t\tthis.BarClass.prototype.base = this.scale.endPoint;\n\n\t\t\tthis.eachBars(function(bar, index, datasetIndex){\n\t\t\t\thelpers.extend(bar, {\n\t\t\t\t\twidth : this.scale.calculateBarWidth(this.datasets.length),\n\t\t\t\t\tx: this.scale.calculateBarX(this.datasets.length, datasetIndex, index),\n\t\t\t\t\ty: this.scale.endPoint\n\t\t\t\t});\n\t\t\t\tbar.save();\n\t\t\t}, this);\n\n\t\t\tthis.render();\n\t\t},\n\t\tupdate : function(){\n\t\t\tthis.scale.update();\n\t\t\t// Reset any highlight colours before updating.\n\t\t\thelpers.each(this.activeElements, function(activeElement){\n\t\t\t\tactiveElement.restore(['fillColor', 'strokeColor']);\n\t\t\t});\n\n\t\t\tthis.eachBars(function(bar){\n\t\t\t\tbar.save();\n\t\t\t});\n\t\t\tthis.render();\n\t\t},\n\t\teachBars : function(callback){\n\t\t\thelpers.each(this.datasets,function(dataset, datasetIndex){\n\t\t\t\thelpers.each(dataset.bars, callback, this, datasetIndex);\n\t\t\t},this);\n\t\t},\n\t\tgetBarsAtEvent : function(e){\n\t\t\tvar barsArray = [],\n\t\t\t\teventPosition = helpers.getRelativePosition(e),\n\t\t\t\tdatasetIterator = function(dataset){\n\t\t\t\t\tbarsArray.push(dataset.bars[barIndex]);\n\t\t\t\t},\n\t\t\t\tbarIndex;\n\n\t\t\tfor (var datasetIndex = 0; datasetIndex < this.datasets.length; datasetIndex++) {\n\t\t\t\tfor (barIndex = 0; barIndex < this.datasets[datasetIndex].bars.length; barIndex++) {\n\t\t\t\t\tif (this.datasets[datasetIndex].bars[barIndex].inRange(eventPosition.x,eventPosition.y)){\n\t\t\t\t\t\thelpers.each(this.datasets, datasetIterator);\n\t\t\t\t\t\treturn barsArray;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn barsArray;\n\t\t},\n\t\tbuildScale : function(labels){\n\t\t\tvar self = this;\n\n\t\t\tvar dataTotal = function(){\n\t\t\t\tvar values = [];\n\t\t\t\tself.eachBars(function(bar){\n\t\t\t\t\tvalues.push(bar.value);\n\t\t\t\t});\n\t\t\t\treturn values;\n\t\t\t};\n\n\t\t\tvar scaleOptions = {\n\t\t\t\ttemplateString : this.options.scaleLabel,\n\t\t\t\theight : this.chart.height,\n\t\t\t\twidth : this.chart.width,\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\ttextColor : this.options.scaleFontColor,\n\t\t\t\tfontSize : this.options.scaleFontSize,\n\t\t\t\tfontStyle : this.options.scaleFontStyle,\n\t\t\t\tfontFamily : this.options.scaleFontFamily,\n\t\t\t\tvaluesCount : labels.length,\n\t\t\t\tbeginAtZero : this.options.scaleBeginAtZero,\n\t\t\t\tintegersOnly : this.options.scaleIntegersOnly,\n\t\t\t\tcalculateYRange: function(currentHeight){\n\t\t\t\t\tvar updatedRanges = helpers.calculateScaleRange(\n\t\t\t\t\t\tdataTotal(),\n\t\t\t\t\t\tcurrentHeight,\n\t\t\t\t\t\tthis.fontSize,\n\t\t\t\t\t\tthis.beginAtZero,\n\t\t\t\t\t\tthis.integersOnly\n\t\t\t\t\t);\n\t\t\t\t\thelpers.extend(this, updatedRanges);\n\t\t\t\t},\n\t\t\t\txLabels : labels,\n\t\t\t\tfont : helpers.fontString(this.options.scaleFontSize, this.options.scaleFontStyle, this.options.scaleFontFamily),\n\t\t\t\tlineWidth : this.options.scaleLineWidth,\n\t\t\t\tlineColor : this.options.scaleLineColor,\n\t\t\t\tshowHorizontalLines : this.options.scaleShowHorizontalLines,\n\t\t\t\tshowVerticalLines : this.options.scaleShowVerticalLines,\n\t\t\t\tgridLineWidth : (this.options.scaleShowGridLines) ? this.options.scaleGridLineWidth : 0,\n\t\t\t\tgridLineColor : (this.options.scaleShowGridLines) ? this.options.scaleGridLineColor : \"rgba(0,0,0,0)\",\n\t\t\t\tpadding : (this.options.showScale) ? 0 : (this.options.barShowStroke) ? this.options.barStrokeWidth : 0,\n\t\t\t\tshowLabels : this.options.scaleShowLabels,\n\t\t\t\tdisplay : this.options.showScale\n\t\t\t};\n\n\t\t\tif (this.options.scaleOverride){\n\t\t\t\thelpers.extend(scaleOptions, {\n\t\t\t\t\tcalculateYRange: helpers.noop,\n\t\t\t\t\tsteps: this.options.scaleSteps,\n\t\t\t\t\tstepValue: this.options.scaleStepWidth,\n\t\t\t\t\tmin: this.options.scaleStartValue,\n\t\t\t\t\tmax: this.options.scaleStartValue + (this.options.scaleSteps * this.options.scaleStepWidth)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.scale = new this.ScaleClass(scaleOptions);\n\t\t},\n\t\taddData : function(valuesArray,label){\n\t\t\t//Map the values array for each of the datasets\n\t\t\thelpers.each(valuesArray,function(value,datasetIndex){\n\t\t\t\t//Add a new point for each piece of data, passing any required data to draw.\n\t\t\t\tthis.datasets[datasetIndex].bars.push(new this.BarClass({\n\t\t\t\t\tvalue : value,\n\t\t\t\t\tlabel : label,\n\t\t\t\t\tx: this.scale.calculateBarX(this.datasets.length, datasetIndex, this.scale.valuesCount+1),\n\t\t\t\t\ty: this.scale.endPoint,\n\t\t\t\t\twidth : this.scale.calculateBarWidth(this.datasets.length),\n\t\t\t\t\tbase : this.scale.endPoint,\n\t\t\t\t\tstrokeColor : this.datasets[datasetIndex].strokeColor,\n\t\t\t\t\tfillColor : this.datasets[datasetIndex].fillColor\n\t\t\t\t}));\n\t\t\t},this);\n\n\t\t\tthis.scale.addXLabel(label);\n\t\t\t//Then re-render the chart.\n\t\t\tthis.update();\n\t\t},\n\t\tremoveData : function(){\n\t\t\tthis.scale.removeXLabel();\n\t\t\t//Then re-render the chart.\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\tdataset.bars.shift();\n\t\t\t},this);\n\t\t\tthis.update();\n\t\t},\n\t\treflow : function(){\n\t\t\thelpers.extend(this.BarClass.prototype,{\n\t\t\t\ty: this.scale.endPoint,\n\t\t\t\tbase : this.scale.endPoint\n\t\t\t});\n\t\t\tvar newScaleProps = helpers.extend({\n\t\t\t\theight : this.chart.height,\n\t\t\t\twidth : this.chart.width\n\t\t\t});\n\t\t\tthis.scale.update(newScaleProps);\n\t\t},\n\t\tdraw : function(ease){\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\tthis.clear();\n\n\t\t\tvar ctx = this.chart.ctx;\n\n\t\t\tthis.scale.draw(easingDecimal);\n\n\t\t\t//Draw all the bars for each dataset\n\t\t\thelpers.each(this.datasets,function(dataset,datasetIndex){\n\t\t\t\thelpers.each(dataset.bars,function(bar,index){\n\t\t\t\t\tif (bar.hasValue()){\n\t\t\t\t\t\tbar.base = this.scale.endPoint;\n\t\t\t\t\t\t//Transition then draw\n\t\t\t\t\t\tbar.transition({\n\t\t\t\t\t\t\tx : this.scale.calculateBarX(this.datasets.length, datasetIndex, index),\n\t\t\t\t\t\t\ty : this.scale.calculateY(bar.value),\n\t\t\t\t\t\t\twidth : this.scale.calculateBarWidth(this.datasets.length)\n\t\t\t\t\t\t}, easingDecimal).draw();\n\t\t\t\t\t}\n\t\t\t\t},this);\n\n\t\t\t},this);\n\t\t}\n\t});\n\n\n}).call(this);\n\n(function(){\n\t\"use strict\";\n\n\tvar root = this,\n\t\tChart = root.Chart,\n\t\t//Cache a local reference to Chart.helpers\n\t\thelpers = Chart.helpers;\n\n\tvar defaultConfig = {\n\t\t//Boolean - Whether we should show a stroke on each segment\n\t\tsegmentShowStroke : true,\n\n\t\t//String - The colour of each segment stroke\n\t\tsegmentStrokeColor : \"#fff\",\n\n\t\t//Number - The width of each segment stroke\n\t\tsegmentStrokeWidth : 2,\n\n\t\t//The percentage of the chart that we cut out of the middle.\n\t\tpercentageInnerCutout : 50,\n\n\t\t//Number - Amount of animation steps\n\t\tanimationSteps : 100,\n\n\t\t//String - Animation easing effect\n\t\tanimationEasing : \"easeOutBounce\",\n\n\t\t//Boolean - Whether we animate the rotation of the Doughnut\n\t\tanimateRotate : true,\n\n\t\t//Boolean - Whether we animate scaling the Doughnut from the centre\n\t\tanimateScale : false,\n\n\t\t//String - A legend template\n\t\tlegendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<segments.length; i++){%><li><span style=\\\"background-color:<%=segments[i].fillColor%>\\\"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>\"\n\n\t};\n\n\n\tChart.Type.extend({\n\t\t//Passing in a name registers this chart in the Chart namespace\n\t\tname: \"Doughnut\",\n\t\t//Providing a defaults will also register the deafults in the chart namespace\n\t\tdefaults : defaultConfig,\n\t\t//Initialize is fired when the chart is initialized - Data is passed in as a parameter\n\t\t//Config is automatically merged by the core of Chart.js, and is available at this.options\n\t\tinitialize:  function(data){\n\n\t\t\t//Declare segments as a static property to prevent inheriting across the Chart type prototype\n\t\t\tthis.segments = [];\n\t\t\tthis.outerRadius = (helpers.min([this.chart.width,this.chart.height]) -\tthis.options.segmentStrokeWidth/2)/2;\n\n\t\t\tthis.SegmentArc = Chart.Arc.extend({\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\tx : this.chart.width/2,\n\t\t\t\ty : this.chart.height/2\n\t\t\t});\n\n\t\t\t//Set up tooltip events on the chart\n\t\t\tif (this.options.showTooltips){\n\t\t\t\thelpers.bindEvents(this, this.options.tooltipEvents, function(evt){\n\t\t\t\t\tvar activeSegments = (evt.type !== 'mouseout') ? this.getSegmentsAtEvent(evt) : [];\n\n\t\t\t\t\thelpers.each(this.segments,function(segment){\n\t\t\t\t\t\tsegment.restore([\"fillColor\"]);\n\t\t\t\t\t});\n\t\t\t\t\thelpers.each(activeSegments,function(activeSegment){\n\t\t\t\t\t\tactiveSegment.fillColor = activeSegment.highlightColor;\n\t\t\t\t\t});\n\t\t\t\t\tthis.showTooltip(activeSegments);\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.calculateTotal(data);\n\n\t\t\thelpers.each(data,function(datapoint, index){\n\t\t\t\tthis.addData(datapoint, index, true);\n\t\t\t},this);\n\n\t\t\tthis.render();\n\t\t},\n\t\tgetSegmentsAtEvent : function(e){\n\t\t\tvar segmentsArray = [];\n\n\t\t\tvar location = helpers.getRelativePosition(e);\n\n\t\t\thelpers.each(this.segments,function(segment){\n\t\t\t\tif (segment.inRange(location.x,location.y)) segmentsArray.push(segment);\n\t\t\t},this);\n\t\t\treturn segmentsArray;\n\t\t},\n\t\taddData : function(segment, atIndex, silent){\n\t\t\tvar index = atIndex || this.segments.length;\n\t\t\tthis.segments.splice(index, 0, new this.SegmentArc({\n\t\t\t\tvalue : segment.value,\n\t\t\t\touterRadius : (this.options.animateScale) ? 0 : this.outerRadius,\n\t\t\t\tinnerRadius : (this.options.animateScale) ? 0 : (this.outerRadius/100) * this.options.percentageInnerCutout,\n\t\t\t\tfillColor : segment.color,\n\t\t\t\thighlightColor : segment.highlight || segment.color,\n\t\t\t\tshowStroke : this.options.segmentShowStroke,\n\t\t\t\tstrokeWidth : this.options.segmentStrokeWidth,\n\t\t\t\tstrokeColor : this.options.segmentStrokeColor,\n\t\t\t\tstartAngle : Math.PI * 1.5,\n\t\t\t\tcircumference : (this.options.animateRotate) ? 0 : this.calculateCircumference(segment.value),\n\t\t\t\tlabel : segment.label\n\t\t\t}));\n\t\t\tif (!silent){\n\t\t\t\tthis.reflow();\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t},\n\t\tcalculateCircumference : function(value){\n\t\t\treturn (Math.PI*2)*(Math.abs(value) / this.total);\n\t\t},\n\t\tcalculateTotal : function(data){\n\t\t\tthis.total = 0;\n\t\t\thelpers.each(data,function(segment){\n\t\t\t\tthis.total += Math.abs(segment.value);\n\t\t\t},this);\n\t\t},\n\t\tupdate : function(){\n\t\t\tthis.calculateTotal(this.segments);\n\n\t\t\t// Reset any highlight colours before updating.\n\t\t\thelpers.each(this.activeElements, function(activeElement){\n\t\t\t\tactiveElement.restore(['fillColor']);\n\t\t\t});\n\n\t\t\thelpers.each(this.segments,function(segment){\n\t\t\t\tsegment.save();\n\t\t\t});\n\t\t\tthis.render();\n\t\t},\n\n\t\tremoveData: function(atIndex){\n\t\t\tvar indexToDelete = (helpers.isNumber(atIndex)) ? atIndex : this.segments.length-1;\n\t\t\tthis.segments.splice(indexToDelete, 1);\n\t\t\tthis.reflow();\n\t\t\tthis.update();\n\t\t},\n\n\t\treflow : function(){\n\t\t\thelpers.extend(this.SegmentArc.prototype,{\n\t\t\t\tx : this.chart.width/2,\n\t\t\t\ty : this.chart.height/2\n\t\t\t});\n\t\t\tthis.outerRadius = (helpers.min([this.chart.width,this.chart.height]) -\tthis.options.segmentStrokeWidth/2)/2;\n\t\t\thelpers.each(this.segments, function(segment){\n\t\t\t\tsegment.update({\n\t\t\t\t\touterRadius : this.outerRadius,\n\t\t\t\t\tinnerRadius : (this.outerRadius/100) * this.options.percentageInnerCutout\n\t\t\t\t});\n\t\t\t}, this);\n\t\t},\n\t\tdraw : function(easeDecimal){\n\t\t\tvar animDecimal = (easeDecimal) ? easeDecimal : 1;\n\t\t\tthis.clear();\n\t\t\thelpers.each(this.segments,function(segment,index){\n\t\t\t\tsegment.transition({\n\t\t\t\t\tcircumference : this.calculateCircumference(segment.value),\n\t\t\t\t\touterRadius : this.outerRadius,\n\t\t\t\t\tinnerRadius : (this.outerRadius/100) * this.options.percentageInnerCutout\n\t\t\t\t},animDecimal);\n\n\t\t\t\tsegment.endAngle = segment.startAngle + segment.circumference;\n\n\t\t\t\tsegment.draw();\n\t\t\t\tif (index === 0){\n\t\t\t\t\tsegment.startAngle = Math.PI * 1.5;\n\t\t\t\t}\n\t\t\t\t//Check to see if it's the last segment, if not get the next and update the start angle\n\t\t\t\tif (index < this.segments.length-1){\n\t\t\t\t\tthis.segments[index+1].startAngle = segment.endAngle;\n\t\t\t\t}\n\t\t\t},this);\n\n\t\t}\n\t});\n\n\tChart.types.Doughnut.extend({\n\t\tname : \"Pie\",\n\t\tdefaults : helpers.merge(defaultConfig,{percentageInnerCutout : 0})\n\t});\n\n}).call(this);\n(function(){\n\t\"use strict\";\n\n\tvar root = this,\n\t\tChart = root.Chart,\n\t\thelpers = Chart.helpers;\n\n\tvar defaultConfig = {\n\n\t\t///Boolean - Whether grid lines are shown across the chart\n\t\tscaleShowGridLines : true,\n\n\t\t//String - Colour of the grid lines\n\t\tscaleGridLineColor : \"rgba(0,0,0,.05)\",\n\n\t\t//Number - Width of the grid lines\n\t\tscaleGridLineWidth : 1,\n\n\t\t//Boolean - Whether to show horizontal lines (except X axis)\n\t\tscaleShowHorizontalLines: true,\n\n\t\t//Boolean - Whether to show vertical lines (except Y axis)\n\t\tscaleShowVerticalLines: true,\n\n\t\t//Boolean - Whether the line is curved between points\n\t\tbezierCurve : true,\n\n\t\t//Number - Tension of the bezier curve between points\n\t\tbezierCurveTension : 0.4,\n\n\t\t//Boolean - Whether to show a dot for each point\n\t\tpointDot : true,\n\n\t\t//Number - Radius of each point dot in pixels\n\t\tpointDotRadius : 4,\n\n\t\t//Number - Pixel width of point dot stroke\n\t\tpointDotStrokeWidth : 1,\n\n\t\t//Number - amount extra to add to the radius to cater for hit detection outside the drawn point\n\t\tpointHitDetectionRadius : 20,\n\n\t\t//Boolean - Whether to show a stroke for datasets\n\t\tdatasetStroke : true,\n\n\t\t//Number - Pixel width of dataset stroke\n\t\tdatasetStrokeWidth : 2,\n\n\t\t//Boolean - Whether to fill the dataset with a colour\n\t\tdatasetFill : true,\n\n\t\t//String - A legend template\n\t\tlegendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\\\"background-color:<%=datasets[i].strokeColor%>\\\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>\"\n\n\t};\n\n\n\tChart.Type.extend({\n\t\tname: \"Line\",\n\t\tdefaults : defaultConfig,\n\t\tinitialize:  function(data){\n\t\t\t//Declare the extension of the default point, to cater for the options passed in to the constructor\n\t\t\tthis.PointClass = Chart.Point.extend({\n\t\t\t\tstrokeWidth : this.options.pointDotStrokeWidth,\n\t\t\t\tradius : this.options.pointDotRadius,\n\t\t\t\tdisplay: this.options.pointDot,\n\t\t\t\thitDetectionRadius : this.options.pointHitDetectionRadius,\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\tinRange : function(mouseX){\n\t\t\t\t\treturn (Math.pow(mouseX-this.x, 2) < Math.pow(this.radius + this.hitDetectionRadius,2));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.datasets = [];\n\n\t\t\t//Set up tooltip events on the chart\n\t\t\tif (this.options.showTooltips){\n\t\t\t\thelpers.bindEvents(this, this.options.tooltipEvents, function(evt){\n\t\t\t\t\tvar activePoints = (evt.type !== 'mouseout') ? this.getPointsAtEvent(evt) : [];\n\t\t\t\t\tthis.eachPoints(function(point){\n\t\t\t\t\t\tpoint.restore(['fillColor', 'strokeColor']);\n\t\t\t\t\t});\n\t\t\t\t\thelpers.each(activePoints, function(activePoint){\n\t\t\t\t\t\tactivePoint.fillColor = activePoint.highlightFill;\n\t\t\t\t\t\tactivePoint.strokeColor = activePoint.highlightStroke;\n\t\t\t\t\t});\n\t\t\t\t\tthis.showTooltip(activePoints);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t//Iterate through each of the datasets, and build this into a property of the chart\n\t\t\thelpers.each(data.datasets,function(dataset){\n\n\t\t\t\tvar datasetObject = {\n\t\t\t\t\tlabel : dataset.label || null,\n\t\t\t\t\tfillColor : dataset.fillColor,\n\t\t\t\t\tstrokeColor : dataset.strokeColor,\n\t\t\t\t\tpointColor : dataset.pointColor,\n\t\t\t\t\tpointStrokeColor : dataset.pointStrokeColor,\n\t\t\t\t\tpoints : []\n\t\t\t\t};\n\n\t\t\t\tthis.datasets.push(datasetObject);\n\n\n\t\t\t\thelpers.each(dataset.data,function(dataPoint,index){\n\t\t\t\t\t//Add a new point for each piece of data, passing any required data to draw.\n\t\t\t\t\tdatasetObject.points.push(new this.PointClass({\n\t\t\t\t\t\tvalue : dataPoint,\n\t\t\t\t\t\tlabel : data.labels[index],\n\t\t\t\t\t\tdatasetLabel: dataset.label,\n\t\t\t\t\t\tstrokeColor : dataset.pointStrokeColor,\n\t\t\t\t\t\tfillColor : dataset.pointColor,\n\t\t\t\t\t\thighlightFill : dataset.pointHighlightFill || dataset.pointColor,\n\t\t\t\t\t\thighlightStroke : dataset.pointHighlightStroke || dataset.pointStrokeColor\n\t\t\t\t\t}));\n\t\t\t\t},this);\n\n\t\t\t\tthis.buildScale(data.labels);\n\n\n\t\t\t\tthis.eachPoints(function(point, index){\n\t\t\t\t\thelpers.extend(point, {\n\t\t\t\t\t\tx: this.scale.calculateX(index),\n\t\t\t\t\t\ty: this.scale.endPoint\n\t\t\t\t\t});\n\t\t\t\t\tpoint.save();\n\t\t\t\t}, this);\n\n\t\t\t},this);\n\n\n\t\t\tthis.render();\n\t\t},\n\t\tupdate : function(){\n\t\t\tthis.scale.update();\n\t\t\t// Reset any highlight colours before updating.\n\t\t\thelpers.each(this.activeElements, function(activeElement){\n\t\t\t\tactiveElement.restore(['fillColor', 'strokeColor']);\n\t\t\t});\n\t\t\tthis.eachPoints(function(point){\n\t\t\t\tpoint.save();\n\t\t\t});\n\t\t\tthis.render();\n\t\t},\n\t\teachPoints : function(callback){\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\thelpers.each(dataset.points,callback,this);\n\t\t\t},this);\n\t\t},\n\t\tgetPointsAtEvent : function(e){\n\t\t\tvar pointsArray = [],\n\t\t\t\teventPosition = helpers.getRelativePosition(e);\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\thelpers.each(dataset.points,function(point){\n\t\t\t\t\tif (point.inRange(eventPosition.x,eventPosition.y)) pointsArray.push(point);\n\t\t\t\t});\n\t\t\t},this);\n\t\t\treturn pointsArray;\n\t\t},\n\t\tbuildScale : function(labels){\n\t\t\tvar self = this;\n\n\t\t\tvar dataTotal = function(){\n\t\t\t\tvar values = [];\n\t\t\t\tself.eachPoints(function(point){\n\t\t\t\t\tvalues.push(point.value);\n\t\t\t\t});\n\n\t\t\t\treturn values;\n\t\t\t};\n\n\t\t\tvar scaleOptions = {\n\t\t\t\ttemplateString : this.options.scaleLabel,\n\t\t\t\theight : this.chart.height,\n\t\t\t\twidth : this.chart.width,\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\ttextColor : this.options.scaleFontColor,\n\t\t\t\tfontSize : this.options.scaleFontSize,\n\t\t\t\tfontStyle : this.options.scaleFontStyle,\n\t\t\t\tfontFamily : this.options.scaleFontFamily,\n\t\t\t\tvaluesCount : labels.length,\n\t\t\t\tbeginAtZero : this.options.scaleBeginAtZero,\n\t\t\t\tintegersOnly : this.options.scaleIntegersOnly,\n\t\t\t\tcalculateYRange : function(currentHeight){\n\t\t\t\t\tvar updatedRanges = helpers.calculateScaleRange(\n\t\t\t\t\t\tdataTotal(),\n\t\t\t\t\t\tcurrentHeight,\n\t\t\t\t\t\tthis.fontSize,\n\t\t\t\t\t\tthis.beginAtZero,\n\t\t\t\t\t\tthis.integersOnly\n\t\t\t\t\t);\n\t\t\t\t\thelpers.extend(this, updatedRanges);\n\t\t\t\t},\n\t\t\t\txLabels : labels,\n\t\t\t\tfont : helpers.fontString(this.options.scaleFontSize, this.options.scaleFontStyle, this.options.scaleFontFamily),\n\t\t\t\tlineWidth : this.options.scaleLineWidth,\n\t\t\t\tlineColor : this.options.scaleLineColor,\n\t\t\t\tshowHorizontalLines : this.options.scaleShowHorizontalLines,\n\t\t\t\tshowVerticalLines : this.options.scaleShowVerticalLines,\n\t\t\t\tgridLineWidth : (this.options.scaleShowGridLines) ? this.options.scaleGridLineWidth : 0,\n\t\t\t\tgridLineColor : (this.options.scaleShowGridLines) ? this.options.scaleGridLineColor : \"rgba(0,0,0,0)\",\n\t\t\t\tpadding: (this.options.showScale) ? 0 : this.options.pointDotRadius + this.options.pointDotStrokeWidth,\n\t\t\t\tshowLabels : this.options.scaleShowLabels,\n\t\t\t\tdisplay : this.options.showScale\n\t\t\t};\n\n\t\t\tif (this.options.scaleOverride){\n\t\t\t\thelpers.extend(scaleOptions, {\n\t\t\t\t\tcalculateYRange: helpers.noop,\n\t\t\t\t\tsteps: this.options.scaleSteps,\n\t\t\t\t\tstepValue: this.options.scaleStepWidth,\n\t\t\t\t\tmin: this.options.scaleStartValue,\n\t\t\t\t\tmax: this.options.scaleStartValue + (this.options.scaleSteps * this.options.scaleStepWidth)\n\t\t\t\t});\n\t\t\t}\n\n\n\t\t\tthis.scale = new Chart.Scale(scaleOptions);\n\t\t},\n\t\taddData : function(valuesArray,label){\n\t\t\t//Map the values array for each of the datasets\n\n\t\t\thelpers.each(valuesArray,function(value,datasetIndex){\n\t\t\t\t//Add a new point for each piece of data, passing any required data to draw.\n\t\t\t\tthis.datasets[datasetIndex].points.push(new this.PointClass({\n\t\t\t\t\tvalue : value,\n\t\t\t\t\tlabel : label,\n\t\t\t\t\tx: this.scale.calculateX(this.scale.valuesCount+1),\n\t\t\t\t\ty: this.scale.endPoint,\n\t\t\t\t\tstrokeColor : this.datasets[datasetIndex].pointStrokeColor,\n\t\t\t\t\tfillColor : this.datasets[datasetIndex].pointColor\n\t\t\t\t}));\n\t\t\t},this);\n\n\t\t\tthis.scale.addXLabel(label);\n\t\t\t//Then re-render the chart.\n\t\t\tthis.update();\n\t\t},\n\t\tremoveData : function(){\n\t\t\tthis.scale.removeXLabel();\n\t\t\t//Then re-render the chart.\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\tdataset.points.shift();\n\t\t\t},this);\n\t\t\tthis.update();\n\t\t},\n\t\treflow : function(){\n\t\t\tvar newScaleProps = helpers.extend({\n\t\t\t\theight : this.chart.height,\n\t\t\t\twidth : this.chart.width\n\t\t\t});\n\t\t\tthis.scale.update(newScaleProps);\n\t\t},\n\t\tdraw : function(ease){\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\tthis.clear();\n\n\t\t\tvar ctx = this.chart.ctx;\n\n\t\t\t// Some helper methods for getting the next/prev points\n\t\t\tvar hasValue = function(item){\n\t\t\t\treturn item.value !== null;\n\t\t\t},\n\t\t\tnextPoint = function(point, collection, index){\n\t\t\t\treturn helpers.findNextWhere(collection, hasValue, index) || point;\n\t\t\t},\n\t\t\tpreviousPoint = function(point, collection, index){\n\t\t\t\treturn helpers.findPreviousWhere(collection, hasValue, index) || point;\n\t\t\t};\n\n\t\t\tthis.scale.draw(easingDecimal);\n\n\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\tvar pointsWithValues = helpers.where(dataset.points, hasValue);\n\n\t\t\t\t//Transition each point first so that the line and point drawing isn't out of sync\n\t\t\t\t//We can use this extra loop to calculate the control points of this dataset also in this loop\n\n\t\t\t\thelpers.each(dataset.points, function(point, index){\n\t\t\t\t\tif (point.hasValue()){\n\t\t\t\t\t\tpoint.transition({\n\t\t\t\t\t\t\ty : this.scale.calculateY(point.value),\n\t\t\t\t\t\t\tx : this.scale.calculateX(index)\n\t\t\t\t\t\t}, easingDecimal);\n\t\t\t\t\t}\n\t\t\t\t},this);\n\n\n\t\t\t\t// Control points need to be calculated in a seperate loop, because we need to know the current x/y of the point\n\t\t\t\t// This would cause issues when there is no animation, because the y of the next point would be 0, so beziers would be skewed\n\t\t\t\tif (this.options.bezierCurve){\n\t\t\t\t\thelpers.each(pointsWithValues, function(point, index){\n\t\t\t\t\t\tvar tension = (index > 0 && index < pointsWithValues.length - 1) ? this.options.bezierCurveTension : 0;\n\t\t\t\t\t\tpoint.controlPoints = helpers.splineCurve(\n\t\t\t\t\t\t\tpreviousPoint(point, pointsWithValues, index),\n\t\t\t\t\t\t\tpoint,\n\t\t\t\t\t\t\tnextPoint(point, pointsWithValues, index),\n\t\t\t\t\t\t\ttension\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// Prevent the bezier going outside of the bounds of the graph\n\n\t\t\t\t\t\t// Cap puter bezier handles to the upper/lower scale bounds\n\t\t\t\t\t\tif (point.controlPoints.outer.y > this.scale.endPoint){\n\t\t\t\t\t\t\tpoint.controlPoints.outer.y = this.scale.endPoint;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (point.controlPoints.outer.y < this.scale.startPoint){\n\t\t\t\t\t\t\tpoint.controlPoints.outer.y = this.scale.startPoint;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Cap inner bezier handles to the upper/lower scale bounds\n\t\t\t\t\t\tif (point.controlPoints.inner.y > this.scale.endPoint){\n\t\t\t\t\t\t\tpoint.controlPoints.inner.y = this.scale.endPoint;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (point.controlPoints.inner.y < this.scale.startPoint){\n\t\t\t\t\t\t\tpoint.controlPoints.inner.y = this.scale.startPoint;\n\t\t\t\t\t\t}\n\t\t\t\t\t},this);\n\t\t\t\t}\n\n\n\t\t\t\t//Draw the line between all the points\n\t\t\t\tctx.lineWidth = this.options.datasetStrokeWidth;\n\t\t\t\tctx.strokeStyle = dataset.strokeColor;\n\t\t\t\tctx.beginPath();\n\n\t\t\t\thelpers.each(pointsWithValues, function(point, index){\n\t\t\t\t\tif (index === 0){\n\t\t\t\t\t\tctx.moveTo(point.x, point.y);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(this.options.bezierCurve){\n\t\t\t\t\t\t\tvar previous = previousPoint(point, pointsWithValues, index);\n\n\t\t\t\t\t\t\tctx.bezierCurveTo(\n\t\t\t\t\t\t\t\tprevious.controlPoints.outer.x,\n\t\t\t\t\t\t\t\tprevious.controlPoints.outer.y,\n\t\t\t\t\t\t\t\tpoint.controlPoints.inner.x,\n\t\t\t\t\t\t\t\tpoint.controlPoints.inner.y,\n\t\t\t\t\t\t\t\tpoint.x,\n\t\t\t\t\t\t\t\tpoint.y\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tctx.lineTo(point.x,point.y);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\n\t\t\t\tctx.stroke();\n\n\t\t\t\tif (this.options.datasetFill && pointsWithValues.length > 0){\n\t\t\t\t\t//Round off the line by going to the base of the chart, back to the start, then fill.\n\t\t\t\t\tctx.lineTo(pointsWithValues[pointsWithValues.length - 1].x, this.scale.endPoint);\n\t\t\t\t\tctx.lineTo(pointsWithValues[0].x, this.scale.endPoint);\n\t\t\t\t\tctx.fillStyle = dataset.fillColor;\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\tctx.fill();\n\t\t\t\t}\n\n\t\t\t\t//Now draw the points over the line\n\t\t\t\t//A little inefficient double looping, but better than the line\n\t\t\t\t//lagging behind the point positions\n\t\t\t\thelpers.each(pointsWithValues,function(point){\n\t\t\t\t\tpoint.draw();\n\t\t\t\t});\n\t\t\t},this);\n\t\t}\n\t});\n\n\n}).call(this);\n\n(function(){\n\t\"use strict\";\n\n\tvar root = this,\n\t\tChart = root.Chart,\n\t\t//Cache a local reference to Chart.helpers\n\t\thelpers = Chart.helpers;\n\n\tvar defaultConfig = {\n\t\t//Boolean - Show a backdrop to the scale label\n\t\tscaleShowLabelBackdrop : true,\n\n\t\t//String - The colour of the label backdrop\n\t\tscaleBackdropColor : \"rgba(255,255,255,0.75)\",\n\n\t\t// Boolean - Whether the scale should begin at zero\n\t\tscaleBeginAtZero : true,\n\n\t\t//Number - The backdrop padding above & below the label in pixels\n\t\tscaleBackdropPaddingY : 2,\n\n\t\t//Number - The backdrop padding to the side of the label in pixels\n\t\tscaleBackdropPaddingX : 2,\n\n\t\t//Boolean - Show line for each value in the scale\n\t\tscaleShowLine : true,\n\n\t\t//Boolean - Stroke a line around each segment in the chart\n\t\tsegmentShowStroke : true,\n\n\t\t//String - The colour of the stroke on each segement.\n\t\tsegmentStrokeColor : \"#fff\",\n\n\t\t//Number - The width of the stroke value in pixels\n\t\tsegmentStrokeWidth : 2,\n\n\t\t//Number - Amount of animation steps\n\t\tanimationSteps : 100,\n\n\t\t//String - Animation easing effect.\n\t\tanimationEasing : \"easeOutBounce\",\n\n\t\t//Boolean - Whether to animate the rotation of the chart\n\t\tanimateRotate : true,\n\n\t\t//Boolean - Whether to animate scaling the chart from the centre\n\t\tanimateScale : false,\n\n\t\t//String - A legend template\n\t\tlegendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<segments.length; i++){%><li><span style=\\\"background-color:<%=segments[i].fillColor%>\\\"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>\"\n\t};\n\n\n\tChart.Type.extend({\n\t\t//Passing in a name registers this chart in the Chart namespace\n\t\tname: \"PolarArea\",\n\t\t//Providing a defaults will also register the deafults in the chart namespace\n\t\tdefaults : defaultConfig,\n\t\t//Initialize is fired when the chart is initialized - Data is passed in as a parameter\n\t\t//Config is automatically merged by the core of Chart.js, and is available at this.options\n\t\tinitialize:  function(data){\n\t\t\tthis.segments = [];\n\t\t\t//Declare segment class as a chart instance specific class, so it can share props for this instance\n\t\t\tthis.SegmentArc = Chart.Arc.extend({\n\t\t\t\tshowStroke : this.options.segmentShowStroke,\n\t\t\t\tstrokeWidth : this.options.segmentStrokeWidth,\n\t\t\t\tstrokeColor : this.options.segmentStrokeColor,\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\tinnerRadius : 0,\n\t\t\t\tx : this.chart.width/2,\n\t\t\t\ty : this.chart.height/2\n\t\t\t});\n\t\t\tthis.scale = new Chart.RadialScale({\n\t\t\t\tdisplay: this.options.showScale,\n\t\t\t\tfontStyle: this.options.scaleFontStyle,\n\t\t\t\tfontSize: this.options.scaleFontSize,\n\t\t\t\tfontFamily: this.options.scaleFontFamily,\n\t\t\t\tfontColor: this.options.scaleFontColor,\n\t\t\t\tshowLabels: this.options.scaleShowLabels,\n\t\t\t\tshowLabelBackdrop: this.options.scaleShowLabelBackdrop,\n\t\t\t\tbackdropColor: this.options.scaleBackdropColor,\n\t\t\t\tbackdropPaddingY : this.options.scaleBackdropPaddingY,\n\t\t\t\tbackdropPaddingX: this.options.scaleBackdropPaddingX,\n\t\t\t\tlineWidth: (this.options.scaleShowLine) ? this.options.scaleLineWidth : 0,\n\t\t\t\tlineColor: this.options.scaleLineColor,\n\t\t\t\tlineArc: true,\n\t\t\t\twidth: this.chart.width,\n\t\t\t\theight: this.chart.height,\n\t\t\t\txCenter: this.chart.width/2,\n\t\t\t\tyCenter: this.chart.height/2,\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\ttemplateString: this.options.scaleLabel,\n\t\t\t\tvaluesCount: data.length\n\t\t\t});\n\n\t\t\tthis.updateScaleRange(data);\n\n\t\t\tthis.scale.update();\n\n\t\t\thelpers.each(data,function(segment,index){\n\t\t\t\tthis.addData(segment,index,true);\n\t\t\t},this);\n\n\t\t\t//Set up tooltip events on the chart\n\t\t\tif (this.options.showTooltips){\n\t\t\t\thelpers.bindEvents(this, this.options.tooltipEvents, function(evt){\n\t\t\t\t\tvar activeSegments = (evt.type !== 'mouseout') ? this.getSegmentsAtEvent(evt) : [];\n\t\t\t\t\thelpers.each(this.segments,function(segment){\n\t\t\t\t\t\tsegment.restore([\"fillColor\"]);\n\t\t\t\t\t});\n\t\t\t\t\thelpers.each(activeSegments,function(activeSegment){\n\t\t\t\t\t\tactiveSegment.fillColor = activeSegment.highlightColor;\n\t\t\t\t\t});\n\t\t\t\t\tthis.showTooltip(activeSegments);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.render();\n\t\t},\n\t\tgetSegmentsAtEvent : function(e){\n\t\t\tvar segmentsArray = [];\n\n\t\t\tvar location = helpers.getRelativePosition(e);\n\n\t\t\thelpers.each(this.segments,function(segment){\n\t\t\t\tif (segment.inRange(location.x,location.y)) segmentsArray.push(segment);\n\t\t\t},this);\n\t\t\treturn segmentsArray;\n\t\t},\n\t\taddData : function(segment, atIndex, silent){\n\t\t\tvar index = atIndex || this.segments.length;\n\n\t\t\tthis.segments.splice(index, 0, new this.SegmentArc({\n\t\t\t\tfillColor: segment.color,\n\t\t\t\thighlightColor: segment.highlight || segment.color,\n\t\t\t\tlabel: segment.label,\n\t\t\t\tvalue: segment.value,\n\t\t\t\touterRadius: (this.options.animateScale) ? 0 : this.scale.calculateCenterOffset(segment.value),\n\t\t\t\tcircumference: (this.options.animateRotate) ? 0 : this.scale.getCircumference(),\n\t\t\t\tstartAngle: Math.PI * 1.5\n\t\t\t}));\n\t\t\tif (!silent){\n\t\t\t\tthis.reflow();\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t},\n\t\tremoveData: function(atIndex){\n\t\t\tvar indexToDelete = (helpers.isNumber(atIndex)) ? atIndex : this.segments.length-1;\n\t\t\tthis.segments.splice(indexToDelete, 1);\n\t\t\tthis.reflow();\n\t\t\tthis.update();\n\t\t},\n\t\tcalculateTotal: function(data){\n\t\t\tthis.total = 0;\n\t\t\thelpers.each(data,function(segment){\n\t\t\t\tthis.total += segment.value;\n\t\t\t},this);\n\t\t\tthis.scale.valuesCount = this.segments.length;\n\t\t},\n\t\tupdateScaleRange: function(datapoints){\n\t\t\tvar valuesArray = [];\n\t\t\thelpers.each(datapoints,function(segment){\n\t\t\t\tvaluesArray.push(segment.value);\n\t\t\t});\n\n\t\t\tvar scaleSizes = (this.options.scaleOverride) ?\n\t\t\t\t{\n\t\t\t\t\tsteps: this.options.scaleSteps,\n\t\t\t\t\tstepValue: this.options.scaleStepWidth,\n\t\t\t\t\tmin: this.options.scaleStartValue,\n\t\t\t\t\tmax: this.options.scaleStartValue + (this.options.scaleSteps * this.options.scaleStepWidth)\n\t\t\t\t} :\n\t\t\t\thelpers.calculateScaleRange(\n\t\t\t\t\tvaluesArray,\n\t\t\t\t\thelpers.min([this.chart.width, this.chart.height])/2,\n\t\t\t\t\tthis.options.scaleFontSize,\n\t\t\t\t\tthis.options.scaleBeginAtZero,\n\t\t\t\t\tthis.options.scaleIntegersOnly\n\t\t\t\t);\n\n\t\t\thelpers.extend(\n\t\t\t\tthis.scale,\n\t\t\t\tscaleSizes,\n\t\t\t\t{\n\t\t\t\t\tsize: helpers.min([this.chart.width, this.chart.height]),\n\t\t\t\t\txCenter: this.chart.width/2,\n\t\t\t\t\tyCenter: this.chart.height/2\n\t\t\t\t}\n\t\t\t);\n\n\t\t},\n\t\tupdate : function(){\n\t\t\tthis.calculateTotal(this.segments);\n\n\t\t\thelpers.each(this.segments,function(segment){\n\t\t\t\tsegment.save();\n\t\t\t});\n\t\t\t\n\t\t\tthis.reflow();\n\t\t\tthis.render();\n\t\t},\n\t\treflow : function(){\n\t\t\thelpers.extend(this.SegmentArc.prototype,{\n\t\t\t\tx : this.chart.width/2,\n\t\t\t\ty : this.chart.height/2\n\t\t\t});\n\t\t\tthis.updateScaleRange(this.segments);\n\t\t\tthis.scale.update();\n\n\t\t\thelpers.extend(this.scale,{\n\t\t\t\txCenter: this.chart.width/2,\n\t\t\t\tyCenter: this.chart.height/2\n\t\t\t});\n\n\t\t\thelpers.each(this.segments, function(segment){\n\t\t\t\tsegment.update({\n\t\t\t\t\touterRadius : this.scale.calculateCenterOffset(segment.value)\n\t\t\t\t});\n\t\t\t}, this);\n\n\t\t},\n\t\tdraw : function(ease){\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\t//Clear & draw the canvas\n\t\t\tthis.clear();\n\t\t\thelpers.each(this.segments,function(segment, index){\n\t\t\t\tsegment.transition({\n\t\t\t\t\tcircumference : this.scale.getCircumference(),\n\t\t\t\t\touterRadius : this.scale.calculateCenterOffset(segment.value)\n\t\t\t\t},easingDecimal);\n\n\t\t\t\tsegment.endAngle = segment.startAngle + segment.circumference;\n\n\t\t\t\t// If we've removed the first segment we need to set the first one to\n\t\t\t\t// start at the top.\n\t\t\t\tif (index === 0){\n\t\t\t\t\tsegment.startAngle = Math.PI * 1.5;\n\t\t\t\t}\n\n\t\t\t\t//Check to see if it's the last segment, if not get the next and update the start angle\n\t\t\t\tif (index < this.segments.length - 1){\n\t\t\t\t\tthis.segments[index+1].startAngle = segment.endAngle;\n\t\t\t\t}\n\t\t\t\tsegment.draw();\n\t\t\t}, this);\n\t\t\tthis.scale.draw();\n\t\t}\n\t});\n\n}).call(this);\n(function(){\n\t\"use strict\";\n\n\tvar root = this,\n\t\tChart = root.Chart,\n\t\thelpers = Chart.helpers;\n\n\n\n\tChart.Type.extend({\n\t\tname: \"Radar\",\n\t\tdefaults:{\n\t\t\t//Boolean - Whether to show lines for each scale point\n\t\t\tscaleShowLine : true,\n\n\t\t\t//Boolean - Whether we show the angle lines out of the radar\n\t\t\tangleShowLineOut : true,\n\n\t\t\t//Boolean - Whether to show labels on the scale\n\t\t\tscaleShowLabels : false,\n\n\t\t\t// Boolean - Whether the scale should begin at zero\n\t\t\tscaleBeginAtZero : true,\n\n\t\t\t//String - Colour of the angle line\n\t\t\tangleLineColor : \"rgba(0,0,0,.1)\",\n\n\t\t\t//Number - Pixel width of the angle line\n\t\t\tangleLineWidth : 1,\n\n\t\t\t//String - Point label font declaration\n\t\t\tpointLabelFontFamily : \"'Arial'\",\n\n\t\t\t//String - Point label font weight\n\t\t\tpointLabelFontStyle : \"normal\",\n\n\t\t\t//Number - Point label font size in pixels\n\t\t\tpointLabelFontSize : 10,\n\n\t\t\t//String - Point label font colour\n\t\t\tpointLabelFontColor : \"#666\",\n\n\t\t\t//Boolean - Whether to show a dot for each point\n\t\t\tpointDot : true,\n\n\t\t\t//Number - Radius of each point dot in pixels\n\t\t\tpointDotRadius : 3,\n\n\t\t\t//Number - Pixel width of point dot stroke\n\t\t\tpointDotStrokeWidth : 1,\n\n\t\t\t//Number - amount extra to add to the radius to cater for hit detection outside the drawn point\n\t\t\tpointHitDetectionRadius : 20,\n\n\t\t\t//Boolean - Whether to show a stroke for datasets\n\t\t\tdatasetStroke : true,\n\n\t\t\t//Number - Pixel width of dataset stroke\n\t\t\tdatasetStrokeWidth : 2,\n\n\t\t\t//Boolean - Whether to fill the dataset with a colour\n\t\t\tdatasetFill : true,\n\n\t\t\t//String - A legend template\n\t\t\tlegendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\\\"background-color:<%=datasets[i].strokeColor%>\\\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>\"\n\n\t\t},\n\n\t\tinitialize: function(data){\n\t\t\tthis.PointClass = Chart.Point.extend({\n\t\t\t\tstrokeWidth : this.options.pointDotStrokeWidth,\n\t\t\t\tradius : this.options.pointDotRadius,\n\t\t\t\tdisplay: this.options.pointDot,\n\t\t\t\thitDetectionRadius : this.options.pointHitDetectionRadius,\n\t\t\t\tctx : this.chart.ctx\n\t\t\t});\n\n\t\t\tthis.datasets = [];\n\n\t\t\tthis.buildScale(data);\n\n\t\t\t//Set up tooltip events on the chart\n\t\t\tif (this.options.showTooltips){\n\t\t\t\thelpers.bindEvents(this, this.options.tooltipEvents, function(evt){\n\t\t\t\t\tvar activePointsCollection = (evt.type !== 'mouseout') ? this.getPointsAtEvent(evt) : [];\n\n\t\t\t\t\tthis.eachPoints(function(point){\n\t\t\t\t\t\tpoint.restore(['fillColor', 'strokeColor']);\n\t\t\t\t\t});\n\t\t\t\t\thelpers.each(activePointsCollection, function(activePoint){\n\t\t\t\t\t\tactivePoint.fillColor = activePoint.highlightFill;\n\t\t\t\t\t\tactivePoint.strokeColor = activePoint.highlightStroke;\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.showTooltip(activePointsCollection);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t//Iterate through each of the datasets, and build this into a property of the chart\n\t\t\thelpers.each(data.datasets,function(dataset){\n\n\t\t\t\tvar datasetObject = {\n\t\t\t\t\tlabel: dataset.label || null,\n\t\t\t\t\tfillColor : dataset.fillColor,\n\t\t\t\t\tstrokeColor : dataset.strokeColor,\n\t\t\t\t\tpointColor : dataset.pointColor,\n\t\t\t\t\tpointStrokeColor : dataset.pointStrokeColor,\n\t\t\t\t\tpoints : []\n\t\t\t\t};\n\n\t\t\t\tthis.datasets.push(datasetObject);\n\n\t\t\t\thelpers.each(dataset.data,function(dataPoint,index){\n\t\t\t\t\t//Add a new point for each piece of data, passing any required data to draw.\n\t\t\t\t\tvar pointPosition;\n\t\t\t\t\tif (!this.scale.animation){\n\t\t\t\t\t\tpointPosition = this.scale.getPointPosition(index, this.scale.calculateCenterOffset(dataPoint));\n\t\t\t\t\t}\n\t\t\t\t\tdatasetObject.points.push(new this.PointClass({\n\t\t\t\t\t\tvalue : dataPoint,\n\t\t\t\t\t\tlabel : data.labels[index],\n\t\t\t\t\t\tdatasetLabel: dataset.label,\n\t\t\t\t\t\tx: (this.options.animation) ? this.scale.xCenter : pointPosition.x,\n\t\t\t\t\t\ty: (this.options.animation) ? this.scale.yCenter : pointPosition.y,\n\t\t\t\t\t\tstrokeColor : dataset.pointStrokeColor,\n\t\t\t\t\t\tfillColor : dataset.pointColor,\n\t\t\t\t\t\thighlightFill : dataset.pointHighlightFill || dataset.pointColor,\n\t\t\t\t\t\thighlightStroke : dataset.pointHighlightStroke || dataset.pointStrokeColor\n\t\t\t\t\t}));\n\t\t\t\t},this);\n\n\t\t\t},this);\n\n\t\t\tthis.render();\n\t\t},\n\t\teachPoints : function(callback){\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\thelpers.each(dataset.points,callback,this);\n\t\t\t},this);\n\t\t},\n\n\t\tgetPointsAtEvent : function(evt){\n\t\t\tvar mousePosition = helpers.getRelativePosition(evt),\n\t\t\t\tfromCenter = helpers.getAngleFromPoint({\n\t\t\t\t\tx: this.scale.xCenter,\n\t\t\t\t\ty: this.scale.yCenter\n\t\t\t\t}, mousePosition);\n\n\t\t\tvar anglePerIndex = (Math.PI * 2) /this.scale.valuesCount,\n\t\t\t\tpointIndex = Math.round((fromCenter.angle - Math.PI * 1.5) / anglePerIndex),\n\t\t\t\tactivePointsCollection = [];\n\n\t\t\t// If we're at the top, make the pointIndex 0 to get the first of the array.\n\t\t\tif (pointIndex >= this.scale.valuesCount || pointIndex < 0){\n\t\t\t\tpointIndex = 0;\n\t\t\t}\n\n\t\t\tif (fromCenter.distance <= this.scale.drawingArea){\n\t\t\t\thelpers.each(this.datasets, function(dataset){\n\t\t\t\t\tactivePointsCollection.push(dataset.points[pointIndex]);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn activePointsCollection;\n\t\t},\n\n\t\tbuildScale : function(data){\n\t\t\tthis.scale = new Chart.RadialScale({\n\t\t\t\tdisplay: this.options.showScale,\n\t\t\t\tfontStyle: this.options.scaleFontStyle,\n\t\t\t\tfontSize: this.options.scaleFontSize,\n\t\t\t\tfontFamily: this.options.scaleFontFamily,\n\t\t\t\tfontColor: this.options.scaleFontColor,\n\t\t\t\tshowLabels: this.options.scaleShowLabels,\n\t\t\t\tshowLabelBackdrop: this.options.scaleShowLabelBackdrop,\n\t\t\t\tbackdropColor: this.options.scaleBackdropColor,\n\t\t\t\tbackdropPaddingY : this.options.scaleBackdropPaddingY,\n\t\t\t\tbackdropPaddingX: this.options.scaleBackdropPaddingX,\n\t\t\t\tlineWidth: (this.options.scaleShowLine) ? this.options.scaleLineWidth : 0,\n\t\t\t\tlineColor: this.options.scaleLineColor,\n\t\t\t\tangleLineColor : this.options.angleLineColor,\n\t\t\t\tangleLineWidth : (this.options.angleShowLineOut) ? this.options.angleLineWidth : 0,\n\t\t\t\t// Point labels at the edge of each line\n\t\t\t\tpointLabelFontColor : this.options.pointLabelFontColor,\n\t\t\t\tpointLabelFontSize : this.options.pointLabelFontSize,\n\t\t\t\tpointLabelFontFamily : this.options.pointLabelFontFamily,\n\t\t\t\tpointLabelFontStyle : this.options.pointLabelFontStyle,\n\t\t\t\theight : this.chart.height,\n\t\t\t\twidth: this.chart.width,\n\t\t\t\txCenter: this.chart.width/2,\n\t\t\t\tyCenter: this.chart.height/2,\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\ttemplateString: this.options.scaleLabel,\n\t\t\t\tlabels: data.labels,\n\t\t\t\tvaluesCount: data.datasets[0].data.length\n\t\t\t});\n\n\t\t\tthis.scale.setScaleSize();\n\t\t\tthis.updateScaleRange(data.datasets);\n\t\t\tthis.scale.buildYLabels();\n\t\t},\n\t\tupdateScaleRange: function(datasets){\n\t\t\tvar valuesArray = (function(){\n\t\t\t\tvar totalDataArray = [];\n\t\t\t\thelpers.each(datasets,function(dataset){\n\t\t\t\t\tif (dataset.data){\n\t\t\t\t\t\ttotalDataArray = totalDataArray.concat(dataset.data);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\thelpers.each(dataset.points, function(point){\n\t\t\t\t\t\t\ttotalDataArray.push(point.value);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn totalDataArray;\n\t\t\t})();\n\n\n\t\t\tvar scaleSizes = (this.options.scaleOverride) ?\n\t\t\t\t{\n\t\t\t\t\tsteps: this.options.scaleSteps,\n\t\t\t\t\tstepValue: this.options.scaleStepWidth,\n\t\t\t\t\tmin: this.options.scaleStartValue,\n\t\t\t\t\tmax: this.options.scaleStartValue + (this.options.scaleSteps * this.options.scaleStepWidth)\n\t\t\t\t} :\n\t\t\t\thelpers.calculateScaleRange(\n\t\t\t\t\tvaluesArray,\n\t\t\t\t\thelpers.min([this.chart.width, this.chart.height])/2,\n\t\t\t\t\tthis.options.scaleFontSize,\n\t\t\t\t\tthis.options.scaleBeginAtZero,\n\t\t\t\t\tthis.options.scaleIntegersOnly\n\t\t\t\t);\n\n\t\t\thelpers.extend(\n\t\t\t\tthis.scale,\n\t\t\t\tscaleSizes\n\t\t\t);\n\n\t\t},\n\t\taddData : function(valuesArray,label){\n\t\t\t//Map the values array for each of the datasets\n\t\t\tthis.scale.valuesCount++;\n\t\t\thelpers.each(valuesArray,function(value,datasetIndex){\n\t\t\t\tvar pointPosition = this.scale.getPointPosition(this.scale.valuesCount, this.scale.calculateCenterOffset(value));\n\t\t\t\tthis.datasets[datasetIndex].points.push(new this.PointClass({\n\t\t\t\t\tvalue : value,\n\t\t\t\t\tlabel : label,\n\t\t\t\t\tx: pointPosition.x,\n\t\t\t\t\ty: pointPosition.y,\n\t\t\t\t\tstrokeColor : this.datasets[datasetIndex].pointStrokeColor,\n\t\t\t\t\tfillColor : this.datasets[datasetIndex].pointColor\n\t\t\t\t}));\n\t\t\t},this);\n\n\t\t\tthis.scale.labels.push(label);\n\n\t\t\tthis.reflow();\n\n\t\t\tthis.update();\n\t\t},\n\t\tremoveData : function(){\n\t\t\tthis.scale.valuesCount--;\n\t\t\tthis.scale.labels.shift();\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\tdataset.points.shift();\n\t\t\t},this);\n\t\t\tthis.reflow();\n\t\t\tthis.update();\n\t\t},\n\t\tupdate : function(){\n\t\t\tthis.eachPoints(function(point){\n\t\t\t\tpoint.save();\n\t\t\t});\n\t\t\tthis.reflow();\n\t\t\tthis.render();\n\t\t},\n\t\treflow: function(){\n\t\t\thelpers.extend(this.scale, {\n\t\t\t\twidth : this.chart.width,\n\t\t\t\theight: this.chart.height,\n\t\t\t\tsize : helpers.min([this.chart.width, this.chart.height]),\n\t\t\t\txCenter: this.chart.width/2,\n\t\t\t\tyCenter: this.chart.height/2\n\t\t\t});\n\t\t\tthis.updateScaleRange(this.datasets);\n\t\t\tthis.scale.setScaleSize();\n\t\t\tthis.scale.buildYLabels();\n\t\t},\n\t\tdraw : function(ease){\n\t\t\tvar easeDecimal = ease || 1,\n\t\t\t\tctx = this.chart.ctx;\n\t\t\tthis.clear();\n\t\t\tthis.scale.draw();\n\n\t\t\thelpers.each(this.datasets,function(dataset){\n\n\t\t\t\t//Transition each point first so that the line and point drawing isn't out of sync\n\t\t\t\thelpers.each(dataset.points,function(point,index){\n\t\t\t\t\tif (point.hasValue()){\n\t\t\t\t\t\tpoint.transition(this.scale.getPointPosition(index, this.scale.calculateCenterOffset(point.value)), easeDecimal);\n\t\t\t\t\t}\n\t\t\t\t},this);\n\n\n\n\t\t\t\t//Draw the line between all the points\n\t\t\t\tctx.lineWidth = this.options.datasetStrokeWidth;\n\t\t\t\tctx.strokeStyle = dataset.strokeColor;\n\t\t\t\tctx.beginPath();\n\t\t\t\thelpers.each(dataset.points,function(point,index){\n\t\t\t\t\tif (index === 0){\n\t\t\t\t\t\tctx.moveTo(point.x,point.y);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tctx.lineTo(point.x,point.y);\n\t\t\t\t\t}\n\t\t\t\t},this);\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.stroke();\n\n\t\t\t\tctx.fillStyle = dataset.fillColor;\n\t\t\t\tctx.fill();\n\n\t\t\t\t//Now draw the points over the line\n\t\t\t\t//A little inefficient double looping, but better than the line\n\t\t\t\t//lagging behind the point positions\n\t\t\t\thelpers.each(dataset.points,function(point){\n\t\t\t\t\tif (point.hasValue()){\n\t\t\t\t\t\tpoint.draw();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t},this);\n\n\t\t}\n\n\t});\n\n\n\n\n\n}).call(this);\n/**\n * Owl carousel\n * @version 2.0.0\n * @author Bartosz Wojciechowski\n * @license The MIT License (MIT)\n * @todo Lazy Load Icon\n * @todo prevent animationend bubling\n * @todo itemsScaleUp\n * @todo Test Zepto\n * @todo stagePadding calculate wrong active classes\n */\n;(function($, window, document, undefined) {\n\n\tvar item, dom, width, num, pos, drag, speed, state, e;\n\n\t/**\n\t * Template for the data of each item respectively its DOM element.\n\t * @private\n\t */\n\titem = {\n\t\tindex: false,\n\t\tindexAbs: false,\n\t\tposLeft: false,\n\t\tclone: false,\n\t\tactive: false,\n\t\tloaded: false,\n\t\tlazyLoad: false,\n\t\tcurrent: false,\n\t\twidth: false,\n\t\tcenter: false,\n\t\tpage: false,\n\t\thasVideo: false,\n\t\tplayVideo: false\n\t};\n\n\t/**\n\t * Template for the references to DOM elements, those with `$` sign are `jQuery` objects.\n\t * @private\n\t */\n\tdom = {\n\t\tel: null, // main element\n\t\t$el: null, // jQuery main element\n\t\tstage: null, // stage\n\t\t$stage: null, // jQuery stage\n\t\toStage: null, // outer stage\n\t\t$oStage: null, // $ outer stage\n\t\t$items: null, // all items, clones and originals included\n\t\t$oItems: null, // original items\n\t\t$cItems: null, // cloned items only\n\t\t$content: null\n\t};\n\n\t/**\n\t * Template for the widths of some elements.\n\t * @private\n\t */\n\twidth = {\n\t\tel: 0,\n\t\tstage: 0,\n\t\titem: 0,\n\t\tprevWindow: 0,\n\t\tcloneLast: 0\n\t};\n\n\t/**\n\t * Template for counting to some properties.\n\t * @private\n\t */\n\tnum = {\n\t\titems: 0,\n\t\toItems: 0,\n\t\tcItems: 0,\n\t\tactive: 0,\n\t\tmerged: []\n\t};\n\n\t/**\n\t * Template for status information about drag and touch events.\n\t * @private\n\t */\n\tdrag = {\n\t\tstart: 0,\n\t\tstartX: 0,\n\t\tstartY: 0,\n\t\tcurrent: 0,\n\t\tcurrentX: 0,\n\t\tcurrentY: 0,\n\t\toffsetX: 0,\n\t\toffsetY: 0,\n\t\tdistance: null,\n\t\tstartTime: 0,\n\t\tendTime: 0,\n\t\tupdatedX: 0,\n\t\ttargetEl: null\n\t};\n\n\t/**\n\t * Template for some status informations.\n\t * @private\n\t */\n\tstate = {\n\t\tisTouch: false,\n\t\tisScrolling: false,\n\t\tisSwiping: false,\n\t\tdirection: false,\n\t\tinMotion: false\n\t};\n\n\t/**\n\t * Event functions references.\n\t * @private\n\t */\n\te = {\n\t\t_onDragStart: null,\n\t\t_onDragMove: null,\n\t\t_onDragEnd: null,\n\t\t_transitionEnd: null,\n\t\t_resizer: null,\n\t\t_responsiveCall: null,\n\t\t_goToLoop: null,\n\t\t_checkVisibile: null\n\t};\n\n\t/**\n\t * Creates a carousel.\n\t * @class The Owl Carousel.\n\t * @public\n\t * @param {HTMLElement|jQuery} element - The element to create the carousel for.\n\t * @param {Object} [options] - The options\n\t */\n\tfunction Owl(element, options) {\n\n\t\t// add basic Owl information to dom element\n\t\telement.owlCarousel = {\n\t\t\t'name': 'Owl Carousel',\n\t\t\t'author': 'Bartosz Wojciechowski',\n\t\t\t'version': '2.0.0-beta.2.1'\n\t\t};\n\n\t\t/**\n\t\t * Current settings for the carousel.\n\t\t * @protected\n\t\t */\n\t\tthis.settings = null;\n\n\t\t/**\n\t\t *\n\t\t * @protected\n\t\t * @todo Must be dosumented.\n\t\t */\n\t\tthis.options = $.extend({}, Owl.Defaults, options);\n\n\t\t/**\n\t\t * Template for the data of each item.\n\t\t * @protected\n\t\t */\n\t\tthis.itemData = $.extend({}, item);\n\n\t\t/**\n\t\t * Contains references to DOM elements, those with `$` sign are `jQuery` objects.\n\t\t * @protected\n\t\t */\n\t\tthis.dom = $.extend({}, dom);\n\n\t\t/**\n\t\t * Caches the widths of some elements.\n\t\t * @protected\n\t\t */\n\t\tthis.width = $.extend({}, width);\n\n\t\t/**\n\t\t * Caches some count informations.\n\t\t * @protected\n\t\t */\n\t\tthis.num = $.extend({}, num);\n\n\t\t/**\n\t\t * Caches informations about drag and touch events.\n\t\t */\n\t\tthis.drag = $.extend({}, drag);\n\n\t\t/**\n\t\t * Caches some status informations.\n\t\t * @protected\n\t\t */\n\t\tthis.state = $.extend({}, state);\n\n\t\t/**\n\t\t * @protected\n\t\t * @todo Must be documented\n\t\t */\n\t\tthis.e = $.extend({}, e);\n\n\t\t/**\n\t\t * References to the running plugins of this carousel.\n\t\t * @protected\n\t\t */\n\t\tthis.plugins = {};\n\n\t\t/**\n\t\t * Currently suppressed events to prevent them from beeing retriggered.\n\t\t * @protected\n\t\t */\n\t\tthis._supress = {};\n\n\t\t/**\n\t\t * The absolute current position.\n\t\t * @protected\n\t\t */\n\t\tthis._current = null;\n\n\t\t/**\n\t\t * The animation speed in milliseconds.\n\t\t * @protected\n\t\t */\n\t\tthis._speed = null;\n\n\t\t/**\n\t\t * The coordinates of all items in pixel.\n\t\t */\n\t\tthis._coordinates = null;\n\n\t\tthis.dom.el = element;\n\t\tthis.dom.$el = $(element);\n\n\t\tfor (var plugin in Owl.Plugins) {\n\t\t\tthis.plugins[plugin[0].toLowerCase() + plugin.slice(1)]\n\t\t\t\t= new Owl.Plugins[plugin](this);\n\t\t}\n\n\t\tthis.init();\n\t}\n\n\t/**\n\t * Default options for the carousel.\n\t * @public\n\t */\n\tOwl.Defaults = {\n\t\titems: 3,\n\t\tloop: false,\n\t\tcenter: false,\n\n\t\tmouseDrag: true,\n\t\ttouchDrag: true,\n\t\tpullDrag: true,\n\t\tfreeDrag: false,\n\n\t\tmargin: 0,\n\t\tstagePadding: 0,\n\n\t\tmerge: false,\n\t\tmergeFit: true,\n\t\tautoWidth: false,\n\n\t\tstartPosition: 0,\n\n\t\tsmartSpeed: 250,\n\t\tfluidSpeed: false,\n\t\tdragEndSpeed: false,\n\n\t\tresponsive: {},\n\t\tresponsiveRefreshRate: 200,\n\t\tresponsiveBaseElement: window,\n\t\tresponsiveClass: false,\n\n\t\tfallbackEasing: 'swing',\n\n\t\tinfo: false,\n\n\t\tnestedItemSelector: false,\n\t\titemElement: 'div',\n\t\tstageElement: 'div',\n\n\t\t// Classes and Names\n\t\tthemeClass: 'owl-theme',\n\t\tbaseClass: 'owl-carousel',\n\t\titemClass: 'owl-item',\n\t\tcenterClass: 'center',\n\t\tactiveClass: 'active'\n\t};\n\n\t/**\n\t * Contains all registered plugins.\n\t * @public\n\t */\n\tOwl.Plugins = {};\n\n\t/**\n\t * Initializes the carousel.\n\t * @protected\n\t */\n\tOwl.prototype.init = function() {\n\n\t\t// Update options.items on given size\n\t\tthis.setResponsiveOptions();\n\n\t\tthis.trigger('initialize');\n\n\t\t// Add base class\n\t\tif (!this.dom.$el.hasClass(this.settings.baseClass)) {\n\t\t\tthis.dom.$el.addClass(this.settings.baseClass);\n\t\t}\n\n\t\t// Add theme class\n\t\tif (!this.dom.$el.hasClass(this.settings.themeClass)) {\n\t\t\tthis.dom.$el.addClass(this.settings.themeClass);\n\t\t}\n\n\t\t// Add theme class\n\t\tif (this.settings.rtl) {\n\t\t\tthis.dom.$el.addClass('owl-rtl');\n\t\t}\n\n\t\t// Check support\n\t\tthis.browserSupport();\n\n\t\tif (this.settings.autoWidth && this.state.imagesLoaded !== true) {\n\t\t\tvar imgs, nestedSelector, width;\n\t\t\timgs = this.dom.$el.find('img');\n\t\t\tnestedSelector = this.settings.nestedItemSelector ? '.' + this.settings.nestedItemSelector : undefined;\n\t\t\twidth = this.dom.$el.children(nestedSelector).width();\n\n\t\t\tif (imgs.length && width <= 0) {\n\t\t\t\tthis.preloadAutoWidthImages(imgs);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t// Get and store window width\n\t\t// iOS safari likes to trigger unnecessary resize event\n\t\tthis.width.prevWindow = this.viewport();\n\n\t\t// create stage object\n\t\tthis.createStage();\n\n\t\t// Append local content\n\t\tthis.fetchContent();\n\n\t\t// attach generic events\n\t\tthis.eventsCall();\n\n\t\t// attach generic events\n\t\tthis.internalEvents();\n\n\t\tthis.dom.$el.addClass('owl-loading');\n\t\tthis.refresh(true);\n\t\tthis.dom.$el.removeClass('owl-loading').addClass('owl-loaded');\n\n\t\tthis.trigger('initialized');\n\n\t\t// attach custom control events\n\t\tthis.addTriggerableEvents();\n\t};\n\n\t/**\n\t * Sets responsive options.\n\t * @protected\n\t */\n\tOwl.prototype.setResponsiveOptions = function() {\n\t\tif (!this.options.responsive) {\n\t\t\tthis.settings = $.extend({}, this.options);\n\t\t} else {\n\t\t\tvar viewport = this.viewport(),\n\t\t\t\toverwrites = this.options.responsive,\n\t\t\t\tmatch = -1;\n\n\t\t\t$.each(overwrites, function(breakpoint) {\n\t\t\t\tif (breakpoint <= viewport && breakpoint > match) {\n\t\t\t\t\tmatch = Number(breakpoint);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.settings = $.extend({}, this.options, overwrites[match]);\n\t\t\tdelete this.settings.responsive;\n\n\t\t\t// Responsive Class\n\t\t\tif (this.settings.responsiveClass) {\n\t\t\t\tthis.dom.$el.attr('class', function(i, c) {\n\t\t\t\t\treturn c.replace(/\\b owl-responsive-\\S+/g, '');\n\t\t\t\t}).addClass('owl-responsive-' + match);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Updates option logic if necessery.\n\t * @protected\n\t */\n\tOwl.prototype.optionsLogic = function() {\n\t\t// Toggle Center class\n\t\tthis.dom.$el.toggleClass('owl-center', this.settings.center);\n\n\t\t// if items number is less than in body\n\t\tif (this.settings.loop && this.num.oItems < this.settings.items) {\n\t\t\tthis.settings.loop = false;\n\t\t}\n\n\t\tif (this.settings.autoWidth) {\n\t\t\tthis.settings.stagePadding = false;\n\t\t\tthis.settings.merge = false;\n\t\t}\n\t};\n\n\t/**\n\t * Creates stage and outer-stage elements.\n\t * @protected\n\t */\n\tOwl.prototype.createStage = function() {\n\t\tvar oStage = document.createElement('div'),\n\t\t\tstage = document.createElement(this.settings.stageElement);\n\n\t\toStage.className = 'owl-stage-outer';\n\t\tstage.className = 'owl-stage';\n\n\t\toStage.appendChild(stage);\n\t\tthis.dom.el.appendChild(oStage);\n\n\t\tthis.dom.oStage = oStage;\n\t\tthis.dom.$oStage = $(oStage);\n\t\tthis.dom.stage = stage;\n\t\tthis.dom.$stage = $(stage);\n\n\t\toStage = null;\n\t\tstage = null;\n\t};\n\n\t/**\n\t * Creates an item container.\n\t * @protected\n\t * @returns {jQuery} - The item container.\n\t */\n\tOwl.prototype.createItemContainer = function() {\n\t\tvar item = document.createElement(this.settings.itemElement);\n\t\titem.className = this.settings.itemClass;\n\t\treturn $(item);\n\t};\n\n\t/**\n\t * Fetches the content.\n\t * @protected\n\t */\n\tOwl.prototype.fetchContent = function(extContent) {\n\t\tif (extContent) {\n\t\t\tthis.dom.$content = (extContent instanceof jQuery) ? extContent : $(extContent);\n\t\t} else if (this.settings.nestedItemSelector) {\n\t\t\tthis.dom.$content = this.dom.$el.find('.' + this.settings.nestedItemSelector).not('.owl-stage-outer');\n\t\t} else {\n\t\t\tthis.dom.$content = this.dom.$el.children().not('.owl-stage-outer');\n\t\t}\n\t\t// content length\n\t\tthis.num.oItems = this.dom.$content.length;\n\n\t\t// init Structure\n\t\tif (this.num.oItems !== 0) {\n\t\t\tthis.initStructure();\n\t\t}\n\t};\n\n\t/**\n\t * Initializes the content struture.\n\t * @protected\n\t */\n\tOwl.prototype.initStructure = function() {\n\t\tthis.createNormalStructure();\n\t};\n\n\t/**\n\t * Creates small/mid weight content structure.\n\t * @protected\n\t * @todo This results in a poor performance,\n\t * but this is due to the approach of completely\n\t * rebuild the existing DOM tree from scratch,\n\t * rather to use them. The effort to implement\n\t * this with a good performance, while maintaining\n\t * the original approach is disproportionate.\n\t */\n\tOwl.prototype.createNormalStructure = function() {\n\t\tvar i, $item;\n\t\tfor (i = 0; i < this.num.oItems; i++) {\n\t\t\t$item = this.createItemContainer();\n\t\t\tthis.initializeItemContainer($item, this.dom.$content[i]);\n\t\t\tthis.dom.$stage.append($item);\n\t\t}\n\t\tthis.dom.$content = null;\n\t};\n\n\t/**\n\t * Creates custom content structure.\n\t * @protected\n\t */\n\tOwl.prototype.createCustomStructure = function(howManyItems) {\n\t\tvar i, $item;\n\t\tfor (i = 0; i < howManyItems; i++) {\n\t\t\t$item = this.createItemContainer();\n\t\t\tthis.createItemContainerData($item);\n\t\t\tthis.dom.$stage.append($item);\n\t\t}\n\t};\n\n\t/**\n\t * Initializes item container with provided content.\n\t * @protected\n\t * @param {jQuery} item - The item that has to be filled.\n\t * @param {HTMLElement|jQuery|string} content - The content that fills the item.\n\t */\n\tOwl.prototype.initializeItemContainer = function(item, content) {\n\t\tthis.trigger('change', { property: { name: 'item', value: item } });\n\n\t\tthis.createItemContainerData(item);\n\t\titem.append(content);\n\n\t\tthis.trigger('changed', { property: { name: 'item', value: item } });\n\t};\n\n\t/**\n\t * Creates item container data.\n\t * @protected\n\t * @param {jQuery} item - The item for which the data are to be set.\n\t * @param {jQuery} [source] - The item whose data are to be copied.\n\t */\n\tOwl.prototype.createItemContainerData = function(item, source) {\n\t\tvar data = $.extend({}, this.itemData);\n\n\t\tif (source) {\n\t\t\t$.extend(data, source.data('owl-item'));\n\t\t}\n\n\t\titem.data('owl-item', data);\n\t};\n\n\t/**\n\t * Clones an item container.\n\t * @protected\n\t * @param {jQuery} item - The item to clone.\n\t * @returns {jQuery} - The cloned item.\n\t */\n\tOwl.prototype.cloneItemContainer = function(item) {\n\t\tvar $clone = item.clone(true, true).addClass('cloned');\n\t\t// somehow data references the same object\n\t\tthis.createItemContainerData($clone, $clone);\n\t\t$clone.data('owl-item').clone = true;\n\t\treturn $clone;\n\t};\n\n\t/**\n\t * Updates original items index data.\n\t * @protected\n\t */\n\tOwl.prototype.updateLocalContent = function() {\n\n\t\tvar k, item;\n\n\t\tthis.dom.$oItems = this.dom.$stage.find('.' + this.settings.itemClass).filter(function() {\n\t\t\treturn $(this).data('owl-item').clone === false;\n\t\t});\n\n\t\tthis.num.oItems = this.dom.$oItems.length;\n\t\t// update index on original items\n\n\t\tfor (k = 0; k < this.num.oItems; k++) {\n\t\t\titem = this.dom.$oItems.eq(k);\n\t\t\titem.data('owl-item').index = k;\n\t\t}\n\t};\n\n\t/**\n\t * Creates clones for infinity loop.\n\t * @protected\n\t */\n\tOwl.prototype.loopClone = function() {\n\t\tif (!this.settings.loop || this.num.oItems < this.settings.items) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar append, prepend, i,\n\t\t\titems = this.settings.items,\n\t\t\tlast = this.num.oItems - 1;\n\n\t\t// if neighbour margin then add one more duplicat\n\t\tif (this.settings.stagePadding && this.settings.items === 1) {\n\t\t\titems += 1;\n\t\t}\n\t\tthis.num.cItems = items * 2;\n\n\t\tfor (i = 0; i < items; i++) {\n\t\t\tappend = this.cloneItemContainer(this.dom.$oItems.eq(i));\n\t\t\tprepend = this.cloneItemContainer(this.dom.$oItems.eq(last - i));\n\n\t\t\tthis.dom.$stage.append(append);\n\t\t\tthis.dom.$stage.prepend(prepend);\n\t\t}\n\n\t\tthis.dom.$cItems = this.dom.$stage.find('.' + this.settings.itemClass).filter(function() {\n\t\t\treturn $(this).data('owl-item').clone === true;\n\t\t});\n\t};\n\n\t/**\n\t * Update cloned elements.\n\t * @protected\n\t */\n\tOwl.prototype.reClone = function() {\n\t\t// remove cloned items\n\t\tif (this.dom.$cItems !== null) { // && (this.num.oItems !== 0 &&\n\t\t\t// this.num.oItems <=\n\t\t\t// this.settings.items)){\n\t\t\tthis.dom.$cItems.remove();\n\t\t\tthis.dom.$cItems = null;\n\t\t\tthis.num.cItems = 0;\n\t\t}\n\n\t\tif (!this.settings.loop) {\n\t\t\treturn;\n\t\t}\n\t\t// generete new elements\n\t\tthis.loopClone();\n\t};\n\n\t/**\n\t * Updates all items index data.\n\t * @protected\n\t */\n\tOwl.prototype.calculate = function() {\n\n\t\tvar i, j, elMinusMargin, dist, allItems, iWidth,  mergeNumber,  posLeft = 0, fullWidth = 0;\n\n\t\t// element width minus neighbour\n\t\tthis.width.el = this.dom.$el.width() - (this.settings.stagePadding * 2);\n\n\t\t// to check\n\t\tthis.width.view = this.dom.$el.width();\n\n\t\t// calculate width minus addition margins\n\t\telMinusMargin = this.width.el - (this.settings.margin * (this.settings.items === 1 ? 0 : this.settings.items - 1));\n\n\t\t// calculate element width and item width\n\t\tthis.width.el = this.width.el + this.settings.margin;\n\t\tthis.width.item = ((elMinusMargin / this.settings.items) + this.settings.margin).toFixed(3);\n\n\t\tthis.dom.$items = this.dom.$stage.find('.owl-item');\n\t\tthis.num.items = this.dom.$items.length;\n\n\t\t// change to autoWidths\n\t\tif (this.settings.autoWidth) {\n\t\t\tthis.dom.$items.css('width', '');\n\t\t}\n\n\t\t// Set grid array\n\t\tthis._coordinates = [];\n\t\tthis.num.merged = [];\n\n\t\t// item distances\n\t\tif (this.settings.rtl) {\n\t\t\tdist = this.settings.center ? -((this.width.el) / 2) : 0;\n\t\t} else {\n\t\t\tdist = this.settings.center ? (this.width.el) / 2 : 0;\n\t\t}\n\n\t\tthis.width.mergeStage = 0;\n\n\t\t// Calculate items positions\n\t\tfor (i = 0; i < this.num.items; i++) {\n\n\t\t\t// check merged items\n\n\t\t\tif (this.settings.merge) {\n\t\t\t\tmergeNumber = this.dom.$items.eq(i).find('[data-merge]').attr('data-merge') || 1;\n\t\t\t\tif (this.settings.mergeFit && mergeNumber > this.settings.items) {\n\t\t\t\t\tmergeNumber = this.settings.items;\n\t\t\t\t}\n\t\t\t\tthis.num.merged.push(parseInt(mergeNumber));\n\t\t\t\tthis.width.mergeStage += this.width.item * this.num.merged[i];\n\t\t\t} else {\n\t\t\t\tthis.num.merged.push(1);\n\t\t\t}\n\n\t\t\tiWidth = this.width.item * this.num.merged[i];\n\n\t\t\t// autoWidth item size\n\t\t\tif (this.settings.autoWidth) {\n\t\t\t\tiWidth = this.dom.$items.eq(i).width() + this.settings.margin;\n\t\t\t\tif (this.settings.rtl) {\n\t\t\t\t\tthis.dom.$items[i].style.marginLeft = this.settings.margin + 'px';\n\t\t\t\t} else {\n\t\t\t\t\tthis.dom.$items[i].style.marginRight = this.settings.margin + 'px';\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t// push item position into array\n\t\t\tthis._coordinates.push(dist);\n\n\t\t\t// update item data\n\t\t\tthis.dom.$items.eq(i).data('owl-item').posLeft = posLeft;\n\t\t\tthis.dom.$items.eq(i).data('owl-item').width = iWidth;\n\n\t\t\t// dist starts from middle of stage if center\n\t\t\t// posLeft always starts from 0\n\t\t\tif (this.settings.rtl) {\n\t\t\t\tdist += iWidth;\n\t\t\t\tposLeft += iWidth;\n\t\t\t} else {\n\t\t\t\tdist -= iWidth;\n\t\t\t\tposLeft -= iWidth;\n\t\t\t}\n\n\t\t\tfullWidth -= Math.abs(iWidth);\n\n\t\t\t// update position if center\n\t\t\tif (this.settings.center) {\n\t\t\t\tthis._coordinates[i] = !this.settings.rtl ? this._coordinates[i] - (iWidth / 2) : this._coordinates[i]\n\t\t\t\t\t+ (iWidth / 2);\n\t\t\t}\n\t\t}\n\n\t\tif (this.settings.autoWidth) {\n\t\t\tthis.width.stage = this.settings.center ? Math.abs(fullWidth) : Math.abs(dist);\n\t\t} else {\n\t\t\tthis.width.stage = Math.abs(fullWidth);\n\t\t}\n\n\t\t// update indexAbs on all items\n\t\tallItems = this.num.oItems + this.num.cItems;\n\n\t\tfor (j = 0; j < allItems; j++) {\n\t\t\tthis.dom.$items.eq(j).data('owl-item').indexAbs = j;\n\t\t}\n\n\t\t// Recalculate grid\n\t\tthis.setSizes();\n\t};\n\n\t/**\n\t * Set sizes on elements from `collectData`.\n\t * @protected\n\t * @todo CRAZY FIX!!! Doublecheck this!\n\t */\n\tOwl.prototype.setSizes = function() {\n\n\t\t// show neighbours\n\t\tif (this.settings.stagePadding !== false) {\n\t\t\tthis.dom.oStage.style.paddingLeft = this.settings.stagePadding + 'px';\n\t\t\tthis.dom.oStage.style.paddingRight = this.settings.stagePadding + 'px';\n\t\t}\n\n\t\t// if(this.width.stagePrev > this.width.stage){\n\t\tif (this.settings.rtl) {\n\t\t\twindow.setTimeout($.proxy(function() {\n\t\t\t\tthis.dom.stage.style.width = this.width.stage + 'px';\n\t\t\t}, this), 0);\n\t\t} else {\n\t\t\tthis.dom.stage.style.width = this.width.stage + 'px';\n\t\t}\n\n\t\tfor (var i = 0; i < this.num.items; i++) {\n\n\t\t\t// Set items width\n\t\t\tif (!this.settings.autoWidth) {\n\t\t\t\tthis.dom.$items[i].style.width = this.width.item - (this.settings.margin) + 'px';\n\t\t\t}\n\t\t\t// add margin\n\t\t\tif (this.settings.rtl) {\n\t\t\t\tthis.dom.$items[i].style.marginLeft = this.settings.margin + 'px';\n\t\t\t} else {\n\t\t\t\tthis.dom.$items[i].style.marginRight = this.settings.margin + 'px';\n\t\t\t}\n\n\t\t\tif (this.num.merged[i] !== 1 && !this.settings.autoWidth) {\n\t\t\t\tthis.dom.$items[i].style.width = (this.width.item * this.num.merged[i]) - (this.settings.margin) + 'px';\n\t\t\t}\n\t\t}\n\n\t\t// save prev stage size\n\t\tthis.width.stagePrev = this.width.stage;\n\t};\n\n\t/**\n\t * Updates all data by calling `refresh`.\n\t * @protected\n\t */\n\tOwl.prototype.responsive = function() {\n\n\t\tif (!this.num.oItems) {\n\t\t\treturn false;\n\t\t}\n\t\t// If El width hasnt change then stop responsive\n\t\tvar elChanged = this.isElWidthChanged();\n\t\tif (!elChanged) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.trigger('resize').isDefaultPrevented()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.state.responsive = true;\n\t\tthis.refresh();\n\t\tthis.state.responsive = false;\n\n\t\tthis.trigger('resized');\n\t};\n\n\t/**\n\t * Refreshes the carousel primarily for adaptive purposes.\n\t * @public\n\t */\n\tOwl.prototype.refresh = function() {\n\t\tvar current = this.dom.$oItems && this.dom.$oItems.eq(this.normalize(this.current(), true));\n\n\t\tthis.trigger('refresh');\n\n\t\t// Update Options for given width\n\t\tthis.setResponsiveOptions();\n\n\t\t// update info about local content\n\t\tthis.updateLocalContent();\n\n\t\t// udpate options\n\t\tthis.optionsLogic();\n\n\t\t// if no items then stop\n\t\tif (this.num.oItems === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Hide and Show methods helps here to set a proper widths.\n\t\t// This prevents Scrollbar to be calculated in stage width\n\t\tthis.dom.$stage.addClass('owl-refresh');\n\n\t\t// Remove clones and generate new ones\n\t\tthis.reClone();\n\n\t\t// calculate\n\t\tthis.calculate();\n\n\t\t// aaaand show.\n\t\tthis.dom.$stage.removeClass('owl-refresh');\n\n\t\tif (!current) {\n\t\t\tthis.dom.oStage.scrollLeft = 0;\n\t\t\tthis.reset(this.dom.$oItems.eq(0).data('owl-item').indexAbs);\n\t\t} else {\n\t\t\tthis.reset(current.data('owl-item').indexAbs); // fix that\n\t\t}\n\n\t\tthis.state.orientation = window.orientation;\n\n\t\tthis.watchVisibility();\n\n\t\tthis.trigger('refreshed');\n\t};\n\n\t/**\n\t * Updates information about current state of items (visibile, hidden, active, etc.).\n\t * @protected\n\t */\n\tOwl.prototype.updateActiveItems = function() {\n\t\tthis.trigger('change', { property: { name: 'items', value: this.dom.$items } });\n\n\t\tvar i, j, item, ipos, iwidth, outsideView;\n\n\t\t// clear states\n\t\tfor (i = 0; i < this.num.items; i++) {\n\t\t\tthis.dom.$items.eq(i).data('owl-item').active = false;\n\t\t\tthis.dom.$items.eq(i).data('owl-item').current = false;\n\t\t\tthis.dom.$items.eq(i).removeClass(this.settings.activeClass).removeClass(this.settings.centerClass);\n\t\t}\n\n\t\tthis.num.active = 0;\n\t\tpadding = this.settings.stagePadding * 2;\n\t\tstageX = this.coordinates(this.current()) + padding;\n\t\tview = this.settings.rtl ? this.width.view : -this.width.view;\n\n\t\tfor (j = 0; j < this.num.items; j++) {\n\n\t\t\titem = this.dom.$items.eq(j);\n\t\t\tipos = item.data('owl-item').posLeft;\n\t\t\tiwidth = item.data('owl-item').width;\n\t\t\toutsideView = this.settings.rtl ? ipos - iwidth - padding : ipos - iwidth + padding;\n\n\t\t\tif ((this.op(ipos, '<=', stageX) && (this.op(ipos, '>', stageX + view)))\n\t\t\t\t|| (this.op(outsideView, '<', stageX) && this.op(outsideView, '>', stageX + view))) {\n\n\t\t\t\tthis.num.active++;\n\n\t\t\t\titem.data('owl-item').active = true;\n\t\t\t\titem.data('owl-item').current = true;\n\t\t\t\titem.addClass(this.settings.activeClass);\n\n\t\t\t\tif (!this.settings.lazyLoad) {\n\t\t\t\t\titem.data('owl-item').loaded = true;\n\t\t\t\t}\n\t\t\t\tif (this.settings.loop) {\n\t\t\t\t\tthis.updateClonedItemsState(item.data('owl-item').index);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (this.settings.center) {\n\t\t\tthis.dom.$items.eq(this.current()).addClass(this.settings.centerClass).data('owl-item').center = true;\n\t\t}\n\t\tthis.trigger('changed', { property: { name: 'items', value: this.dom.$items } });\n\t};\n\n\t/**\n\t * Sets current state on sibilings items for center.\n\t * @protected\n\t */\n\tOwl.prototype.updateClonedItemsState = function(activeIndex) {\n\n\t\t// find cloned center\n\t\tvar center, $el, i;\n\t\tif (this.settings.center) {\n\t\t\tcenter = this.dom.$items.eq(this.current()).data('owl-item').index;\n\t\t}\n\n\t\tfor (i = 0; i < this.num.items; i++) {\n\t\t\t$el = this.dom.$items.eq(i);\n\t\t\tif ($el.data('owl-item').index === activeIndex) {\n\t\t\t\t$el.data('owl-item').current = true;\n\t\t\t\tif ($el.data('owl-item').index === center) {\n\t\t\t\t\t$el.addClass(this.settings.centerClass);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Save internal event references and add event based functions.\n\t * @protected\n\t */\n\tOwl.prototype.eventsCall = function() {\n\t\t// Save events references\n\t\tthis.e._onDragStart = $.proxy(function(e) {\n\t\t\tthis.onDragStart(e);\n\t\t}, this);\n\t\tthis.e._onDragMove = $.proxy(function(e) {\n\t\t\tthis.onDragMove(e);\n\t\t}, this);\n\t\tthis.e._onDragEnd = $.proxy(function(e) {\n\t\t\tthis.onDragEnd(e);\n\t\t}, this);\n\t\tthis.e._transitionEnd = $.proxy(function(e) {\n\t\t\tthis.transitionEnd(e);\n\t\t}, this);\n\t\tthis.e._resizer = $.proxy(function() {\n\t\t\tthis.responsiveTimer();\n\t\t}, this);\n\t\tthis.e._responsiveCall = $.proxy(function() {\n\t\t\tthis.responsive();\n\t\t}, this);\n\t\tthis.e._preventClick = $.proxy(function(e) {\n\t\t\tthis.preventClick(e);\n\t\t}, this);\n\t};\n\n\t/**\n\t * Checks window `resize` event.\n\t * @protected\n\t */\n\tOwl.prototype.responsiveTimer = function() {\n\t\tif (this.viewport() === this.width.prevWindow) {\n\t\t\treturn false;\n\t\t}\n\t\twindow.clearTimeout(this.resizeTimer);\n\n\t\tthis.resizeTimer = window.setTimeout(this.e._responsiveCall, this.settings.responsiveRefreshRate);\n\t\tthis.width.prevWindow = this.viewport();\n\t};\n\n\t/**\n\t * Checks for touch/mouse drag options and add necessery event handlers.\n\t * @protected\n\t */\n\tOwl.prototype.internalEvents = function() {\n\t\tvar isTouch = isTouchSupport(),\n\t\t\tisTouchIE = isTouchSupportIE();\n\n\t\tif (isTouch && !isTouchIE) {\n\t\t\tthis.dragType = [ 'touchstart', 'touchmove', 'touchend', 'touchcancel' ];\n\t\t} else if (isTouch && isTouchIE) {\n\t\t\tthis.dragType = [ 'MSPointerDown', 'MSPointerMove', 'MSPointerUp', 'MSPointerCancel' ];\n\t\t} else {\n\t\t\tthis.dragType = [ 'mousedown', 'mousemove', 'mouseup' ];\n\t\t}\n\n\t\tif ((isTouch || isTouchIE) && this.settings.touchDrag) {\n\t\t\t// touch cancel event\n\t\t\tthis.on(document, this.dragType[3], this.e._onDragEnd);\n\n\t\t} else {\n\t\t\t// firefox startdrag fix - addeventlistener doesnt work here :/\n\t\t\tthis.dom.$stage.on('dragstart', function() {\n\t\t\t\treturn false;\n\t\t\t});\n\n\t\t\tif (this.settings.mouseDrag) {\n\t\t\t\t// disable text select\n\t\t\t\tthis.dom.stage.onselectstart = function() {\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\t// enable text select\n\t\t\t\tthis.dom.$el.addClass('owl-text-select-on');\n\t\t\t}\n\t\t}\n\n\t\t// Catch transitionEnd event\n\t\tif (this.transitionEndVendor) {\n\t\t\tthis.on(this.dom.stage, this.transitionEndVendor, this.e._transitionEnd, false);\n\t\t}\n\n\t\t// Responsive\n\t\tif (this.settings.responsive !== false) {\n\t\t\tthis.on(window, 'resize', this.e._resizer, false);\n\t\t}\n\n\t\tthis.dragEvents();\n\t};\n\n\t/**\n\t * Triggers event handlers for drag events.\n\t * @protected\n\t */\n\tOwl.prototype.dragEvents = function() {\n\n\t\tif (this.settings.touchDrag && (this.dragType[0] === 'touchstart' || this.dragType[0] === 'MSPointerDown')) {\n\t\t\tthis.on(this.dom.stage, this.dragType[0], this.e._onDragStart, false);\n\t\t} else if (this.settings.mouseDrag && this.dragType[0] === 'mousedown') {\n\t\t\tthis.on(this.dom.stage, this.dragType[0], this.e._onDragStart, false);\n\t\t} else {\n\t\t\tthis.off(this.dom.stage, this.dragType[0], this.e._onDragStart);\n\t\t}\n\t};\n\n\t/**\n\t * Handles touchstart/mousedown event.\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragStart = function(event) {\n\t\tvar ev, isTouchEvent, pageX, pageY, animatedPos;\n\n\t\tev = event.originalEvent || event || window.event;\n\n\t\t// prevent right click\n\t\tif (ev.which === 3) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.dragType[0] === 'mousedown') {\n\t\t\tthis.dom.$stage.addClass('owl-grab');\n\t\t}\n\n\t\tthis.trigger('drag');\n\t\tthis.drag.startTime = new Date().getTime();\n\t\tthis.speed(0);\n\t\tthis.state.isTouch = true;\n\t\tthis.state.isScrolling = false;\n\t\tthis.state.isSwiping = false;\n\t\tthis.drag.distance = 0;\n\n\t\t// if is 'touchstart'\n\t\tisTouchEvent = ev.type === 'touchstart';\n\t\tpageX = isTouchEvent ? event.targetTouches[0].pageX : (ev.pageX || ev.clientX);\n\t\tpageY = isTouchEvent ? event.targetTouches[0].pageY : (ev.pageY || ev.clientY);\n\n\t\t// get stage position left\n\t\tthis.drag.offsetX = this.dom.$stage.position().left - this.settings.stagePadding;\n\t\tthis.drag.offsetY = this.dom.$stage.position().top;\n\n\t\tif (this.settings.rtl) {\n\t\t\tthis.drag.offsetX = this.dom.$stage.position().left + this.width.stage - this.width.el\n\t\t\t\t+ this.settings.margin;\n\t\t}\n\n\t\t// catch position // ie to fix\n\t\tif (this.state.inMotion && this.support3d) {\n\t\t\tanimatedPos = this.getTransformProperty();\n\t\t\tthis.drag.offsetX = animatedPos;\n\t\t\tthis.animate(animatedPos);\n\t\t\tthis.state.inMotion = true;\n\t\t} else if (this.state.inMotion && !this.support3d) {\n\t\t\tthis.state.inMotion = false;\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.drag.startX = pageX - this.drag.offsetX;\n\t\tthis.drag.startY = pageY - this.drag.offsetY;\n\n\t\tthis.drag.start = pageX - this.drag.startX;\n\t\tthis.drag.targetEl = ev.target || ev.srcElement;\n\t\tthis.drag.updatedX = this.drag.start;\n\n\t\t// to do/check\n\t\t// prevent links and images dragging;\n\t\tif (this.drag.targetEl.tagName === \"IMG\" || this.drag.targetEl.tagName === \"A\") {\n\t\t\tthis.drag.targetEl.draggable = false;\n\t\t}\n\n\t\tthis.on(document, this.dragType[1], this.e._onDragMove, false);\n\t\tthis.on(document, this.dragType[2], this.e._onDragEnd, false);\n\t};\n\n\t/**\n\t * Handles the touchmove/mousemove events.\n\t * @todo Simplify\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragMove = function(event) {\n\t\tvar ev, isTouchEvent, pageX, pageY, minValue, maxValue, pull;\n\n\t\tif (!this.state.isTouch) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.state.isScrolling) {\n\t\t\treturn;\n\t\t}\n\n\t\tev = event.originalEvent || event || window.event;\n\n\t\t// if is 'touchstart'\n\t\tisTouchEvent = ev.type == 'touchmove';\n\t\tpageX = isTouchEvent ? ev.targetTouches[0].pageX : (ev.pageX || ev.clientX);\n\t\tpageY = isTouchEvent ? ev.targetTouches[0].pageY : (ev.pageY || ev.clientY);\n\n\t\t// Drag Direction\n\t\tthis.drag.currentX = pageX - this.drag.startX;\n\t\tthis.drag.currentY = pageY - this.drag.startY;\n\t\tthis.drag.distance = this.drag.currentX - this.drag.offsetX;\n\n\t\t// Check move direction\n\t\tif (this.drag.distance < 0) {\n\t\t\tthis.state.direction = this.settings.rtl ? 'right' : 'left';\n\t\t} else if (this.drag.distance > 0) {\n\t\t\tthis.state.direction = this.settings.rtl ? 'left' : 'right';\n\t\t}\n\t\t// Loop\n\t\tif (this.settings.loop) {\n\t\t\tif (this.op(this.drag.currentX, '>', this.coordinates(this.minimum())) && this.state.direction === 'right') {\n\t\t\t\tthis.drag.currentX -= (this.settings.center && this.coordinates(0)) - this.coordinates(this.num.oItems);\n\t\t\t} else if (this.op(this.drag.currentX, '<', this.coordinates(this.maximum())) && this.state.direction === 'left') {\n\t\t\t\tthis.drag.currentX += (this.settings.center && this.coordinates(0)) - this.coordinates(this.num.oItems);\n\t\t\t}\n\t\t} else {\n\t\t\t// pull\n\t\t\tminValue = this.settings.rtl ? this.coordinates(this.maximum()) : this.coordinates(this.minimum());\n\t\t\tmaxValue = this.settings.rtl ? this.coordinates(this.minimum()) : this.coordinates(this.maximum());\n\t\t\tpull = this.settings.pullDrag ? this.drag.distance / 5 : 0;\n\t\t\tthis.drag.currentX = Math.max(Math.min(this.drag.currentX, minValue + pull), maxValue + pull);\n\t\t}\n\n\t\t// Lock browser if swiping horizontal\n\n\t\tif ((this.drag.distance > 8 || this.drag.distance < -8)) {\n\t\t\tif (ev.preventDefault !== undefined) {\n\t\t\t\tev.preventDefault();\n\t\t\t} else {\n\t\t\t\tev.returnValue = false;\n\t\t\t}\n\t\t\tthis.state.isSwiping = true;\n\t\t}\n\n\t\tthis.drag.updatedX = this.drag.currentX;\n\n\t\t// Lock Owl if scrolling\n\t\tif ((this.drag.currentY > 16 || this.drag.currentY < -16) && this.state.isSwiping === false) {\n\t\t\tthis.state.isScrolling = true;\n\t\t\tthis.drag.updatedX = this.drag.start;\n\t\t}\n\n\t\tthis.animate(this.drag.updatedX);\n\t};\n\n\t/**\n\t * Handles the touchend/mouseup events.\n\t * @protected\n\t */\n\tOwl.prototype.onDragEnd = function() {\n\t\tvar compareTimes, distanceAbs, closest;\n\n\t\tif (!this.state.isTouch) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.dragType[0] === 'mousedown') {\n\t\t\tthis.dom.$stage.removeClass('owl-grab');\n\t\t}\n\n\t\tthis.trigger('dragged');\n\n\t\t// prevent links and images dragging;\n\t\tthis.drag.targetEl.removeAttribute(\"draggable\");\n\n\t\t// remove drag event listeners\n\n\t\tthis.state.isTouch = false;\n\t\tthis.state.isScrolling = false;\n\t\tthis.state.isSwiping = false;\n\n\t\t// to check\n\t\tif (this.drag.distance === 0 && this.state.inMotion !== true) {\n\t\t\tthis.state.inMotion = false;\n\t\t\treturn false;\n\t\t}\n\n\t\t// prevent clicks while scrolling\n\n\t\tthis.drag.endTime = new Date().getTime();\n\t\tcompareTimes = this.drag.endTime - this.drag.startTime;\n\t\tdistanceAbs = Math.abs(this.drag.distance);\n\n\t\t// to test\n\t\tif (distanceAbs > 3 || compareTimes > 300) {\n\t\t\tthis.removeClick(this.drag.targetEl);\n\t\t}\n\n\t\tclosest = this.closest(this.drag.updatedX);\n\n\t\tthis.speed(this.settings.dragEndSpeed || this.settings.smartSpeed);\n\t\tthis.current(closest);\n\n\t\t// if pullDrag is off then fire transitionEnd event manually when stick\n\t\t// to border\n\t\tif (!this.settings.pullDrag && this.drag.updatedX === this.coordinates(closest)) {\n\t\t\tthis.transitionEnd();\n\t\t}\n\n\t\tthis.drag.distance = 0;\n\n\t\tthis.off(document, this.dragType[1], this.e._onDragMove);\n\t\tthis.off(document, this.dragType[2], this.e._onDragEnd);\n\t};\n\n\t/**\n\t * Attaches `preventClick` to disable link while swipping.\n\t * @protected\n\t * @param {HTMLElement} [target] - The target of the `click` event.\n\t */\n\tOwl.prototype.removeClick = function(target) {\n\t\tthis.drag.targetEl = target;\n\t\t$(target).on('click.preventClick', this.e._preventClick);\n\t\t// to make sure click is removed:\n\t\twindow.setTimeout(function() {\n\t\t\t$(target).off('click.preventClick');\n\t\t}, 300);\n\t};\n\n\t/**\n\t * Suppresses click event.\n\t * @protected\n\t * @param {Event} ev - The event arguments.\n\t */\n\tOwl.prototype.preventClick = function(ev) {\n\t\tif (ev.preventDefault) {\n\t\t\tev.preventDefault();\n\t\t} else {\n\t\t\tev.returnValue = false;\n\t\t}\n\t\tif (ev.stopPropagation) {\n\t\t\tev.stopPropagation();\n\t\t}\n\t\t$(ev.target).off('click.preventClick');\n\t};\n\n\t/**\n\t * Catches stage position while animate (only CSS3).\n\t * @protected\n\t * @returns\n\t */\n\tOwl.prototype.getTransformProperty = function() {\n\t\tvar transform, matrix3d;\n\n\t\ttransform = window.getComputedStyle(this.dom.stage, null).getPropertyValue(this.vendorName + 'transform');\n\t\t// var transform = this.dom.$stage.css(this.vendorName + 'transform')\n\t\ttransform = transform.replace(/matrix(3d)?\\(|\\)/g, '').split(',');\n\t\tmatrix3d = transform.length === 16;\n\n\t\treturn matrix3d !== true ? transform[4] : transform[12];\n\t};\n\n\t/**\n\t * Gets absolute position of the closest item for a coordinate.\n\t * @protected\n\t * @param {Number} coordinate - The coordinate in pixel.\n\t * @return {Number} - The absolute position of the closest item.\n\t */\n\tOwl.prototype.closest = function(coordinate) {\n\t\tvar position = 0, pull = 30;\n\n\t\tif (!this.settings.freeDrag) {\n\t\t\t// check closest item\n\t\t\t$.each(this.coordinates(), $.proxy(function(index, value) {\n\t\t\t\tif (coordinate > value - pull && coordinate < value + pull) {\n\t\t\t\t\tposition = index;\n\t\t\t\t} else if (this.op(coordinate, '<', value)\n\t\t\t\t\t&& this.op(coordinate, '>', this.coordinates(index + 1) || value - this.width.el)) {\n\t\t\t\t\tposition = this.state.direction === 'left' ? index + 1 : index;\n\t\t\t\t}\n\t\t\t}, this));\n\t\t}\n\n\t\tif (!this.settings.loop) {\n\t\t\t// non loop boundries\n\t\t\tif (this.op(coordinate, '>', this.coordinates(this.minimum()))) {\n\t\t\t\tposition = coordinate = this.minimum();\n\t\t\t} else if (this.op(coordinate, '<', this.coordinates(this.maximum()))) {\n\t\t\t\tposition = coordinate = this.maximum();\n\t\t\t}\n\t\t}\n\n\t\treturn position;\n\t};\n\n\t/**\n\t * Animates the stage.\n\t * @public\n\t * @param {Number} coordinate - The coordinate in pixels.\n\t */\n\tOwl.prototype.animate = function(coordinate) {\n\t\tthis.trigger('translate');\n\t\tthis.state.inMotion = this.speed() > 0;\n\n\t\tif (this.support3d) {\n\t\t\tthis.dom.$stage.css({\n\t\t\t\ttransform: 'translate3d(' + coordinate + 'px' + ',0px, 0px)',\n\t\t\t\ttransition: (this.speed() / 1000) + 's'\n\t\t\t});\n\t\t} else if (this.state.isTouch) {\n\t\t\tthis.dom.$stage.css({\n\t\t\t\tleft: coordinate + 'px'\n\t\t\t});\n\t\t} else {\n\t\t\tthis.dom.$stage.animate({\n\t\t\t\tleft: coordinate\n\t\t\t}, this.speed() / 1000, this.settings.fallbackEasing, $.proxy(function() {\n\t\t\t\tif (this.state.inMotion) {\n\t\t\t\t\tthis.transitionEnd();\n\t\t\t\t}\n\t\t\t}, this));\n\t\t}\n\t};\n\n\t/**\n\t * Sets the absolute position of the current item.\n\t * @public\n\t * @param {Number} [position] - The new absolute position or nothing to leave it unchanged.\n\t * @returns {Number} - The absolute position of the current item.\n\t */\n\tOwl.prototype.current = function(position) {\n\t\tif (position === undefined) {\n\t\t\treturn this._current;\n\t\t}\n\n\t\tif (this.num.oItems === 0) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tposition = this.normalize(position);\n\n\t\tif (this._current === position) {\n\t\t\tthis.animate(this.coordinates(this._current));\n\t\t} else {\n\t\t\tvar event = this.trigger('change', { property: { name: 'position', value: position } });\n\n\t\t\tif (event.data !== undefined) {\n\t\t\t\tposition = this.normalize(event.data);\n\t\t\t}\n\n\t\t\tthis._current = position;\n\n\t\t\tthis.animate(this.coordinates(this._current));\n\n\t\t\tthis.updateActiveItems();\n\n\t\t\tthis.trigger('changed', { property: { name: 'position', value: this._current } });\n\t\t}\n\n\t\treturn this._current;\n\t};\n\n\t/**\n\t * Resets the absolute position of the current item.\n\t * @public\n\t * @param {Number} position - The absolute position of the new item.\n\t */\n\tOwl.prototype.reset = function(position) {\n\t\tthis.suppress([ 'change', 'changed' ]);\n\t\tthis.speed(0);\n\t\tthis.current(position);\n\t\tthis.release([ 'change', 'changed' ]);\n\t};\n\n\t/**\n\t * Normalizes an absolute position for an item.\n\t * @public\n\t * @param {Number} position - The absolute position to normalize.\n\t * @param {Boolean} [relative=false] - Whether to return a relative position or not.\n\t * @return {Number} - The normalized position.\n\t */\n\tOwl.prototype.normalize = function(position, relative) {\n\t\tif (position === undefined || !this.dom.$items) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (this.settings.loop) {\n\t\t\tvar n = this.dom.$items.length;\n\t\t\tposition = ((position % n) + n) % n;\n\t\t} else {\n\t\t\tposition = Math.max(this.minimum(), Math.min(this.maximum(), position));\n\t\t}\n\n\t\treturn relative ? this.dom.$items.eq(position).data('owl-item').index : position;\n\t};\n\n\t/**\n\t * Gets the absolute maximum position for an item.\n\t * @public\n\t * @returns {Number}\n\t */\n\tOwl.prototype.maximum = function() {\n\t\tvar maximum, width,\n\t\t\tsettings = this.settings;\n\n\t\tif (!settings.loop && settings.center) {\n\t\t\tmaximum = this.num.oItems - 1;\n\t\t} else if (!settings.loop && !settings.center) {\n\t\t\tmaximum = this.num.oItems - settings.items;\n\t\t} else if (settings.loop || settings.center) {\n\t\t\tmaximum = this.num.oItems + settings.items;\n\t\t} else if (settings.autoWidth || settings.merge) {\n\t\t\trevert = settings.rtl ? 1 : -1;\n\t\t\twidth = this.dom.$stage.width() - this.$el.width();\n\t\t\t$.each(this.coordinates(), function(index, coordinate) {\n\t\t\t\tif (coordinate * revert >= width) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tmaximum = index + 1;\n\t\t\t});\n\t\t} else {\n\t\t\tthrow 'Can not detect maximum absolute position.'\n\t\t}\n\n\t\treturn maximum;\n\t};\n\n\t/**\n\t * Gets the absolute minimum position for an item.\n\t * @public\n\t * @returns {Number}\n\t */\n\tOwl.prototype.minimum = function() {\n\t\treturn this.dom.$oItems.eq(0).data('owl-item').indexAbs;\n\t};\n\n\t/**\n\t * Sets the current animation speed.\n\t * @public\n\t * @param {Number} [speed] - The animation speed in millisecondsor nothing to leave it unchanged.\n\t * @returns {Number} - The current animation speed in milliseconds.\n\t */\n\tOwl.prototype.speed = function(speed) {\n\t\tif (speed !== undefined) {\n\t\t\tthis._speed = speed;\n\t\t}\n\n\t\treturn this._speed;\n\t};\n\n\t/**\n\t * Gets the coordinate for an item.\n\t * @public\n\t * @param {Number} [position] - The absolute position of the item.\n\t * @returns {Number|Array.<Number>} - The coordinate of the item in pixel or all coordinates.\n\t */\n\tOwl.prototype.coordinates = function(position) {\n\t\treturn position !== undefined ? this._coordinates[position] : this._coordinates;\n\t};\n\n\t/**\n\t * Calculates the speed for a translation.\n\t * @protected\n\t * @param {Number} from - The absolute position of the start item.\n\t * @param {Number} to - The absolute position of the target item.\n\t * @param {Number} [factor=undefined] - The time factor in milliseconds.\n\t * @returns {Number} - The time in milliseconds for the translation.\n\t */\n\tOwl.prototype.duration = function(from, to, factor) {\n\t\treturn Math.min(Math.max(Math.abs(to - from), 1), 6) * Math.abs((factor || this.settings.smartSpeed));\n\t};\n\n\t/**\n\t * Slides to the specified item.\n\t * @public\n\t * @param {Number} position - The position of the item.\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.to = function(position, speed) {\n\t\tif (this.settings.loop) {\n\t\t\tvar distance = position - this.normalize(this.current(), true),\n\t\t\t\trevert = this.current(),\n\t\t\t\tbefore = this.current(),\n\t\t\t\tafter = this.current() + distance,\n\t\t\t\tdirection = before - after < 0 ? true : false;\n\n\t\t\tif (after < this.settings.items && direction === false) {\n\t\t\t\trevert = this.num.items - (this.settings.items - before) - this.settings.items;\n\t\t\t\tthis.reset(revert);\n\t\t\t} else if (after >= this.num.items - this.settings.items && direction === true) {\n\t\t\t\trevert = before - this.num.oItems;\n\t\t\t\tthis.reset(revert);\n\t\t\t}\n\t\t\twindow.clearTimeout(this.e._goToLoop);\n\t\t\tthis.e._goToLoop = window.setTimeout($.proxy(function() {\n\t\t\t\tthis.speed(this.duration(this.current(), revert + distance, speed));\n\t\t\t\tthis.current(revert + distance);\n\t\t\t}, this), 30);\n\t\t} else {\n\t\t\tthis.speed(this.duration(this.current(), position, speed));\n\t\t\tthis.current(position);\n\t\t}\n\t};\n\n\t/**\n\t * Slides to the next item.\n\t * @public\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.next = function(speed) {\n\t\tspeed = speed || false;\n\t\tthis.to(this.normalize(this.current(), true) + 1, speed);\n\t};\n\n\t/**\n\t * Slides to the previous item.\n\t * @public\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.prev = function(speed) {\n\t\tspeed = speed || false;\n\t\tthis.to(this.normalize(this.current(), true) - 1, speed);\n\t};\n\n\t/**\n\t * Handles the end of an animation.\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.transitionEnd = function(event) {\n\n\t\t// if css2 animation then event object is undefined\n\t\tif (event !== undefined) {\n\t\t\tevent.stopPropagation();\n\n\t\t\t// Catch only owl-stage transitionEnd event\n\t\t\tvar eventTarget = event.target || event.srcElement || event.originalTarget;\n\t\t\tif (eventTarget !== this.dom.stage) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tthis.state.inMotion = false;\n\t\tthis.trigger('translated');\n\t};\n\n\t/**\n\t * Checks if element width has changed\n\t * @protected\n\t * @returns {Booelan}\n\t */\n\tOwl.prototype.isElWidthChanged = function() {\n\t\tvar newElWidth = this.dom.$el.width() - this.settings.stagePadding, // to\n\t\t// check\n\t\tprevElWidth = this.width.el + this.settings.margin;\n\t\treturn newElWidth !== prevElWidth;\n\t};\n\n\t/**\n\t * Gets viewport width.\n\t * @protected\n\t * @return {Number} - The width in pixel.\n\t */\n\tOwl.prototype.viewport = function() {\n\t\tvar width;\n\t\tif (this.options.responsiveBaseElement !== window) {\n\t\t\twidth = $(this.options.responsiveBaseElement).width();\n\t\t} else if (window.innerWidth) {\n\t\t\twidth = window.innerWidth;\n\t\t} else if (document.documentElement && document.documentElement.clientWidth) {\n\t\t\twidth = document.documentElement.clientWidth;\n\t\t} else {\n\t\t\tthrow 'Can not detect viewport width.';\n\t\t}\n\t\treturn width;\n\t};\n\n\t/**\n\t * Replaces the current content.\n\t * @public\n\t * @param {HTMLElement|jQuery|String} content - The new content.\n\t */\n\tOwl.prototype.insertContent = function(content) {\n\t\tthis.dom.$stage.empty();\n\t\tthis.fetchContent(content);\n\t\tthis.refresh();\n\t};\n\n\t/**\n\t * Adds an item.\n\t * @public\n\t * @param {HTMLElement|jQuery|String} content - The item content to add.\n\t * @param {Number} [position=0] - The position at which to insert the item.\n\t */\n\tOwl.prototype.addItem = function(content, position) {\n\t\tvar $item = this.createItemContainer();\n\n\t\tposition = position || 0;\n\t\t// wrap content\n\t\tthis.initializeItemContainer($item, content);\n\t\t// if carousel is empty then append item\n\t\tif (this.dom.$oItems.length === 0) {\n\t\t\tthis.dom.$stage.append($item);\n\t\t} else {\n\t\t\t// append item\n\t\t\tif (pos !== -1) {\n\t\t\t\tthis.dom.$oItems.eq(position).before($item);\n\t\t\t} else {\n\t\t\t\tthis.dom.$oItems.eq(position).after($item);\n\t\t\t}\n\t\t}\n\t\t// update and calculate carousel\n\t\tthis.refresh();\n\t};\n\n\t/**\n\t * Removes an item.\n\t * @public\n\t * @param {Number} pos - The position of the item.\n\t */\n\tOwl.prototype.removeItem = function(pos) {\n\t\tthis.dom.$oItems.eq(pos).remove();\n\t\tthis.refresh();\n\t};\n\n\t/**\n\t * Adds triggerable events.\n\t * @protected\n\t */\n\tOwl.prototype.addTriggerableEvents = function() {\n\t\tvar handler = $.proxy(function(callback, event) {\n\t\t\treturn $.proxy(function(e) {\n\t\t\t\tif (e.relatedTarget !== this) {\n\t\t\t\t\tthis.suppress([ event ]);\n\t\t\t\t\tcallback.apply(this, [].slice.call(arguments, 1));\n\t\t\t\t\tthis.release([ event ]);\n\t\t\t\t}\n\t\t\t}, this);\n\t\t}, this);\n\n\t\t$.each({\n\t\t\t'next': this.next,\n\t\t\t'prev': this.prev,\n\t\t\t'to': this.to,\n\t\t\t'destroy': this.destroy,\n\t\t\t'refresh': this.refresh,\n\t\t\t'replace': this.insertContent,\n\t\t\t'add': this.addItem,\n\t\t\t'remove': this.removeItem\n\t\t}, $.proxy(function(event, callback) {\n\t\t\tthis.dom.$el.on(event + '.owl.carousel', handler(callback, event + '.owl.carousel'));\n\t\t}, this));\n\n\t};\n\n\t/**\n\t * Watches the visibility of the carousel element.\n\t * @protected\n\t */\n\tOwl.prototype.watchVisibility = function() {\n\n\t\t// test on zepto\n\t\tif (!isElVisible(this.dom.el)) {\n\t\t\tthis.dom.$el.addClass('owl-hidden');\n\t\t\twindow.clearInterval(this.e._checkVisibile);\n\t\t\tthis.e._checkVisibile = window.setInterval($.proxy(checkVisible, this), 500);\n\t\t}\n\n\t\tfunction isElVisible(el) {\n\t\t\treturn el.offsetWidth > 0 && el.offsetHeight > 0;\n\t\t}\n\n\t\tfunction checkVisible() {\n\t\t\tif (isElVisible(this.dom.el)) {\n\t\t\t\tthis.dom.$el.removeClass('owl-hidden');\n\t\t\t\tthis.refresh();\n\t\t\t\twindow.clearInterval(this.e._checkVisibile);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Preloads images with auto width.\n\t * @protected\n\t * @todo Still to test\n\t */\n\tOwl.prototype.preloadAutoWidthImages = function(imgs) {\n\t\tvar loaded, that, $el, img;\n\n\t\tloaded = 0;\n\t\tthat = this;\n\t\timgs.each(function(i, el) {\n\t\t\t$el = $(el);\n\t\t\timg = new Image();\n\n\t\t\timg.onload = function() {\n\t\t\t\tloaded++;\n\t\t\t\t$el.attr('src', img.src);\n\t\t\t\t$el.css('opacity', 1);\n\t\t\t\tif (loaded >= imgs.length) {\n\t\t\t\t\tthat.state.imagesLoaded = true;\n\t\t\t\t\tthat.init();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\timg.src = $el.attr('src') || $el.attr('data-src') || $el.attr('data-src-retina');\n\t\t});\n\t};\n\n\t/**\n\t * Destroys the carousel.\n\t * @public\n\t */\n\tOwl.prototype.destroy = function() {\n\n\t\tif (this.dom.$el.hasClass(this.settings.themeClass)) {\n\t\t\tthis.dom.$el.removeClass(this.settings.themeClass);\n\t\t}\n\n\t\tif (this.settings.responsive !== false) {\n\t\t\tthis.off(window, 'resize', this.e._resizer);\n\t\t}\n\n\t\tif (this.transitionEndVendor) {\n\t\t\tthis.off(this.dom.stage, this.transitionEndVendor, this.e._transitionEnd);\n\t\t}\n\n\t\tfor ( var i in this.plugins) {\n\t\t\tthis.plugins[i].destroy();\n\t\t}\n\n\t\tif (this.settings.mouseDrag || this.settings.touchDrag) {\n\t\t\tthis.off(this.dom.stage, this.dragType[0], this.e._onDragStart);\n\t\t\tif (this.settings.mouseDrag) {\n\t\t\t\tthis.off(document, this.dragType[3], this.e._onDragStart);\n\t\t\t}\n\t\t\tif (this.settings.mouseDrag) {\n\t\t\t\tthis.dom.$stage.off('dragstart', function() {\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\tthis.dom.stage.onselectstart = function() {\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t// Remove event handlers in the \".owl.carousel\" namespace\n\t\tthis.dom.$el.off('.owl');\n\n\t\tif (this.dom.$cItems !== null) {\n\t\t\tthis.dom.$cItems.remove();\n\t\t}\n\t\tthis.e = null;\n\t\tthis.dom.$el.data('owlCarousel', null);\n\t\tdelete this.dom.el.owlCarousel;\n\n\t\tthis.dom.$stage.unwrap();\n\t\tthis.dom.$items.unwrap();\n\t\tthis.dom.$items.contents().unwrap();\n\t\tthis.dom = null;\n\t};\n\n\t/**\n\t * Operators to calculate right-to-left and left-to-right.\n\t * @protected\n\t * @param {Number} [a] - The left side operand.\n\t * @param {String} [o] - The operator.\n\t * @param {Number} [b] - The right side operand.\n\t */\n\tOwl.prototype.op = function(a, o, b) {\n\t\tvar rtl = this.settings.rtl;\n\t\tswitch (o) {\n\t\tcase '<':\n\t\t\treturn rtl ? a > b : a < b;\n\t\tcase '>':\n\t\t\treturn rtl ? a < b : a > b;\n\t\tcase '>=':\n\t\t\treturn rtl ? a <= b : a >= b;\n\t\tcase '<=':\n\t\t\treturn rtl ? a >= b : a <= b;\n\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t};\n\n\t/**\n\t * Attaches to an internal event.\n\t * @protected\n\t * @param {HTMLElement} element - The event source.\n\t * @param {String} event - The event name.\n\t * @param {Function} listener - The event handler to attach.\n\t * @param {Boolean} capture - Wether the event should be handled at the capturing phase or not.\n\t */\n\tOwl.prototype.on = function(element, event, listener, capture) {\n\t\tif (element.addEventListener) {\n\t\t\telement.addEventListener(event, listener, capture);\n\t\t} else if (element.attachEvent) {\n\t\t\telement.attachEvent('on' + event, listener);\n\t\t}\n\t};\n\n\t/**\n\t * Detaches from an internal event.\n\t * @protected\n\t * @param {HTMLElement} element - The event source.\n\t * @param {String} event - The event name.\n\t * @param {Function} listener - The attached event handler to detach.\n\t * @param {Boolean} capture - Wether the attached event handler was registered as a capturing listener or not.\n\t */\n\tOwl.prototype.off = function(element, event, listener, capture) {\n\t\tif (element.removeEventListener) {\n\t\t\telement.removeEventListener(event, listener, capture);\n\t\t} else if (element.detachEvent) {\n\t\t\telement.detachEvent('on' + event, listener);\n\t\t}\n\t};\n\n\t/**\n\t * Triggers an public event.\n\t * @protected\n\t * @param {String} name - The event name.\n\t * @param {*} [data=null] - The event data.\n\t * @param {String} [namespace=.owl.carousel] - The event namespace.\n\t * @returns {Event} - The event arguments.\n\t */\n\tOwl.prototype.trigger = function(name, data, namespace) {\n\t\tvar status = {\n\t\t\titem: { count: this.num.oItems, index: this.current() }\n\t\t}, handler = $.camelCase(\n\t\t\t$.grep([ 'on', name, namespace ], function(v) { return v })\n\t\t\t\t.join('-').toLowerCase()\n\t\t), event = $.Event(\n\t\t\t[ name, 'owl', namespace || 'carousel' ].join('.').toLowerCase(),\n\t\t\t$.extend({ relatedTarget: this }, status, data)\n\t\t);\n\n\t\tif (!this._supress[event.type]) {\n\t\t\t$.each(this.plugins, function(name, plugin) {\n\t\t\t\tif (plugin.onTrigger) {\n\t\t\t\t\tplugin.onTrigger(event);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.dom.$el.trigger(event);\n\n\t\t\tif (typeof this.settings[handler] === 'function') {\n\t\t\t\tthis.settings[handler].apply(this, event);\n\t\t\t}\n\t\t}\n\n\t\treturn event;\n\t};\n\n\t/**\n\t * Suppresses events.\n\t * @protected\n\t * @param {Array.<String>} events - The events to suppress.\n\t */\n\tOwl.prototype.suppress = function(events) {\n\t\t$.each(events, $.proxy(function(index, event) {\n\t\t\tthis._supress[event] = true;\n\t\t}, this));\n\t}\n\n\t/**\n\t * Releases suppressed events.\n\t * @protected\n\t * @param {Array.<String>} events - The events to release.\n\t */\n\tOwl.prototype.release = function(events) {\n\t\t$.each(events, $.proxy(function(index, event) {\n\t\t\tdelete this._supress[event];\n\t\t}, this));\n\t}\n\n\t/**\n\t * Checks the availability of some browser features.\n\t * @protected\n\t */\n\tOwl.prototype.browserSupport = function() {\n\t\tthis.support3d = isPerspective();\n\n\t\tif (this.support3d) {\n\t\t\tthis.transformVendor = isTransform();\n\n\t\t\t// take transitionend event name by detecting transition\n\t\t\tvar endVendors = [ 'transitionend', 'webkitTransitionEnd', 'transitionend', 'oTransitionEnd' ];\n\t\t\tthis.transitionEndVendor = endVendors[isTransition()];\n\n\t\t\t// take vendor name from transform name\n\t\t\tthis.vendorName = this.transformVendor.replace(/Transform/i, '');\n\t\t\tthis.vendorName = this.vendorName !== '' ? '-' + this.vendorName.toLowerCase() + '-' : '';\n\t\t}\n\n\t\tthis.state.orientation = window.orientation;\n\t};\n\n\t/**\n\t * Checks for CSS support.\n\t * @private\n\t * @param {Array} array - The CSS properties to check for.\n\t * @returns {Array} - Contains the supported CSS property name and its index or `false`.\n\t */\n\tfunction isStyleSupported(array) {\n\t\tvar p, s, fake = document.createElement('div'), list = array;\n\t\tfor (p in list) {\n\t\t\ts = list[p];\n\t\t\tif (typeof fake.style[s] !== 'undefined') {\n\t\t\t\tfake = null;\n\t\t\t\treturn [ s, p ];\n\t\t\t}\n\t\t}\n\t\treturn [ false ];\n\t}\n\n\t/**\n\t * Checks for CSS transition support.\n\t * @private\n\t * @todo Realy bad design\n\t * @returns {Number}\n\t */\n\tfunction isTransition() {\n\t\treturn isStyleSupported([ 'transition', 'WebkitTransition', 'MozTransition', 'OTransition' ])[1];\n\t}\n\n\t/**\n\t * Checks for CSS transform support.\n\t * @private\n\t * @returns {String} The supported property name or false.\n\t */\n\tfunction isTransform() {\n\t\treturn isStyleSupported([ 'transform', 'WebkitTransform', 'MozTransform', 'OTransform', 'msTransform' ])[0];\n\t}\n\n\t/**\n\t * Checks for CSS perspective support.\n\t * @private\n\t * @returns {String} The supported property name or false.\n\t */\n\tfunction isPerspective() {\n\t\treturn isStyleSupported([ 'perspective', 'webkitPerspective', 'MozPerspective', 'OPerspective', 'MsPerspective' ])[0];\n\t}\n\n\t/**\n\t * Checks wether touch is supported or not.\n\t * @private\n\t * @returns {Boolean}\n\t */\n\tfunction isTouchSupport() {\n\t\treturn 'ontouchstart' in window || !!(navigator.msMaxTouchPoints);\n\t}\n\n\t/**\n\t * Checks wether touch is supported or not for IE.\n\t * @private\n\t * @returns {Boolean}\n\t */\n\tfunction isTouchSupportIE() {\n\t\treturn window.navigator.msPointerEnabled;\n\t}\n\n\t/**\n\t * The jQuery Plugin for the Owl Carousel\n\t * @public\n\t */\n\t$.fn.owlCarousel = function(options) {\n\t\treturn this.each(function() {\n\t\t\tif (!$(this).data('owlCarousel')) {\n\t\t\t\t$(this).data('owlCarousel', new Owl(this, options));\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * The constructor for the jQuery Plugin\n\t * @public\n\t */\n\t$.fn.owlCarousel.Constructor = Owl;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * LazyLoad Plugin\n * @version 2.0.0\n * @author Bartosz Wojciechowski\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the lazy load plugin.\n\t * @class The Lazy Load Plugin\n\t * @param {Owl} scope - The Owl Carousel\n\t */\n\tLazyLoad = function(scope) {\n\t\tthis.owl = scope;\n\t\tthis.owl.options = $.extend({}, LazyLoad.Defaults, this.owl.options);\n\n\t\tthis.handlers = {\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.property.name == 'items' && e.property.value && !e.property.value.is(':empty')) {\n\t\t\t\t\tthis.check();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\tthis.owl.dom.$el.on(this.handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tLazyLoad.Defaults = {\n\t\tlazyLoad: false\n\t};\n\n\t/**\n\t * Checks all items and if necessary, calls `preload`.\n\t * @protected\n\t */\n\tLazyLoad.prototype.check = function() {\n\t\tvar attr = window.devicePixelRatio > 1 ? 'data-src-retina' : 'data-src',\n\t\t\tsrc, img, i, $item;\n\n\t\tfor (i = 0; i < this.owl.num.items; i++) {\n\t\t\t$item = this.owl.dom.$items.eq(i);\n\n\t\t\tif ($item.data('owl-item').current === true && $item.data('owl-item').loaded === false) {\n\t\t\t\timg = $item.find('.owl-lazy');\n\t\t\t\tsrc = img.attr(attr);\n\t\t\t\tsrc = src || img.attr('data-src');\n\t\t\t\tif (src) {\n\t\t\t\t\timg.css('opacity', '0');\n\t\t\t\t\tthis.preload(img, $item);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Preloads the images of an item.\n\t * @protected\n\t * @param {jQuery} images - The images to load.\n\t * @param {jQuery} $item - The item for which the images are loaded.\n\t */\n\tLazyLoad.prototype.preload = function(images, $item) {\n\t\tvar $el, img, srcType;\n\n\t\timages.each($.proxy(function(i, el) {\n\n\t\t\tthis.owl.trigger('load', null, 'lazy');\n\n\t\t\t$el = $(el);\n\t\t\timg = new Image();\n\t\t\tsrcType = window.devicePixelRatio > 1 ? $el.attr('data-src-retina') : $el.attr('data-src');\n\t\t\tsrcType = srcType || $el.attr('data-src');\n\n\t\t\timg.onload = $.proxy(function() {\n\t\t\t\t$item.data('owl-item').loaded = true;\n\t\t\t\tif ($el.is('img')) {\n\t\t\t\t\t$el.attr('src', img.src);\n\t\t\t\t} else {\n\t\t\t\t\t$el.css('background-image', 'url(' + img.src + ')');\n\t\t\t\t}\n\n\t\t\t\t$el.css('opacity', 1);\n\t\t\t\tthis.owl.trigger('loaded', null, 'lazy');\n\t\t\t}, this);\n\t\t\timg.src = srcType;\n\t\t}, this));\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tLazyLoad.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis.owl.dom.$el.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.lazyLoad = LazyLoad;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * AutoHeight Plugin\n * @version 2.0.0\n * @author Bartosz Wojciechowski\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the auto height plugin.\n\t * @class The Auto Height Plugin\n\t * @param {Owl} scope - The Owl Carousel\n\t */\n\tAutoHeight = function(scope) {\n\t\tthis.owl = scope;\n\t\tthis.owl.options = $.extend({}, AutoHeight.Defaults, this.owl.options);\n\n\t\tthis.handlers = {\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.property.name == 'position' && this.owl.settings.autoHeight){\n\t\t\t\t\tthis.setHeight();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\tthis.owl.dom.$el.on(this.handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAutoHeight.Defaults = {\n\t\tautoHeight: false,\n\t\tautoHeightClass: 'owl-height'\n\t};\n\n\t/**\n\t *\n\t * @param {Boolean} callback - Whether\n\t * @returns {Boolean}\n\t */\n\tAutoHeight.prototype.setHeight = function() {\n\t\tvar loaded = this.owl.dom.$items.eq(this.owl.current()),\n\t\t\tstage = this.owl.dom.$oStage,\n\t\t\titerations = 0,\n\t\t\tisLoaded;\n\n\t\tif (!this.owl.dom.$oStage.hasClass(this.owl.settings.autoHeightClass)) {\n\t\t\tthis.owl.dom.$oStage.addClass(this.owl.settings.autoHeightClass);\n\t\t}\n\n\t\tisLoaded = window.setInterval(function() {\n\t\t\titerations += 1;\n\t\t\tif (loaded.data('owl-item').loaded) {\n\t\t\t\tstage.height(loaded.height() + 'px');\n\t\t\t\tclearInterval(isLoaded);\n\t\t\t} else if (iterations === 500) {\n\t\t\t\tclearInterval(isLoaded);\n\t\t\t}\n\t\t}, 100);\n\n\t};\n\n\tAutoHeight.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis.owl.dom.$el.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.autoHeight = AutoHeight;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Video Plugin\n * @version 2.0.0\n * @author Bartosz Wojciechowski\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the video plugin.\n\t * @class The Video Plugin\n\t * @param {Owl} scope - The Owl Carousel\n\t */\n\tVideo = function(scope) {\n\t\tthis.owl = scope;\n\t\tthis.owl.options = $.extend({}, Video.Defaults, this.owl.options);\n\n\t\tthis.handlers = {\n\t\t\t'resize.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (this.owl.settings.video && !this.isInFullScreen()) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'refresh.owl.carousel changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (this.owl.state.videoPlay) {\n\t\t\t\t\tthis.stopVideo();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'refresh.owl.carousel refreshed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (!this.owl.settings.video) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.refreshing = e.type == 'refresh';\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (this.refreshing && e.property.name == 'items' && e.property.value && !e.property.value.is(':empty')) {\n\t\t\t\t\tthis.checkVideoLinks();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\tthis.owl.dom.$el.on(this.handlers);\n\n\t\tthis.owl.dom.$el.on('click.owl.video', '.owl-video-play-icon', $.proxy(function(e) {\n\t\t\tthis.playVideo(e);\n\t\t}, this));\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tVideo.Defaults = {\n\t\tvideo: false,\n\t\tvideoHeight: false,\n\t\tvideoWidth: false\n\t};\n\n\t/**\n\t * Checks if for any videos links exists.\n\t * @protected\n\t */\n\tVideo.prototype.checkVideoLinks = function() {\n\t\tvar videoEl, item, i;\n\n\t\tfor (i = 0; i < this.owl.num.items; i++) {\n\n\t\t\titem = this.owl.dom.$items.eq(i);\n\t\t\tif (item.data('owl-item').hasVideo) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvideoEl = item.find('.owl-video');\n\t\t\tif (videoEl.length) {\n\t\t\t\tthis.owl.state.hasVideos = true;\n\t\t\t\tthis.owl.dom.$items.eq(i).data('owl-item').hasVideo = true;\n\t\t\t\tvideoEl.css('display', 'none');\n\t\t\t\tthis.getVideoInfo(videoEl, item);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Gets the video ID and the type (YouTube/Vimeo only).\n\t * @protected\n\t * @param {jQuery} videoEl - The element containing the video data.\n\t * @param {jQuery} item - The item containing the video.\n\t */\n\tVideo.prototype.getVideoInfo = function(videoEl, item) {\n\n\t\tvar info, type, id, dimensions,\n\t\t\tvimeoId = videoEl.data('vimeo-id'),\n\t\t\tyouTubeId = videoEl.data('youtube-id'),\n\t\t\twidth = videoEl.data('width') || this.owl.settings.videoWidth,\n\t\t\theight = videoEl.data('height') || this.owl.settings.videoHeight,\n\t\t\turl = videoEl.attr('href');\n\n\t\tif (vimeoId) {\n\t\t\ttype = 'vimeo';\n\t\t\tid = vimeoId;\n\t\t} else if (youTubeId) {\n\t\t\ttype = 'youtube';\n\t\t\tid = youTubeId;\n\t\t} else if (url) {\n\t\t\tid = url.match(/(http:|https:|)\\/\\/(player.|www.)?(vimeo\\.com|youtu(be\\.com|\\.be|be\\.googleapis\\.com))\\/(video\\/|embed\\/|watch\\?v=|v\\/)?([A-Za-z0-9._%-]*)(\\&\\S+)?/);\n\n\t\t\tif (id[3].indexOf('youtu') > -1) {\n\t\t\t\ttype = 'youtube';\n\t\t\t} else if (id[3].indexOf('vimeo') > -1) {\n\t\t\t\ttype = 'vimeo';\n\t\t\t}\n\t\t\tid = id[6];\n\t\t} else {\n\t\t\tthrow new Error('Missing video link.');\n\t\t}\n\n\t\titem.data('owl-item').videoType = type;\n\t\titem.data('owl-item').videoId = id;\n\t\titem.data('owl-item').videoWidth = width;\n\t\titem.data('owl-item').videoHeight = height;\n\n\t\tinfo = {\n\t\t\ttype: type,\n\t\t\tid: id\n\t\t};\n\n\t\t// Check dimensions\n\t\tdimensions = width && height ? 'style=\"width:' + width + 'px;height:' + height + 'px;\"' : '';\n\n\t\t// wrap video content into owl-video-wrapper div\n\t\tvideoEl.wrap('<div class=\"owl-video-wrapper\"' + dimensions + '></div>');\n\n\t\tthis.createVideoTn(videoEl, info);\n\t};\n\n\t/**\n\t * Creates video thumbnail.\n\t * @protected\n\t * @param {jQuery} videoEl - The element containing the video data.\n\t * @param {Object} info - The video info object.\n\t * @see `getVideoInfo`\n\t */\n\tVideo.prototype.createVideoTn = function(videoEl, info) {\n\n\t\tvar tnLink, icon, path,\n\t\t\tcustomTn = videoEl.find('img'),\n\t\t\tsrcType = 'src',\n\t\t\tlazyClass = '',\n\t\t\tthat = this.owl;\n\n\t\tif (this.owl.settings.lazyLoad) {\n\t\t\tsrcType = 'data-src';\n\t\t\tlazyClass = 'owl-lazy';\n\t\t}\n\n\t\t// Custom thumbnail\n\n\t\tif (customTn.length) {\n\t\t\taddThumbnail(customTn.attr(srcType));\n\t\t\tcustomTn.remove();\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction addThumbnail(tnPath) {\n\t\t\ticon = '<div class=\"owl-video-play-icon\"></div>';\n\n\t\t\tif (that.settings.lazyLoad) {\n\t\t\t\ttnLink = '<div class=\"owl-video-tn ' + lazyClass + '\" ' + srcType + '=\"' + tnPath + '\"></div>';\n\t\t\t} else {\n\t\t\t\ttnLink = '<div class=\"owl-video-tn\" style=\"opacity:1;background-image:url(' + tnPath + ')\"></div>';\n\t\t\t}\n\t\t\tvideoEl.after(tnLink);\n\t\t\tvideoEl.after(icon);\n\t\t}\n\n\t\tif (info.type === 'youtube') {\n\t\t\tpath = \"http://img.youtube.com/vi/\" + info.id + \"/hqdefault.jpg\";\n\t\t\taddThumbnail(path);\n\t\t} else if (info.type === 'vimeo') {\n\t\t\t$.ajax({\n\t\t\t\ttype: 'GET',\n\t\t\t\turl: 'http://vimeo.com/api/v2/video/' + info.id + '.json',\n\t\t\t\tjsonp: 'callback',\n\t\t\t\tdataType: 'jsonp',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tpath = data[0].thumbnail_large;\n\t\t\t\t\taddThumbnail(path);\n\t\t\t\t\tif (that.settings.loop) {\n\t\t\t\t\t\tthat.updateActiveItems();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Stops the current video.\n\t * @public\n\t */\n\tVideo.prototype.stopVideo = function() {\n\t\tthis.owl.trigger('stop', null, 'video');\n\t\tvar item = this.owl.dom.$items.eq(this.owl.state.videoPlayIndex);\n\t\titem.find('.owl-video-frame').remove();\n\t\titem.removeClass('owl-video-playing');\n\t\tthis.owl.state.videoPlay = false;\n\t};\n\n\t/**\n\t * Starts the current video.\n\t * @public\n\t * @param {Event} ev - The event arguments.\n\t */\n\tVideo.prototype.playVideo = function(ev) {\n\t\tthis.owl.trigger('play', null, 'video');\n\n\t\tif (this.owl.state.videoPlay) {\n\t\t\tthis.stopVideo();\n\t\t}\n\t\tvar videoLink, videoWrap, videoType,\n\t\t\ttarget = $(ev.target || ev.srcElement),\n\t\t\titem = target.closest('.' + this.owl.settings.itemClass);\n\n\t\tvideoType = item.data('owl-item').videoType, id = item.data('owl-item').videoId, width = item\n\t\t\t.data('owl-item').videoWidth\n\t\t\t|| Math.floor(item.data('owl-item').width - this.owl.settings.margin), height = item.data('owl-item').videoHeight\n\t\t\t|| this.owl.dom.$stage.height();\n\n\t\tif (videoType === 'youtube') {\n\t\t\tvideoLink = \"<iframe width=\\\"\" + width + \"\\\" height=\\\"\" + height + \"\\\" src=\\\"http://www.youtube.com/embed/\"\n\t\t\t\t+ id + \"?autoplay=1&v=\" + id + \"\\\" frameborder=\\\"0\\\" allowfullscreen></iframe>\";\n\t\t} else if (videoType === 'vimeo') {\n\t\t\tvideoLink = '<iframe src=\"http://player.vimeo.com/video/' + id + '?autoplay=1\" width=\"' + width\n\t\t\t\t+ '\" height=\"' + height\n\t\t\t\t+ '\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';\n\t\t}\n\n\t\titem.addClass('owl-video-playing');\n\t\tthis.owl.state.videoPlay = true;\n\t\tthis.owl.state.videoPlayIndex = item.data('owl-item').indexAbs;\n\n\t\tvideoWrap = $('<div style=\"height:' + height + 'px; width:' + width + 'px\" class=\"owl-video-frame\">'\n\t\t\t+ videoLink + '</div>');\n\t\ttarget.after(videoWrap);\n\t};\n\n\t/**\n\t * Checks whether an video is currently in full screen mode or not.\n\t * @protected\n\t * @returns {Boolean}\n\t */\n\tVideo.prototype.isInFullScreen = function() {\n\n\t\t// if Vimeo Fullscreen mode\n\t\tvar fullscreenElement = document.fullscreenElement || document.mozFullScreenElement\n\t\t\t|| document.webkitFullscreenElement;\n\t\tif (fullscreenElement) {\n\t\t\tif ($(fullscreenElement.parentNode).hasClass('owl-video-frame')) {\n\t\t\t\tthis.owl.speed(0);\n\t\t\t\tthis.owl.state.isFullScreen = true;\n\t\t\t}\n\t\t}\n\n\t\tif (fullscreenElement && this.owl.state.isFullScreen && this.owl.state.videoPlay) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Comming back from fullscreen\n\t\tif (this.owl.state.isFullScreen) {\n\t\t\tthis.owl.state.isFullScreen = false;\n\t\t\treturn false;\n\t\t}\n\n\t\t// check full screen mode and window orientation\n\t\tif (this.owl.state.videoPlay) {\n\t\t\tif (this.owl.state.orientation !== window.orientation) {\n\t\t\t\tthis.owl.state.orientation = window.orientation;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t */\n\tVideo.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tthis.owl.dom.$el.off('click.owl.video');\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis.owl.dom.$el.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.video = Video;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Animate Plugin\n * @version 2.0.0\n * @author Bartosz Wojciechowski\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the animate plugin.\n\t * @class The Navigation Plugin\n\t * @param {Owl} scope - The Owl Carousel\n\t */\n\tAnimate = function(scope) {\n\t\tthis.core = scope;\n\t\tthis.core.options = $.extend({}, Animate.Defaults, this.core.options);\n\t\tthis.swapping = true;\n\t\tthis.previous = undefined;\n\t\tthis.next = undefined;\n\n\t\tthis.handlers = {\n\t\t\t'change.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.property.name == 'position') {\n\t\t\t\t\tthis.previous = this.core.current();\n\t\t\t\t\tthis.next = e.property.value;\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'drag.owl.carousel dragged.owl.carousel translated.owl.carousel': $.proxy(function(e) {\n\t\t\t\tthis.swapping = e.type == 'translated';\n\t\t\t}, this),\n\t\t\t'translate.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (this.swapping && (this.core.options.animateOut || this.core.options.animateIn)) {\n\t\t\t\t\tthis.swap();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\tthis.core.dom.$el.on(this.handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAnimate.Defaults = {\n\t\tanimateOut: false,\n\t\tanimateIn: false\n\t};\n\n\t/**\n\t * Toggles the animation classes whenever an translations starts.\n\t * @protected\n\t * @returns {Boolean|undefined}\n\t */\n\tAnimate.prototype.swap = function() {\n\n\t\tif (this.core.settings.items !== 1 || !this.core.support3d) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.core.speed(0);\n\n\t\tvar left,\n\t\t\tclear = $.proxy(this.clear, this),\n\t\t\tprevious = this.core.dom.$items.eq(this.previous),\n\t\t\tnext = this.core.dom.$items.eq(this.next),\n\t\t\tincoming = this.core.settings.animateIn,\n\t\t\toutgoing = this.core.settings.animateOut;\n\n\t\tif (this.core.current() === this.previous) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (outgoing) {\n\t\t\tleft = this.core.coordinates(this.previous) - this.core.coordinates(this.next);\n\t\t\tprevious.css( { 'left': left + 'px' } )\n\t\t\t\t.addClass('animated owl-animated-out')\n\t\t\t\t.addClass(outgoing)\n\t\t\t\t.one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', clear);\n\t\t}\n\n\t\tif (incoming) {\n\t\t\tnext.addClass('animated owl-animated-in')\n\t\t\t\t.addClass(incoming)\n\t\t\t\t.one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', clear);\n\t\t}\n\t};\n\n\tAnimate.prototype.clear = function(e) {\n\t\t$(e.target).css( { 'left': '' } )\n\t\t\t.removeClass('animated owl-animated-out owl-animated-in')\n\t\t\t.removeClass(this.core.settings.animateIn)\n\t\t\t.removeClass(this.core.settings.animateOut);\n\t\tthis.core.transitionEnd();\n\t}\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tAnimate.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis.core.dom.$el.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Animate = Animate;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Autoplay Plugin\n * @version 2.0.0\n * @author Bartosz Wojciechowski\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the autoplay plugin.\n\t * @class The Autoplay Plugin\n\t * @param {Owl} scope - The Owl Carousel\n\t */\n\tAutoplay = function(scope) {\n\t\tthis.core = scope;\n\t\tthis.core.options = $.extend({}, Autoplay.Defaults, this.core.options);\n\n\t\tthis.handlers = {\n\t\t\t'translated.owl.carousel refreshed.owl.carousel': $.proxy(function() {\n\t\t\t\tthis.autoplay();\n\t\t\t}, this),\n\t\t\t'play.owl.autoplay': $.proxy(function(e, t, s) {\n\t\t\t\tthis.play(t, s);\n\t\t\t}, this),\n\t\t\t'stop.owl.autoplay': $.proxy(function() {\n\t\t\t\tthis.stop();\n\t\t\t}, this),\n\t\t\t'mouseover.owl.autoplay': $.proxy(function() {\n\t\t\t\tif (this.core.settings.autoplayHoverPause) {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'mouseleave.owl.autoplay': $.proxy(function() {\n\t\t\t\tif (this.core.settings.autoplayHoverPause) {\n\t\t\t\t\tthis.autoplay();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\tthis.core.dom.$el.on(this.handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAutoplay.Defaults = {\n\t\tautoplay: false,\n\t\tautoplayTimeout: 5000,\n\t\tautoplayHoverPause: false,\n\t\tautoplaySpeed: false\n\t};\n\n\t/**\n\t * @protected\n\t * @todo Must be documented.\n\t */\n\tAutoplay.prototype.autoplay = function() {\n\t\tif (this.core.settings.autoplay && !this.core.state.videoPlay) {\n\t\t\twindow.clearInterval(this.interval);\n\n\t\t\tthis.interval = window.setInterval($.proxy(function() {\n\t\t\t\tthis.play();\n\t\t\t}, this), this.core.settings.autoplayTimeout);\n\t\t} else {\n\t\t\twindow.clearInterval(this.interval);\n\t\t}\n\t};\n\n\t/**\n\t * Starts the autoplay.\n\t * @public\n\t * @param {Number} [timeout] - ...\n\t * @param {Number} [speed] - ...\n\t * @returns {Boolean|undefined} - ...\n\t * @todo Must be documented.\n\t */\n\tAutoplay.prototype.play = function(timeout, speed) {\n\t\t// if tab is inactive - doesnt work in <IE10\n\t\tif (document.hidden === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.core.state.isTouch || this.core.state.isScrolling\n\t\t\t|| this.core.state.isSwiping || this.core.state.inMotion) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.core.settings.autoplay === false) {\n\t\t\twindow.clearInterval(this.interval);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.core.next(this.core.settings.autoplaySpeed);\n\t};\n\n\t/**\n\t * Stops the autoplay.\n\t * @public\n\t */\n\tAutoplay.prototype.stop = function() {\n\t\twindow.clearInterval(this.interval);\n\t};\n\n\t/**\n\t * Pauses the autoplay.\n\t * @public\n\t */\n\tAutoplay.prototype.pause = function() {\n\t\twindow.clearInterval(this.interval);\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t */\n\tAutoplay.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\twindow.clearInterval(this.interval);\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis.core.dom.$el.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.autoplay = Autoplay;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Navigation Plugin\n * @version 2.0.0\n * @author Artus Kolanowski\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\t'use strict';\n\n\t/**\n\t * Creates the navigation plugin.\n\t * @class The Navigation Plugin\n\t * @param {Owl} carousel - The Owl Carousel.\n\t */\n\tvar Navigation = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @type {Owl}\n\t\t */\n\t\tthis.core = carousel;\n\n\t\t/**\n\t\t * Indicates whether the plugin is initialized or not.\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis.initialized = false;\n\n\t\t/**\n\t\t * The current paging indexes.\n\t\t * @type {Array}\n\t\t */\n\t\tthis.pages = [];\n\n\t\t/**\n\t\t * All DOM elements of the user interface.\n\t\t * @type {Object}\n\t\t */\n\t\tthis.controls = {};\n\n\t\t/**\n\t\t * Markup for an indicator.\n\t\t * @type {String}\n\t\t */\n\t\tthis.template = null;\n\n\t\t/**\n\t\t * The carousel element.\n\t\t * @type {jQuery}\n\t\t */\n\t\tthis.$element = this.core.dom.$el;\n\n\t\t/**\n\t\t * Overridden methods of the carousel.\n\t\t * @type {Object}\n\t\t */\n\t\tthis.overrides = {\n\t\t\tnext: this.core.next,\n\t\t\tprev: this.core.prev,\n\t\t\tto: this.core.to\n\t\t};\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @type {Object}\n\t\t */\n\t\tthis.handlers = {\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.property.name == 'items') {\n\t\t\t\t\tif (!this.initialized) {\n\t\t\t\t\t\tthis.initialize();\n\t\t\t\t\t\tthis.initialized = true;\n\t\t\t\t\t}\n\t\t\t\t\tthis.update();\n\t\t\t\t\tthis.draw();\n\t\t\t\t}\n\t\t\t\tif (this.filling) {\n\t\t\t\t\te.property.value.data('owl-item').dot = $(':first-child', e.property.value)\n\t\t\t\t\t\t.find('[data-dot]').andSelf().data('dot');\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'change.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.property.name == 'position' && !this.core.state.revert\n\t\t\t\t\t&& !this.core.settings.loop && this.core.settings.navRewind) {\n\t\t\t\t\tvar current = this.core.current(),\n\t\t\t\t\t\tmaximum = this.core.maximum(),\n\t\t\t\t\t\tminimum = this.core.minimum();\n\t\t\t\t\te.data = e.property.value > maximum\n\t\t\t\t\t\t? current >= maximum ? minimum : maximum\n\t\t\t\t\t\t: e.property.value < minimum ? maximum : e.property.value;\n\t\t\t\t}\n\t\t\t\tthis.filling = this.core.settings.dotsData && e.property.name == 'item'\n\t\t\t\t\t&& e.property.value && e.property.value.is(':empty');\n\t\t\t}, this),\n\t\t\t'refreshed.owl.carousel': $.proxy(function() {\n\t\t\t\tif (this.initialized) {\n\t\t\t\t\tthis.update();\n\t\t\t\t\tthis.draw();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis.core.options = $.extend({}, Navigation.Defaults, this.core.options);\n\n\t\t// register event handlers\n\t\tthis.$element.on(this.handlers);\n\t}\n\n\t/**\n\t * Default options.\n\t * @public\n\t * @todo Rename `slideBy` to `navBy`\n\t */\n\tNavigation.Defaults = {\n\t\tnav: false,\n\t\tnavRewind: true,\n\t\tnavText: [ 'prev', 'next' ],\n\t\tnavSpeed: false,\n\t\tnavElement: 'div',\n\t\tnavContainer: false,\n\t\tnavContainerClass: 'owl-nav',\n\t\tnavClass: [ 'owl-prev', 'owl-next' ],\n\t\tslideBy: 1,\n\t\tdotClass: 'owl-dot',\n\t\tdotsClass: 'owl-dots',\n\t\tdots: true,\n\t\tdotsEach: false,\n\t\tdotData: false,\n\t\tdotsSpeed: false,\n\t\tdotsContainer: false,\n\t\tcontrolsClass: 'owl-controls'\n\t}\n\n\t/**\n\t * Initializes the layout of the plugin and extends the carousel.\n\t * @protected\n\t */\n\tNavigation.prototype.initialize = function() {\n\t\tvar $container, override,\n\t\t\toptions = this.core.settings;\n\n\t\t// create the indicator template\n\t\tif (!options.dotsData) {\n\t\t\tthis.template = $('<div>')\n\t\t\t\t.addClass(options.dotClass)\n\t\t\t\t.append($('<span>'))\n\t\t\t\t.prop('outerHTML');\n\t\t}\n\n\t\t// create controls container if needed\n\t\tif (!options.navContainer || !options.dotsContainer) {\n\t\t\tthis.controls.$container = $('<div>')\n\t\t\t\t.addClass(options.controlsClass)\n\t\t\t\t.appendTo(this.$element);\n\t\t}\n\n\t\t// create DOM structure for absolute navigation\n\t\tthis.controls.$indicators = options.dotsContainer ? $(options.dotsContainer)\n\t\t\t: $('<div>').hide().addClass(options.dotsClass).appendTo(this.controls.$container);\n\n\t\tthis.controls.$indicators.on(this.core.dragType[2], 'div', $.proxy(function(e) {\n\t\t\tvar index = $(e.target).parent().is(this.controls.$indicators)\n\t\t\t\t? $(e.target).index() : $(e.target).parent().index();\n\n\t\t\te.preventDefault();\n\n\t\t\tthis.to(index, options.dotsSpeed);\n\t\t}, this));\n\n\t\t// create DOM structure for relative navigation\n\t\t$container = options.navContainer ? $(options.navContainer)\n\t\t\t: $('<div>').addClass(options.navContainerClass).prependTo(this.controls.$container);\n\n\t\tthis.controls.$next = $('<' + options.navElement + '>');\n\t\tthis.controls.$previous = this.controls.$next.clone();\n\n\t\tthis.controls.$previous\n\t\t\t.addClass(options.navClass[0])\n\t\t\t.html(options.navText[0])\n\t\t\t.hide()\n\t\t\t.prependTo($container)\n\t\t\t.on(this.core.dragType[2], $.proxy(function(e) {\n\t\t\t\tthis.prev();\n\t\t\t}, this));\n\t\tthis.controls.$next\n\t\t\t.addClass(options.navClass[1])\n\t\t\t.html(options.navText[1])\n\t\t\t.hide()\n\t\t\t.appendTo($container)\n\t\t\t.on(this.core.dragType[2], $.proxy(function(e) {\n\t\t\t\tthis.next();\n\t\t\t}, this));\n\n\t\t// override public methods of the carousel\n\t\tfor (override in this.overrides) {\n\t\t\tthis.core[override] = $.proxy(this[override], this);\n\t\t}\n\t}\n\n\t/**\n\t * Destroys the plugin.\n\t * @protected\n\t */\n\tNavigation.prototype.destroy = function() {\n\t\tvar handler, control, property, override;\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis.$element.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (control in this.controls) {\n\t\t\tthis.controls[control].remove();\n\t\t}\n\t\tfor (override in this.overides) {\n\t\t\tthis.core[override] = this.overrides[override];\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t}\n\n\t/**\n\t * Updates the internal state.\n\t * @protected\n\t */\n\tNavigation.prototype.update = function() {\n\t\tvar i, j, k,\n\t\t\toptions = this.core.settings,\n\t\t\tlower = this.core.num.cItems / 2,\n\t\t\tupper = this.core.num.items - lower,\n\t\t\tsize = options.center || options.autoWidth || options.dotData\n\t\t\t\t? 1 : options.dotsEach || options.items;\n\n\t\tif (options.slideBy !== 'page') {\n\t\t\toptions.slideBy = Math.min(options.slideBy, options.items);\n\t\t}\n\n\t\tif (options.dots) {\n\t\t\tthis.pages = [];\n\n\t\t\tfor (i = lower, j = 0, k = 0; i < upper; i++) {\n\t\t\t\tif (j >= size || j === 0) {\n\t\t\t\t\tthis.pages.push({\n\t\t\t\t\t\tstart: i - lower,\n\t\t\t\t\t\tend: i - lower + size - 1\n\t\t\t\t\t});\n\t\t\t\t\tj = 0, ++k;\n\t\t\t\t}\n\t\t\t\tj += this.core.num.merged[i];\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Draws the user interface.\n\t * @protected\n\t */\n\tNavigation.prototype.draw = function() {\n\t\tvar difference, i, html = '',\n\t\t\toptions = this.core.settings,\n\t\t\t$items = this.core.dom.$oItems,\n\t\t\tindex = this.core.normalize(this.core.current(), true);\n\n\t\tif (options.nav && !options.loop && !options.navRewind) {\n\t\t\tthis.controls.$previous.toggleClass('disabled', index <= 0);\n\t\t\tthis.controls.$next.toggleClass('disabled', index >= this.core.maximum());\n\t\t}\n\n\t\tthis.controls.$previous.toggle(options.nav);\n\t\tthis.controls.$next.toggle(options.nav);\n\n\t\tif (options.dots) {\n\t\t\tdifference = this.pages.length - this.controls.$indicators.children().length;\n\n\t\t\tif (difference > 0) {\n\t\t\t\tfor (i = 0; i < Math.abs(difference); i++) {\n\t\t\t\t\thtml += options.dotData ? $items.eq(i).data('owl-item').dot : this.template;\n\t\t\t\t}\n\t\t\t\tthis.controls.$indicators.append(html);\n\t\t\t} else if (difference < 0) {\n\t\t\t\tthis.controls.$indicators.children().slice(difference).remove();\n\t\t\t}\n\n\t\t\tthis.controls.$indicators.find('.active').removeClass('active');\n\t\t\tthis.controls.$indicators.children().eq($.inArray(this.current(), this.pages)).addClass('active');\n\t\t}\n\n\t\tthis.controls.$indicators.toggle(options.dots);\n\t}\n\n\t/**\n\t * Extends event data.\n\t * @protected\n\t * @param {Event} event - The event object which gets thrown.\n\t */\n\tNavigation.prototype.onTrigger = function(event) {\n\t\tvar options = this.core.settings;\n\n\t\tevent.page = {\n\t\t\tindex: $.inArray(this.current(), this.pages),\n\t\t\tcount: this.pages.length,\n\t\t\tsize: options.center || options.autoWidth || options.dotData\n\t\t\t\t? 1 : options.dotsEach || options.items\n\t\t};\n\t}\n\n\t/**\n\t * Gets the current page position of the carousel.\n\t * @protected\n\t * @returns {Number}\n\t */\n\tNavigation.prototype.current = function() {\n\t\tvar index = this.core.normalize(this.core.current(), true);\n\t\treturn $.grep(this.pages, function(o) {\n\t\t\treturn o.start <= index && o.end >= index;\n\t\t}).pop();\n\t}\n\n\t/**\n\t * Gets the current succesor/predecessor position.\n\t * @protected\n\t * @returns {Number}\n\t */\n\tNavigation.prototype.getPosition = function(successor) {\n\t\tvar position, length,\n\t\t\toptions = this.core.settings;\n\n\t\tif (options.slideBy == 'page') {\n\t\t\tposition = $.inArray(this.current(), this.pages);\n\t\t\tlength = this.pages.length;\n\t\t\tsuccessor ? ++position : --position;\n\t\t\tposition = this.pages[((position % length) + length) % length].start;\n\t\t} else {\n\t\t\tposition = this.core.normalize(this.core.current(), true);\n\t\t\tlength = this.core.num.oItems;\n\t\t\tsuccessor ? position += options.slideBy : position -= options.slideBy;\n\t\t}\n\t\treturn position;\n\t}\n\n\t/**\n\t * Slides to the next item or page.\n\t * @public\n\t * @param {Number} [speed=false] - The time in milliseconds for the transition.\n\t */\n\tNavigation.prototype.next = function(speed) {\n\t\t$.proxy(this.overrides.to, this.core)(this.getPosition(true), speed);\n\t}\n\n\t/**\n\t * Slides to the previous item or page.\n\t * @public\n\t * @param {Number} [speed=false] - The time in milliseconds for the transition.\n\t */\n\tNavigation.prototype.prev = function(speed) {\n\t\t$.proxy(this.overrides.to, this.core)(this.getPosition(false), speed);\n\t}\n\n\t/**\n\t * Slides to the specified item or page.\n\t * @public\n\t * @param {Number} position - The position of the item or page.\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t * @param {Boolean} [standard=false] - Whether to use the standard behaviour or not.\n\t */\n\tNavigation.prototype.to = function(position, speed, standard) {\n\t\tvar length;\n\n\t\tif (!standard) {\n\t\t\tlength = this.pages.length;\n\t\t\t$.proxy(this.overrides.to, this.core)(this.pages[((position % length) + length) % length].start, speed);\n\t\t} else {\n\t\t\t$.proxy(this.overrides.to, this.core)(position, speed);\n\t\t}\n\t}\n\n\t$.fn.owlCarousel.Constructor.Plugins.Navigation = Navigation;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Hash Plugin\n * @version 2.0.0\n * @author Artus Kolanowski\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\t'use strict';\n\n\t/**\n\t * Creates the hash plugin.\n\t * @class The Hash Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar Hash = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @type {Owl}\n\t\t */\n\t\tthis.core = carousel;\n\n\t\t/**\n\t\t * Hash table for the hashes.\n\t\t * @type {Object}\n\t\t */\n\t\tthis.hashes = {};\n\n\t\t/**\n\t\t * The carousel element.\n\t\t * @type {jQuery}\n\t\t */\n\t\tthis.$element = this.core.dom.$el;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @type {Object}\n\t\t */\n\t\tthis.handlers = {\n\t\t\t'initialized.owl.carousel': $.proxy(function() {\n\t\t\t\tif (window.location.hash.substring(1)) {\n\t\t\t\t\t$(window).trigger('hashchange.owl.navigation');\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (this.filling) {\n\t\t\t\t\te.property.value.data('owl-item').hash\n\t\t\t\t\t\t= $(':first-child', e.property.value).find('[data-hash]').andSelf().data('hash');\n\t\t\t\t\tthis.hashes[e.property.value.data('owl-item').hash] = e.property.value;\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'change.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.property.name == 'position' && this.core.current() === undefined\n\t\t\t\t\t&& this.core.settings.startPosition == 'URLHash') {\n\t\t\t\t\te.data = this.hashes[window.location.hash.substring(1)];\n\t\t\t\t}\n\t\t\t\tthis.filling = e.property.name == 'item' && e.property.value && e.property.value.is(':empty');\n\t\t\t}, this),\n\t\t};\n\n\t\t// set default options\n\t\tthis.core.options = $.extend({}, Hash.Defaults, this.core.options);\n\n\t\t// register the event handlers\n\t\tthis.$element.on(this.handlers);\n\n\t\t// register event listener for hash navigation\n\t\t$(window).on('hashchange.owl.navigation', $.proxy(function() {\n\t\t\tvar hash = window.location.hash.substring(1),\n\t\t\t\titems = this.core.dom.$oItems,\n\t\t\t\tposition = this.hashes[hash] && items.index(this.hashes[hash]) || 0;\n\n\t\t\tif (!hash) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.core.dom.oStage.scrollLeft = 0;\n\t\t\tthis.core.to(position, false, true);\n\t\t}, this));\n\t}\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tHash.Defaults = {\n\t\tURLhashListener: false\n\t}\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tHash.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\t$(window).off('hashchange.owl.navigation');\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis.owl.dom.$el.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t}\n\n\t$.fn.owlCarousel.Constructor.Plugins.Hash = Hash;\n\n})(window.Zepto || window.jQuery, window, document);\n\nfunction new_branch(id, name, start_date, end_date, timeline)\n{\n    branches.push({\n        id: id,\n        name: name,\n        horizontal_multiplier: 1,\n        vertical_multiplier: 0,\n        timeline_id : timeline,\n        timeline: false,\n        start_date: start_date,\n        end_date: end_date,\n        merge: null\n    });\n}\n\n// Put timelines into branches\nfunction get_timelines()\n{\n    $.each(timelines, function(timeline_name, timeline)\n    {\n        $.each(branches, function(branch_index, branch)\n        {\n            if(branch.start_date > timeline.start_date)\n            {\n                branches.splice(branch_index, 0, timeline);\n                return false;\n            }\n        });\n    });\n}\n\nfunction get_hm_multipliers()\n{\n    $.each(branches, function(branch_index, branch)\n    {\n        // we want to give some space between the lines\n        if(branch_index != 0)\n        {\n            vertical_multiplier += 2;\n        }\n\n        branch.vertical_multiplier = ++vertical_multiplier;\n\n//                console.log(branch.name);\n        $.each(branches, function()\n        {\n            if(branch.id != this.id)\n            {\n                if (\n                    (\n                    branch.start_date >= this.start_date &&\n                    branch.start_date <= this.end_date\n                    ) ||\n                    (\n                    branch.end_date >= this.start_date &&\n                    branch.end_date <= this.end_date\n                    )\n                )\n                {\n                    // Makes sure its not a timeline\n                    if (!branch.timeline_id && !branch.timeline)\n                    {\n//                                console.log(' HM+1 by case 1: ' + this.name);\n                        branch.horizontal_multiplier++;\n                    }\n                    // Makes sure both have a timeline id but not an actual timeline\n                    else if (branch.timeline_id && this.timeline_id && !branch.timeline)\n                    {\n//                                console.log(' HM+1 by case 2: ' + this.name);\n                        branch.horizontal_multiplier++;\n                    }\n                    // Makes sure both are timelines\n                    else if (branch.timeline && this.timeline)\n                    {\n                        if(\n                            branch.start_date >= this.start_date &&\n                            branch.start_date <= this.end_date\n                        )\n                        {\n//                                    console.log(' HM+1 by case 3: ' + this.name);\n                            branch.horizontal_multiplier++;\n                        }\n                    }\n                }\n            }\n        });\n        //console.log('HM @ '+ branch.horizontal_multiplier);\n    });\n}\n\nfunction get_merges()\n{\n    // Get the proper merge levels\n    $.each(branches, function(branch_index, branch)\n    {\n        $.each(branches, function()\n        {\n            if(branch.end_date > this.start_date)\n            {\n                branch.merge = this.vertical_multiplier;\n\n                merges[branch.name] = branch.merge;\n            }\n        });\n\n        console.log(branch.name  + ' merges @ ' + branch.merge);\n    });\n\n    $.each(branches, function()\n    {\n        find_merge_conflicts(this);\n        merge_levels.push(this.merge);\n    });\n}\n\nfunction find_merge_conflicts(branch)\n{\n//            console.log('Finding conflicts with ' + branch.name);\n\n    var conflicts = [];\n\n    $.each(branches, function()\n    {\n        if(branch.id != this.id && branch.merge == this.merge)\n        {\n//                    console.log('Conflicts with ' + this.name);\n            conflicts.push(this);\n        }\n    });\n\n    $.each(conflicts, function()\n    {\n        if(branch.id != this.id)\n        {\n            if (branch.end_date > this.end_date)\n            {\n                move_up(branch);\n                branch.merge+= 2;\n            }\n            else\n            {\n                move_up(this);\n                this.merge = branch.merge + 2;\n            }\n        }\n    });\n}\n\n// TODO - fix spacing\nfunction move_up(branch)\n{\n//            console.log(branch.name + ' merge ++ and moving up branches : ');\n    $.each(branches, function()\n    {\n        if(this.vertical_multiplier > branch.merge)\n        {\n//                    console.log('       ' + this.name);\n            this.vertical_multiplier += 2;\n            this.merge+=2;\n        }\n        else if(this.end_date > branch.end_date)\n        {\n            this.merge+= 2;\n        }\n    });\n}\n\nfunction draw()\n{\n    get_hm_multipliers();\n    get_merges();\n\n    var start_x;\n    var final_x;\n\n    var start_y;\n    var end_y;\n\n    // Draw most left line\n    draw_line(default_x, 0, (Math.max.apply(null, merge_levels) + 3) * default_y, colors.lines[0]);\n\n    $('#git_tree').css('height', (Math.max.apply(null, merge_levels) + 3) * default_y);\n    // draw line up till they merge\n    $.each(branches, function(branch_index, branch)\n    {\n        // also lets set the colors\n        if(!colors.lines[branch.horizontal_multiplier])\n        {\n            colors.lines[branch.horizontal_multiplier] = tinycolor.random().toHexString();\n        }\n\n        // If its not a timeline shift it outwards by the multiplier\n        start_x = default_x + (default_x * branch.horizontal_multiplier);\n        // If its not based off a timline merge it all the way back in!\n        if(!branch.timeline_id || branch.timeline)\n        {\n            final_x = default_x;\n        }\n        // Since its based off a timeline we need to adjust the final location by the timelines multiplier\n        else\n        {\n            // The branch can end afterwards of the timeline! so lets make sure of that\n            if(branch.end_date <= timelines[branch.timeline_id].end_date)\n            {\n                final_x = default_x + (default_x * timelines[branch.timeline_id].horizontal_multiplier);\n            }\n            else\n            {\n                final_x = default_x;\n            }\n        }\n\n        // find out where its vertical multiplier should be\n        start_y = default_y + (default_y * branch.vertical_multiplier);\n        end_y = default_y + (default_y * branch.merge);\n\n        // Draw the long line up to the merge point\n        draw_line(start_x, start_y, end_y, colors.lines[branch.horizontal_multiplier]);\n\n        // Draw the Branch Curve\n        draw_curve(final_x, start_y - default_y, start_x, start_y, colors.lines[branch.horizontal_multiplier]);\n\n        // Draw Merge Curve\n        draw_curve(start_x, end_y, final_x, end_y + default_y, colors.lines[branch.horizontal_multiplier]);\n\n        // Draw the Branch Starting Circle\n        draw_circle(start_x, start_y, get_analogous(colors.lines[branch.horizontal_multiplier]), branch.id);\n    });\n\n    render_circles();\n}\n\nfunction draw_curve(start_x, start_y, end_x, end_y, color)\n{\n    var break_point = (start_y + end_y) / 2;\n\n    // Curved Lines to new path\n    projects.path(\"M\"+start_x+\",\"+start_y+\" C\"+start_x+\",\"+break_point+\" \"+end_x+\",\"+break_point+\" \"+end_x+\",\"+end_y+\"\").attr({\n        stroke: color,\n        strokeWidth: 4,\n        fill: \"none\",\n        class: 'curves'\n    });\n}\n\nfunction draw_line(x, start_y, end_y, color)\n{\n    projects.path(\"M\" + x + \",\" + start_y + \" L\" + x + \",\" + end_y + \"\").attr({\n        stroke: color,\n        strokeWidth: 4,\n        class: 'lines'\n    });\n}\n\nfunction draw_circle(x, y, color, id)\n{\n    //start Circle\n    circles.push({\n        x: x,\n        y: y,\n        r: default_r,\n        color: color,\n        id : id\n    });\n}\n\nfunction render_circles()\n{\n    $.each(circles, function()\n    {\n        projects.circle(this.x, this.y , this.r).attr({\n            fill: this.color,\n            stroke: this.color,\n            strokeOpacity: .3,\n            strokeWidth: 5,\n            'data-project_id': this.id\n        });\n    });\n}\n\nfunction get_analogous(color)\n{\n    if(!ag_colors[color])\n    {\n        ag_colors[color] = tinycolor(color).analogous(15).map(function(t)\n        {\n            return t.toHexString();\n        });\n    }\n    ag_colors[color].shift();\n    return ag_colors[color].shift();\n}\n$(document).on('click', '.panel-links .panel-body', function(e)\n{\n    var link = $(this).find('a');\n    if(link.attr('href'))\n    {\n        if(link.attr('target'))\n        {\n            window.open(link.attr('href'), link.attr('target'));\n        }\n        else\n        {\n            window.location = link.attr('href');\n        }\n    }\n});\n$(document).on('click', 'circle', function()\n{\n    if($('#'+$(this).data('project_id')).length != 0)\n    {\n        hide_details();\n        show_project($(this).data('project_id'));\n    }\n});\n\n$(document).on('mouseover', 'circle', function()\n{\n    var project = $('div[data-project_id=\"'+ $(this).data('project_id') +'\"]').closest('.project');\n    project.css('opacity', 1);\n});\n\n$(document).on('mouseout', 'circle', function()\n{\n    var project = $('div[data-project_id=\"'+ $(this).data('project_id') +'\"]').closest('.project');\n    project.css('opacity', '');\n});\n\n$(document).on('click', '.img-holder', function()\n{\n    show_project($(this).data('project_id'));\n});\n\n$(document).on('click', '.show_projects', function()\n{\n    show_projects();\n    hide_details();\n});\n\nvar small_bar = $('.mini-bar');\n\nfunction scroll_to_mini_bar()\n{\n    if(small_bar.visible() == false)\n    {\n        $('html, body').animate({\n            scrollTop: small_bar.offset().top\n        }, 200);\n    }\n}\n\nfunction show_project(id)\n{\n    $('.select-title, .project').hide();\n    $('#'+id).show();\n    $('body,html').scroll();\n    scroll_to_mini_bar();\n}\n\nfunction hide_details()\n{\n    $('.project-details').hide()\n}\n\nfunction show_projects()\n{\n    $('.projects').css('opacity', '');\n    $('.select-title, .project').show();\n}\n$('#blog-search').select2({\n    placeholder: \"Search for a blog . . .\",\n    ajax: {\n        url: \"/search\",\n        dataType: 'json',\n        delay: 250,\n        data: function(params)\n        {\n            return {\n                q: params.term,\n                page: params.page\n            };\n        },\n        processResults: function(data, page)\n        {\n            return {\n                results: data\n            };\n        },\n        cache: true\n    },\n    minimumInputLength: 1,\n    escapeMarkup: function(markup)\n    {\n        return markup;\n    },\n    templateResult: function(data)\n    {\n        if(data.text)\n        {\n            return '<span data-url=\"' + data.action + '\">' + data.text + '</span>';\n        }\n    },\n    templateSelection: function(data)\n    {\n        if(data.action)\n        {\n            window.location = data.action;\n        }\n        die;\n    }\n});"],"sourceRoot":"/source/"}