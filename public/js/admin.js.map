{"version":3,"sources":["admin.js"],"names":["new_branch","id","name","start_date","end_date","timeline","branches","push","horizontal_multiplier","vertical_multiplier","timeline_id","merge","get_timelines","$","each","timelines","timeline_name","branch_index","branch","splice","get_hm_multipliers","this","get_merges","merges","find_merge_conflicts","merge_levels","conflicts","Array","move_up","draw","start_x","final_x","start_y","end_y","draw_line","default_x","Math","max","apply","default_y","colors","lines","css","tinycolor","random","toHexString","draw_curve","draw_circle","get_analogous","render_circles","end_x","color","break_point","projects","path","attr","stroke","strokeWidth","fill","class","x","y","circles","r","default_r","circle","strokeOpacity","data-project_id","ag_colors","analogous","map","t","shift","jQuery","Error","version","fn","jquery","split","transitionEnd","el","document","createElement","transEndEventNames","WebkitTransition","MozTransition","OTransition","transition","undefined","style","end","emulateTransitionEnd","duration","called","$el","one","callback","trigger","support","setTimeout","event","special","bsTransitionEnd","bindType","delegateType","handle","e","target","is","handleObj","handler","arguments","Plugin","option","$this","data","Alert","call","dismiss","on","close","VERSION","TRANSITION_DURATION","prototype","removeElement","$parent","detach","remove","selector","replace","preventDefault","length","closest","Event","isDefaultPrevented","removeClass","hasClass","old","alert","Constructor","noConflict","options","Button","toggle","setState","element","$element","extend","DEFAULTS","isLoading","loadingText","state","d","val","resetText","proxy","addClass","removeAttr","changed","$input","find","prop","toggleClass","button","$btn","test","type","Carousel","action","slide","to","interval","pause","cycle","$indicators","paused","sliding","$active","$items","keyboard","keydown","documentElement","wrap","tagName","which","prev","next","clearInterval","setInterval","getItemIndex","item","parent","children","index","getItemForDirection","direction","active","activeIndex","willWrap","delta","itemIndex","eq","pos","that","$next","isCycling","relatedTarget","slideEvent","$nextIndicator","slidEvent","offsetWidth","join","carousel","clickHandler","href","$target","slideIndex","window","$carousel","getTargetFromTrigger","$trigger","Collapse","transitioning","getParent","addAriaAndCollapsedClass","dimension","hasWidth","show","activesData","actives","startEvent","complete","scrollSize","camelCase","hide","offsetHeight","i","isOpen","collapse","clearMenus","backdrop","Dropdown","isActive","insertAfter","stopPropagation","desc","dropdown","_relatedTarget","Modal","$body","body","$dialog","$backdrop","isShown","originalBodyPad","scrollbarWidth","ignoreBackdropClick","remote","load","BACKDROP_TRANSITION_DURATION","checkScrollbar","setScrollbar","escape","resize","appendTo","scrollTop","adjustDialog","enforceFocus","off","hideModal","has","handleUpdate","resetAdjustments","resetScrollbar","removeBackdrop","animate","doAnimate","currentTarget","focus","callbackRemove","modalIsOverflowing","scrollHeight","clientHeight","paddingLeft","bodyIsOverflowing","paddingRight","fullWindowWidth","innerWidth","documentElementRect","getBoundingClientRect","right","abs","left","clientWidth","measureScrollbar","bodyPad","parseInt","scrollDiv","className","append","removeChild","modal","showEvent","Tooltip","enabled","timeout","hoverState","init","animation","placement","template","title","delay","html","container","viewport","padding","getOptions","$viewport","constructor","triggers","eventIn","eventOut","enter","leave","_options","fixTitle","getDefaults","getDelegateOptions","defaults","key","value","obj","self","$tip","clearTimeout","hasContent","inDom","contains","ownerDocument","tip","tipId","getUID","setContent","autoToken","autoPlace","top","display","getPosition","actualWidth","actualHeight","orgPlacement","$container","containerDim","bottom","width","calculatedOffset","getCalculatedOffset","applyPlacement","prevHoverState","offset","height","marginTop","marginLeft","isNaN","setOffset","using","props","round","getViewportAdjustedDelta","isVertical","arrowDelta","arrowOffsetPosition","replaceArrow","arrow","getTitle","$e","isBody","elRect","elOffset","scroll","outerDims","viewportPadding","viewportDimensions","topEdgeOffset","bottomEdgeOffset","leftEdgeOffset","rightEdgeOffset","o","prefix","getElementById","$arrow","enable","disable","toggleEnabled","destroy","removeData","tooltip","Popover","content","getContent","popover","ScrollSpy","$scrollElement","offsets","targets","activeTarget","process","refresh","getScrollHeight","offsetMethod","offsetBase","isWindow","$href","sort","a","b","maxScroll","activate","clear","parents","parentsUntil","scrollspy","$spy","Tab","$ul","$previous","hideEvent","tab","Affix","checkPosition","checkPositionWithEventLoop","affixed","unpin","pinnedOffset","RESET","getState","offsetTop","offsetBottom","position","targetHeight","initializing","colliderTop","colliderHeight","getPinnedOffset","affix","affixType","glob","current_event","stop","separator","comaseparator","wildcard","numsort","events","n","firstDefined","ii","lastDefined","eve","scope","String","l","oldstop","args","slice","listeners","z","indexed","queue","out","ce","zIndex","_events","items","k","j","jj","nes","names","es","concat","f","exist","hasOwnProperty","attrs","nt","subname","RegExp","nts","unbind","cur","funcs","once","f2","toString","module","exports","define","amd","factory","mina","animations","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","isArray","Object","idgen","idprefix","Date","ID","timer","now","sta","s","ds","dur","B","speed","spd","stopit","update","pdif","get","resume","res","start","easing","set","frame","len","A","anim","linear","status","time","getById","easeout","pow","easein","easeinout","q","Q","sqrt","X","Y","backin","backout","elastic","sin","PI","bounce","p","Snap","w","h","Element","doc","querySelector","Paper","createTextNode","text","substring","getAttributeNS","xlink","xmlns","getAttribute","Str","setAttributeNS","setAttribute","removeAttribute","createElementNS","toLowerCase","isFinite","objectToString","clone","repush","array","cacher","postprocessor","newf","arg","cache","count","angle","x1","y1","x2","y2","x3","y3","math","atan2","rad","deg","svgTransform2string","tstr","all","params","tan","charAt","transform2matrix","bbox","tdata","parseTransformString","m","Matrix","bb","tlen","command","absolute","inver","invert","translate","rotate","scale","add","extractTransform","doReturn","node","_","rgTransform","transform","E","getBBox","matrix","getSomeDefs","ownerSVGElement","parentNode","select","pdefs","defs","make","getSomeSVG","unit2px","getW","mgr","getH","nam","svg","appendChild","add2group","list","forEach","childNodes","snap","hub","paper","anims","g","mask","pattern","method","Fragment","frag","proto","getElementsByTagName","root","dom","contentDocument","win","toFloat","parseFloat","toInt","mmax","mmin","min","S","colourRegExp","spaces","commaSpaces","hsrg","hs","rg","pathCommand","tCommand","pathValues","URL","url","format","tokenRegex","objNotationRegex","replacer","quote","quotedName","isFunc","str","snapTo","values","tolerance","rem","getRGB","colour","indexOf","hex","error","rgbtoString","toHex","red","green","blue","opacity","rgb","match","hsb2rgb","hsl2rgb","hsb","hsl","toFixed","defaultView","getComputedStyle","getPropertyValue","hsbtoString","hsltoString","prepareRGB","string","clr","packageRGB","rgb2hsl","rgb2hsb","v","R","G","C","H","V","L","M","parsePathString","pathString","pth","arr","paramCounts","c","u","TString","_unit2px","compareDocumentPosition","adown","nodeType","bup","query","selectAll","nodelist","querySelectorAll","elproto","fixids","urltest","it","uses","linktest","els","ids","oldid","fs","from","attributes","chld","nodeValue","json","att","isWithoutTransform","removed","box","localMatrix","original","pathfinder","deflt","bboxwt","realPath","propString","papa","global","getCTM","local","ms","localString","toTransformString","globalMatrix","totalMatrix","diffMatrix","total","gradientTransform","patternTransform","prepend","first","after","insertBefore","firstChild","prependTo","before","nextSibling","asPX","use","xlink:href","rgNotSpace","clazz","finalValue","classes","elem","baseVal","curClasses","flag","cloneNode","toDefs","toPattern","patternUnits","viewBox","marker","refX","refY","cx","cy","markerWidth","markerHeight","orient","Animation","inAnim","_attrs","_callback","curStatus","setter","fkeys","tkeys","keys","equal","eldata","outerSVG","innerSVG","parse","createDocumentFragment","full","div","innerHTML","fragment","lastIndexOf","letter","cssAttr","alignment-baseline","baseline-shift","clip","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cursor","dominant-baseline","enable-background","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-orientation-horizontal","glyph-orientation-vertical","image-rendering","kerning","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overflow","pointer-events","shape-rendering","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","unicode-bidi","visibility","word-spacing","writing-mode","toUpperCase","ajax","postData","req","XMLHttpRequest","pd","encodeURIComponent","open","setRequestHeader","onreadystatechange","readyState","send","responseText","getOffset","docElem","clientTop","clientLeft","pageYOffset","pageXOffset","scrollLeft","getElementByPoint","canvas","elementFromPoint","opera","so","sr","createSVGRect","hits","getIntersectionList","plugin","matrixproto","norm","normalize","mag","me","cos","fromCharCode","determinant","dx","dy","row","scalex","shear","scaley","acos","asin","isSimple","isSuperSimple","noRotation","shorter","fillStroke","grad","gradient","setFontSize","fontSize","textExtract","chi","getFontSize","reURLValue","clipIt","gradrg","tokens","stops","toAbsolute","txt","vb","rx","ry","tp","textPath","tuner","chunk","tuned","getter","textContent","getNumber","getUnit","unit","operators","+","-","/","*","reUnit","reAddon","plus","evnt","atr","aUnit","op","bplus","rect","preload","onerror","src","img","cssText","onload","image","preserveAspectRatio","ellipse","group","vbx","vby","vbw","vbh","ptrn","vx","vy","vw","vh","line","polyline","points","polygon","Gstops","GaddStop","GgetBBox","seed","step","unshift","gradientLinear","gradientRadial","gradientUnits","addStop","fx","fy","paths","ps","sleep","r1","r2","r0","rectPath","p2s","pathClone","pathArray","getPointAtSegmentLength","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","bezlen","findDotsAtSegment","getTotLen","getLengthFactory","istotal","subpath","O","onlystart","path2curve","point","sp","subpaths","t1","t13","t12","t2","t3","mx","my","nx","ny","ax","ay","alpha","bezierBBox","curveDim","isPointInsideBBox","isBBoxIntersect","bbox1","bbox2","base3","p1","p2","p3","p4","x4","y4","z2","Tvalues","Cvalues","sum","ct","xbase","ybase","comb","ll","intersect","denominator","px","py","px2","py2","interHelper","bez1","bez2","justCount","l1","l2","n1","n2","dots1","dots2","xy","di","di1","dj","dj1","ci","cj","pathIntersection","path1","path2","interPathHelper","pathIntersectionNumber","x1m","y1m","x2m","y2m","pi","pj","intr","kk","segment1","segment2","isPointInsidePath","pathBBox","dim","xmin","ymin","xmax","ymax","ellipsePath","pathToRelative","lowerCase","rel","pa","pathToAbsolute","pa0","crz","dots","pop","catmullRom2bezier","l2c","q2c","_13","_23","a2c","large_arc_flag","sweep_flag","recursive","_120","f1","rx2","ry2","df","f2old","x2old","y2old","c1","s1","c2","s2","hx","hy","m1","m2","m3","m4","newres","x0","y0","b2ac","sqrtb2ac","tvalues","bounds","mt","jlen","curve","bx","by","qx","qy","attrs2","processPath","pcom","T","fixArc","pp","pcoms1","pcoms2","fixM","a1","a2","pfirst","seg","seg2","seglen","seg2len","mapPath","pathi","crp","iLen","getTotalLength","getPointAtLength","getSubpathsAtLength","getPath","getSubpath","intersection","intersectionNumber","isPointInside","toRelative","toCubic","Set","bindings","setproto","thisArg","begin","cb","callbacker","bind","aname","unbound","insertion","tail","todel","arglen","exclude","getEmpty","equaliseTransform","tt1","tt2","maxlength","path2array","getColour","Function","bUnit","supportsTouch","touchMap","mousedown","mousemove","mouseup","getScroll","returnValue","preventTouch","originalEvent","cancelBubble","stopTouch","addEvent","addEventListener","realName","scrollY","scrollX","targetTouches","olde","clientX","clientY","removeEventListener","attachEvent","detacher","detachEvent","drag","dragMove","dragi","touch","touches","identifier","_drag","move_scope","dragUp","unmousemove","unmouseup","end_scope","start_scope","eventName","hover","f_in","f_out","scope_in","scope_out","mouseover","mouseout","unhover","unmouseover","unmouseout","draggable","onmove","onstart","onend","origTransform","undrag","unmousedown","pproto","rgurl","filstr","filterUnits","blur","def","shadow","grayscale","amount","sepia","saturate","hueRotate","amount2","brightness","contrast","opts","inputToRGB","_originalInput","_r","_g","_b","_a","_roundA","mathRound","_format","_gradientType","gradientType","_ok","ok","_tc_id","tinyCounter","stringInputToObject","rgbToRgb","substr","convertToPercentage","hsvToRgb","hslToRgb","boundAlpha","mathMin","mathMax","bound01","rgbToHsl","hue2rgb","rgbToHsv","floor","mod","rgbToHex","allow3Char","pad2","rgbaToHex","convertDecimalToHex","desaturate","toHsl","clamp01","greyscale","lighten","brighten","toRgb","darken","spin","hue","complement","triad","tetrad","splitcomplement","results","slices","part","ret","monochromatic","hsv","toHsv","modification","flip","flipped","isOnePointZero","processPercent","isPercentage","parseIntFromHex","convertHexToDecimal","trimLeft","trimRight","named","matchers","exec","rgba","hsla","hsva","hex8","hex6","hex3","mathRandom","isDark","getBrightness","isLight","isValid","getOriginalInput","getFormat","getAlpha","setAlpha","toHsvString","toHslString","toHex8","toHex8String","toRgbString","toPercentageRgb","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","secondHex8String","formatSet","formattedString","hasAlpha","needsAlphaFormat","_applyModification","_applyCombination","fromRatio","newColor","equals","color1","color2","mix","w1","rgb1","rgb2","w2","readability","brightnessA","brightnessB","colorDiff","isReadable","mostReadable","baseColor","colorList","bestColor","bestScore","bestIsReadable","readable","score","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","CSS_INTEGER","CSS_NUMBER","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","reduce","TypeError","func","CodeMirror","isSupportAmd","isFontInstalled","fontName","testFontName","$tester","originalWidth","agent","isMac","navigator","appVersion","isMSIE","userAgent","isFF","jqueryVersion","hasCodeMirror","require","specified","isW3CRangeSupport","createRange","itemA","itemB","eq2","peq2","propName","fail","not","and","fA","fB","idCounter","uniqueId","rect2bnd","$document","invertObject","inverted","namespaceToCamel","namespace","head","last","initial","pred","idx","inArray","memo","collection","result","clusterBy","aTail","aLast","compact","aResult","unique","NBSP_CHAR","ZERO_WIDTH_NBSP_CHAR","isEditable","isControlSizing","buildLayoutInfo","$editor","makeFinder","sIdPrefix","editor","holder","editable","dialog","sClassName","dropzone","toolbar","codable","statusbar","makeLayoutInfo","descendant","makePredByNodeName","nodeName","isText","isVoid","isPara","isLi","isPurePara","isTable","isInline","isBodyContainer","isList","isBlockquote","isCell","isAnchor","isParaInline","ancestor","isBodyInline","isClosestSibling","nodeA","nodeB","previousSibling","withClosestSiblings","siblings","blankHTML","nodeLength","isEmpty","paddingBlankHTML","singleChildAncestor","listAncestor","ancestors","lastAncestor","commonAncestor","listPrev","nodes","listNext","listDescendant","descendents","fnWalk","current","wrapperName","wrapper","preceding","appendChildNodes","aChild","child","isLeftEdgePoint","isRightEdgePoint","isEdgePoint","isLeftEdgeOf","isRightEdgeOf","hasChildren","prevPoint","isSkipInnerOffset","nextPoint","isSamePoint","pointA","pointB","isVisiblePoint","leftNode","rightNode","prevPointUntil","nextPointUntil","isCharPoint","ch","walkPoint","startPoint","endPoint","isSkipOffset","makeOffsetPath","reverse","fromOffsetPath","splitNode","isSkipPaddingBlankHTML","isNotSplitEdgePoint","splitText","childNode","splitTree","splitPoint","splitRoot","topAncestor","pivot","create","createText","isRemoveChild","removeNode","removeWhile","newNode","isTextarea","$node","stripLinebreaks","isNewlineOnBlock","markup","regexTag","endSlash","isEndOfInlineContainer","isBlockNode","trim","blank","emptyPara","isBlock","isDiv","isBR","isSpan","isB","isU","isS","isI","isImg","isEmptyAnchor","range","textRangeToPoint","textRange","isStart","prevContainer","parentElement","tester","createTextRange","moveToElementText","compareEndPoints","textRangeStart","curTextNode","pointTester","duplicate","setEndPoint","textCount","cont","pointToTextRange","textRangeInfo","isCollapseToStart","prevTextNodes","collapseToStart","info","moveStart","WrappedRange","sc","ec","eo","nativeRange","w3cRange","setStart","setEnd","getPoints","getStartPoint","getEndPoint","nativeRng","selection","getSelection","rangeCount","removeAllRanges","addRange","getVisiblePoint","includeAncestor","fullyContains","leftEdgeNodes","expand","startAncestor","endAncestor","boundaryPoints","isSameContainer","deleteContents","isCollapsed","rng","emptyParents","makeIsOn","isOnEditable","isOnList","isOnAnchor","isOnCell","wrapBodyInlineWithPara","inlineSiblings","para","insertNode","pasteHTML","contentsContainer","getWordRange","findAfter","bookmark","paraBookmark","paras","getClientRects","anchorNode","getRangeAt","startContainer","startOffset","endContainer","endOffset","textRangeEnd","isTextNode","createFromNode","createFromBookmark","createFromParaBookmark","minHeight","maxHeight","tabsize","styleWithSpan","disableLinkTarget","disableDragAndDrop","disableResizeEditor","shortcuts","placeholder","prettifyHtml","iconPrefix","codemirror","mode","htmlMode","lineNumbers","lang","airMode","airPopover","styleTags","defaultFontName","fontNames","fontNamesIgnoreCheck","fontSizes","lineHeights","insertTableMaxSize","col","maximumImageFileSize","oninit","onfocus","onblur","onenter","onkeyup","onkeydown","onImageUpload","onImageUploadError","onMediaDelete","onToolbarClick","onsubmit","onCreateLink","sLinkUrl","keyMap","pc","ENTER","CTRL+Z","CTRL+Y","TAB","SHIFT+TAB","CTRL+B","CTRL+I","CTRL+U","CTRL+SHIFT+S","CTRL+BACKSLASH","CTRL+SHIFT+L","CTRL+SHIFT+E","CTRL+SHIFT+R","CTRL+SHIFT+J","CTRL+SHIFT+NUM7","CTRL+SHIFT+NUM8","CTRL+LEFTBRACKET","CTRL+RIGHTBRACKET","CTRL+NUM0","CTRL+NUM1","CTRL+NUM2","CTRL+NUM3","CTRL+NUM4","CTRL+NUM5","CTRL+NUM6","CTRL+ENTER","CTRL+K","mac","CMD+Z","CMD+SHIFT+Z","CMD+B","CMD+I","CMD+U","CMD+SHIFT+S","CMD+BACKSLASH","CMD+SHIFT+L","CMD+SHIFT+E","CMD+SHIFT+R","CMD+SHIFT+J","CMD+SHIFT+NUM7","CMD+SHIFT+NUM8","CMD+LEFTBRACKET","CMD+RIGHTBRACKET","CMD+NUM0","CMD+NUM1","CMD+NUM2","CMD+NUM3","CMD+NUM4","CMD+NUM5","CMD+NUM6","CMD+ENTER","CMD+K","en-US","bold","italic","underline","strikethrough","subscript","superscript","size","insert","resizeFull","resizeHalf","resizeQuarter","floatLeft","floatRight","floatNone","shapeRounded","shapeCircle","shapeThumbnail","shapeNone","dragImageHere","dropImage","selectFromFiles","maximumFileSize","maximumFileSizeError","link","unlink","edit","textToDisplay","openInNewWindow","table","hr","normal","blockquote","pre","h1","h2","h3","h4","h5","h6","lists","unordered","ordered","help","fullscreen","codeview","paragraph","outdent","indent","center","justify","recent","more","background","foreground","transparent","setTransparent","reset","resetToDefault","shortcut","textFormatting","paragraphFormatting","documentStyle","extraKeys","history","undo","redo","async","readFileAsDataURL","file","Deferred","deferred","FileReader","sDataURL","resolve","reject","readAsDataURL","promise","createImage","sUrl","filename","$img","data-filename","BACKSPACE","SPACE","NUM0","NUM1","NUM2","NUM3","NUM4","NUM5","NUM6","NUM7","NUM8","I","J","K","U","Z","SLASH","LEFTBRACKET","BACKSLASH","RIGHTBRACKET","isEdit","keyCode","nameFromCode","code","History","$editable","stack","stackOffset","makeSnapshot","emptyBookmark","contents","applySnapshot","snapshot","recordUndo","Style","jQueryCSS","$obj","propertyNames","propertyName","stylePara","styleInfo","styleNodes","expandClosestSibling","onlyPartialContains","nodesInRange","tails","$cont","properties","queryCommandState","aOrderedType","isUnordered","lineHeight","anchor","Bullet","insertOrderedList","toggleList","insertUnorderedList","clustereds","wrapList","releaseList","listName","wrappedParas","diffLists","listNode","prevList","nextList","isEscapseToBody","releasedParas","headList","lastList","middleList","rootLists","rootList","listNodes","Typing","bullet","insertTab","insertParagraph","nextPara","emptyAnchors","Table","isShift","cell","cells","nextCell","createTable","colCount","rowCount","tdHTML","tds","idxCol","trHTML","trs","idxRow","Editor","typing","saveRange","thenCollapse","saveNode","copy","restoreRange","restoreNode","currentStyle","triggerOnBeforeChange","$holder","bindCustomEvent","triggerOnChange","beforeCommand","afterCommand","isPreventTrigger","commands","sCmd","execCommand","untab","insertImage","then","$image","callbacks","insertText","textNode","formatBlock","formatPara","spans","span","createLink","linkInfo","linkUrl","linkText","isNewWindow","newWindow","isTextChanged","anchors","startRange","endRange","getLinkInfo","$anchor","sObjColor","oColor","JSON","foreColor","backColor","insertTable","sDim","floatMe","imageShape","resizeTo","bKeepRatio","imageSize","newRatio","ratio","removeMedia","checkDropdownMenu","isChecked","btnState","imgFloat","$fontname","selectedFont","$fontsize","$lineHeight","updateRecentColor","$color","$recentColor","colorInfo","stringify","sKey","Toolbar","$toolbar","buttonNode","deactivate","updateFullscreen","bFullscreen","updateCodeview","isCodeview","setButtonState","$button","EDITABLE_PADDING","Statusbar","attach","layoutInfo","hStatusbarMousedown","editableTop","nHeight","posFromPlaceholder","isAirMode","$placeholder","outerHeight","showPopover","$popover","PX_POPOVER_ARROW_OFFSET_X","$linkPopover","$imagePopover","$airPopover","bnd","Handle","hHandleMousedown","$handle","posStart","invoke","shiftKey","$selection","outerWidth","sizingText","Fullscreen","$window","$scrollbar","$codable","setsize","isFullscreen","cm","Codeview","sync","save","isActivated","cmEditor","fromTextArea","tern","server","TernServer","ternServer","updateArgHints","setSize","getValue","toTextArea","isChange","DragAndDrop","attachDragAndDropEvent","$dropzone","$dropzoneMessage","hasEditorSize","langInfo","dataTransfer","getData","files","insertImages","Clipboard","hPasteClipboardImage","clipboardData","datauri","atob","Uint8Array","charCodeAt","blob","Blob","ex","isClipboardImage","kind","getAsFile","LinkDialog","toggleBtn","isEnable","bindEnterKey","showLinkDialog","$linkDialog","$linkText","$linkUrl","$linkBtn","$openInNewWindow","ImageDialog","showImageDialog","$imageDialog","$imageInput","$imageUrl","$imageBtn","replaceWith","click","HelpDialog","showHelpDialog","$helpDialog","EventHandler","modules","dragAndDrop","clipboard","linkDialog","imageDialog","helpDialog","moduleAndMethod","splits","hasSeparator","moduleName","methodName","getModule","eventNamespace","hMousedown","hToolbarAndPopoverUpdate","hScroll","hToolbarAndPopoverMousedown","hToolbarAndPopoverClick","isFunction","summernote","pluginEvents","PX_PER_EM","hDimensionPickerMove","posOffset","$picker","$dimensionDisplay","$catcher","$highlighted","$unhighlighted","offsetX","posCatcher","pageX","pageY","offsetY","ceil","bindKeyMap","metaKey","ctrlKey","altKey","keyName","$catcherContainer","onInit","onFocus","onBlur","onKeydown","onKeyup","onMousedown","onEnter","onPaste","onBeforeCommand","onChange","submit","attachCustomEvent","keyup","changeEventName","plugins","Renderer","tplButton","label","tplIconButton","iconClassName","tplPopover","tplDialog","footer","tplButtonInfo","picture","fontname","realFontList","hasDefaultFont","fontsize","colorButtonLabel","colorButton","moreButton","ul","ol","leftButton","centerButton","rightButton","justifyButton","outdentButton","indentButton","tplPopovers","tplLinkPopover","linkButton","unlinkButton","tplImagePopover","fullButton","halfButton","quarterButton","roundedButton","circleButton","thumbnailButton","noneButton","removeButton","tplAirPopover","$content","$group","lenGroup","$notePopover","tplHandles","tplShortcut","keyClass","kbd","tplShortcutText","tplShortcutAction","tplShortcutPara","tplShortcutStyle","tplExtraShortcuts","tplShortcutTable","colClass","replaceMacKeys","sHtml","tplDialogInfo","imageLimitation","log","readableSize","tplDialogs","dialogs","tplStatusbar","representShortcut","createTooltip","sPlacement","invertedKeyMap","$buttons","elBtn","sShortcut","createPalette","$palette","paletteContents","lenRow","buttons","lenCol","createLayoutByAirMode","contentEditable","createLayoutByFrame","isContentEditable","groupName","groupButtons","btnLength","buttonInfo","hasNoteEditor","noteEditorFromHolder","createLayout","layoutInfoFromHolder","removeLayout","getTemplate","iconButton","addButtonInfo","addDialogInfo","dialogInfo","renderer","eventHandler","core","addPlugin","langs","locale","isExternalAPICalled","isInitOptions","$first","moment","Ac","empty","unusedTokens","unusedInput","charsLeftOver","nullInput","invalidMonth","invalidFormat","userInvalidated","iso","valueOf","ya","utc","_isValid","_d","getTime","_pf","_strict","bigHour","_isAMomentObject","_i","_f","_l","_tzm","_isUTC","_offset","_locale","Cc","Dc","updateOffset","Ec","Bc","_abbr","abbr","Fc","D","F","Jc","localeData","ordinal","Gc","Ic","invalidDate","longDateFormat","Hc","lastIndex","Yc","N","Zc","_w","P","UTC","getUTCDate","_months","month","_monthsShort","_monthsParse","_longMonthsParse","_shortMonthsParse","months","monthsShort","monthsParse","date","year","W","_c","ad","$c","bd","cd","dd","ed","_overflowDayOfYear","suppressDeprecationWarnings","console","warn","hd","jd","kd","Vc","sa","aa","ld","createFromInputFallback","ba","setFullYear","ca","setUTCFullYear","da","ea","fa","ga","day","za","week","dayOfYear","ha","_week","dow","doy","ia","ja","ka","la","ma","getUTCDay","na","startOf","oa","_useUTC","getUTCFullYear","getUTCMonth","getFullYear","getMonth","getDate","qa","ra","_dayOfYear","_nextDay","setUTCMinutes","getUTCMinutes","GG","gg","ISO_8601","ta","_meridiem","meridiemHour","isPM","ua","va","hour","minute","second","millisecond","wa","preparse","xa","Aa","Ba","Ca","Da","quarter","_milliseconds","_days","_data","_bubble","Ea","Fa","utcOffset","Ga","qd","Ha","setTime","Ia","getTimezoneOffset","Ja","_changeInProgress","Za","Ua","Ka","La","Ma","subtract","Na","Oa","Pa","Qa","toArray","Ra","Sa","Ta","milliseconds","rd","sd","Va","Xa","Wa","isAfter","isBefore","Ya","$a","diff","calendar","ab","endOf","db","eb","fb","gb","hb","ib","toISOString","toDate","jb","defaultFormat","postformat","kb","humanize","lb","mb","nb","ob","hours","minutes","seconds","weekday","isoWeekday","pb","qb","rb","sb","tb","ub","wb","xb","yb","zb","Ab","Bb","Cb","Db","Eb","weekdaysParse","Fb","_weekdays","Gb","_weekdaysShort","Hb","_weekdaysMin","Ib","_weekdaysParse","weekdays","weekdaysShort","weekdaysMin","Jb","getDay","Kb","Lb","Mb","meridiem","Nb","_meridiemParse","Ob","Pb","Qb","Rb","Sb","Tb","Ub","parseZone","Vb","_calendar","Wb","_longDateFormat","Xb","_invalidDate","Yb","_ordinal","Zb","$b","_relativeTime","ac","_ordinalParseLenient","_ordinalParse","source","bc","cc","dc","fc","gc","hc","ic","Od","years","jc","kc","lc","mc","nc","oc","days","qc","rc","as","tc","uc","vc","relativeTime","wc","de","xc","yc","pastFuture","zc","ee","asSeconds","momentProperties","Kc","Lc","Mc","Nc","Oc","Pc","Qc","Rc","Sc","Tc","Uc","Wc","Xc","fd","gd","parseTwoDigitYear","md","nd","od","td","ud","vd","weekYear","isoWeekYear","wd","invalidWeekday","xd","yd","zd","_isPm","Ad","Bd","Cd","Dd","Ed","Fd","fromNow","invalidAt","isBetween","isSame","parsingFlags","toJSON","unix","isLeapYear","quarters","daysInMonth","weeks","isoWeek","isoWeeks","weeksInYear","isoWeeksInYear","hasAlignedHourOffset","isDST","isDSTShifted","isLocal","isUtcOffset","isUtc","isUTC","zoneAbbr","zoneName","dates","zone","Gd","Hd","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","Id","LTS","LT","LL","LLL","LLLL","Jd","Kd","Ld","Md","future","past","mm","hh","MM","yy","Nd","firstDayOfYear","firstDayOfWeek","ordinalParse","langData","Pd","Qd","Rd","Sd","Td","Ud","Vd","Wd","Xd","Yd","Zd","$d","ae","be","fe","asMilliseconds","asMinutes","asHours","asDays","asWeeks","asMonths","asYears","toIsoString","isDate","invalid","isMoment","isDuration","defineLocale","normalizeUnits","relativeTimeThreshold","ge","clsName","navFnc","navStep","up",38,"down",40,37,39,9,27,13,"pageUp",33,"pageDown",34,16,"control",17,"space",32,84,"delete",46,"icons","previous","calendarWeeks","tabindex","showTodayButton","today","sideBySide","showClear","showClose","inline","toolbarPlacement","dateOptions","widgetPositioning","vertical","horizontal","widgetParent","oldDate","disabledDates","enabledDates","minDate","maxDate","daysOfWeekDisabled","dayViewHeaderFormat","stepping","keepInvalid","pickerSwitch","selectMonth","selectYear","selectDay","keepOpen","incrementHours","incrementMinutes","incrementSeconds","decrementHours","decrementMinutes","decrementSeconds","togglePeriod","togglePicker","showPicker","showHours","showMinutes","showSeconds","selectHour","selectMinute","selectSecond","ignoreReadonly","useCurrent","useStrict","keyBinds","stopImmediatePropagation","change","debug","extraFormats","defaultDate","viewMode","datepickerInput","datetimepicker","control up","control down","control space","S2","select2","requirejs","undef","hasProp","hasOwn","baseName","nameParts","nameSegment","mapValue","foundMap","foundI","foundStarMap","starI","baseParts","config","starMap","nodeIdCompat","jsSuffixRegExp","makeRequire","relName","forceSync","aps","makeNormalize","makeLoad","depName","defined","callDep","waiting","defining","main","splitPrefix","makeConfig","makeMap","handlers","parts","pr","uri","deps","cjsModule","usingExports","callbackType","alt","cfg","_defined","_$","getMethods","theClass","methods","Utils","Extend","ChildClass","SuperClass","BaseConstructor","__hasProp","__super__","Decorate","DecoratorClass","DecoratedClass","argCount","calledConstructor","ctr","decoratedMethods","superMethods","displayName","superMethod","calledMethod","originalMethod","decoratedMethod","Observable","generateChars","chars","randomChar","context","_convertData","originalKey","dataLevel","hasScroll","overflowX","overflowY","innerHeight","scrollWidth","escapeMarkup","replaceMap","\\","&","<",">","\"","'","appendMany","$nodes","$jqNodes","Results","dataAdapter","render","$results","displayMessage","hideLoading","$message","message","$options","$option","$dropdown","$resultsContainer","sorter","setClasses","selected","selectedIds","$selected","showLoading","loadingMore","loading","disabled","$loading","role","aria-selected","_resultId","$children","$child","$childrenContainer","ensureHighlightVisible","getHighlightedResults","currentIndex","nextIndex","currentOffset","nextTop","nextOffset","nextBottom","mousewheel","deltaY","isAtTop","isAtBottom","evt","offsetDelta","KEYS","SHIFT","CTRL","ALT","ESC","PAGE_UP","PAGE_DOWN","END","HOME","LEFT","UP","RIGHT","DOWN","DELETE","BaseSelection","_tabindex","resultsId","_attachCloseHandler","_detachCloseHandler","$select","$all","$selectionContainer","SingleSelection","selectionContainer","formatted","$rendered","MultipleSelection","$remove","$selections","Placeholder","decorated","normalizePlaceholder","createPlaceholder","singlePlaceholder","multipleSelections","AllowClear","_handleClear","_handleKeyboardClear","$clear","unselectData","prevented","Search","$search","$searchContainer","_keyUpPrevented","$previousChoice","searchRemoveChoice","handleSearch","resizeSearch","input","term","minimumWidth","EventRelay","relayEvents","preventableEvents","Translation","dict","translation","_cache","loadPath","translations","diacritics","Ⓐ","Ａ","À","Á","Â","Ầ","Ấ","Ẫ","Ẩ","Ã","Ā","Ă","Ằ","Ắ","Ẵ","Ẳ","Ȧ","Ǡ","Ä","Ǟ","Ả","Å","Ǻ","Ǎ","Ȁ","Ȃ","Ạ","Ậ","Ặ","Ḁ","Ą","Ⱥ","Ɐ","Ꜳ","Æ","Ǽ","Ǣ","Ꜵ","Ꜷ","Ꜹ","Ꜻ","Ꜽ","Ⓑ","Ｂ","Ḃ","Ḅ","Ḇ","Ƀ","Ƃ","Ɓ","Ⓒ","Ｃ","Ć","Ĉ","Ċ","Č","Ç","Ḉ","Ƈ","Ȼ","Ꜿ","Ⓓ","Ｄ","Ḋ","Ď","Ḍ","Ḑ","Ḓ","Ḏ","Đ","Ƌ","Ɗ","Ɖ","Ꝺ","Ǳ","Ǆ","ǲ","ǅ","Ⓔ","Ｅ","È","É","Ê","Ề","Ế","Ễ","Ể","Ẽ","Ē","Ḕ","Ḗ","Ĕ","Ė","Ë","Ẻ","Ě","Ȅ","Ȇ","Ẹ","Ệ","Ȩ","Ḝ","Ę","Ḙ","Ḛ","Ɛ","Ǝ","Ⓕ","Ｆ","Ḟ","Ƒ","Ꝼ","Ⓖ","Ｇ","Ǵ","Ĝ","Ḡ","Ğ","Ġ","Ǧ","Ģ","Ǥ","Ɠ","Ꞡ","Ᵹ","Ꝿ","Ⓗ","Ｈ","Ĥ","Ḣ","Ḧ","Ȟ","Ḥ","Ḩ","Ḫ","Ħ","Ⱨ","Ⱶ","Ɥ","Ⓘ","Ｉ","Ì","Í","Î","Ĩ","Ī","Ĭ","İ","Ï","Ḯ","Ỉ","Ǐ","Ȉ","Ȋ","Ị","Į","Ḭ","Ɨ","Ⓙ","Ｊ","Ĵ","Ɉ","Ⓚ","Ｋ","Ḱ","Ǩ","Ḳ","Ķ","Ḵ","Ƙ","Ⱪ","Ꝁ","Ꝃ","Ꝅ","Ꞣ","Ⓛ","Ｌ","Ŀ","Ĺ","Ľ","Ḷ","Ḹ","Ļ","Ḽ","Ḻ","Ł","Ƚ","Ɫ","Ⱡ","Ꝉ","Ꝇ","Ꞁ","Ǉ","ǈ","Ⓜ","Ｍ","Ḿ","Ṁ","Ṃ","Ɱ","Ɯ","Ⓝ","Ｎ","Ǹ","Ń","Ñ","Ṅ","Ň","Ṇ","Ņ","Ṋ","Ṉ","Ƞ","Ɲ","Ꞑ","Ꞥ","Ǌ","ǋ","Ⓞ","Ｏ","Ò","Ó","Ô","Ồ","Ố","Ỗ","Ổ","Õ","Ṍ","Ȭ","Ṏ","Ō","Ṑ","Ṓ","Ŏ","Ȯ","Ȱ","Ö","Ȫ","Ỏ","Ő","Ǒ","Ȍ","Ȏ","Ơ","Ờ","Ớ","Ỡ","Ở","Ợ","Ọ","Ộ","Ǫ","Ǭ","Ø","Ǿ","Ɔ","Ɵ","Ꝋ","Ꝍ","Ƣ","Ꝏ","Ȣ","Ⓟ","Ｐ","Ṕ","Ṗ","Ƥ","Ᵽ","Ꝑ","Ꝓ","Ꝕ","Ⓠ","Ｑ","Ꝗ","Ꝙ","Ɋ","Ⓡ","Ｒ","Ŕ","Ṙ","Ř","Ȑ","Ȓ","Ṛ","Ṝ","Ŗ","Ṟ","Ɍ","Ɽ","Ꝛ","Ꞧ","Ꞃ","Ⓢ","Ｓ","ẞ","Ś","Ṥ","Ŝ","Ṡ","Š","Ṧ","Ṣ","Ṩ","Ș","Ş","Ȿ","Ꞩ","Ꞅ","Ⓣ","Ｔ","Ṫ","Ť","Ṭ","Ț","Ţ","Ṱ","Ṯ","Ŧ","Ƭ","Ʈ","Ⱦ","Ꞇ","Ꜩ","Ⓤ","Ｕ","Ù","Ú","Û","Ũ","Ṹ","Ū","Ṻ","Ŭ","Ü","Ǜ","Ǘ","Ǖ","Ǚ","Ủ","Ů","Ű","Ǔ","Ȕ","Ȗ","Ư","Ừ","Ứ","Ữ","Ử","Ự","Ụ","Ṳ","Ų","Ṷ","Ṵ","Ʉ","Ⓥ","Ｖ","Ṽ","Ṿ","Ʋ","Ꝟ","Ʌ","Ꝡ","Ⓦ","Ｗ","Ẁ","Ẃ","Ŵ","Ẇ","Ẅ","Ẉ","Ⱳ","Ⓧ","Ｘ","Ẋ","Ẍ","Ⓨ","Ｙ","Ỳ","Ý","Ŷ","Ỹ","Ȳ","Ẏ","Ÿ","Ỷ","Ỵ","Ƴ","Ɏ","Ỿ","Ⓩ","Ｚ","Ź","Ẑ","Ż","Ž","Ẓ","Ẕ","Ƶ","Ȥ","Ɀ","Ⱬ","Ꝣ","ⓐ","ａ","ẚ","à","á","â","ầ","ấ","ẫ","ẩ","ã","ā","ă","ằ","ắ","ẵ","ẳ","ȧ","ǡ","ä","ǟ","ả","å","ǻ","ǎ","ȁ","ȃ","ạ","ậ","ặ","ḁ","ą","ⱥ","ɐ","ꜳ","æ","ǽ","ǣ","ꜵ","ꜷ","ꜹ","ꜻ","ꜽ","ⓑ","ｂ","ḃ","ḅ","ḇ","ƀ","ƃ","ɓ","ⓒ","ｃ","ć","ĉ","ċ","č","ç","ḉ","ƈ","ȼ","ꜿ","ↄ","ⓓ","ｄ","ḋ","ď","ḍ","ḑ","ḓ","ḏ","đ","ƌ","ɖ","ɗ","ꝺ","ǳ","ǆ","ⓔ","ｅ","è","é","ê","ề","ế","ễ","ể","ẽ","ē","ḕ","ḗ","ĕ","ė","ë","ẻ","ě","ȅ","ȇ","ẹ","ệ","ȩ","ḝ","ę","ḙ","ḛ","ɇ","ɛ","ǝ","ⓕ","ｆ","ḟ","ƒ","ꝼ","ⓖ","ｇ","ǵ","ĝ","ḡ","ğ","ġ","ǧ","ģ","ǥ","ɠ","ꞡ","ᵹ","ꝿ","ⓗ","ｈ","ĥ","ḣ","ḧ","ȟ","ḥ","ḩ","ḫ","ẖ","ħ","ⱨ","ⱶ","ɥ","ƕ","ⓘ","ｉ","ì","í","î","ĩ","ī","ĭ","ï","ḯ","ỉ","ǐ","ȉ","ȋ","ị","į","ḭ","ɨ","ı","ⓙ","ｊ","ĵ","ǰ","ɉ","ⓚ","ｋ","ḱ","ǩ","ḳ","ķ","ḵ","ƙ","ⱪ","ꝁ","ꝃ","ꝅ","ꞣ","ⓛ","ｌ","ŀ","ĺ","ľ","ḷ","ḹ","ļ","ḽ","ḻ","ſ","ł","ƚ","ɫ","ⱡ","ꝉ","ꞁ","ꝇ","ǉ","ⓜ","ｍ","ḿ","ṁ","ṃ","ɱ","ɯ","ⓝ","ｎ","ǹ","ń","ñ","ṅ","ň","ṇ","ņ","ṋ","ṉ","ƞ","ɲ","ŉ","ꞑ","ꞥ","ǌ","ⓞ","ｏ","ò","ó","ô","ồ","ố","ỗ","ổ","õ","ṍ","ȭ","ṏ","ō","ṑ","ṓ","ŏ","ȯ","ȱ","ö","ȫ","ỏ","ő","ǒ","ȍ","ȏ","ơ","ờ","ớ","ỡ","ở","ợ","ọ","ộ","ǫ","ǭ","ø","ǿ","ɔ","ꝋ","ꝍ","ɵ","ƣ","ȣ","ꝏ","ⓟ","ｐ","ṕ","ṗ","ƥ","ᵽ","ꝑ","ꝓ","ꝕ","ⓠ","ｑ","ɋ","ꝗ","ꝙ","ⓡ","ｒ","ŕ","ṙ","ř","ȑ","ȓ","ṛ","ṝ","ŗ","ṟ","ɍ","ɽ","ꝛ","ꞧ","ꞃ","ⓢ","ｓ","ß","ś","ṥ","ŝ","ṡ","š","ṧ","ṣ","ṩ","ș","ş","ȿ","ꞩ","ꞅ","ẛ","ⓣ","ｔ","ṫ","ẗ","ť","ṭ","ț","ţ","ṱ","ṯ","ŧ","ƭ","ʈ","ⱦ","ꞇ","ꜩ","ⓤ","ｕ","ù","ú","û","ũ","ṹ","ū","ṻ","ŭ","ü","ǜ","ǘ","ǖ","ǚ","ủ","ů","ű","ǔ","ȕ","ȗ","ư","ừ","ứ","ữ","ử","ự","ụ","ṳ","ų","ṷ","ṵ","ʉ","ⓥ","ｖ","ṽ","ṿ","ʋ","ꝟ","ʌ","ꝡ","ⓦ","ｗ","ẁ","ẃ","ŵ","ẇ","ẅ","ẘ","ẉ","ⱳ","ⓧ","ｘ","ẋ","ẍ","ⓨ","ｙ","ỳ","ý","ŷ","ỹ","ȳ","ẏ","ÿ","ỷ","ẙ","ỵ","ƴ","ɏ","ỿ","ⓩ","ｚ","ź","ẑ","ż","ž","ẓ","ẕ","ƶ","ȥ","ɀ","ⱬ","ꝣ","Ά","Έ","Ή","Ί","Ϊ","Ό","Ύ","Ϋ","Ώ","ά","έ","ή","ί","ϊ","ΐ","ό","ύ","ϋ","ΰ","ω","ς","BaseAdapter","generateResultId","SelectAdapter","currentData","unselect","matches","addOptions","innerText","normalizedData","_normalizeItem","isPlainObject","matcher","ArrayAdapter","convertToOptions","elm","onlyItem","$existing","existingIds","$existingOption","existingData","$newOption","AjaxAdapter","ajaxOptions","_applyDefaults","processResults","transport","success","failure","$request","request","_request","abort","_queryTimeout","Tags","tags","createTag","tag","checkChildren","checkText","insertTag","_removeOldTags","page","_lastTag","Tokenizer","tokenizer","tokenData","separators","termChar","partParams","MinimumInputLength","minimumInputLength","minimum","MaximumInputLength","maximumInputLength","maximum","MaximumSelectionLength","maximumSelectionLength","showSearch","HidePlaceholder","removePlaceholder","modifiedData","InfiniteScroll","lastParams","$loadingMore","createLoadingMore","showLoadingMore","isLoadMoreVisible","loadingMoreOffset","loadMore","pagination","AttachBody","$dropdownParent","setupResultsEvents","_showDropdown","_attachPositioningHandler","_positionDropdown","_resizeDropdown","_hideDropdown","_detachPositioningHandler","$dropdownContainer","scrollEvent","resizeEvent","orientationEvent","$watchers","ev","isCurrentlyAbove","isCurrentlyBelow","newDirection","enoughRoomAbove","enoughRoomBelow","minWidth","countResults","MinimumResultsForSearch","minimumResultsForSearch","Infinity","SelectOnClose","_handleSelectOnClose","$highlightedResults","CloseOnSelect","_selectTriggered","errorLoading","inputTooLong","overChars","inputTooShort","remainingChars","maximumSelected","noResults","searching","ResultsList","SelectionSearch","DIACRITICS","SelectData","ArrayData","AjaxData","DropdownSearch","EnglishTranslation","Defaults","tokenSeparators","Query","amdBase","initSelection","InitSelection","resultsAdapter","selectOnClose","dropdownAdapter","multiple","SearchableDropdown","closeOnSelect","dropdownCssClass","dropdownCss","adaptDropdownCssClass","DropdownCSS","selectionAdapter","allowClear","containerCssClass","containerCss","adaptContainerCssClass","ContainerCSS","language","languageParts","baseLanguage","languages","languageNames","amdLanguageBase","baseTranslation","customTranslation","stripDiacritics","dropdownAutoWidth","templateResult","templateSelection","theme","camelKey","convertedData","Options","fromElement","InputCompat","excludedData","dir","dataset","Select2","_generateId","DataAdapter","_placeContainer","SelectionAdapter","DropdownAdapter","ResultsAdapter","_bindAdapters","_registerDomEvents","_registerDataEvents","_registerSelectionEvents","_registerDropdownEvents","_registerResultsEvents","_registerEvents","initialData","_syncAttributes","_resolveWidth","WIDTH","styleWidth","elementWidth","_sync","observer","MutationObserver","WebKitMutationObserver","MozMutationObserver","_observer","mutations","observe","subtree","nonRelayEvents","toggleDropdown","actualTrigger","preTriggerMap","preTriggerName","preTriggerArgs","newVal","disconnect","thisMethods","instanceOptions","instance","visible","partial","hidden","$t","$w","viewTop","viewBottom","_top","_bottom","compareTop","compareBottom","clientSize","bootbox","_t","locales","en","processCallback","preserveDialog","getKeyLength","iterator","sanitize","mapArguments","argn","mergeArguments","mergeDialogOptions","labels","baseOptions","createLabels","validateButtons","argument","allowedButtons","templates","header","closeButton","form","inputs","textarea","email","checkbox","number","password","onEscape","confirm","cancel","prompt","shouldShow","inputOptions","inputType","checkedItems","groups","innerDialog","buttonStr","callbackKey","setDefaults","hideAll","bg_BG","OK","CANCEL","CONFIRM","br","cs","et","fi","fr","he","hu","lt","lv","nl","no","pl","pt","ru","sq","sv","th","tr","zh_CN","zh_TW","addLocale","removeLocale","setLocale","Chart","ctx","computeDimension","aspectRatio","helpers","retinaScale","animationSteps","animationEasing","showScale","scaleOverride","scaleSteps","scaleStepWidth","scaleStartValue","scaleLineColor","scaleLineWidth","scaleShowLabels","scaleLabel","scaleIntegersOnly","scaleBeginAtZero","scaleFontFamily","scaleFontSize","scaleFontStyle","scaleFontColor","responsive","maintainAspectRatio","showTooltips","customTooltips","tooltipEvents","tooltipFillColor","tooltipFontFamily","tooltipFontSize","tooltipFontStyle","tooltipFontColor","tooltipTitleFontFamily","tooltipTitleFontSize","tooltipTitleFontStyle","tooltipTitleFontColor","tooltipYPadding","tooltipXPadding","tooltipCaretSize","tooltipCornerRadius","tooltipXOffset","tooltipTemplate","multiTooltipTemplate","multiTooltipKeyBackground","onAnimationProgress","onAnimationComplete","types","loopable","additionalArgs","objClone","base","extensionObject","master","arrayToSearch","inherits","where","filterCallback","filtered","findNextWhere","startIndex","currentItem","findPreviousWhere","extensions","ChartElement","Surrogate","noop","uid","isNumber","getDecimalPlaces","cap","valueToCap","maxValue","minValue","num","toRadians","radians","degrees","aliasPixel","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","distance","pixelWidth","calculateOrderOfMagnitude","splineCurve","FirstPoint","MiddlePoint","AfterPoint","d01","d12","inner","outer","LN10","calculateScaleRange","valuesArray","drawingSize","textSize","startFromZero","integersOnly","minSteps","maxSteps","skipFitting","valueRange","rangeOrderOfMagnitude","graphMax","graphMin","graphRange","stepValue","numberOfSteps","steps","templateString","valuesObject","tmpl","easingEffects","generateLabels","labelsArray","labelTemplateString","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","cancelAnimFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","animationLoop","totalSteps","easingString","onProgress","onComplete","chartInstance","currentStep","easingFunction","animationFrame","stepDecimal","easeDecimal","getRelativePosition","mouseX","mouseY","srcElement","boundingRect","eventType","removeEvent","unbindEvents","bindEvents","arrayOfEvents","chart","getMaximumWidth","domNode","getMaximumHeight","getMaximumSize","devicePixelRatio","clearRect","fontString","pixelSize","fontStyle","fontFamily","longestText","arrayOfStrings","longest","textWidth","measureText","drawRoundedRectangle","radius","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","instances","Type","initialize","newWidth","newHeight","reflow","generateLegend","legendTemplate","removeProperty","showTooltip","ChartElements","forceRedraw","activeElements","isChanged","Elements","datasets","dataArray","dataIndex","bars","segments","tooltipLabels","tooltipColors","medianPosition","dataCollection","xMax","yMax","xMin","yMin","xPositions","yPositions","hasValue","_saved","fillColor","strokeColor","MultiTooltip","xPadding","yPadding","xOffset","textColor","titleTextColor","titleFontFamily","titleFontStyle","titleFontSize","cornerRadius","legendColors","legendColorBackground","custom","tooltipPosition","caretHeight","toBase64Image","toDataURL","ChartType","chartName","baseDefaults","configuration","restore","newProps","ease","Point","inRange","chartX","chartY","hitDetectionRange","hitDetectionRadius","arc","strokeStyle","lineWidth","fillStyle","Arc","pointRelativePosition","betweenAngles","startAngle","endAngle","withinRadius","innerRadius","outerRadius","centreAngle","rangeFromCentre","animationPercent","lineJoin","showStroke","Rectangle","halfWidth","leftX","rightX","halfStroke","xAlign","yAlign","caretPadding","tooltipWidth","tooltipRectHeight","tooltipHeight","tooltipX","tooltipY","textAlign","textBaseline","fillText","titleFont","titleWidth","labelWidth","longestTextWidth","halfHeight","getLineHeight","baseLineHeight","afterTitleIndex","fillRect","Scale","fit","buildYLabels","yLabels","stepDecimalPlaces","yLabelWidth","showLabels","addXLabel","xLabels","valuesCount","removeXLabel","cachedYLabelWidth","cachedHeight","calculateYRange","calculateXLabelRotation","firstRotated","lastRotated","firstWidth","lastWidth","xScalePaddingRight","xScalePaddingLeft","xLabelRotation","cosRotation","originalLabelWidth","xLabelWidth","xGridWidth","calculateX","drawingArea","calculateY","scalingFactor","valueWidth","valueOffset","offsetGridLines","yLabelGap","xStart","labelString","yLabelCenter","linePositionY","drawHorizontalLine","showHorizontalLines","gridLineWidth","gridLineColor","lineColor","xPos","linePos","isRotated","drawVerticalLine","showVerticalLines","RadialScale","backdropPaddingY","calculateCenterOffset","lineArc","setScaleSize","getCircumference","pointPosition","halfTextWidth","furthestRightIndex","furthestRightAngle","furthestLeftIndex","furthestLeftAngle","xProtrusionLeft","xProtrusionRight","radiusReductionRight","radiusReductionLeft","largestPossibleRadius","pointLabelFontSize","furthestRight","furthestLeft","pointLabelFontStyle","pointLabelFontFamily","getPointPosition","getIndexAngle","setCenterPoint","leftMovement","rightMovement","maxRight","maxLeft","xCenter","yCenter","angleMultiplier","distanceFromCenter","thisAngle","yCenterOffset","yHeight","showLabelBackdrop","backdropColor","backdropPaddingX","fontColor","angleLineWidth","angleLineColor","outerPosition","pointLabelPosition","pointLabelFontColor","labelsCount","halfLabelsCount","quarterLabelsCount","upperHalf","exactQuarter","defaultConfig","scaleShowGridLines","scaleGridLineColor","scaleGridLineWidth","scaleShowHorizontalLines","scaleShowVerticalLines","barShowStroke","barStrokeWidth","barValueSpacing","barDatasetSpacing","ScaleClass","calculateBarX","datasetCount","datasetIndex","barIndex","xWidth","calculateBaseWidth","xAbsolute","barWidth","calculateBarWidth","baseWidth","activeBars","getBarsAtEvent","eachBars","bar","activeBar","highlightFill","highlightStroke","BarClass","datasetObject","dataPoint","datasetLabel","buildScale","activeElement","barsArray","eventPosition","datasetIterator","dataTotal","scaleOptions","beginAtZero","currentHeight","updatedRanges","addData","newScaleProps","easingDecimal","segmentShowStroke","segmentStrokeColor","segmentStrokeWidth","percentageInnerCutout","animateRotate","animateScale","SegmentArc","activeSegments","getSegmentsAtEvent","segment","activeSegment","highlightColor","calculateTotal","datapoint","segmentsArray","location","atIndex","silent","highlight","circumference","calculateCircumference","indexToDelete","animDecimal","Doughnut","bezierCurve","bezierCurveTension","pointDot","pointDotRadius","pointDotStrokeWidth","pointHitDetectionRadius","datasetStroke","datasetStrokeWidth","datasetFill","PointClass","activePoints","getPointsAtEvent","eachPoints","activePoint","pointColor","pointStrokeColor","pointHighlightFill","pointHighlightStroke","pointsArray","previousPoint","pointsWithValues","tension","controlPoints","bezierCurveTo","scaleShowLabelBackdrop","scaleBackdropColor","scaleBackdropPaddingY","scaleBackdropPaddingX","scaleShowLine","updateScaleRange","datapoints","scaleSizes","angleShowLineOut","activePointsCollection","mousePosition","fromCenter","anglePerIndex","pointIndex","totalDataArray","Owl","owlCarousel","author","settings","itemData","_supress","_current","_speed","_coordinates","Plugins","isStyleSupported","fake","isTransition","isTransform","isPerspective","isTouchSupport","isTouchSupportIE","msPointerEnabled","indexAbs","posLeft","loaded","lazyLoad","hasVideo","playVideo","stage","$stage","oStage","$oStage","$oItems","$cItems","prevWindow","cloneLast","oItems","cItems","merged","startX","startY","currentX","currentY","startTime","endTime","updatedX","targetEl","isTouch","isScrolling","isSwiping","inMotion","_onDragStart","_onDragMove","_onDragEnd","_transitionEnd","_resizer","_responsiveCall","_goToLoop","_checkVisibile","loop","mouseDrag","touchDrag","pullDrag","freeDrag","margin","stagePadding","mergeFit","autoWidth","startPosition","smartSpeed","fluidSpeed","dragEndSpeed","responsiveRefreshRate","responsiveBaseElement","responsiveClass","fallbackEasing","nestedItemSelector","itemElement","stageElement","themeClass","baseClass","itemClass","centerClass","activeClass","setResponsiveOptions","rtl","browserSupport","imagesLoaded","imgs","nestedSelector","preloadAutoWidthImages","createStage","fetchContent","eventsCall","internalEvents","addTriggerableEvents","overwrites","breakpoint","Number","optionsLogic","createItemContainer","extContent","initStructure","createNormalStructure","$item","initializeItemContainer","createCustomStructure","howManyItems","createItemContainerData","property","cloneItemContainer","$clone","updateLocalContent","loopClone","reClone","calculate","elMinusMargin","dist","allItems","iWidth","mergeNumber","fullWidth","view","mergeStage","marginRight","setSizes","stagePrev","elChanged","isElWidthChanged","orientation","watchVisibility","updateActiveItems","ipos","iwidth","outsideView","stageX","coordinates","updateClonedItemsState","onDragStart","onDragMove","onDragEnd","responsiveTimer","_preventClick","preventClick","resizeTimer","isTouchIE","dragType","onselectstart","transitionEndVendor","dragEvents","isTouchEvent","animatedPos","support3d","getTransformProperty","pull","compareTimes","distanceAbs","removeClick","matrix3d","vendorName","coordinate","suppress","release","relative","revert","factor","eventTarget","originalTarget","newElWidth","prevElWidth","insertContent","addItem","removeItem","isElVisible","checkVisible","Image","unwrap","listener","capture","grep","onTrigger","transformVendor","endVendors","Zepto","LazyLoad","owl","changed.owl.carousel","check","images","srcType","getOwnPropertyNames","AutoHeight","autoHeight","setHeight","autoHeightClass","isLoaded","iterations","Video","resize.owl.carousel","video","isInFullScreen","refresh.owl.carousel changed.owl.carousel","videoPlay","stopVideo","refresh.owl.carousel refreshed.owl.carousel","refreshing","checkVideoLinks","videoHeight","videoWidth","videoEl","hasVideos","getVideoInfo","dimensions","vimeoId","youTubeId","videoType","videoId","createVideoTn","addThumbnail","tnPath","icon","tnLink","lazyClass","customTn","jsonp","dataType","thumbnail_large","videoPlayIndex","videoLink","videoWrap","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","isFullScreen","Animate","swapping","change.owl.carousel","drag.owl.carousel dragged.owl.carousel translated.owl.carousel","translate.owl.carousel","animateOut","animateIn","swap","incoming","outgoing","Autoplay","translated.owl.carousel refreshed.owl.carousel","autoplay","play.owl.autoplay","play","stop.owl.autoplay","mouseover.owl.autoplay","autoplayHoverPause","mouseleave.owl.autoplay","autoplayTimeout","autoplaySpeed","Navigation","initialized","pages","controls","overrides","filling","dot","andSelf","navRewind","dotsData","refreshed.owl.carousel","nav","navText","navSpeed","navElement","navContainer","navContainerClass","navClass","slideBy","dotClass","dotsClass","dotsEach","dotData","dotsSpeed","dotsContainer","controlsClass","override","overides","lower","upper","difference","successor","standard","Hash","hashes","initialized.owl.carousel","hash","URLhashListener","die"],"mappings":"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AAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU;AACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IAC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","file":"admin.js","sourcesContent":["/*!\n * Bootstrap v3.3.4 (http://getbootstrap.com)\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n */\n\nif (typeof jQuery === 'undefined') {\n  throw new Error('Bootstrap\\'s JavaScript requires jQuery')\n}\n\n+function ($) {\n  'use strict';\n  var version = $.fn.jquery.split(' ')[0].split('.')\n  if ((version[0] < 2 && version[1] < 9) || (version[0] == 1 && version[1] == 9 && version[2] < 1)) {\n    throw new Error('Bootstrap\\'s JavaScript requires jQuery version 1.9.1 or higher')\n  }\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: transition.js v3.3.4\n * http://getbootstrap.com/javascript/#transitions\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)\n  // ============================================================\n\n  function transitionEnd() {\n    var el = document.createElement('bootstrap')\n\n    var transEndEventNames = {\n      WebkitTransition : 'webkitTransitionEnd',\n      MozTransition    : 'transitionend',\n      OTransition      : 'oTransitionEnd otransitionend',\n      transition       : 'transitionend'\n    }\n\n    for (var name in transEndEventNames) {\n      if (el.style[name] !== undefined) {\n        return { end: transEndEventNames[name] }\n      }\n    }\n\n    return false // explicit for ie8 (  ._.)\n  }\n\n  // http://blog.alexmaccaw.com/css-transitions\n  $.fn.emulateTransitionEnd = function (duration) {\n    var called = false\n    var $el = this\n    $(this).one('bsTransitionEnd', function () { called = true })\n    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }\n    setTimeout(callback, duration)\n    return this\n  }\n\n  $(function () {\n    $.support.transition = transitionEnd()\n\n    if (!$.support.transition) return\n\n    $.event.special.bsTransitionEnd = {\n      bindType: $.support.transition.end,\n      delegateType: $.support.transition.end,\n      handle: function (e) {\n        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)\n      }\n    }\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: alert.js v3.3.4\n * http://getbootstrap.com/javascript/#alerts\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // ALERT CLASS DEFINITION\n  // ======================\n\n  var dismiss = '[data-dismiss=\"alert\"]'\n  var Alert   = function (el) {\n    $(el).on('click', dismiss, this.close)\n  }\n\n  Alert.VERSION = '3.3.4'\n\n  Alert.TRANSITION_DURATION = 150\n\n  Alert.prototype.close = function (e) {\n    var $this    = $(this)\n    var selector = $this.attr('data-target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    var $parent = $(selector)\n\n    if (e) e.preventDefault()\n\n    if (!$parent.length) {\n      $parent = $this.closest('.alert')\n    }\n\n    $parent.trigger(e = $.Event('close.bs.alert'))\n\n    if (e.isDefaultPrevented()) return\n\n    $parent.removeClass('in')\n\n    function removeElement() {\n      // detach from parent, fire event then clean up data\n      $parent.detach().trigger('closed.bs.alert').remove()\n    }\n\n    $.support.transition && $parent.hasClass('fade') ?\n      $parent\n        .one('bsTransitionEnd', removeElement)\n        .emulateTransitionEnd(Alert.TRANSITION_DURATION) :\n      removeElement()\n  }\n\n\n  // ALERT PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.alert')\n\n      if (!data) $this.data('bs.alert', (data = new Alert(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.alert\n\n  $.fn.alert             = Plugin\n  $.fn.alert.Constructor = Alert\n\n\n  // ALERT NO CONFLICT\n  // =================\n\n  $.fn.alert.noConflict = function () {\n    $.fn.alert = old\n    return this\n  }\n\n\n  // ALERT DATA-API\n  // ==============\n\n  $(document).on('click.bs.alert.data-api', dismiss, Alert.prototype.close)\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: button.js v3.3.4\n * http://getbootstrap.com/javascript/#buttons\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // BUTTON PUBLIC CLASS DEFINITION\n  // ==============================\n\n  var Button = function (element, options) {\n    this.$element  = $(element)\n    this.options   = $.extend({}, Button.DEFAULTS, options)\n    this.isLoading = false\n  }\n\n  Button.VERSION  = '3.3.4'\n\n  Button.DEFAULTS = {\n    loadingText: 'loading...'\n  }\n\n  Button.prototype.setState = function (state) {\n    var d    = 'disabled'\n    var $el  = this.$element\n    var val  = $el.is('input') ? 'val' : 'html'\n    var data = $el.data()\n\n    state = state + 'Text'\n\n    if (data.resetText == null) $el.data('resetText', $el[val]())\n\n    // push to event loop to allow forms to submit\n    setTimeout($.proxy(function () {\n      $el[val](data[state] == null ? this.options[state] : data[state])\n\n      if (state == 'loadingText') {\n        this.isLoading = true\n        $el.addClass(d).attr(d, d)\n      } else if (this.isLoading) {\n        this.isLoading = false\n        $el.removeClass(d).removeAttr(d)\n      }\n    }, this), 0)\n  }\n\n  Button.prototype.toggle = function () {\n    var changed = true\n    var $parent = this.$element.closest('[data-toggle=\"buttons\"]')\n\n    if ($parent.length) {\n      var $input = this.$element.find('input')\n      if ($input.prop('type') == 'radio') {\n        if ($input.prop('checked') && this.$element.hasClass('active')) changed = false\n        else $parent.find('.active').removeClass('active')\n      }\n      if (changed) $input.prop('checked', !this.$element.hasClass('active')).trigger('change')\n    } else {\n      this.$element.attr('aria-pressed', !this.$element.hasClass('active'))\n    }\n\n    if (changed) this.$element.toggleClass('active')\n  }\n\n\n  // BUTTON PLUGIN DEFINITION\n  // ========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.button')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.button', (data = new Button(this, options)))\n\n      if (option == 'toggle') data.toggle()\n      else if (option) data.setState(option)\n    })\n  }\n\n  var old = $.fn.button\n\n  $.fn.button             = Plugin\n  $.fn.button.Constructor = Button\n\n\n  // BUTTON NO CONFLICT\n  // ==================\n\n  $.fn.button.noConflict = function () {\n    $.fn.button = old\n    return this\n  }\n\n\n  // BUTTON DATA-API\n  // ===============\n\n  $(document)\n    .on('click.bs.button.data-api', '[data-toggle^=\"button\"]', function (e) {\n      var $btn = $(e.target)\n      if (!$btn.hasClass('btn')) $btn = $btn.closest('.btn')\n      Plugin.call($btn, 'toggle')\n      e.preventDefault()\n    })\n    .on('focus.bs.button.data-api blur.bs.button.data-api', '[data-toggle^=\"button\"]', function (e) {\n      $(e.target).closest('.btn').toggleClass('focus', /^focus(in)?$/.test(e.type))\n    })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: carousel.js v3.3.4\n * http://getbootstrap.com/javascript/#carousel\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // CAROUSEL CLASS DEFINITION\n  // =========================\n\n  var Carousel = function (element, options) {\n    this.$element    = $(element)\n    this.$indicators = this.$element.find('.carousel-indicators')\n    this.options     = options\n    this.paused      = null\n    this.sliding     = null\n    this.interval    = null\n    this.$active     = null\n    this.$items      = null\n\n    this.options.keyboard && this.$element.on('keydown.bs.carousel', $.proxy(this.keydown, this))\n\n    this.options.pause == 'hover' && !('ontouchstart' in document.documentElement) && this.$element\n      .on('mouseenter.bs.carousel', $.proxy(this.pause, this))\n      .on('mouseleave.bs.carousel', $.proxy(this.cycle, this))\n  }\n\n  Carousel.VERSION  = '3.3.4'\n\n  Carousel.TRANSITION_DURATION = 600\n\n  Carousel.DEFAULTS = {\n    interval: 5000,\n    pause: 'hover',\n    wrap: true,\n    keyboard: true\n  }\n\n  Carousel.prototype.keydown = function (e) {\n    if (/input|textarea/i.test(e.target.tagName)) return\n    switch (e.which) {\n      case 37: this.prev(); break\n      case 39: this.next(); break\n      default: return\n    }\n\n    e.preventDefault()\n  }\n\n  Carousel.prototype.cycle = function (e) {\n    e || (this.paused = false)\n\n    this.interval && clearInterval(this.interval)\n\n    this.options.interval\n      && !this.paused\n      && (this.interval = setInterval($.proxy(this.next, this), this.options.interval))\n\n    return this\n  }\n\n  Carousel.prototype.getItemIndex = function (item) {\n    this.$items = item.parent().children('.item')\n    return this.$items.index(item || this.$active)\n  }\n\n  Carousel.prototype.getItemForDirection = function (direction, active) {\n    var activeIndex = this.getItemIndex(active)\n    var willWrap = (direction == 'prev' && activeIndex === 0)\n                || (direction == 'next' && activeIndex == (this.$items.length - 1))\n    if (willWrap && !this.options.wrap) return active\n    var delta = direction == 'prev' ? -1 : 1\n    var itemIndex = (activeIndex + delta) % this.$items.length\n    return this.$items.eq(itemIndex)\n  }\n\n  Carousel.prototype.to = function (pos) {\n    var that        = this\n    var activeIndex = this.getItemIndex(this.$active = this.$element.find('.item.active'))\n\n    if (pos > (this.$items.length - 1) || pos < 0) return\n\n    if (this.sliding)       return this.$element.one('slid.bs.carousel', function () { that.to(pos) }) // yes, \"slid\"\n    if (activeIndex == pos) return this.pause().cycle()\n\n    return this.slide(pos > activeIndex ? 'next' : 'prev', this.$items.eq(pos))\n  }\n\n  Carousel.prototype.pause = function (e) {\n    e || (this.paused = true)\n\n    if (this.$element.find('.next, .prev').length && $.support.transition) {\n      this.$element.trigger($.support.transition.end)\n      this.cycle(true)\n    }\n\n    this.interval = clearInterval(this.interval)\n\n    return this\n  }\n\n  Carousel.prototype.next = function () {\n    if (this.sliding) return\n    return this.slide('next')\n  }\n\n  Carousel.prototype.prev = function () {\n    if (this.sliding) return\n    return this.slide('prev')\n  }\n\n  Carousel.prototype.slide = function (type, next) {\n    var $active   = this.$element.find('.item.active')\n    var $next     = next || this.getItemForDirection(type, $active)\n    var isCycling = this.interval\n    var direction = type == 'next' ? 'left' : 'right'\n    var that      = this\n\n    if ($next.hasClass('active')) return (this.sliding = false)\n\n    var relatedTarget = $next[0]\n    var slideEvent = $.Event('slide.bs.carousel', {\n      relatedTarget: relatedTarget,\n      direction: direction\n    })\n    this.$element.trigger(slideEvent)\n    if (slideEvent.isDefaultPrevented()) return\n\n    this.sliding = true\n\n    isCycling && this.pause()\n\n    if (this.$indicators.length) {\n      this.$indicators.find('.active').removeClass('active')\n      var $nextIndicator = $(this.$indicators.children()[this.getItemIndex($next)])\n      $nextIndicator && $nextIndicator.addClass('active')\n    }\n\n    var slidEvent = $.Event('slid.bs.carousel', { relatedTarget: relatedTarget, direction: direction }) // yes, \"slid\"\n    if ($.support.transition && this.$element.hasClass('slide')) {\n      $next.addClass(type)\n      $next[0].offsetWidth // force reflow\n      $active.addClass(direction)\n      $next.addClass(direction)\n      $active\n        .one('bsTransitionEnd', function () {\n          $next.removeClass([type, direction].join(' ')).addClass('active')\n          $active.removeClass(['active', direction].join(' '))\n          that.sliding = false\n          setTimeout(function () {\n            that.$element.trigger(slidEvent)\n          }, 0)\n        })\n        .emulateTransitionEnd(Carousel.TRANSITION_DURATION)\n    } else {\n      $active.removeClass('active')\n      $next.addClass('active')\n      this.sliding = false\n      this.$element.trigger(slidEvent)\n    }\n\n    isCycling && this.cycle()\n\n    return this\n  }\n\n\n  // CAROUSEL PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.carousel')\n      var options = $.extend({}, Carousel.DEFAULTS, $this.data(), typeof option == 'object' && option)\n      var action  = typeof option == 'string' ? option : options.slide\n\n      if (!data) $this.data('bs.carousel', (data = new Carousel(this, options)))\n      if (typeof option == 'number') data.to(option)\n      else if (action) data[action]()\n      else if (options.interval) data.pause().cycle()\n    })\n  }\n\n  var old = $.fn.carousel\n\n  $.fn.carousel             = Plugin\n  $.fn.carousel.Constructor = Carousel\n\n\n  // CAROUSEL NO CONFLICT\n  // ====================\n\n  $.fn.carousel.noConflict = function () {\n    $.fn.carousel = old\n    return this\n  }\n\n\n  // CAROUSEL DATA-API\n  // =================\n\n  var clickHandler = function (e) {\n    var href\n    var $this   = $(this)\n    var $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '')) // strip for ie7\n    if (!$target.hasClass('carousel')) return\n    var options = $.extend({}, $target.data(), $this.data())\n    var slideIndex = $this.attr('data-slide-to')\n    if (slideIndex) options.interval = false\n\n    Plugin.call($target, options)\n\n    if (slideIndex) {\n      $target.data('bs.carousel').to(slideIndex)\n    }\n\n    e.preventDefault()\n  }\n\n  $(document)\n    .on('click.bs.carousel.data-api', '[data-slide]', clickHandler)\n    .on('click.bs.carousel.data-api', '[data-slide-to]', clickHandler)\n\n  $(window).on('load', function () {\n    $('[data-ride=\"carousel\"]').each(function () {\n      var $carousel = $(this)\n      Plugin.call($carousel, $carousel.data())\n    })\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: collapse.js v3.3.4\n * http://getbootstrap.com/javascript/#collapse\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // COLLAPSE PUBLIC CLASS DEFINITION\n  // ================================\n\n  var Collapse = function (element, options) {\n    this.$element      = $(element)\n    this.options       = $.extend({}, Collapse.DEFAULTS, options)\n    this.$trigger      = $('[data-toggle=\"collapse\"][href=\"#' + element.id + '\"],' +\n                           '[data-toggle=\"collapse\"][data-target=\"#' + element.id + '\"]')\n    this.transitioning = null\n\n    if (this.options.parent) {\n      this.$parent = this.getParent()\n    } else {\n      this.addAriaAndCollapsedClass(this.$element, this.$trigger)\n    }\n\n    if (this.options.toggle) this.toggle()\n  }\n\n  Collapse.VERSION  = '3.3.4'\n\n  Collapse.TRANSITION_DURATION = 350\n\n  Collapse.DEFAULTS = {\n    toggle: true\n  }\n\n  Collapse.prototype.dimension = function () {\n    var hasWidth = this.$element.hasClass('width')\n    return hasWidth ? 'width' : 'height'\n  }\n\n  Collapse.prototype.show = function () {\n    if (this.transitioning || this.$element.hasClass('in')) return\n\n    var activesData\n    var actives = this.$parent && this.$parent.children('.panel').children('.in, .collapsing')\n\n    if (actives && actives.length) {\n      activesData = actives.data('bs.collapse')\n      if (activesData && activesData.transitioning) return\n    }\n\n    var startEvent = $.Event('show.bs.collapse')\n    this.$element.trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) return\n\n    if (actives && actives.length) {\n      Plugin.call(actives, 'hide')\n      activesData || actives.data('bs.collapse', null)\n    }\n\n    var dimension = this.dimension()\n\n    this.$element\n      .removeClass('collapse')\n      .addClass('collapsing')[dimension](0)\n      .attr('aria-expanded', true)\n\n    this.$trigger\n      .removeClass('collapsed')\n      .attr('aria-expanded', true)\n\n    this.transitioning = 1\n\n    var complete = function () {\n      this.$element\n        .removeClass('collapsing')\n        .addClass('collapse in')[dimension]('')\n      this.transitioning = 0\n      this.$element\n        .trigger('shown.bs.collapse')\n    }\n\n    if (!$.support.transition) return complete.call(this)\n\n    var scrollSize = $.camelCase(['scroll', dimension].join('-'))\n\n    this.$element\n      .one('bsTransitionEnd', $.proxy(complete, this))\n      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])\n  }\n\n  Collapse.prototype.hide = function () {\n    if (this.transitioning || !this.$element.hasClass('in')) return\n\n    var startEvent = $.Event('hide.bs.collapse')\n    this.$element.trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) return\n\n    var dimension = this.dimension()\n\n    this.$element[dimension](this.$element[dimension]())[0].offsetHeight\n\n    this.$element\n      .addClass('collapsing')\n      .removeClass('collapse in')\n      .attr('aria-expanded', false)\n\n    this.$trigger\n      .addClass('collapsed')\n      .attr('aria-expanded', false)\n\n    this.transitioning = 1\n\n    var complete = function () {\n      this.transitioning = 0\n      this.$element\n        .removeClass('collapsing')\n        .addClass('collapse')\n        .trigger('hidden.bs.collapse')\n    }\n\n    if (!$.support.transition) return complete.call(this)\n\n    this.$element\n      [dimension](0)\n      .one('bsTransitionEnd', $.proxy(complete, this))\n      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)\n  }\n\n  Collapse.prototype.toggle = function () {\n    this[this.$element.hasClass('in') ? 'hide' : 'show']()\n  }\n\n  Collapse.prototype.getParent = function () {\n    return $(this.options.parent)\n      .find('[data-toggle=\"collapse\"][data-parent=\"' + this.options.parent + '\"]')\n      .each($.proxy(function (i, element) {\n        var $element = $(element)\n        this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)\n      }, this))\n      .end()\n  }\n\n  Collapse.prototype.addAriaAndCollapsedClass = function ($element, $trigger) {\n    var isOpen = $element.hasClass('in')\n\n    $element.attr('aria-expanded', isOpen)\n    $trigger\n      .toggleClass('collapsed', !isOpen)\n      .attr('aria-expanded', isOpen)\n  }\n\n  function getTargetFromTrigger($trigger) {\n    var href\n    var target = $trigger.attr('data-target')\n      || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '') // strip for ie7\n\n    return $(target)\n  }\n\n\n  // COLLAPSE PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.collapse')\n      var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n      if (!data && options.toggle && /show|hide/.test(option)) options.toggle = false\n      if (!data) $this.data('bs.collapse', (data = new Collapse(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.collapse\n\n  $.fn.collapse             = Plugin\n  $.fn.collapse.Constructor = Collapse\n\n\n  // COLLAPSE NO CONFLICT\n  // ====================\n\n  $.fn.collapse.noConflict = function () {\n    $.fn.collapse = old\n    return this\n  }\n\n\n  // COLLAPSE DATA-API\n  // =================\n\n  $(document).on('click.bs.collapse.data-api', '[data-toggle=\"collapse\"]', function (e) {\n    var $this   = $(this)\n\n    if (!$this.attr('data-target')) e.preventDefault()\n\n    var $target = getTargetFromTrigger($this)\n    var data    = $target.data('bs.collapse')\n    var option  = data ? 'toggle' : $this.data()\n\n    Plugin.call($target, option)\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: dropdown.js v3.3.4\n * http://getbootstrap.com/javascript/#dropdowns\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // DROPDOWN CLASS DEFINITION\n  // =========================\n\n  var backdrop = '.dropdown-backdrop'\n  var toggle   = '[data-toggle=\"dropdown\"]'\n  var Dropdown = function (element) {\n    $(element).on('click.bs.dropdown', this.toggle)\n  }\n\n  Dropdown.VERSION = '3.3.4'\n\n  Dropdown.prototype.toggle = function (e) {\n    var $this = $(this)\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    clearMenus()\n\n    if (!isActive) {\n      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {\n        // if mobile we use a backdrop because click events don't delegate\n        $('<div class=\"dropdown-backdrop\"/>').insertAfter($(this)).on('click', clearMenus)\n      }\n\n      var relatedTarget = { relatedTarget: this }\n      $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this\n        .trigger('focus')\n        .attr('aria-expanded', 'true')\n\n      $parent\n        .toggleClass('open')\n        .trigger('shown.bs.dropdown', relatedTarget)\n    }\n\n    return false\n  }\n\n  Dropdown.prototype.keydown = function (e) {\n    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return\n\n    var $this = $(this)\n\n    e.preventDefault()\n    e.stopPropagation()\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    if ((!isActive && e.which != 27) || (isActive && e.which == 27)) {\n      if (e.which == 27) $parent.find(toggle).trigger('focus')\n      return $this.trigger('click')\n    }\n\n    var desc = ' li:not(.disabled):visible a'\n    var $items = $parent.find('[role=\"menu\"]' + desc + ', [role=\"listbox\"]' + desc)\n\n    if (!$items.length) return\n\n    var index = $items.index(e.target)\n\n    if (e.which == 38 && index > 0)                 index--                        // up\n    if (e.which == 40 && index < $items.length - 1) index++                        // down\n    if (!~index)                                      index = 0\n\n    $items.eq(index).trigger('focus')\n  }\n\n  function clearMenus(e) {\n    if (e && e.which === 3) return\n    $(backdrop).remove()\n    $(toggle).each(function () {\n      var $this         = $(this)\n      var $parent       = getParent($this)\n      var relatedTarget = { relatedTarget: this }\n\n      if (!$parent.hasClass('open')) return\n\n      $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this.attr('aria-expanded', 'false')\n      $parent.removeClass('open').trigger('hidden.bs.dropdown', relatedTarget)\n    })\n  }\n\n  function getParent($this) {\n    var selector = $this.attr('data-target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    var $parent = selector && $(selector)\n\n    return $parent && $parent.length ? $parent : $this.parent()\n  }\n\n\n  // DROPDOWN PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.dropdown')\n\n      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.dropdown\n\n  $.fn.dropdown             = Plugin\n  $.fn.dropdown.Constructor = Dropdown\n\n\n  // DROPDOWN NO CONFLICT\n  // ====================\n\n  $.fn.dropdown.noConflict = function () {\n    $.fn.dropdown = old\n    return this\n  }\n\n\n  // APPLY TO STANDARD DROPDOWN ELEMENTS\n  // ===================================\n\n  $(document)\n    .on('click.bs.dropdown.data-api', clearMenus)\n    .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })\n    .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)\n    .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)\n    .on('keydown.bs.dropdown.data-api', '[role=\"menu\"]', Dropdown.prototype.keydown)\n    .on('keydown.bs.dropdown.data-api', '[role=\"listbox\"]', Dropdown.prototype.keydown)\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: modal.js v3.3.4\n * http://getbootstrap.com/javascript/#modals\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // MODAL CLASS DEFINITION\n  // ======================\n\n  var Modal = function (element, options) {\n    this.options             = options\n    this.$body               = $(document.body)\n    this.$element            = $(element)\n    this.$dialog             = this.$element.find('.modal-dialog')\n    this.$backdrop           = null\n    this.isShown             = null\n    this.originalBodyPad     = null\n    this.scrollbarWidth      = 0\n    this.ignoreBackdropClick = false\n\n    if (this.options.remote) {\n      this.$element\n        .find('.modal-content')\n        .load(this.options.remote, $.proxy(function () {\n          this.$element.trigger('loaded.bs.modal')\n        }, this))\n    }\n  }\n\n  Modal.VERSION  = '3.3.4'\n\n  Modal.TRANSITION_DURATION = 300\n  Modal.BACKDROP_TRANSITION_DURATION = 150\n\n  Modal.DEFAULTS = {\n    backdrop: true,\n    keyboard: true,\n    show: true\n  }\n\n  Modal.prototype.toggle = function (_relatedTarget) {\n    return this.isShown ? this.hide() : this.show(_relatedTarget)\n  }\n\n  Modal.prototype.show = function (_relatedTarget) {\n    var that = this\n    var e    = $.Event('show.bs.modal', { relatedTarget: _relatedTarget })\n\n    this.$element.trigger(e)\n\n    if (this.isShown || e.isDefaultPrevented()) return\n\n    this.isShown = true\n\n    this.checkScrollbar()\n    this.setScrollbar()\n    this.$body.addClass('modal-open')\n\n    this.escape()\n    this.resize()\n\n    this.$element.on('click.dismiss.bs.modal', '[data-dismiss=\"modal\"]', $.proxy(this.hide, this))\n\n    this.$dialog.on('mousedown.dismiss.bs.modal', function () {\n      that.$element.one('mouseup.dismiss.bs.modal', function (e) {\n        if ($(e.target).is(that.$element)) that.ignoreBackdropClick = true\n      })\n    })\n\n    this.backdrop(function () {\n      var transition = $.support.transition && that.$element.hasClass('fade')\n\n      if (!that.$element.parent().length) {\n        that.$element.appendTo(that.$body) // don't move modals dom position\n      }\n\n      that.$element\n        .show()\n        .scrollTop(0)\n\n      that.adjustDialog()\n\n      if (transition) {\n        that.$element[0].offsetWidth // force reflow\n      }\n\n      that.$element\n        .addClass('in')\n        .attr('aria-hidden', false)\n\n      that.enforceFocus()\n\n      var e = $.Event('shown.bs.modal', { relatedTarget: _relatedTarget })\n\n      transition ?\n        that.$dialog // wait for modal to slide in\n          .one('bsTransitionEnd', function () {\n            that.$element.trigger('focus').trigger(e)\n          })\n          .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\n        that.$element.trigger('focus').trigger(e)\n    })\n  }\n\n  Modal.prototype.hide = function (e) {\n    if (e) e.preventDefault()\n\n    e = $.Event('hide.bs.modal')\n\n    this.$element.trigger(e)\n\n    if (!this.isShown || e.isDefaultPrevented()) return\n\n    this.isShown = false\n\n    this.escape()\n    this.resize()\n\n    $(document).off('focusin.bs.modal')\n\n    this.$element\n      .removeClass('in')\n      .attr('aria-hidden', true)\n      .off('click.dismiss.bs.modal')\n      .off('mouseup.dismiss.bs.modal')\n\n    this.$dialog.off('mousedown.dismiss.bs.modal')\n\n    $.support.transition && this.$element.hasClass('fade') ?\n      this.$element\n        .one('bsTransitionEnd', $.proxy(this.hideModal, this))\n        .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\n      this.hideModal()\n  }\n\n  Modal.prototype.enforceFocus = function () {\n    $(document)\n      .off('focusin.bs.modal') // guard against infinite focus loop\n      .on('focusin.bs.modal', $.proxy(function (e) {\n        if (this.$element[0] !== e.target && !this.$element.has(e.target).length) {\n          this.$element.trigger('focus')\n        }\n      }, this))\n  }\n\n  Modal.prototype.escape = function () {\n    if (this.isShown && this.options.keyboard) {\n      this.$element.on('keydown.dismiss.bs.modal', $.proxy(function (e) {\n        e.which == 27 && this.hide()\n      }, this))\n    } else if (!this.isShown) {\n      this.$element.off('keydown.dismiss.bs.modal')\n    }\n  }\n\n  Modal.prototype.resize = function () {\n    if (this.isShown) {\n      $(window).on('resize.bs.modal', $.proxy(this.handleUpdate, this))\n    } else {\n      $(window).off('resize.bs.modal')\n    }\n  }\n\n  Modal.prototype.hideModal = function () {\n    var that = this\n    this.$element.hide()\n    this.backdrop(function () {\n      that.$body.removeClass('modal-open')\n      that.resetAdjustments()\n      that.resetScrollbar()\n      that.$element.trigger('hidden.bs.modal')\n    })\n  }\n\n  Modal.prototype.removeBackdrop = function () {\n    this.$backdrop && this.$backdrop.remove()\n    this.$backdrop = null\n  }\n\n  Modal.prototype.backdrop = function (callback) {\n    var that = this\n    var animate = this.$element.hasClass('fade') ? 'fade' : ''\n\n    if (this.isShown && this.options.backdrop) {\n      var doAnimate = $.support.transition && animate\n\n      this.$backdrop = $('<div class=\"modal-backdrop ' + animate + '\" />')\n        .appendTo(this.$body)\n\n      this.$element.on('click.dismiss.bs.modal', $.proxy(function (e) {\n        if (this.ignoreBackdropClick) {\n          this.ignoreBackdropClick = false\n          return\n        }\n        if (e.target !== e.currentTarget) return\n        this.options.backdrop == 'static'\n          ? this.$element[0].focus()\n          : this.hide()\n      }, this))\n\n      if (doAnimate) this.$backdrop[0].offsetWidth // force reflow\n\n      this.$backdrop.addClass('in')\n\n      if (!callback) return\n\n      doAnimate ?\n        this.$backdrop\n          .one('bsTransitionEnd', callback)\n          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\n        callback()\n\n    } else if (!this.isShown && this.$backdrop) {\n      this.$backdrop.removeClass('in')\n\n      var callbackRemove = function () {\n        that.removeBackdrop()\n        callback && callback()\n      }\n      $.support.transition && this.$element.hasClass('fade') ?\n        this.$backdrop\n          .one('bsTransitionEnd', callbackRemove)\n          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\n        callbackRemove()\n\n    } else if (callback) {\n      callback()\n    }\n  }\n\n  // these following methods are used to handle overflowing modals\n\n  Modal.prototype.handleUpdate = function () {\n    this.adjustDialog()\n  }\n\n  Modal.prototype.adjustDialog = function () {\n    var modalIsOverflowing = this.$element[0].scrollHeight > document.documentElement.clientHeight\n\n    this.$element.css({\n      paddingLeft:  !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : '',\n      paddingRight: this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth : ''\n    })\n  }\n\n  Modal.prototype.resetAdjustments = function () {\n    this.$element.css({\n      paddingLeft: '',\n      paddingRight: ''\n    })\n  }\n\n  Modal.prototype.checkScrollbar = function () {\n    var fullWindowWidth = window.innerWidth\n    if (!fullWindowWidth) { // workaround for missing window.innerWidth in IE8\n      var documentElementRect = document.documentElement.getBoundingClientRect()\n      fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left)\n    }\n    this.bodyIsOverflowing = document.body.clientWidth < fullWindowWidth\n    this.scrollbarWidth = this.measureScrollbar()\n  }\n\n  Modal.prototype.setScrollbar = function () {\n    var bodyPad = parseInt((this.$body.css('padding-right') || 0), 10)\n    this.originalBodyPad = document.body.style.paddingRight || ''\n    if (this.bodyIsOverflowing) this.$body.css('padding-right', bodyPad + this.scrollbarWidth)\n  }\n\n  Modal.prototype.resetScrollbar = function () {\n    this.$body.css('padding-right', this.originalBodyPad)\n  }\n\n  Modal.prototype.measureScrollbar = function () { // thx walsh\n    var scrollDiv = document.createElement('div')\n    scrollDiv.className = 'modal-scrollbar-measure'\n    this.$body.append(scrollDiv)\n    var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth\n    this.$body[0].removeChild(scrollDiv)\n    return scrollbarWidth\n  }\n\n\n  // MODAL PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option, _relatedTarget) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.modal')\n      var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n      if (!data) $this.data('bs.modal', (data = new Modal(this, options)))\n      if (typeof option == 'string') data[option](_relatedTarget)\n      else if (options.show) data.show(_relatedTarget)\n    })\n  }\n\n  var old = $.fn.modal\n\n  $.fn.modal             = Plugin\n  $.fn.modal.Constructor = Modal\n\n\n  // MODAL NO CONFLICT\n  // =================\n\n  $.fn.modal.noConflict = function () {\n    $.fn.modal = old\n    return this\n  }\n\n\n  // MODAL DATA-API\n  // ==============\n\n  $(document).on('click.bs.modal.data-api', '[data-toggle=\"modal\"]', function (e) {\n    var $this   = $(this)\n    var href    = $this.attr('href')\n    var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\\s]+$)/, ''))) // strip for ie7\n    var option  = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())\n\n    if ($this.is('a')) e.preventDefault()\n\n    $target.one('show.bs.modal', function (showEvent) {\n      if (showEvent.isDefaultPrevented()) return // only register focus restorer if modal will actually get shown\n      $target.one('hidden.bs.modal', function () {\n        $this.is(':visible') && $this.trigger('focus')\n      })\n    })\n    Plugin.call($target, option, this)\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: tooltip.js v3.3.4\n * http://getbootstrap.com/javascript/#tooltip\n * Inspired by the original jQuery.tipsy by Jason Frame\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // TOOLTIP PUBLIC CLASS DEFINITION\n  // ===============================\n\n  var Tooltip = function (element, options) {\n    this.type       = null\n    this.options    = null\n    this.enabled    = null\n    this.timeout    = null\n    this.hoverState = null\n    this.$element   = null\n\n    this.init('tooltip', element, options)\n  }\n\n  Tooltip.VERSION  = '3.3.4'\n\n  Tooltip.TRANSITION_DURATION = 150\n\n  Tooltip.DEFAULTS = {\n    animation: true,\n    placement: 'top',\n    selector: false,\n    template: '<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',\n    trigger: 'hover focus',\n    title: '',\n    delay: 0,\n    html: false,\n    container: false,\n    viewport: {\n      selector: 'body',\n      padding: 0\n    }\n  }\n\n  Tooltip.prototype.init = function (type, element, options) {\n    this.enabled   = true\n    this.type      = type\n    this.$element  = $(element)\n    this.options   = this.getOptions(options)\n    this.$viewport = this.options.viewport && $(this.options.viewport.selector || this.options.viewport)\n\n    if (this.$element[0] instanceof document.constructor && !this.options.selector) {\n      throw new Error('`selector` option must be specified when initializing ' + this.type + ' on the window.document object!')\n    }\n\n    var triggers = this.options.trigger.split(' ')\n\n    for (var i = triggers.length; i--;) {\n      var trigger = triggers[i]\n\n      if (trigger == 'click') {\n        this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this))\n      } else if (trigger != 'manual') {\n        var eventIn  = trigger == 'hover' ? 'mouseenter' : 'focusin'\n        var eventOut = trigger == 'hover' ? 'mouseleave' : 'focusout'\n\n        this.$element.on(eventIn  + '.' + this.type, this.options.selector, $.proxy(this.enter, this))\n        this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this))\n      }\n    }\n\n    this.options.selector ?\n      (this._options = $.extend({}, this.options, { trigger: 'manual', selector: '' })) :\n      this.fixTitle()\n  }\n\n  Tooltip.prototype.getDefaults = function () {\n    return Tooltip.DEFAULTS\n  }\n\n  Tooltip.prototype.getOptions = function (options) {\n    options = $.extend({}, this.getDefaults(), this.$element.data(), options)\n\n    if (options.delay && typeof options.delay == 'number') {\n      options.delay = {\n        show: options.delay,\n        hide: options.delay\n      }\n    }\n\n    return options\n  }\n\n  Tooltip.prototype.getDelegateOptions = function () {\n    var options  = {}\n    var defaults = this.getDefaults()\n\n    this._options && $.each(this._options, function (key, value) {\n      if (defaults[key] != value) options[key] = value\n    })\n\n    return options\n  }\n\n  Tooltip.prototype.enter = function (obj) {\n    var self = obj instanceof this.constructor ?\n      obj : $(obj.currentTarget).data('bs.' + this.type)\n\n    if (self && self.$tip && self.$tip.is(':visible')) {\n      self.hoverState = 'in'\n      return\n    }\n\n    if (!self) {\n      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n      $(obj.currentTarget).data('bs.' + this.type, self)\n    }\n\n    clearTimeout(self.timeout)\n\n    self.hoverState = 'in'\n\n    if (!self.options.delay || !self.options.delay.show) return self.show()\n\n    self.timeout = setTimeout(function () {\n      if (self.hoverState == 'in') self.show()\n    }, self.options.delay.show)\n  }\n\n  Tooltip.prototype.leave = function (obj) {\n    var self = obj instanceof this.constructor ?\n      obj : $(obj.currentTarget).data('bs.' + this.type)\n\n    if (!self) {\n      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n      $(obj.currentTarget).data('bs.' + this.type, self)\n    }\n\n    clearTimeout(self.timeout)\n\n    self.hoverState = 'out'\n\n    if (!self.options.delay || !self.options.delay.hide) return self.hide()\n\n    self.timeout = setTimeout(function () {\n      if (self.hoverState == 'out') self.hide()\n    }, self.options.delay.hide)\n  }\n\n  Tooltip.prototype.show = function () {\n    var e = $.Event('show.bs.' + this.type)\n\n    if (this.hasContent() && this.enabled) {\n      this.$element.trigger(e)\n\n      var inDom = $.contains(this.$element[0].ownerDocument.documentElement, this.$element[0])\n      if (e.isDefaultPrevented() || !inDom) return\n      var that = this\n\n      var $tip = this.tip()\n\n      var tipId = this.getUID(this.type)\n\n      this.setContent()\n      $tip.attr('id', tipId)\n      this.$element.attr('aria-describedby', tipId)\n\n      if (this.options.animation) $tip.addClass('fade')\n\n      var placement = typeof this.options.placement == 'function' ?\n        this.options.placement.call(this, $tip[0], this.$element[0]) :\n        this.options.placement\n\n      var autoToken = /\\s?auto?\\s?/i\n      var autoPlace = autoToken.test(placement)\n      if (autoPlace) placement = placement.replace(autoToken, '') || 'top'\n\n      $tip\n        .detach()\n        .css({ top: 0, left: 0, display: 'block' })\n        .addClass(placement)\n        .data('bs.' + this.type, this)\n\n      this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element)\n\n      var pos          = this.getPosition()\n      var actualWidth  = $tip[0].offsetWidth\n      var actualHeight = $tip[0].offsetHeight\n\n      if (autoPlace) {\n        var orgPlacement = placement\n        var $container   = this.options.container ? $(this.options.container) : this.$element.parent()\n        var containerDim = this.getPosition($container)\n\n        placement = placement == 'bottom' && pos.bottom + actualHeight > containerDim.bottom ? 'top'    :\n                    placement == 'top'    && pos.top    - actualHeight < containerDim.top    ? 'bottom' :\n                    placement == 'right'  && pos.right  + actualWidth  > containerDim.width  ? 'left'   :\n                    placement == 'left'   && pos.left   - actualWidth  < containerDim.left   ? 'right'  :\n                    placement\n\n        $tip\n          .removeClass(orgPlacement)\n          .addClass(placement)\n      }\n\n      var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight)\n\n      this.applyPlacement(calculatedOffset, placement)\n\n      var complete = function () {\n        var prevHoverState = that.hoverState\n        that.$element.trigger('shown.bs.' + that.type)\n        that.hoverState = null\n\n        if (prevHoverState == 'out') that.leave(that)\n      }\n\n      $.support.transition && this.$tip.hasClass('fade') ?\n        $tip\n          .one('bsTransitionEnd', complete)\n          .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\n        complete()\n    }\n  }\n\n  Tooltip.prototype.applyPlacement = function (offset, placement) {\n    var $tip   = this.tip()\n    var width  = $tip[0].offsetWidth\n    var height = $tip[0].offsetHeight\n\n    // manually read margins because getBoundingClientRect includes difference\n    var marginTop = parseInt($tip.css('margin-top'), 10)\n    var marginLeft = parseInt($tip.css('margin-left'), 10)\n\n    // we must check for NaN for ie 8/9\n    if (isNaN(marginTop))  marginTop  = 0\n    if (isNaN(marginLeft)) marginLeft = 0\n\n    offset.top  = offset.top  + marginTop\n    offset.left = offset.left + marginLeft\n\n    // $.fn.offset doesn't round pixel values\n    // so we use setOffset directly with our own function B-0\n    $.offset.setOffset($tip[0], $.extend({\n      using: function (props) {\n        $tip.css({\n          top: Math.round(props.top),\n          left: Math.round(props.left)\n        })\n      }\n    }, offset), 0)\n\n    $tip.addClass('in')\n\n    // check to see if placing tip in new offset caused the tip to resize itself\n    var actualWidth  = $tip[0].offsetWidth\n    var actualHeight = $tip[0].offsetHeight\n\n    if (placement == 'top' && actualHeight != height) {\n      offset.top = offset.top + height - actualHeight\n    }\n\n    var delta = this.getViewportAdjustedDelta(placement, offset, actualWidth, actualHeight)\n\n    if (delta.left) offset.left += delta.left\n    else offset.top += delta.top\n\n    var isVertical          = /top|bottom/.test(placement)\n    var arrowDelta          = isVertical ? delta.left * 2 - width + actualWidth : delta.top * 2 - height + actualHeight\n    var arrowOffsetPosition = isVertical ? 'offsetWidth' : 'offsetHeight'\n\n    $tip.offset(offset)\n    this.replaceArrow(arrowDelta, $tip[0][arrowOffsetPosition], isVertical)\n  }\n\n  Tooltip.prototype.replaceArrow = function (delta, dimension, isVertical) {\n    this.arrow()\n      .css(isVertical ? 'left' : 'top', 50 * (1 - delta / dimension) + '%')\n      .css(isVertical ? 'top' : 'left', '')\n  }\n\n  Tooltip.prototype.setContent = function () {\n    var $tip  = this.tip()\n    var title = this.getTitle()\n\n    $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title)\n    $tip.removeClass('fade in top bottom left right')\n  }\n\n  Tooltip.prototype.hide = function (callback) {\n    var that = this\n    var $tip = $(this.$tip)\n    var e    = $.Event('hide.bs.' + this.type)\n\n    function complete() {\n      if (that.hoverState != 'in') $tip.detach()\n      that.$element\n        .removeAttr('aria-describedby')\n        .trigger('hidden.bs.' + that.type)\n      callback && callback()\n    }\n\n    this.$element.trigger(e)\n\n    if (e.isDefaultPrevented()) return\n\n    $tip.removeClass('in')\n\n    $.support.transition && $tip.hasClass('fade') ?\n      $tip\n        .one('bsTransitionEnd', complete)\n        .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\n      complete()\n\n    this.hoverState = null\n\n    return this\n  }\n\n  Tooltip.prototype.fixTitle = function () {\n    var $e = this.$element\n    if ($e.attr('title') || typeof ($e.attr('data-original-title')) != 'string') {\n      $e.attr('data-original-title', $e.attr('title') || '').attr('title', '')\n    }\n  }\n\n  Tooltip.prototype.hasContent = function () {\n    return this.getTitle()\n  }\n\n  Tooltip.prototype.getPosition = function ($element) {\n    $element   = $element || this.$element\n\n    var el     = $element[0]\n    var isBody = el.tagName == 'BODY'\n\n    var elRect    = el.getBoundingClientRect()\n    if (elRect.width == null) {\n      // width and height are missing in IE8, so compute them manually; see https://github.com/twbs/bootstrap/issues/14093\n      elRect = $.extend({}, elRect, { width: elRect.right - elRect.left, height: elRect.bottom - elRect.top })\n    }\n    var elOffset  = isBody ? { top: 0, left: 0 } : $element.offset()\n    var scroll    = { scroll: isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.scrollTop() }\n    var outerDims = isBody ? { width: $(window).width(), height: $(window).height() } : null\n\n    return $.extend({}, elRect, scroll, outerDims, elOffset)\n  }\n\n  Tooltip.prototype.getCalculatedOffset = function (placement, pos, actualWidth, actualHeight) {\n    return placement == 'bottom' ? { top: pos.top + pos.height,   left: pos.left + pos.width / 2 - actualWidth / 2 } :\n           placement == 'top'    ? { top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2 } :\n           placement == 'left'   ? { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth } :\n        /* placement == 'right' */ { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width }\n\n  }\n\n  Tooltip.prototype.getViewportAdjustedDelta = function (placement, pos, actualWidth, actualHeight) {\n    var delta = { top: 0, left: 0 }\n    if (!this.$viewport) return delta\n\n    var viewportPadding = this.options.viewport && this.options.viewport.padding || 0\n    var viewportDimensions = this.getPosition(this.$viewport)\n\n    if (/right|left/.test(placement)) {\n      var topEdgeOffset    = pos.top - viewportPadding - viewportDimensions.scroll\n      var bottomEdgeOffset = pos.top + viewportPadding - viewportDimensions.scroll + actualHeight\n      if (topEdgeOffset < viewportDimensions.top) { // top overflow\n        delta.top = viewportDimensions.top - topEdgeOffset\n      } else if (bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height) { // bottom overflow\n        delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset\n      }\n    } else {\n      var leftEdgeOffset  = pos.left - viewportPadding\n      var rightEdgeOffset = pos.left + viewportPadding + actualWidth\n      if (leftEdgeOffset < viewportDimensions.left) { // left overflow\n        delta.left = viewportDimensions.left - leftEdgeOffset\n      } else if (rightEdgeOffset > viewportDimensions.width) { // right overflow\n        delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset\n      }\n    }\n\n    return delta\n  }\n\n  Tooltip.prototype.getTitle = function () {\n    var title\n    var $e = this.$element\n    var o  = this.options\n\n    title = $e.attr('data-original-title')\n      || (typeof o.title == 'function' ? o.title.call($e[0]) :  o.title)\n\n    return title\n  }\n\n  Tooltip.prototype.getUID = function (prefix) {\n    do prefix += ~~(Math.random() * 1000000)\n    while (document.getElementById(prefix))\n    return prefix\n  }\n\n  Tooltip.prototype.tip = function () {\n    return (this.$tip = this.$tip || $(this.options.template))\n  }\n\n  Tooltip.prototype.arrow = function () {\n    return (this.$arrow = this.$arrow || this.tip().find('.tooltip-arrow'))\n  }\n\n  Tooltip.prototype.enable = function () {\n    this.enabled = true\n  }\n\n  Tooltip.prototype.disable = function () {\n    this.enabled = false\n  }\n\n  Tooltip.prototype.toggleEnabled = function () {\n    this.enabled = !this.enabled\n  }\n\n  Tooltip.prototype.toggle = function (e) {\n    var self = this\n    if (e) {\n      self = $(e.currentTarget).data('bs.' + this.type)\n      if (!self) {\n        self = new this.constructor(e.currentTarget, this.getDelegateOptions())\n        $(e.currentTarget).data('bs.' + this.type, self)\n      }\n    }\n\n    self.tip().hasClass('in') ? self.leave(self) : self.enter(self)\n  }\n\n  Tooltip.prototype.destroy = function () {\n    var that = this\n    clearTimeout(this.timeout)\n    this.hide(function () {\n      that.$element.off('.' + that.type).removeData('bs.' + that.type)\n    })\n  }\n\n\n  // TOOLTIP PLUGIN DEFINITION\n  // =========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.tooltip')\n      var options = typeof option == 'object' && option\n\n      if (!data && /destroy|hide/.test(option)) return\n      if (!data) $this.data('bs.tooltip', (data = new Tooltip(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.tooltip\n\n  $.fn.tooltip             = Plugin\n  $.fn.tooltip.Constructor = Tooltip\n\n\n  // TOOLTIP NO CONFLICT\n  // ===================\n\n  $.fn.tooltip.noConflict = function () {\n    $.fn.tooltip = old\n    return this\n  }\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: popover.js v3.3.4\n * http://getbootstrap.com/javascript/#popovers\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // POPOVER PUBLIC CLASS DEFINITION\n  // ===============================\n\n  var Popover = function (element, options) {\n    this.init('popover', element, options)\n  }\n\n  if (!$.fn.tooltip) throw new Error('Popover requires tooltip.js')\n\n  Popover.VERSION  = '3.3.4'\n\n  Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {\n    placement: 'right',\n    trigger: 'click',\n    content: '',\n    template: '<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'\n  })\n\n\n  // NOTE: POPOVER EXTENDS tooltip.js\n  // ================================\n\n  Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype)\n\n  Popover.prototype.constructor = Popover\n\n  Popover.prototype.getDefaults = function () {\n    return Popover.DEFAULTS\n  }\n\n  Popover.prototype.setContent = function () {\n    var $tip    = this.tip()\n    var title   = this.getTitle()\n    var content = this.getContent()\n\n    $tip.find('.popover-title')[this.options.html ? 'html' : 'text'](title)\n    $tip.find('.popover-content').children().detach().end()[ // we use append for html objects to maintain js events\n      this.options.html ? (typeof content == 'string' ? 'html' : 'append') : 'text'\n    ](content)\n\n    $tip.removeClass('fade top bottom left right in')\n\n    // IE8 doesn't accept hiding via the `:empty` pseudo selector, we have to do\n    // this manually by checking the contents.\n    if (!$tip.find('.popover-title').html()) $tip.find('.popover-title').hide()\n  }\n\n  Popover.prototype.hasContent = function () {\n    return this.getTitle() || this.getContent()\n  }\n\n  Popover.prototype.getContent = function () {\n    var $e = this.$element\n    var o  = this.options\n\n    return $e.attr('data-content')\n      || (typeof o.content == 'function' ?\n            o.content.call($e[0]) :\n            o.content)\n  }\n\n  Popover.prototype.arrow = function () {\n    return (this.$arrow = this.$arrow || this.tip().find('.arrow'))\n  }\n\n\n  // POPOVER PLUGIN DEFINITION\n  // =========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.popover')\n      var options = typeof option == 'object' && option\n\n      if (!data && /destroy|hide/.test(option)) return\n      if (!data) $this.data('bs.popover', (data = new Popover(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.popover\n\n  $.fn.popover             = Plugin\n  $.fn.popover.Constructor = Popover\n\n\n  // POPOVER NO CONFLICT\n  // ===================\n\n  $.fn.popover.noConflict = function () {\n    $.fn.popover = old\n    return this\n  }\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: scrollspy.js v3.3.4\n * http://getbootstrap.com/javascript/#scrollspy\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // SCROLLSPY CLASS DEFINITION\n  // ==========================\n\n  function ScrollSpy(element, options) {\n    this.$body          = $(document.body)\n    this.$scrollElement = $(element).is(document.body) ? $(window) : $(element)\n    this.options        = $.extend({}, ScrollSpy.DEFAULTS, options)\n    this.selector       = (this.options.target || '') + ' .nav li > a'\n    this.offsets        = []\n    this.targets        = []\n    this.activeTarget   = null\n    this.scrollHeight   = 0\n\n    this.$scrollElement.on('scroll.bs.scrollspy', $.proxy(this.process, this))\n    this.refresh()\n    this.process()\n  }\n\n  ScrollSpy.VERSION  = '3.3.4'\n\n  ScrollSpy.DEFAULTS = {\n    offset: 10\n  }\n\n  ScrollSpy.prototype.getScrollHeight = function () {\n    return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)\n  }\n\n  ScrollSpy.prototype.refresh = function () {\n    var that          = this\n    var offsetMethod  = 'offset'\n    var offsetBase    = 0\n\n    this.offsets      = []\n    this.targets      = []\n    this.scrollHeight = this.getScrollHeight()\n\n    if (!$.isWindow(this.$scrollElement[0])) {\n      offsetMethod = 'position'\n      offsetBase   = this.$scrollElement.scrollTop()\n    }\n\n    this.$body\n      .find(this.selector)\n      .map(function () {\n        var $el   = $(this)\n        var href  = $el.data('target') || $el.attr('href')\n        var $href = /^#./.test(href) && $(href)\n\n        return ($href\n          && $href.length\n          && $href.is(':visible')\n          && [[$href[offsetMethod]().top + offsetBase, href]]) || null\n      })\n      .sort(function (a, b) { return a[0] - b[0] })\n      .each(function () {\n        that.offsets.push(this[0])\n        that.targets.push(this[1])\n      })\n  }\n\n  ScrollSpy.prototype.process = function () {\n    var scrollTop    = this.$scrollElement.scrollTop() + this.options.offset\n    var scrollHeight = this.getScrollHeight()\n    var maxScroll    = this.options.offset + scrollHeight - this.$scrollElement.height()\n    var offsets      = this.offsets\n    var targets      = this.targets\n    var activeTarget = this.activeTarget\n    var i\n\n    if (this.scrollHeight != scrollHeight) {\n      this.refresh()\n    }\n\n    if (scrollTop >= maxScroll) {\n      return activeTarget != (i = targets[targets.length - 1]) && this.activate(i)\n    }\n\n    if (activeTarget && scrollTop < offsets[0]) {\n      this.activeTarget = null\n      return this.clear()\n    }\n\n    for (i = offsets.length; i--;) {\n      activeTarget != targets[i]\n        && scrollTop >= offsets[i]\n        && (offsets[i + 1] === undefined || scrollTop < offsets[i + 1])\n        && this.activate(targets[i])\n    }\n  }\n\n  ScrollSpy.prototype.activate = function (target) {\n    this.activeTarget = target\n\n    this.clear()\n\n    var selector = this.selector +\n      '[data-target=\"' + target + '\"],' +\n      this.selector + '[href=\"' + target + '\"]'\n\n    var active = $(selector)\n      .parents('li')\n      .addClass('active')\n\n    if (active.parent('.dropdown-menu').length) {\n      active = active\n        .closest('li.dropdown')\n        .addClass('active')\n    }\n\n    active.trigger('activate.bs.scrollspy')\n  }\n\n  ScrollSpy.prototype.clear = function () {\n    $(this.selector)\n      .parentsUntil(this.options.target, '.active')\n      .removeClass('active')\n  }\n\n\n  // SCROLLSPY PLUGIN DEFINITION\n  // ===========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.scrollspy')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.scrollspy', (data = new ScrollSpy(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.scrollspy\n\n  $.fn.scrollspy             = Plugin\n  $.fn.scrollspy.Constructor = ScrollSpy\n\n\n  // SCROLLSPY NO CONFLICT\n  // =====================\n\n  $.fn.scrollspy.noConflict = function () {\n    $.fn.scrollspy = old\n    return this\n  }\n\n\n  // SCROLLSPY DATA-API\n  // ==================\n\n  $(window).on('load.bs.scrollspy.data-api', function () {\n    $('[data-spy=\"scroll\"]').each(function () {\n      var $spy = $(this)\n      Plugin.call($spy, $spy.data())\n    })\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: tab.js v3.3.4\n * http://getbootstrap.com/javascript/#tabs\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // TAB CLASS DEFINITION\n  // ====================\n\n  var Tab = function (element) {\n    this.element = $(element)\n  }\n\n  Tab.VERSION = '3.3.4'\n\n  Tab.TRANSITION_DURATION = 150\n\n  Tab.prototype.show = function () {\n    var $this    = this.element\n    var $ul      = $this.closest('ul:not(.dropdown-menu)')\n    var selector = $this.data('target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    if ($this.parent('li').hasClass('active')) return\n\n    var $previous = $ul.find('.active:last a')\n    var hideEvent = $.Event('hide.bs.tab', {\n      relatedTarget: $this[0]\n    })\n    var showEvent = $.Event('show.bs.tab', {\n      relatedTarget: $previous[0]\n    })\n\n    $previous.trigger(hideEvent)\n    $this.trigger(showEvent)\n\n    if (showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented()) return\n\n    var $target = $(selector)\n\n    this.activate($this.closest('li'), $ul)\n    this.activate($target, $target.parent(), function () {\n      $previous.trigger({\n        type: 'hidden.bs.tab',\n        relatedTarget: $this[0]\n      })\n      $this.trigger({\n        type: 'shown.bs.tab',\n        relatedTarget: $previous[0]\n      })\n    })\n  }\n\n  Tab.prototype.activate = function (element, container, callback) {\n    var $active    = container.find('> .active')\n    var transition = callback\n      && $.support.transition\n      && (($active.length && $active.hasClass('fade')) || !!container.find('> .fade').length)\n\n    function next() {\n      $active\n        .removeClass('active')\n        .find('> .dropdown-menu > .active')\n          .removeClass('active')\n        .end()\n        .find('[data-toggle=\"tab\"]')\n          .attr('aria-expanded', false)\n\n      element\n        .addClass('active')\n        .find('[data-toggle=\"tab\"]')\n          .attr('aria-expanded', true)\n\n      if (transition) {\n        element[0].offsetWidth // reflow for transition\n        element.addClass('in')\n      } else {\n        element.removeClass('fade')\n      }\n\n      if (element.parent('.dropdown-menu').length) {\n        element\n          .closest('li.dropdown')\n            .addClass('active')\n          .end()\n          .find('[data-toggle=\"tab\"]')\n            .attr('aria-expanded', true)\n      }\n\n      callback && callback()\n    }\n\n    $active.length && transition ?\n      $active\n        .one('bsTransitionEnd', next)\n        .emulateTransitionEnd(Tab.TRANSITION_DURATION) :\n      next()\n\n    $active.removeClass('in')\n  }\n\n\n  // TAB PLUGIN DEFINITION\n  // =====================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.tab')\n\n      if (!data) $this.data('bs.tab', (data = new Tab(this)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.tab\n\n  $.fn.tab             = Plugin\n  $.fn.tab.Constructor = Tab\n\n\n  // TAB NO CONFLICT\n  // ===============\n\n  $.fn.tab.noConflict = function () {\n    $.fn.tab = old\n    return this\n  }\n\n\n  // TAB DATA-API\n  // ============\n\n  var clickHandler = function (e) {\n    e.preventDefault()\n    Plugin.call($(this), 'show')\n  }\n\n  $(document)\n    .on('click.bs.tab.data-api', '[data-toggle=\"tab\"]', clickHandler)\n    .on('click.bs.tab.data-api', '[data-toggle=\"pill\"]', clickHandler)\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: affix.js v3.3.4\n * http://getbootstrap.com/javascript/#affix\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // AFFIX CLASS DEFINITION\n  // ======================\n\n  var Affix = function (element, options) {\n    this.options = $.extend({}, Affix.DEFAULTS, options)\n\n    this.$target = $(this.options.target)\n      .on('scroll.bs.affix.data-api', $.proxy(this.checkPosition, this))\n      .on('click.bs.affix.data-api',  $.proxy(this.checkPositionWithEventLoop, this))\n\n    this.$element     = $(element)\n    this.affixed      = null\n    this.unpin        = null\n    this.pinnedOffset = null\n\n    this.checkPosition()\n  }\n\n  Affix.VERSION  = '3.3.4'\n\n  Affix.RESET    = 'affix affix-top affix-bottom'\n\n  Affix.DEFAULTS = {\n    offset: 0,\n    target: window\n  }\n\n  Affix.prototype.getState = function (scrollHeight, height, offsetTop, offsetBottom) {\n    var scrollTop    = this.$target.scrollTop()\n    var position     = this.$element.offset()\n    var targetHeight = this.$target.height()\n\n    if (offsetTop != null && this.affixed == 'top') return scrollTop < offsetTop ? 'top' : false\n\n    if (this.affixed == 'bottom') {\n      if (offsetTop != null) return (scrollTop + this.unpin <= position.top) ? false : 'bottom'\n      return (scrollTop + targetHeight <= scrollHeight - offsetBottom) ? false : 'bottom'\n    }\n\n    var initializing   = this.affixed == null\n    var colliderTop    = initializing ? scrollTop : position.top\n    var colliderHeight = initializing ? targetHeight : height\n\n    if (offsetTop != null && scrollTop <= offsetTop) return 'top'\n    if (offsetBottom != null && (colliderTop + colliderHeight >= scrollHeight - offsetBottom)) return 'bottom'\n\n    return false\n  }\n\n  Affix.prototype.getPinnedOffset = function () {\n    if (this.pinnedOffset) return this.pinnedOffset\n    this.$element.removeClass(Affix.RESET).addClass('affix')\n    var scrollTop = this.$target.scrollTop()\n    var position  = this.$element.offset()\n    return (this.pinnedOffset = position.top - scrollTop)\n  }\n\n  Affix.prototype.checkPositionWithEventLoop = function () {\n    setTimeout($.proxy(this.checkPosition, this), 1)\n  }\n\n  Affix.prototype.checkPosition = function () {\n    if (!this.$element.is(':visible')) return\n\n    var height       = this.$element.height()\n    var offset       = this.options.offset\n    var offsetTop    = offset.top\n    var offsetBottom = offset.bottom\n    var scrollHeight = $(document.body).height()\n\n    if (typeof offset != 'object')         offsetBottom = offsetTop = offset\n    if (typeof offsetTop == 'function')    offsetTop    = offset.top(this.$element)\n    if (typeof offsetBottom == 'function') offsetBottom = offset.bottom(this.$element)\n\n    var affix = this.getState(scrollHeight, height, offsetTop, offsetBottom)\n\n    if (this.affixed != affix) {\n      if (this.unpin != null) this.$element.css('top', '')\n\n      var affixType = 'affix' + (affix ? '-' + affix : '')\n      var e         = $.Event(affixType + '.bs.affix')\n\n      this.$element.trigger(e)\n\n      if (e.isDefaultPrevented()) return\n\n      this.affixed = affix\n      this.unpin = affix == 'bottom' ? this.getPinnedOffset() : null\n\n      this.$element\n        .removeClass(Affix.RESET)\n        .addClass(affixType)\n        .trigger(affixType.replace('affix', 'affixed') + '.bs.affix')\n    }\n\n    if (affix == 'bottom') {\n      this.$element.offset({\n        top: scrollHeight - height - offsetBottom\n      })\n    }\n  }\n\n\n  // AFFIX PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.affix')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.affix', (data = new Affix(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.affix\n\n  $.fn.affix             = Plugin\n  $.fn.affix.Constructor = Affix\n\n\n  // AFFIX NO CONFLICT\n  // =================\n\n  $.fn.affix.noConflict = function () {\n    $.fn.affix = old\n    return this\n  }\n\n\n  // AFFIX DATA-API\n  // ==============\n\n  $(window).on('load', function () {\n    $('[data-spy=\"affix\"]').each(function () {\n      var $spy = $(this)\n      var data = $spy.data()\n\n      data.offset = data.offset || {}\n\n      if (data.offsetBottom != null) data.offset.bottom = data.offsetBottom\n      if (data.offsetTop    != null) data.offset.top    = data.offsetTop\n\n      Plugin.call($spy, data)\n    })\n  })\n\n}(jQuery);\n\n// Snap.svg 0.3.0\n// \n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// \n// build: 2014-06-03\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// ┌────────────────────────────────────────────────────────────┐ \\\\\n// │ Eve 0.4.2 - JavaScript Events Library                      │ \\\\\n// ├────────────────────────────────────────────────────────────┤ \\\\\n// │ Author Dmitry Baranovskiy (http://dmitry.baranovskiy.com/) │ \\\\\n// └────────────────────────────────────────────────────────────┘ \\\\\n\n(function (glob) {\n    var version = \"0.4.2\",\n        has = \"hasOwnProperty\",\n        separator = /[\\.\\/]/,\n        comaseparator = /\\s*,\\s*/,\n        wildcard = \"*\",\n        fun = function () {},\n        numsort = function (a, b) {\n            return a - b;\n        },\n        current_event,\n        stop,\n        events = {n: {}},\n        firstDefined = function () {\n            for (var i = 0, ii = this.length; i < ii; i++) {\n                if (typeof this[i] != \"undefined\") {\n                    return this[i];\n                }\n            }\n        },\n        lastDefined = function () {\n            var i = this.length;\n            while (--i) {\n                if (typeof this[i] != \"undefined\") {\n                    return this[i];\n                }\n            }\n        },\n    /*\\\n     * eve\n     [ method ]\n\n     * Fires event with given `name`, given scope and other parameters.\n\n     > Arguments\n\n     - name (string) name of the *event*, dot (`.`) or slash (`/`) separated\n     - scope (object) context for the event handlers\n     - varargs (...) the rest of arguments will be sent to event handlers\n\n     = (object) array of returned values from the listeners. Array has two methods `.firstDefined()` and `.lastDefined()` to get first or last not `undefined` value.\n    \\*/\n        eve = function (name, scope) {\n            name = String(name);\n            var e = events,\n                oldstop = stop,\n                args = Array.prototype.slice.call(arguments, 2),\n                listeners = eve.listeners(name),\n                z = 0,\n                f = false,\n                l,\n                indexed = [],\n                queue = {},\n                out = [],\n                ce = current_event,\n                errors = [];\n            out.firstDefined = firstDefined;\n            out.lastDefined = lastDefined;\n            current_event = name;\n            stop = 0;\n            for (var i = 0, ii = listeners.length; i < ii; i++) if (\"zIndex\" in listeners[i]) {\n                indexed.push(listeners[i].zIndex);\n                if (listeners[i].zIndex < 0) {\n                    queue[listeners[i].zIndex] = listeners[i];\n                }\n            }\n            indexed.sort(numsort);\n            while (indexed[z] < 0) {\n                l = queue[indexed[z++]];\n                out.push(l.apply(scope, args));\n                if (stop) {\n                    stop = oldstop;\n                    return out;\n                }\n            }\n            for (i = 0; i < ii; i++) {\n                l = listeners[i];\n                if (\"zIndex\" in l) {\n                    if (l.zIndex == indexed[z]) {\n                        out.push(l.apply(scope, args));\n                        if (stop) {\n                            break;\n                        }\n                        do {\n                            z++;\n                            l = queue[indexed[z]];\n                            l && out.push(l.apply(scope, args));\n                            if (stop) {\n                                break;\n                            }\n                        } while (l)\n                    } else {\n                        queue[l.zIndex] = l;\n                    }\n                } else {\n                    out.push(l.apply(scope, args));\n                    if (stop) {\n                        break;\n                    }\n                }\n            }\n            stop = oldstop;\n            current_event = ce;\n            return out;\n        };\n        // Undocumented. Debug only.\n        eve._events = events;\n    /*\\\n     * eve.listeners\n     [ method ]\n\n     * Internal method which gives you array of all event handlers that will be triggered by the given `name`.\n\n     > Arguments\n\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated\n\n     = (array) array of event handlers\n    \\*/\n    eve.listeners = function (name) {\n        var names = name.split(separator),\n            e = events,\n            item,\n            items,\n            k,\n            i,\n            ii,\n            j,\n            jj,\n            nes,\n            es = [e],\n            out = [];\n        for (i = 0, ii = names.length; i < ii; i++) {\n            nes = [];\n            for (j = 0, jj = es.length; j < jj; j++) {\n                e = es[j].n;\n                items = [e[names[i]], e[wildcard]];\n                k = 2;\n                while (k--) {\n                    item = items[k];\n                    if (item) {\n                        nes.push(item);\n                        out = out.concat(item.f || []);\n                    }\n                }\n            }\n            es = nes;\n        }\n        return out;\n    };\n    \n    /*\\\n     * eve.on\n     [ method ]\n     **\n     * Binds given event handler with a given name. You can use wildcards “`*`” for the names:\n     | eve.on(\"*.under.*\", f);\n     | eve(\"mouse.under.floor\"); // triggers f\n     * Use @eve to trigger the listener.\n     **\n     > Arguments\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n     **\n     = (function) returned function accepts a single numeric parameter that represents z-index of the handler. It is an optional feature and only used when you need to ensure that some subset of handlers will be invoked in a given order, despite of the order of assignment. \n     > Example:\n     | eve.on(\"mouse\", eatIt)(2);\n     | eve.on(\"mouse\", scream);\n     | eve.on(\"mouse\", catchIt)(1);\n     * This will ensure that `catchIt` function will be called before `eatIt`.\n     *\n     * If you want to put your handler before non-indexed handlers, specify a negative value.\n     * Note: I assume most of the time you don’t need to worry about z-index, but it’s nice to have this feature “just in case”.\n    \\*/\n    eve.on = function (name, f) {\n        name = String(name);\n        if (typeof f != \"function\") {\n            return function () {};\n        }\n        var names = name.split(comaseparator);\n        for (var i = 0, ii = names.length; i < ii; i++) {\n            (function (name) {\n                var names = name.split(separator),\n                    e = events,\n                    exist;\n                for (var i = 0, ii = names.length; i < ii; i++) {\n                    e = e.n;\n                    e = e.hasOwnProperty(names[i]) && e[names[i]] || (e[names[i]] = {n: {}});\n                }\n                e.f = e.f || [];\n                for (i = 0, ii = e.f.length; i < ii; i++) if (e.f[i] == f) {\n                    exist = true;\n                    break;\n                }\n                !exist && e.f.push(f);\n            }(names[i]));\n        }\n        return function (zIndex) {\n            if (+zIndex == +zIndex) {\n                f.zIndex = +zIndex;\n            }\n        };\n    };\n    /*\\\n     * eve.f\n     [ method ]\n     **\n     * Returns function that will fire given event with optional arguments.\n     * Arguments that will be passed to the result function will be also\n     * concated to the list of final arguments.\n     | el.onclick = eve.f(\"click\", 1, 2);\n     | eve.on(\"click\", function (a, b, c) {\n     |     console.log(a, b, c); // 1, 2, [event object]\n     | });\n     > Arguments\n     - event (string) event name\n     - varargs (…) and any other arguments\n     = (function) possible event handler function\n    \\*/\n    eve.f = function (event) {\n        var attrs = [].slice.call(arguments, 1);\n        return function () {\n            eve.apply(null, [event, null].concat(attrs).concat([].slice.call(arguments, 0)));\n        };\n    };\n    /*\\\n     * eve.stop\n     [ method ]\n     **\n     * Is used inside an event handler to stop the event, preventing any subsequent listeners from firing.\n    \\*/\n    eve.stop = function () {\n        stop = 1;\n    };\n    /*\\\n     * eve.nt\n     [ method ]\n     **\n     * Could be used inside event handler to figure out actual name of the event.\n     **\n     > Arguments\n     **\n     - subname (string) #optional subname of the event\n     **\n     = (string) name of the event, if `subname` is not specified\n     * or\n     = (boolean) `true`, if current event’s name contains `subname`\n    \\*/\n    eve.nt = function (subname) {\n        if (subname) {\n            return new RegExp(\"(?:\\\\.|\\\\/|^)\" + subname + \"(?:\\\\.|\\\\/|$)\").test(current_event);\n        }\n        return current_event;\n    };\n    /*\\\n     * eve.nts\n     [ method ]\n     **\n     * Could be used inside event handler to figure out actual name of the event.\n     **\n     **\n     = (array) names of the event\n    \\*/\n    eve.nts = function () {\n        return current_event.split(separator);\n    };\n    /*\\\n     * eve.off\n     [ method ]\n     **\n     * Removes given function from the list of event listeners assigned to given name.\n     * If no arguments specified all the events will be cleared.\n     **\n     > Arguments\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n    \\*/\n    /*\\\n     * eve.unbind\n     [ method ]\n     **\n     * See @eve.off\n    \\*/\n    eve.off = eve.unbind = function (name, f) {\n        if (!name) {\n            eve._events = events = {n: {}};\n            return;\n        }\n        var names = name.split(comaseparator);\n        if (names.length > 1) {\n            for (var i = 0, ii = names.length; i < ii; i++) {\n                eve.off(names[i], f);\n            }\n            return;\n        }\n        names = name.split(separator);\n        var e,\n            key,\n            splice,\n            i, ii, j, jj,\n            cur = [events];\n        for (i = 0, ii = names.length; i < ii; i++) {\n            for (j = 0; j < cur.length; j += splice.length - 2) {\n                splice = [j, 1];\n                e = cur[j].n;\n                if (names[i] != wildcard) {\n                    if (e[names[i]]) {\n                        splice.push(e[names[i]]);\n                    }\n                } else {\n                    for (key in e) if (e[has](key)) {\n                        splice.push(e[key]);\n                    }\n                }\n                cur.splice.apply(cur, splice);\n            }\n        }\n        for (i = 0, ii = cur.length; i < ii; i++) {\n            e = cur[i];\n            while (e.n) {\n                if (f) {\n                    if (e.f) {\n                        for (j = 0, jj = e.f.length; j < jj; j++) if (e.f[j] == f) {\n                            e.f.splice(j, 1);\n                            break;\n                        }\n                        !e.f.length && delete e.f;\n                    }\n                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\n                        var funcs = e.n[key].f;\n                        for (j = 0, jj = funcs.length; j < jj; j++) if (funcs[j] == f) {\n                            funcs.splice(j, 1);\n                            break;\n                        }\n                        !funcs.length && delete e.n[key].f;\n                    }\n                } else {\n                    delete e.f;\n                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\n                        delete e.n[key].f;\n                    }\n                }\n                e = e.n;\n            }\n        }\n    };\n    /*\\\n     * eve.once\n     [ method ]\n     **\n     * Binds given event handler with a given name to only run once then unbind itself.\n     | eve.once(\"login\", f);\n     | eve(\"login\"); // triggers f\n     | eve(\"login\"); // no listeners\n     * Use @eve to trigger the listener.\n     **\n     > Arguments\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n     **\n     = (function) same return function as @eve.on\n    \\*/\n    eve.once = function (name, f) {\n        var f2 = function () {\n            eve.unbind(name, f2);\n            return f.apply(this, arguments);\n        };\n        return eve.on(name, f2);\n    };\n    /*\\\n     * eve.version\n     [ property (string) ]\n     **\n     * Current version of the library.\n    \\*/\n    eve.version = version;\n    eve.toString = function () {\n        return \"You are running Eve \" + version;\n    };\n    (typeof module != \"undefined\" && module.exports) ? (module.exports = eve) : (typeof define === \"function\" && define.amd ? (define(\"eve\", [], function() { return eve; })) : (glob.eve = eve));\n})(this);\n\n(function (glob, factory) {\n    // AMD support\n    if (typeof define === \"function\" && define.amd) {\n        // Define as an anonymous module\n        define([\"eve\"], function( eve ) {\n            return factory(glob, eve);\n        });\n    } else {\n        // Browser globals (glob is window)\n        // Snap adds itself to window\n        factory(glob, glob.eve);\n    }\n}(this, function (window, eve) {\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar mina = (function (eve) {\n    var animations = {},\n    requestAnimFrame = window.requestAnimationFrame       ||\n                       window.webkitRequestAnimationFrame ||\n                       window.mozRequestAnimationFrame    ||\n                       window.oRequestAnimationFrame      ||\n                       window.msRequestAnimationFrame     ||\n                       function (callback) {\n                           setTimeout(callback, 16);\n                       },\n    isArray = Array.isArray || function (a) {\n        return a instanceof Array ||\n            Object.prototype.toString.call(a) == \"[object Array]\";\n    },\n    idgen = 0,\n    idprefix = \"M\" + (+new Date).toString(36),\n    ID = function () {\n        return idprefix + (idgen++).toString(36);\n    },\n    diff = function (a, b, A, B) {\n        if (isArray(a)) {\n            res = [];\n            for (var i = 0, ii = a.length; i < ii; i++) {\n                res[i] = diff(a[i], b, A[i], B);\n            }\n            return res;\n        }\n        var dif = (A - a) / (B - b);\n        return function (bb) {\n            return a + dif * (bb - b);\n        };\n    },\n    timer = Date.now || function () {\n        return +new Date;\n    },\n    sta = function (val) {\n        var a = this;\n        if (val == null) {\n            return a.s;\n        }\n        var ds = a.s - val;\n        a.b += a.dur * ds;\n        a.B += a.dur * ds;\n        a.s = val;\n    },\n    speed = function (val) {\n        var a = this;\n        if (val == null) {\n            return a.spd;\n        }\n        a.spd = val;\n    },\n    duration = function (val) {\n        var a = this;\n        if (val == null) {\n            return a.dur;\n        }\n        a.s = a.s * val / a.dur;\n        a.dur = val;\n    },\n    stopit = function () {\n        var a = this;\n        delete animations[a.id];\n        a.update();\n        eve(\"mina.stop.\" + a.id, a);\n    },\n    pause = function () {\n        var a = this;\n        if (a.pdif) {\n            return;\n        }\n        delete animations[a.id];\n        a.update();\n        a.pdif = a.get() - a.b;\n    },\n    resume = function () {\n        var a = this;\n        if (!a.pdif) {\n            return;\n        }\n        a.b = a.get() - a.pdif;\n        delete a.pdif;\n        animations[a.id] = a;\n    },\n    update = function () {\n        var a = this,\n            res;\n        if (isArray(a.start)) {\n            res = [];\n            for (var j = 0, jj = a.start.length; j < jj; j++) {\n                res[j] = +a.start[j] +\n                    (a.end[j] - a.start[j]) * a.easing(a.s);\n            }\n        } else {\n            res = +a.start + (a.end - a.start) * a.easing(a.s);\n        }\n        a.set(res);\n    },\n    frame = function () {\n        var len = 0;\n        for (var i in animations) if (animations.hasOwnProperty(i)) {\n            var a = animations[i],\n                b = a.get(),\n                res;\n            len++;\n            a.s = (b - a.b) / (a.dur / a.spd);\n            if (a.s >= 1) {\n                delete animations[i];\n                a.s = 1;\n                len--;\n                (function (a) {\n                    setTimeout(function () {\n                        eve(\"mina.finish.\" + a.id, a);\n                    });\n                }(a));\n            }\n            a.update();\n        }\n        len && requestAnimFrame(frame);\n    },\n    /*\\\n     * mina\n     [ method ]\n     **\n     * Generic animation of numbers\n     **\n     - a (number) start _slave_ number\n     - A (number) end _slave_ number\n     - b (number) start _master_ number (start time in general case)\n     - B (number) end _master_ number (end time in gereal case)\n     - get (function) getter of _master_ number (see @mina.time)\n     - set (function) setter of _slave_ number\n     - easing (function) #optional easing function, default is @mina.linear\n     = (object) animation descriptor\n     o {\n     o         id (string) animation id,\n     o         start (number) start _slave_ number,\n     o         end (number) end _slave_ number,\n     o         b (number) start _master_ number,\n     o         s (number) animation status (0..1),\n     o         dur (number) animation duration,\n     o         spd (number) animation speed,\n     o         get (function) getter of _master_ number (see @mina.time),\n     o         set (function) setter of _slave_ number,\n     o         easing (function) easing function, default is @mina.linear,\n     o         status (function) status getter/setter,\n     o         speed (function) speed getter/setter,\n     o         duration (function) duration getter/setter,\n     o         stop (function) animation stopper\n     o         pause (function) pauses the animation\n     o         resume (function) resumes the animation\n     o         update (function) calles setter with the right value of the animation\n     o }\n    \\*/\n    mina = function (a, A, b, B, get, set, easing) {\n        var anim = {\n            id: ID(),\n            start: a,\n            end: A,\n            b: b,\n            s: 0,\n            dur: B - b,\n            spd: 1,\n            get: get,\n            set: set,\n            easing: easing || mina.linear,\n            status: sta,\n            speed: speed,\n            duration: duration,\n            stop: stopit,\n            pause: pause,\n            resume: resume,\n            update: update\n        };\n        animations[anim.id] = anim;\n        var len = 0, i;\n        for (i in animations) if (animations.hasOwnProperty(i)) {\n            len++;\n            if (len == 2) {\n                break;\n            }\n        }\n        len == 1 && requestAnimFrame(frame);\n        return anim;\n    };\n    /*\\\n     * mina.time\n     [ method ]\n     **\n     * Returns the current time. Equivalent to:\n     | function () {\n     |     return (new Date).getTime();\n     | }\n    \\*/\n    mina.time = timer;\n    /*\\\n     * mina.getById\n     [ method ]\n     **\n     * Returns an animation by its id\n     - id (string) animation's id\n     = (object) See @mina\n    \\*/\n    mina.getById = function (id) {\n        return animations[id] || null;\n    };\n\n    /*\\\n     * mina.linear\n     [ method ]\n     **\n     * Default linear easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.linear = function (n) {\n        return n;\n    };\n    /*\\\n     * mina.easeout\n     [ method ]\n     **\n     * Easeout easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.easeout = function (n) {\n        return Math.pow(n, 1.7);\n    };\n    /*\\\n     * mina.easein\n     [ method ]\n     **\n     * Easein easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.easein = function (n) {\n        return Math.pow(n, .48);\n    };\n    /*\\\n     * mina.easeinout\n     [ method ]\n     **\n     * Easeinout easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.easeinout = function (n) {\n        if (n == 1) {\n            return 1;\n        }\n        if (n == 0) {\n            return 0;\n        }\n        var q = .48 - n / 1.04,\n            Q = Math.sqrt(.1734 + q * q),\n            x = Q - q,\n            X = Math.pow(Math.abs(x), 1 / 3) * (x < 0 ? -1 : 1),\n            y = -Q - q,\n            Y = Math.pow(Math.abs(y), 1 / 3) * (y < 0 ? -1 : 1),\n            t = X + Y + .5;\n        return (1 - t) * 3 * t * t + t * t * t;\n    };\n    /*\\\n     * mina.backin\n     [ method ]\n     **\n     * Backin easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.backin = function (n) {\n        if (n == 1) {\n            return 1;\n        }\n        var s = 1.70158;\n        return n * n * ((s + 1) * n - s);\n    };\n    /*\\\n     * mina.backout\n     [ method ]\n     **\n     * Backout easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.backout = function (n) {\n        if (n == 0) {\n            return 0;\n        }\n        n = n - 1;\n        var s = 1.70158;\n        return n * n * ((s + 1) * n + s) + 1;\n    };\n    /*\\\n     * mina.elastic\n     [ method ]\n     **\n     * Elastic easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.elastic = function (n) {\n        if (n == !!n) {\n            return n;\n        }\n        return Math.pow(2, -10 * n) * Math.sin((n - .075) *\n            (2 * Math.PI) / .3) + 1;\n    };\n    /*\\\n     * mina.bounce\n     [ method ]\n     **\n     * Bounce easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.bounce = function (n) {\n        var s = 7.5625,\n            p = 2.75,\n            l;\n        if (n < (1 / p)) {\n            l = s * n * n;\n        } else {\n            if (n < (2 / p)) {\n                n -= (1.5 / p);\n                l = s * n * n + .75;\n            } else {\n                if (n < (2.5 / p)) {\n                    n -= (2.25 / p);\n                    l = s * n * n + .9375;\n                } else {\n                    n -= (2.625 / p);\n                    l = s * n * n + .984375;\n                }\n            }\n        }\n        return l;\n    };\n    window.mina = mina;\n    return mina;\n})(typeof eve == \"undefined\" ? function () {} : eve);\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nvar Snap = (function() {\nSnap.version = \"0.3.0\";\n/*\\\n * Snap\n [ method ]\n **\n * Creates a drawing surface or wraps existing SVG element.\n **\n - width (number|string) width of surface\n - height (number|string) height of surface\n * or\n - DOM (SVGElement) element to be wrapped into Snap structure\n * or\n - array (array) array of elements (will return set of elements)\n * or\n - query (string) CSS query selector\n = (object) @Element\n\\*/\nfunction Snap(w, h) {\n    if (w) {\n        if (w.tagName) {\n            return wrap(w);\n        }\n        if (is(w, \"array\") && Snap.set) {\n            return Snap.set.apply(Snap, w);\n        }\n        if (w instanceof Element) {\n            return w;\n        }\n        if (h == null) {\n            w = glob.doc.querySelector(w);\n            return wrap(w);\n        }\n    }\n    w = w == null ? \"100%\" : w;\n    h = h == null ? \"100%\" : h;\n    return new Paper(w, h);\n}\nSnap.toString = function () {\n    return \"Snap v\" + this.version;\n};\nSnap._ = {};\nvar glob = {\n    win: window,\n    doc: window.document\n};\nSnap._.glob = glob;\nvar has = \"hasOwnProperty\",\n    Str = String,\n    toFloat = parseFloat,\n    toInt = parseInt,\n    math = Math,\n    mmax = math.max,\n    mmin = math.min,\n    abs = math.abs,\n    pow = math.pow,\n    PI = math.PI,\n    round = math.round,\n    E = \"\",\n    S = \" \",\n    objectToString = Object.prototype.toString,\n    ISURL = /^url\\(['\"]?([^\\)]+?)['\"]?\\)$/i,\n    colourRegExp = /^\\s*((#[a-f\\d]{6})|(#[a-f\\d]{3})|rgba?\\(\\s*([\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?(?:\\s*,\\s*[\\d\\.]+%?)?)\\s*\\)|hsba?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?%?)\\s*\\)|hsla?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?%?)\\s*\\))\\s*$/i,\n    bezierrg = /^(?:cubic-)?bezier\\(([^,]+),([^,]+),([^,]+),([^\\)]+)\\)/,\n    reURLValue = /^url\\(#?([^)]+)\\)$/,\n    spaces = \"\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029\",\n    separator = Snap._.separator = new RegExp(\"[,\" + spaces + \"]+\"),\n    whitespace = new RegExp(\"[\" + spaces + \"]\", \"g\"),\n    commaSpaces = new RegExp(\"[\" + spaces + \"]*,[\" + spaces + \"]*\"),\n    hsrg = {hs: 1, rg: 1},\n    pathCommand = new RegExp(\"([a-z])[\" + spaces + \",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\" + spaces + \"]*,?[\" + spaces + \"]*)+)\", \"ig\"),\n    tCommand = new RegExp(\"([rstm])[\" + spaces + \",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\" + spaces + \"]*,?[\" + spaces + \"]*)+)\", \"ig\"),\n    pathValues = new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\" + spaces + \"]*,?[\" + spaces + \"]*\", \"ig\"),\n    idgen = 0,\n    idprefix = \"S\" + (+new Date).toString(36),\n    ID = function () {\n        return idprefix + (idgen++).toString(36);\n    },\n    xlink = \"http://www.w3.org/1999/xlink\",\n    xmlns = \"http://www.w3.org/2000/svg\",\n    hub = {},\n    URL = Snap.url = function (url) {\n        return \"url('#\" + url + \"')\";\n    };\n\nfunction $(el, attr) {\n    if (attr) {\n        if (el == \"#text\") {\n            el = glob.doc.createTextNode(attr.text || \"\");\n        }\n        if (typeof el == \"string\") {\n            el = $(el);\n        }\n        if (typeof attr == \"string\") {\n            if (attr.substring(0, 6) == \"xlink:\") {\n                return el.getAttributeNS(xlink, attr.substring(6));\n            }\n            if (attr.substring(0, 4) == \"xml:\") {\n                return el.getAttributeNS(xmlns, attr.substring(4));\n            }\n            return el.getAttribute(attr);\n        }\n        for (var key in attr) if (attr[has](key)) {\n            var val = Str(attr[key]);\n            if (val) {\n                if (key.substring(0, 6) == \"xlink:\") {\n                    el.setAttributeNS(xlink, key.substring(6), val);\n                } else if (key.substring(0, 4) == \"xml:\") {\n                    el.setAttributeNS(xmlns, key.substring(4), val);\n                } else {\n                    el.setAttribute(key, val);\n                }\n            } else {\n                el.removeAttribute(key);\n            }\n        }\n    } else {\n        el = glob.doc.createElementNS(xmlns, el);\n        // el.style && (el.style.webkitTapHighlightColor = \"rgba(0,0,0,0)\");\n    }\n    return el;\n}\nSnap._.$ = $;\nSnap._.id = ID;\nfunction getAttrs(el) {\n    var attrs = el.attributes,\n        name,\n        out = {};\n    for (var i = 0; i < attrs.length; i++) {\n        if (attrs[i].namespaceURI == xlink) {\n            name = \"xlink:\";\n        } else {\n            name = \"\";\n        }\n        name += attrs[i].name;\n        out[name] = attrs[i].textContent;\n    }\n    return out;\n}\nfunction is(o, type) {\n    type = Str.prototype.toLowerCase.call(type);\n    if (type == \"finite\") {\n        return isFinite(o);\n    }\n    if (type == \"array\" &&\n        (o instanceof Array || Array.isArray && Array.isArray(o))) {\n        return true;\n    }\n    return  (type == \"null\" && o === null) ||\n            (type == typeof o && o !== null) ||\n            (type == \"object\" && o === Object(o)) ||\n            objectToString.call(o).slice(8, -1).toLowerCase() == type;\n}\n/*\\\n * Snap.format\n [ method ]\n **\n * Replaces construction of type `{<name>}` to the corresponding argument\n **\n - token (string) string to format\n - json (object) object which properties are used as a replacement\n = (string) formatted string\n > Usage\n | // this draws a rectangular shape equivalent to \"M10,20h40v50h-40z\"\n | paper.path(Snap.format(\"M{x},{y}h{dim.width}v{dim.height}h{dim['negative width']}z\", {\n |     x: 10,\n |     y: 20,\n |     dim: {\n |         width: 40,\n |         height: 50,\n |         \"negative width\": -40\n |     }\n | }));\n\\*/\nSnap.format = (function () {\n    var tokenRegex = /\\{([^\\}]+)\\}/g,\n        objNotationRegex = /(?:(?:^|\\.)(.+?)(?=\\[|\\.|$|\\()|\\[('|\")(.+?)\\2\\])(\\(\\))?/g, // matches .xxxxx or [\"xxxxx\"] to run over object properties\n        replacer = function (all, key, obj) {\n            var res = obj;\n            key.replace(objNotationRegex, function (all, name, quote, quotedName, isFunc) {\n                name = name || quotedName;\n                if (res) {\n                    if (name in res) {\n                        res = res[name];\n                    }\n                    typeof res == \"function\" && isFunc && (res = res());\n                }\n            });\n            res = (res == null || res == obj ? all : res) + \"\";\n            return res;\n        };\n    return function (str, obj) {\n        return Str(str).replace(tokenRegex, function (all, key) {\n            return replacer(all, key, obj);\n        });\n    };\n})();\nfunction clone(obj) {\n    if (typeof obj == \"function\" || Object(obj) !== obj) {\n        return obj;\n    }\n    var res = new obj.constructor;\n    for (var key in obj) if (obj[has](key)) {\n        res[key] = clone(obj[key]);\n    }\n    return res;\n}\nSnap._.clone = clone;\nfunction repush(array, item) {\n    for (var i = 0, ii = array.length; i < ii; i++) if (array[i] === item) {\n        return array.push(array.splice(i, 1)[0]);\n    }\n}\nfunction cacher(f, scope, postprocessor) {\n    function newf() {\n        var arg = Array.prototype.slice.call(arguments, 0),\n            args = arg.join(\"\\u2400\"),\n            cache = newf.cache = newf.cache || {},\n            count = newf.count = newf.count || [];\n        if (cache[has](args)) {\n            repush(count, args);\n            return postprocessor ? postprocessor(cache[args]) : cache[args];\n        }\n        count.length >= 1e3 && delete cache[count.shift()];\n        count.push(args);\n        cache[args] = f.apply(scope, arg);\n        return postprocessor ? postprocessor(cache[args]) : cache[args];\n    }\n    return newf;\n}\nSnap._.cacher = cacher;\nfunction angle(x1, y1, x2, y2, x3, y3) {\n    if (x3 == null) {\n        var x = x1 - x2,\n            y = y1 - y2;\n        if (!x && !y) {\n            return 0;\n        }\n        return (180 + math.atan2(-y, -x) * 180 / PI + 360) % 360;\n    } else {\n        return angle(x1, y1, x3, y3) - angle(x2, y2, x3, y3);\n    }\n}\nfunction rad(deg) {\n    return deg % 360 * PI / 180;\n}\nfunction deg(rad) {\n    return rad * 180 / PI % 360;\n}\nfunction x_y() {\n    return this.x + S + this.y;\n}\nfunction x_y_w_h() {\n    return this.x + S + this.y + S + this.width + \" \\xd7 \" + this.height;\n}\n\n/*\\\n * Snap.rad\n [ method ]\n **\n * Transform angle to radians\n - deg (number) angle in degrees\n = (number) angle in radians\n\\*/\nSnap.rad = rad;\n/*\\\n * Snap.deg\n [ method ]\n **\n * Transform angle to degrees\n - rad (number) angle in radians\n = (number) angle in degrees\n\\*/\nSnap.deg = deg;\n/*\\\n * Snap.angle\n [ method ]\n **\n * Returns an angle between two or three points\n > Parameters\n - x1 (number) x coord of first point\n - y1 (number) y coord of first point\n - x2 (number) x coord of second point\n - y2 (number) y coord of second point\n - x3 (number) #optional x coord of third point\n - y3 (number) #optional y coord of third point\n = (number) angle in degrees\n\\*/\nSnap.angle = angle;\n/*\\\n * Snap.is\n [ method ]\n **\n * Handy replacement for the `typeof` operator\n - o (…) any object or primitive\n - type (string) name of the type, e.g., `string`, `function`, `number`, etc.\n = (boolean) `true` if given value is of given type\n\\*/\nSnap.is = is;\n/*\\\n * Snap.snapTo\n [ method ]\n **\n * Snaps given value to given grid\n - values (array|number) given array of values or step of the grid\n - value (number) value to adjust\n - tolerance (number) #optional maximum distance to the target value that would trigger the snap. Default is `10`.\n = (number) adjusted value\n\\*/\nSnap.snapTo = function (values, value, tolerance) {\n    tolerance = is(tolerance, \"finite\") ? tolerance : 10;\n    if (is(values, \"array\")) {\n        var i = values.length;\n        while (i--) if (abs(values[i] - value) <= tolerance) {\n            return values[i];\n        }\n    } else {\n        values = +values;\n        var rem = value % values;\n        if (rem < tolerance) {\n            return value - rem;\n        }\n        if (rem > values - tolerance) {\n            return value - rem + values;\n        }\n    }\n    return value;\n};\n// Colour\n/*\\\n * Snap.getRGB\n [ method ]\n **\n * Parses color string as RGB object\n - color (string) color string in one of the following formats:\n # <ul>\n #     <li>Color name (<code>red</code>, <code>green</code>, <code>cornflowerblue</code>, etc)</li>\n #     <li>#••• — shortened HTML color: (<code>#000</code>, <code>#fc0</code>, etc.)</li>\n #     <li>#•••••• — full length HTML color: (<code>#000000</code>, <code>#bd2300</code>)</li>\n #     <li>rgb(•••, •••, •••) — red, green and blue channels values: (<code>rgb(200,&nbsp;100,&nbsp;0)</code>)</li>\n #     <li>rgba(•••, •••, •••, •••) — also with opacity</li>\n #     <li>rgb(•••%, •••%, •••%) — same as above, but in %: (<code>rgb(100%,&nbsp;175%,&nbsp;0%)</code>)</li>\n #     <li>rgba(•••%, •••%, •••%, •••%) — also with opacity</li>\n #     <li>hsb(•••, •••, •••) — hue, saturation and brightness values: (<code>hsb(0.5,&nbsp;0.25,&nbsp;1)</code>)</li>\n #     <li>hsba(•••, •••, •••, •••) — also with opacity</li>\n #     <li>hsb(•••%, •••%, •••%) — same as above, but in %</li>\n #     <li>hsba(•••%, •••%, •••%, •••%) — also with opacity</li>\n #     <li>hsl(•••, •••, •••) — hue, saturation and luminosity values: (<code>hsb(0.5,&nbsp;0.25,&nbsp;0.5)</code>)</li>\n #     <li>hsla(•••, •••, •••, •••) — also with opacity</li>\n #     <li>hsl(•••%, •••%, •••%) — same as above, but in %</li>\n #     <li>hsla(•••%, •••%, •••%, •••%) — also with opacity</li>\n # </ul>\n * Note that `%` can be used any time: `rgb(20%, 255, 50%)`.\n = (object) RGB object in the following format:\n o {\n o     r (number) red,\n o     g (number) green,\n o     b (number) blue,\n o     hex (string) color in HTML/CSS format: #••••••,\n o     error (boolean) true if string can't be parsed\n o }\n\\*/\nSnap.getRGB = cacher(function (colour) {\n    if (!colour || !!((colour = Str(colour)).indexOf(\"-\") + 1)) {\n        return {r: -1, g: -1, b: -1, hex: \"none\", error: 1, toString: rgbtoString};\n    }\n    if (colour == \"none\") {\n        return {r: -1, g: -1, b: -1, hex: \"none\", toString: rgbtoString};\n    }\n    !(hsrg[has](colour.toLowerCase().substring(0, 2)) || colour.charAt() == \"#\") && (colour = toHex(colour));\n    if (!colour) {\n        return {r: -1, g: -1, b: -1, hex: \"none\", error: 1, toString: rgbtoString};\n    }\n    var res,\n        red,\n        green,\n        blue,\n        opacity,\n        t,\n        values,\n        rgb = colour.match(colourRegExp);\n    if (rgb) {\n        if (rgb[2]) {\n            blue = toInt(rgb[2].substring(5), 16);\n            green = toInt(rgb[2].substring(3, 5), 16);\n            red = toInt(rgb[2].substring(1, 3), 16);\n        }\n        if (rgb[3]) {\n            blue = toInt((t = rgb[3].charAt(3)) + t, 16);\n            green = toInt((t = rgb[3].charAt(2)) + t, 16);\n            red = toInt((t = rgb[3].charAt(1)) + t, 16);\n        }\n        if (rgb[4]) {\n            values = rgb[4].split(commaSpaces);\n            red = toFloat(values[0]);\n            values[0].slice(-1) == \"%\" && (red *= 2.55);\n            green = toFloat(values[1]);\n            values[1].slice(-1) == \"%\" && (green *= 2.55);\n            blue = toFloat(values[2]);\n            values[2].slice(-1) == \"%\" && (blue *= 2.55);\n            rgb[1].toLowerCase().slice(0, 4) == \"rgba\" && (opacity = toFloat(values[3]));\n            values[3] && values[3].slice(-1) == \"%\" && (opacity /= 100);\n        }\n        if (rgb[5]) {\n            values = rgb[5].split(commaSpaces);\n            red = toFloat(values[0]);\n            values[0].slice(-1) == \"%\" && (red /= 100);\n            green = toFloat(values[1]);\n            values[1].slice(-1) == \"%\" && (green /= 100);\n            blue = toFloat(values[2]);\n            values[2].slice(-1) == \"%\" && (blue /= 100);\n            (values[0].slice(-3) == \"deg\" || values[0].slice(-1) == \"\\xb0\") && (red /= 360);\n            rgb[1].toLowerCase().slice(0, 4) == \"hsba\" && (opacity = toFloat(values[3]));\n            values[3] && values[3].slice(-1) == \"%\" && (opacity /= 100);\n            return Snap.hsb2rgb(red, green, blue, opacity);\n        }\n        if (rgb[6]) {\n            values = rgb[6].split(commaSpaces);\n            red = toFloat(values[0]);\n            values[0].slice(-1) == \"%\" && (red /= 100);\n            green = toFloat(values[1]);\n            values[1].slice(-1) == \"%\" && (green /= 100);\n            blue = toFloat(values[2]);\n            values[2].slice(-1) == \"%\" && (blue /= 100);\n            (values[0].slice(-3) == \"deg\" || values[0].slice(-1) == \"\\xb0\") && (red /= 360);\n            rgb[1].toLowerCase().slice(0, 4) == \"hsla\" && (opacity = toFloat(values[3]));\n            values[3] && values[3].slice(-1) == \"%\" && (opacity /= 100);\n            return Snap.hsl2rgb(red, green, blue, opacity);\n        }\n        red = mmin(math.round(red), 255);\n        green = mmin(math.round(green), 255);\n        blue = mmin(math.round(blue), 255);\n        opacity = mmin(mmax(opacity, 0), 1);\n        rgb = {r: red, g: green, b: blue, toString: rgbtoString};\n        rgb.hex = \"#\" + (16777216 | blue | (green << 8) | (red << 16)).toString(16).slice(1);\n        rgb.opacity = is(opacity, \"finite\") ? opacity : 1;\n        return rgb;\n    }\n    return {r: -1, g: -1, b: -1, hex: \"none\", error: 1, toString: rgbtoString};\n}, Snap);\n// SIERRA It seems odd that the following 3 conversion methods are not expressed as .this2that(), like the others.\n/*\\\n * Snap.hsb\n [ method ]\n **\n * Converts HSB values to a hex representation of the color\n - h (number) hue\n - s (number) saturation\n - b (number) value or brightness\n = (string) hex representation of the color\n\\*/\nSnap.hsb = cacher(function (h, s, b) {\n    return Snap.hsb2rgb(h, s, b).hex;\n});\n/*\\\n * Snap.hsl\n [ method ]\n **\n * Converts HSL values to a hex representation of the color\n - h (number) hue\n - s (number) saturation\n - l (number) luminosity\n = (string) hex representation of the color\n\\*/\nSnap.hsl = cacher(function (h, s, l) {\n    return Snap.hsl2rgb(h, s, l).hex;\n});\n/*\\\n * Snap.rgb\n [ method ]\n **\n * Converts RGB values to a hex representation of the color\n - r (number) red\n - g (number) green\n - b (number) blue\n = (string) hex representation of the color\n\\*/\nSnap.rgb = cacher(function (r, g, b, o) {\n    if (is(o, \"finite\")) {\n        var round = math.round;\n        return \"rgba(\" + [round(r), round(g), round(b), +o.toFixed(2)] + \")\";\n    }\n    return \"#\" + (16777216 | b | (g << 8) | (r << 16)).toString(16).slice(1);\n});\nvar toHex = function (color) {\n    var i = glob.doc.getElementsByTagName(\"head\")[0] || glob.doc.getElementsByTagName(\"svg\")[0],\n        red = \"rgb(255, 0, 0)\";\n    toHex = cacher(function (color) {\n        if (color.toLowerCase() == \"red\") {\n            return red;\n        }\n        i.style.color = red;\n        i.style.color = color;\n        var out = glob.doc.defaultView.getComputedStyle(i, E).getPropertyValue(\"color\");\n        return out == red ? null : out;\n    });\n    return toHex(color);\n},\nhsbtoString = function () {\n    return \"hsb(\" + [this.h, this.s, this.b] + \")\";\n},\nhsltoString = function () {\n    return \"hsl(\" + [this.h, this.s, this.l] + \")\";\n},\nrgbtoString = function () {\n    return this.opacity == 1 || this.opacity == null ?\n            this.hex :\n            \"rgba(\" + [this.r, this.g, this.b, this.opacity] + \")\";\n},\nprepareRGB = function (r, g, b) {\n    if (g == null && is(r, \"object\") && \"r\" in r && \"g\" in r && \"b\" in r) {\n        b = r.b;\n        g = r.g;\n        r = r.r;\n    }\n    if (g == null && is(r, string)) {\n        var clr = Snap.getRGB(r);\n        r = clr.r;\n        g = clr.g;\n        b = clr.b;\n    }\n    if (r > 1 || g > 1 || b > 1) {\n        r /= 255;\n        g /= 255;\n        b /= 255;\n    }\n    \n    return [r, g, b];\n},\npackageRGB = function (r, g, b, o) {\n    r = math.round(r * 255);\n    g = math.round(g * 255);\n    b = math.round(b * 255);\n    var rgb = {\n        r: r,\n        g: g,\n        b: b,\n        opacity: is(o, \"finite\") ? o : 1,\n        hex: Snap.rgb(r, g, b),\n        toString: rgbtoString\n    };\n    is(o, \"finite\") && (rgb.opacity = o);\n    return rgb;\n};\n// SIERRA Clarify if Snap does not support consolidated HSLA/RGBA colors. E.g., can you specify a semi-transparent value for Snap.filter.shadow()?\n/*\\\n * Snap.color\n [ method ]\n **\n * Parses the color string and returns an object featuring the color's component values\n - clr (string) color string in one of the supported formats (see @Snap.getRGB)\n = (object) Combined RGB/HSB object in the following format:\n o {\n o     r (number) red,\n o     g (number) green,\n o     b (number) blue,\n o     hex (string) color in HTML/CSS format: #••••••,\n o     error (boolean) `true` if string can't be parsed,\n o     h (number) hue,\n o     s (number) saturation,\n o     v (number) value (brightness),\n o     l (number) lightness\n o }\n\\*/\nSnap.color = function (clr) {\n    var rgb;\n    if (is(clr, \"object\") && \"h\" in clr && \"s\" in clr && \"b\" in clr) {\n        rgb = Snap.hsb2rgb(clr);\n        clr.r = rgb.r;\n        clr.g = rgb.g;\n        clr.b = rgb.b;\n        clr.opacity = 1;\n        clr.hex = rgb.hex;\n    } else if (is(clr, \"object\") && \"h\" in clr && \"s\" in clr && \"l\" in clr) {\n        rgb = Snap.hsl2rgb(clr);\n        clr.r = rgb.r;\n        clr.g = rgb.g;\n        clr.b = rgb.b;\n        clr.opacity = 1;\n        clr.hex = rgb.hex;\n    } else {\n        if (is(clr, \"string\")) {\n            clr = Snap.getRGB(clr);\n        }\n        if (is(clr, \"object\") && \"r\" in clr && \"g\" in clr && \"b\" in clr && !(\"error\" in clr)) {\n            rgb = Snap.rgb2hsl(clr);\n            clr.h = rgb.h;\n            clr.s = rgb.s;\n            clr.l = rgb.l;\n            rgb = Snap.rgb2hsb(clr);\n            clr.v = rgb.b;\n        } else {\n            clr = {hex: \"none\"};\n            clr.r = clr.g = clr.b = clr.h = clr.s = clr.v = clr.l = -1;\n            clr.error = 1;\n        }\n    }\n    clr.toString = rgbtoString;\n    return clr;\n};\n/*\\\n * Snap.hsb2rgb\n [ method ]\n **\n * Converts HSB values to an RGB object\n - h (number) hue\n - s (number) saturation\n - v (number) value or brightness\n = (object) RGB object in the following format:\n o {\n o     r (number) red,\n o     g (number) green,\n o     b (number) blue,\n o     hex (string) color in HTML/CSS format: #••••••\n o }\n\\*/\nSnap.hsb2rgb = function (h, s, v, o) {\n    if (is(h, \"object\") && \"h\" in h && \"s\" in h && \"b\" in h) {\n        v = h.b;\n        s = h.s;\n        h = h.h;\n        o = h.o;\n    }\n    h *= 360;\n    var R, G, B, X, C;\n    h = (h % 360) / 60;\n    C = v * s;\n    X = C * (1 - abs(h % 2 - 1));\n    R = G = B = v - C;\n\n    h = ~~h;\n    R += [C, X, 0, 0, X, C][h];\n    G += [X, C, C, X, 0, 0][h];\n    B += [0, 0, X, C, C, X][h];\n    return packageRGB(R, G, B, o);\n};\n/*\\\n * Snap.hsl2rgb\n [ method ]\n **\n * Converts HSL values to an RGB object\n - h (number) hue\n - s (number) saturation\n - l (number) luminosity\n = (object) RGB object in the following format:\n o {\n o     r (number) red,\n o     g (number) green,\n o     b (number) blue,\n o     hex (string) color in HTML/CSS format: #••••••\n o }\n\\*/\nSnap.hsl2rgb = function (h, s, l, o) {\n    if (is(h, \"object\") && \"h\" in h && \"s\" in h && \"l\" in h) {\n        l = h.l;\n        s = h.s;\n        h = h.h;\n    }\n    if (h > 1 || s > 1 || l > 1) {\n        h /= 360;\n        s /= 100;\n        l /= 100;\n    }\n    h *= 360;\n    var R, G, B, X, C;\n    h = (h % 360) / 60;\n    C = 2 * s * (l < .5 ? l : 1 - l);\n    X = C * (1 - abs(h % 2 - 1));\n    R = G = B = l - C / 2;\n\n    h = ~~h;\n    R += [C, X, 0, 0, X, C][h];\n    G += [X, C, C, X, 0, 0][h];\n    B += [0, 0, X, C, C, X][h];\n    return packageRGB(R, G, B, o);\n};\n/*\\\n * Snap.rgb2hsb\n [ method ]\n **\n * Converts RGB values to an HSB object\n - r (number) red\n - g (number) green\n - b (number) blue\n = (object) HSB object in the following format:\n o {\n o     h (number) hue,\n o     s (number) saturation,\n o     b (number) brightness\n o }\n\\*/\nSnap.rgb2hsb = function (r, g, b) {\n    b = prepareRGB(r, g, b);\n    r = b[0];\n    g = b[1];\n    b = b[2];\n\n    var H, S, V, C;\n    V = mmax(r, g, b);\n    C = V - mmin(r, g, b);\n    H = (C == 0 ? null :\n         V == r ? (g - b) / C :\n         V == g ? (b - r) / C + 2 :\n                  (r - g) / C + 4\n        );\n    H = ((H + 360) % 6) * 60 / 360;\n    S = C == 0 ? 0 : C / V;\n    return {h: H, s: S, b: V, toString: hsbtoString};\n};\n/*\\\n * Snap.rgb2hsl\n [ method ]\n **\n * Converts RGB values to an HSL object\n - r (number) red\n - g (number) green\n - b (number) blue\n = (object) HSL object in the following format:\n o {\n o     h (number) hue,\n o     s (number) saturation,\n o     l (number) luminosity\n o }\n\\*/\nSnap.rgb2hsl = function (r, g, b) {\n    b = prepareRGB(r, g, b);\n    r = b[0];\n    g = b[1];\n    b = b[2];\n\n    var H, S, L, M, m, C;\n    M = mmax(r, g, b);\n    m = mmin(r, g, b);\n    C = M - m;\n    H = (C == 0 ? null :\n         M == r ? (g - b) / C :\n         M == g ? (b - r) / C + 2 :\n                  (r - g) / C + 4);\n    H = ((H + 360) % 6) * 60 / 360;\n    L = (M + m) / 2;\n    S = (C == 0 ? 0 :\n         L < .5 ? C / (2 * L) :\n                  C / (2 - 2 * L));\n    return {h: H, s: S, l: L, toString: hsltoString};\n};\n\n// Transformations\n// SIERRA Snap.parsePathString(): By _array of arrays,_ I assume you mean a format like this for two separate segments? [ [\"M10,10\",\"L90,90\"], [\"M90,10\",\"L10,90\"] ] Otherwise how is each command structured?\n/*\\\n * Snap.parsePathString\n [ method ]\n **\n * Utility method\n **\n * Parses given path string into an array of arrays of path segments\n - pathString (string|array) path string or array of segments (in the last case it is returned straight away)\n = (array) array of segments\n\\*/\nSnap.parsePathString = function (pathString) {\n    if (!pathString) {\n        return null;\n    }\n    var pth = Snap.path(pathString);\n    if (pth.arr) {\n        return Snap.path.clone(pth.arr);\n    }\n    \n    var paramCounts = {a: 7, c: 6, o: 2, h: 1, l: 2, m: 2, r: 4, q: 4, s: 4, t: 2, v: 1, u: 3, z: 0},\n        data = [];\n    if (is(pathString, \"array\") && is(pathString[0], \"array\")) { // rough assumption\n        data = Snap.path.clone(pathString);\n    }\n    if (!data.length) {\n        Str(pathString).replace(pathCommand, function (a, b, c) {\n            var params = [],\n                name = b.toLowerCase();\n            c.replace(pathValues, function (a, b) {\n                b && params.push(+b);\n            });\n            if (name == \"m\" && params.length > 2) {\n                data.push([b].concat(params.splice(0, 2)));\n                name = \"l\";\n                b = b == \"m\" ? \"l\" : \"L\";\n            }\n            if (name == \"o\" && params.length == 1) {\n                data.push([b, params[0]]);\n            }\n            if (name == \"r\") {\n                data.push([b].concat(params));\n            } else while (params.length >= paramCounts[name]) {\n                data.push([b].concat(params.splice(0, paramCounts[name])));\n                if (!paramCounts[name]) {\n                    break;\n                }\n            }\n        });\n    }\n    data.toString = Snap.path.toString;\n    pth.arr = Snap.path.clone(data);\n    return data;\n};\n/*\\\n * Snap.parseTransformString\n [ method ]\n **\n * Utility method\n **\n * Parses given transform string into an array of transformations\n - TString (string|array) transform string or array of transformations (in the last case it is returned straight away)\n = (array) array of transformations\n\\*/\nvar parseTransformString = Snap.parseTransformString = function (TString) {\n    if (!TString) {\n        return null;\n    }\n    var paramCounts = {r: 3, s: 4, t: 2, m: 6},\n        data = [];\n    if (is(TString, \"array\") && is(TString[0], \"array\")) { // rough assumption\n        data = Snap.path.clone(TString);\n    }\n    if (!data.length) {\n        Str(TString).replace(tCommand, function (a, b, c) {\n            var params = [],\n                name = b.toLowerCase();\n            c.replace(pathValues, function (a, b) {\n                b && params.push(+b);\n            });\n            data.push([b].concat(params));\n        });\n    }\n    data.toString = Snap.path.toString;\n    return data;\n};\nfunction svgTransform2string(tstr) {\n    var res = [];\n    tstr = tstr.replace(/(?:^|\\s)(\\w+)\\(([^)]+)\\)/g, function (all, name, params) {\n        params = params.split(/\\s*,\\s*|\\s+/);\n        if (name == \"rotate\" && params.length == 1) {\n            params.push(0, 0);\n        }\n        if (name == \"scale\") {\n            if (params.length > 2) {\n                params = params.slice(0, 2);\n            } else if (params.length == 2) {\n                params.push(0, 0);\n            }\n            if (params.length == 1) {\n                params.push(params[0], 0, 0);\n            }\n        }\n        if (name == \"skewX\") {\n            res.push([\"m\", 1, 0, math.tan(rad(params[0])), 1, 0, 0]);\n        } else if (name == \"skewY\") {\n            res.push([\"m\", 1, math.tan(rad(params[0])), 0, 1, 0, 0]);\n        } else {\n            res.push([name.charAt(0)].concat(params));\n        }\n        return all;\n    });\n    return res;\n}\nSnap._.svgTransform2string = svgTransform2string;\nSnap._.rgTransform = new RegExp(\"^[a-z][\" + spaces + \"]*-?\\\\.?\\\\d\", \"i\");\nfunction transform2matrix(tstr, bbox) {\n    var tdata = parseTransformString(tstr),\n        m = new Snap.Matrix;\n    if (tdata) {\n        for (var i = 0, ii = tdata.length; i < ii; i++) {\n            var t = tdata[i],\n                tlen = t.length,\n                command = Str(t[0]).toLowerCase(),\n                absolute = t[0] != command,\n                inver = absolute ? m.invert() : 0,\n                x1,\n                y1,\n                x2,\n                y2,\n                bb;\n            if (command == \"t\" && tlen == 2){\n                m.translate(t[1], 0);\n            } else if (command == \"t\" && tlen == 3) {\n                if (absolute) {\n                    x1 = inver.x(0, 0);\n                    y1 = inver.y(0, 0);\n                    x2 = inver.x(t[1], t[2]);\n                    y2 = inver.y(t[1], t[2]);\n                    m.translate(x2 - x1, y2 - y1);\n                } else {\n                    m.translate(t[1], t[2]);\n                }\n            } else if (command == \"r\") {\n                if (tlen == 2) {\n                    bb = bb || bbox;\n                    m.rotate(t[1], bb.x + bb.width / 2, bb.y + bb.height / 2);\n                } else if (tlen == 4) {\n                    if (absolute) {\n                        x2 = inver.x(t[2], t[3]);\n                        y2 = inver.y(t[2], t[3]);\n                        m.rotate(t[1], x2, y2);\n                    } else {\n                        m.rotate(t[1], t[2], t[3]);\n                    }\n                }\n            } else if (command == \"s\") {\n                if (tlen == 2 || tlen == 3) {\n                    bb = bb || bbox;\n                    m.scale(t[1], t[tlen - 1], bb.x + bb.width / 2, bb.y + bb.height / 2);\n                } else if (tlen == 4) {\n                    if (absolute) {\n                        x2 = inver.x(t[2], t[3]);\n                        y2 = inver.y(t[2], t[3]);\n                        m.scale(t[1], t[1], x2, y2);\n                    } else {\n                        m.scale(t[1], t[1], t[2], t[3]);\n                    }\n                } else if (tlen == 5) {\n                    if (absolute) {\n                        x2 = inver.x(t[3], t[4]);\n                        y2 = inver.y(t[3], t[4]);\n                        m.scale(t[1], t[2], x2, y2);\n                    } else {\n                        m.scale(t[1], t[2], t[3], t[4]);\n                    }\n                }\n            } else if (command == \"m\" && tlen == 7) {\n                m.add(t[1], t[2], t[3], t[4], t[5], t[6]);\n            }\n        }\n    }\n    return m;\n}\nSnap._.transform2matrix = transform2matrix;\nfunction extractTransform(el, tstr) {\n    if (tstr == null) {\n        var doReturn = true;\n        if (el.type == \"linearGradient\" || el.type == \"radialGradient\") {\n            tstr = el.node.getAttribute(\"gradientTransform\");\n        } else if (el.type == \"pattern\") {\n            tstr = el.node.getAttribute(\"patternTransform\");\n        } else {\n            tstr = el.node.getAttribute(\"transform\");\n        }\n        if (!tstr) {\n            return new Snap.Matrix;\n        }\n        tstr = svgTransform2string(tstr);\n    } else {\n        if (!Snap._.rgTransform.test(tstr)) {\n            tstr = svgTransform2string(tstr);\n        } else {\n            tstr = Str(tstr).replace(/\\.{3}|\\u2026/g, el._.transform || E);\n        }\n        if (is(tstr, \"array\")) {\n            tstr = Snap.path ? Snap.path.toString.call(tstr) : Str(tstr);\n        }\n        el._.transform = tstr;\n    }\n    var m = transform2matrix(tstr, el.getBBox(1));\n    if (doReturn) {\n        return m;\n    } else {\n        el.matrix = m;\n    }\n}\nSnap._unit2px = unit2px;\nvar contains = glob.doc.contains || glob.doc.compareDocumentPosition ?\n    function (a, b) {\n        var adown = a.nodeType == 9 ? a.documentElement : a,\n            bup = b && b.parentNode;\n            return a == bup || !!(bup && bup.nodeType == 1 && (\n                adown.contains ?\n                    adown.contains(bup) :\n                    a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16\n            ));\n    } :\n    function (a, b) {\n        if (b) {\n            while (b) {\n                b = b.parentNode;\n                if (b == a) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\nfunction getSomeDefs(el) {\n    var p = (el.node.ownerSVGElement && wrap(el.node.ownerSVGElement)) ||\n            (el.node.parentNode && wrap(el.node.parentNode)) ||\n            Snap.select(\"svg\") ||\n            Snap(0, 0),\n        pdefs = p.select(\"defs\"),\n        defs  = pdefs == null ? false : pdefs.node;\n    if (!defs) {\n        defs = make(\"defs\", p.node).node;\n    }\n    return defs;\n}\nfunction getSomeSVG(el) {\n    return el.node.ownerSVGElement && wrap(el.node.ownerSVGElement) || Snap.select(\"svg\");\n}\nSnap._.getSomeDefs = getSomeDefs;\nSnap._.getSomeSVG = getSomeSVG;\nfunction unit2px(el, name, value) {\n    var svg = getSomeSVG(el).node,\n        out = {},\n        mgr = svg.querySelector(\".svg---mgr\");\n    if (!mgr) {\n        mgr = $(\"rect\");\n        $(mgr, {x: -9e9, y: -9e9, width: 10, height: 10, \"class\": \"svg---mgr\", fill: \"none\"});\n        svg.appendChild(mgr);\n    }\n    function getW(val) {\n        if (val == null) {\n            return E;\n        }\n        if (val == +val) {\n            return val;\n        }\n        $(mgr, {width: val});\n        try {\n            return mgr.getBBox().width;\n        } catch (e) {\n            return 0;\n        }\n    }\n    function getH(val) {\n        if (val == null) {\n            return E;\n        }\n        if (val == +val) {\n            return val;\n        }\n        $(mgr, {height: val});\n        try {\n            return mgr.getBBox().height;\n        } catch (e) {\n            return 0;\n        }\n    }\n    function set(nam, f) {\n        if (name == null) {\n            out[nam] = f(el.attr(nam) || 0);\n        } else if (nam == name) {\n            out = f(value == null ? el.attr(nam) || 0 : value);\n        }\n    }\n    switch (el.type) {\n        case \"rect\":\n            set(\"rx\", getW);\n            set(\"ry\", getH);\n        case \"image\":\n            set(\"width\", getW);\n            set(\"height\", getH);\n        case \"text\":\n            set(\"x\", getW);\n            set(\"y\", getH);\n        break;\n        case \"circle\":\n            set(\"cx\", getW);\n            set(\"cy\", getH);\n            set(\"r\", getW);\n        break;\n        case \"ellipse\":\n            set(\"cx\", getW);\n            set(\"cy\", getH);\n            set(\"rx\", getW);\n            set(\"ry\", getH);\n        break;\n        case \"line\":\n            set(\"x1\", getW);\n            set(\"x2\", getW);\n            set(\"y1\", getH);\n            set(\"y2\", getH);\n        break;\n        case \"marker\":\n            set(\"refX\", getW);\n            set(\"markerWidth\", getW);\n            set(\"refY\", getH);\n            set(\"markerHeight\", getH);\n        break;\n        case \"radialGradient\":\n            set(\"fx\", getW);\n            set(\"fy\", getH);\n        break;\n        case \"tspan\":\n            set(\"dx\", getW);\n            set(\"dy\", getH);\n        break;\n        default:\n            set(name, getW);\n    }\n    svg.removeChild(mgr);\n    return out;\n}\n/*\\\n * Snap.select\n [ method ]\n **\n * Wraps a DOM element specified by CSS selector as @Element\n - query (string) CSS selector of the element\n = (Element) the current element\n\\*/\nSnap.select = function (query) {\n    return wrap(glob.doc.querySelector(query));\n};\n/*\\\n * Snap.selectAll\n [ method ]\n **\n * Wraps DOM elements specified by CSS selector as set or array of @Element\n - query (string) CSS selector of the element\n = (Element) the current element\n\\*/\nSnap.selectAll = function (query) {\n    var nodelist = glob.doc.querySelectorAll(query),\n        set = (Snap.set || Array)();\n    for (var i = 0; i < nodelist.length; i++) {\n        set.push(wrap(nodelist[i]));\n    }\n    return set;\n};\n\nfunction add2group(list) {\n    if (!is(list, \"array\")) {\n        list = Array.prototype.slice.call(arguments, 0);\n    }\n    var i = 0,\n        j = 0,\n        node = this.node;\n    while (this[i]) delete this[i++];\n    for (i = 0; i < list.length; i++) {\n        if (list[i].type == \"set\") {\n            list[i].forEach(function (el) {\n                node.appendChild(el.node);\n            });\n        } else {\n            node.appendChild(list[i].node);\n        }\n    }\n    var children = node.childNodes;\n    for (i = 0; i < children.length; i++) {\n        this[j++] = wrap(children[i]);\n    }\n    return this;\n}\n// Hub garbage collector every 10s\nsetInterval(function () {\n    for (var key in hub) if (hub[has](key)) {\n        var el = hub[key],\n            node = el.node;\n        if (el.type != \"svg\" && !node.ownerSVGElement || el.type == \"svg\" && (!node.parentNode || \"ownerSVGElement\" in node.parentNode && !node.ownerSVGElement)) {\n            delete hub[key];\n        }\n    }\n}, 1e4);\nfunction Element(el) {\n    if (el.snap in hub) {\n        return hub[el.snap];\n    }\n    var id = this.id = ID(),\n        svg;\n    try {\n        svg = el.ownerSVGElement;\n    } catch(e) {}\n    /*\\\n     * Element.node\n     [ property (object) ]\n     **\n     * Gives you a reference to the DOM object, so you can assign event handlers or just mess around.\n     > Usage\n     | // draw a circle at coordinate 10,10 with radius of 10\n     | var c = paper.circle(10, 10, 10);\n     | c.node.onclick = function () {\n     |     c.attr(\"fill\", \"red\");\n     | };\n    \\*/\n    this.node = el;\n    if (svg) {\n        this.paper = new Paper(svg);\n    }\n    /*\\\n     * Element.type\n     [ property (string) ]\n     **\n     * SVG tag name of the given element.\n    \\*/\n    this.type = el.tagName;\n    this.anims = {};\n    this._ = {\n        transform: []\n    };\n    el.snap = id;\n    hub[id] = this;\n    if (this.type == \"g\") {\n        this.add = add2group;\n    }\n    if (this.type in {\"g\": 1, \"mask\": 1, \"pattern\": 1}) {\n        for (var method in Paper.prototype) if (Paper.prototype[has](method)) {\n            this[method] = Paper.prototype[method];\n        }\n    }\n}\n(function (elproto) {\n    /*\\\n     * Element.attr\n     [ method ]\n     **\n     * Gets or sets given attributes of the element.\n     **\n     - params (object) contains key-value pairs of attributes you want to set\n     * or\n     - param (string) name of the attribute\n     = (Element) the current element\n     * or\n     = (string) value of attribute\n     > Usage\n     | el.attr({\n     |     fill: \"#fc0\",\n     |     stroke: \"#000\",\n     |     strokeWidth: 2, // CamelCase...\n     |     \"fill-opacity\": 0.5, // or dash-separated names\n     |     width: \"*=2\" // prefixed values\n     | });\n     | console.log(el.attr(\"fill\")); // #fc0\n     * Prefixed values in format `\"+=10\"` supported. All four operations\n     * (`+`, `-`, `*` and `/`) could be used. Optionally you can use units for `+`\n     * and `-`: `\"+=2em\"`.\n    \\*/\n    elproto.attr = function (params, value) {\n        var el = this,\n            node = el.node;\n        if (!params) {\n            return el;\n        }\n        if (is(params, \"string\")) {\n            if (arguments.length > 1) {\n                var json = {};\n                json[params] = value;\n                params = json;\n            } else {\n                return eve(\"snap.util.getattr.\" + params, el).firstDefined();\n            }\n        }\n        for (var att in params) {\n            if (params[has](att)) {\n                eve(\"snap.util.attr.\" + att, el, params[att]);\n            }\n        }\n        return el;\n    };\n    /*\\\n     * Element.getBBox\n     [ method ]\n     **\n     * Returns the bounding box descriptor for the given element\n     **\n     = (object) bounding box descriptor:\n     o {\n     o     cx: (number) x of the center,\n     o     cy: (number) x of the center,\n     o     h: (number) height,\n     o     height: (number) height,\n     o     path: (string) path command for the box,\n     o     r0: (number) radius of a circle that fully encloses the box,\n     o     r1: (number) radius of the smallest circle that can be enclosed,\n     o     r2: (number) radius of the largest circle that can be enclosed,\n     o     vb: (string) box as a viewbox command,\n     o     w: (number) width,\n     o     width: (number) width,\n     o     x2: (number) x of the right side,\n     o     x: (number) x of the left side,\n     o     y2: (number) y of the bottom edge,\n     o     y: (number) y of the top edge\n     o }\n    \\*/\n    elproto.getBBox = function (isWithoutTransform) {\n        if (!Snap.Matrix || !Snap.path) {\n            return this.node.getBBox();\n        }\n        var el = this,\n            m = new Snap.Matrix;\n        if (el.removed) {\n            return Snap._.box();\n        }\n        while (el.type == \"use\") {\n            if (!isWithoutTransform) {\n                m = m.add(el.transform().localMatrix.translate(el.attr(\"x\") || 0, el.attr(\"y\") || 0));\n            }\n            if (el.original) {\n                el = el.original;\n            } else {\n                var href = el.attr(\"xlink:href\");\n                el = el.original = el.node.ownerDocument.getElementById(href.substring(href.indexOf(\"#\") + 1));\n            }\n        }\n        var _ = el._,\n            pathfinder = Snap.path.get[el.type] || Snap.path.get.deflt;\n        try {\n            if (isWithoutTransform) {\n                _.bboxwt = pathfinder ? Snap.path.getBBox(el.realPath = pathfinder(el)) : Snap._.box(el.node.getBBox());\n                return Snap._.box(_.bboxwt);\n            } else {\n                el.realPath = pathfinder(el);\n                el.matrix = el.transform().localMatrix;\n                _.bbox = Snap.path.getBBox(Snap.path.map(el.realPath, m.add(el.matrix)));\n                return Snap._.box(_.bbox);\n            }\n        } catch (e) {\n            // Firefox doesn’t give you bbox of hidden element\n            return Snap._.box();\n        }\n    };\n    var propString = function () {\n        return this.string;\n    };\n    /*\\\n     * Element.transform\n     [ method ]\n     **\n     * Gets or sets transformation of the element\n     **\n     - tstr (string) transform string in Snap or SVG format\n     = (Element) the current element\n     * or\n     = (object) transformation descriptor:\n     o {\n     o     string (string) transform string,\n     o     globalMatrix (Matrix) matrix of all transformations applied to element or its parents,\n     o     localMatrix (Matrix) matrix of transformations applied only to the element,\n     o     diffMatrix (Matrix) matrix of difference between global and local transformations,\n     o     global (string) global transformation as string,\n     o     local (string) local transformation as string,\n     o     toString (function) returns `string` property\n     o }\n    \\*/\n    elproto.transform = function (tstr) {\n        var _ = this._;\n        if (tstr == null) {\n            var papa = this,\n                global = new Snap.Matrix(this.node.getCTM()),\n                local = extractTransform(this),\n                ms = [local],\n                m = new Snap.Matrix,\n                i,\n                localString = local.toTransformString(),\n                string = Str(local) == Str(this.matrix) ?\n                            Str(_.transform) : localString;\n            while (papa.type != \"svg\" && (papa = papa.parent())) {\n                ms.push(extractTransform(papa));\n            }\n            i = ms.length;\n            while (i--) {\n                m.add(ms[i]);\n            }\n            return {\n                string: string,\n                globalMatrix: global,\n                totalMatrix: m,\n                localMatrix: local,\n                diffMatrix: global.clone().add(local.invert()),\n                global: global.toTransformString(),\n                total: m.toTransformString(),\n                local: localString,\n                toString: propString\n            };\n        }\n        if (tstr instanceof Snap.Matrix) {\n            this.matrix = tstr;\n        } else {\n            extractTransform(this, tstr);\n        }\n\n        if (this.node) {\n            if (this.type == \"linearGradient\" || this.type == \"radialGradient\") {\n                $(this.node, {gradientTransform: this.matrix});\n            } else if (this.type == \"pattern\") {\n                $(this.node, {patternTransform: this.matrix});\n            } else {\n                $(this.node, {transform: this.matrix});\n            }\n        }\n\n        return this;\n    };\n    /*\\\n     * Element.parent\n     [ method ]\n     **\n     * Returns the element's parent\n     **\n     = (Element) the parent element\n    \\*/\n    elproto.parent = function () {\n        return wrap(this.node.parentNode);\n    };\n    /*\\\n     * Element.append\n     [ method ]\n     **\n     * Appends the given element to current one\n     **\n     - el (Element|Set) element to append\n     = (Element) the parent element\n    \\*/\n    /*\\\n     * Element.add\n     [ method ]\n     **\n     * See @Element.append\n    \\*/\n    elproto.append = elproto.add = function (el) {\n        if (el) {\n            if (el.type == \"set\") {\n                var it = this;\n                el.forEach(function (el) {\n                    it.add(el);\n                });\n                return this;\n            }\n            el = wrap(el);\n            this.node.appendChild(el.node);\n            el.paper = this.paper;\n        }\n        return this;\n    };\n    /*\\\n     * Element.appendTo\n     [ method ]\n     **\n     * Appends the current element to the given one\n     **\n     - el (Element) parent element to append to\n     = (Element) the child element\n    \\*/\n    elproto.appendTo = function (el) {\n        if (el) {\n            el = wrap(el);\n            el.append(this);\n        }\n        return this;\n    };\n    /*\\\n     * Element.prepend\n     [ method ]\n     **\n     * Prepends the given element to the current one\n     **\n     - el (Element) element to prepend\n     = (Element) the parent element\n    \\*/\n    elproto.prepend = function (el) {\n        if (el) {\n            if (el.type == \"set\") {\n                var it = this,\n                    first;\n                el.forEach(function (el) {\n                    if (first) {\n                        first.after(el);\n                    } else {\n                        it.prepend(el);\n                    }\n                    first = el;\n                });\n                return this;\n            }\n            el = wrap(el);\n            var parent = el.parent();\n            this.node.insertBefore(el.node, this.node.firstChild);\n            this.add && this.add();\n            el.paper = this.paper;\n            this.parent() && this.parent().add();\n            parent && parent.add();\n        }\n        return this;\n    };\n    /*\\\n     * Element.prependTo\n     [ method ]\n     **\n     * Prepends the current element to the given one\n     **\n     - el (Element) parent element to prepend to\n     = (Element) the child element\n    \\*/\n    elproto.prependTo = function (el) {\n        el = wrap(el);\n        el.prepend(this);\n        return this;\n    };\n    /*\\\n     * Element.before\n     [ method ]\n     **\n     * Inserts given element before the current one\n     **\n     - el (Element) element to insert\n     = (Element) the parent element\n    \\*/\n    elproto.before = function (el) {\n        if (el.type == \"set\") {\n            var it = this;\n            el.forEach(function (el) {\n                var parent = el.parent();\n                it.node.parentNode.insertBefore(el.node, it.node);\n                parent && parent.add();\n            });\n            this.parent().add();\n            return this;\n        }\n        el = wrap(el);\n        var parent = el.parent();\n        this.node.parentNode.insertBefore(el.node, this.node);\n        this.parent() && this.parent().add();\n        parent && parent.add();\n        el.paper = this.paper;\n        return this;\n    };\n    /*\\\n     * Element.after\n     [ method ]\n     **\n     * Inserts given element after the current one\n     **\n     - el (Element) element to insert\n     = (Element) the parent element\n    \\*/\n    elproto.after = function (el) {\n        el = wrap(el);\n        var parent = el.parent();\n        if (this.node.nextSibling) {\n            this.node.parentNode.insertBefore(el.node, this.node.nextSibling);\n        } else {\n            this.node.parentNode.appendChild(el.node);\n        }\n        this.parent() && this.parent().add();\n        parent && parent.add();\n        el.paper = this.paper;\n        return this;\n    };\n    /*\\\n     * Element.insertBefore\n     [ method ]\n     **\n     * Inserts the element after the given one\n     **\n     - el (Element) element next to whom insert to\n     = (Element) the parent element\n    \\*/\n    elproto.insertBefore = function (el) {\n        el = wrap(el);\n        var parent = this.parent();\n        el.node.parentNode.insertBefore(this.node, el.node);\n        this.paper = el.paper;\n        parent && parent.add();\n        el.parent() && el.parent().add();\n        return this;\n    };\n    /*\\\n     * Element.insertAfter\n     [ method ]\n     **\n     * Inserts the element after the given one\n     **\n     - el (Element) element next to whom insert to\n     = (Element) the parent element\n    \\*/\n    elproto.insertAfter = function (el) {\n        el = wrap(el);\n        var parent = this.parent();\n        el.node.parentNode.insertBefore(this.node, el.node.nextSibling);\n        this.paper = el.paper;\n        parent && parent.add();\n        el.parent() && el.parent().add();\n        return this;\n    };\n    /*\\\n     * Element.remove\n     [ method ]\n     **\n     * Removes element from the DOM\n     = (Element) the detached element\n    \\*/\n    elproto.remove = function () {\n        var parent = this.parent();\n        this.node.parentNode && this.node.parentNode.removeChild(this.node);\n        delete this.paper;\n        this.removed = true;\n        parent && parent.add();\n        return this;\n    };\n    /*\\\n     * Element.select\n     [ method ]\n     **\n     * Gathers the nested @Element matching the given set of CSS selectors\n     **\n     - query (string) CSS selector\n     = (Element) result of query selection\n    \\*/\n    elproto.select = function (query) {\n        return wrap(this.node.querySelector(query));\n    };\n    /*\\\n     * Element.selectAll\n     [ method ]\n     **\n     * Gathers nested @Element objects matching the given set of CSS selectors\n     **\n     - query (string) CSS selector\n     = (Set|array) result of query selection\n    \\*/\n    elproto.selectAll = function (query) {\n        var nodelist = this.node.querySelectorAll(query),\n            set = (Snap.set || Array)();\n        for (var i = 0; i < nodelist.length; i++) {\n            set.push(wrap(nodelist[i]));\n        }\n        return set;\n    };\n    /*\\\n     * Element.asPX\n     [ method ]\n     **\n     * Returns given attribute of the element as a `px` value (not %, em, etc.)\n     **\n     - attr (string) attribute name\n     - value (string) #optional attribute value\n     = (Element) result of query selection\n    \\*/\n    elproto.asPX = function (attr, value) {\n        if (value == null) {\n            value = this.attr(attr);\n        }\n        return +unit2px(this, attr, value);\n    };\n    // SIERRA Element.use(): I suggest adding a note about how to access the original element the returned <use> instantiates. It's a part of SVG with which ordinary web developers may be least familiar.\n    /*\\\n     * Element.use\n     [ method ]\n     **\n     * Creates a `<use>` element linked to the current element\n     **\n     = (Element) the `<use>` element\n    \\*/\n    elproto.use = function () {\n        var use,\n            id = this.node.id;\n        if (!id) {\n            id = this.id;\n            $(this.node, {\n                id: id\n            });\n        }\n        if (this.type == \"linearGradient\" || this.type == \"radialGradient\" ||\n            this.type == \"pattern\") {\n            use = make(this.type, this.node.parentNode);\n        } else {\n            use = make(\"use\", this.node.parentNode);\n        }\n        $(use.node, {\n            \"xlink:href\": \"#\" + id\n        });\n        use.original = this;\n        return use;\n    };\n    /*\\\n     * Element.clone\n     [ method ]\n     **\n     * Creates a clone of the element and inserts it after the element\n     **\n     = (Element) the clone\n    \\*/\n    function fixids(el) {\n        var els = el.selectAll(\"*\"),\n            it,\n            url = /^\\s*url\\((\"|'|)(.*)\\1\\)\\s*$/,\n            ids = [],\n            uses = {};\n        function urltest(it, name) {\n            var val = $(it.node, name);\n            val = val && val.match(url);\n            val = val && val[2];\n            if (val && val.charAt() == \"#\") {\n                val = val.substring(1);\n            } else {\n                return;\n            }\n            if (val) {\n                uses[val] = (uses[val] || []).concat(function (id) {\n                    var attr = {};\n                    attr[name] = URL(id);\n                    $(it.node, attr);\n                });\n            }\n        }\n        function linktest(it) {\n            var val = $(it.node, \"xlink:href\");\n            if (val && val.charAt() == \"#\") {\n                val = val.substring(1);\n            } else {\n                return;\n            }\n            if (val) {\n                uses[val] = (uses[val] || []).concat(function (id) {\n                    it.attr(\"xlink:href\", \"#\" + id);\n                });\n            }\n        }\n        for (var i = 0, ii = els.length; i < ii; i++) {\n            it = els[i];\n            urltest(it, \"fill\");\n            urltest(it, \"stroke\");\n            urltest(it, \"filter\");\n            urltest(it, \"mask\");\n            urltest(it, \"clip-path\");\n            linktest(it);\n            var oldid = $(it.node, \"id\");\n            if (oldid) {\n                $(it.node, {id: it.id});\n                ids.push({\n                    old: oldid,\n                    id: it.id\n                });\n            }\n        }\n        for (i = 0, ii = ids.length; i < ii; i++) {\n            var fs = uses[ids[i].old];\n            if (fs) {\n                for (var j = 0, jj = fs.length; j < jj; j++) {\n                    fs[j](ids[i].id);\n                }\n            }\n        }\n    }\n    var rgNotSpace = /\\S+/g,\n        rgBadSpace = /[\\t\\r\\n\\f]/g,\n        rgTrim = /(^\\s+|\\s+$)/g;\n    elproto.addClass = function (value) {\n        var classes = (value || \"\").match(rgNotSpace) || [],\n            elem = this.node,\n            className = elem.className.baseVal,\n            curClasses = className.match(rgNotSpace) || [],\n            j,\n            pos,\n            clazz,\n            finalValue;\n\n        if (classes.length) {\n            j = 0;\n            while ((clazz = classes[j++])) {\n                pos = curClasses.indexOf(clazz);\n                if (!~pos) {\n                    curClasses.push(clazz);\n                }\n            }\n\n            finalValue = curClasses.join(\" \");\n            if (className != finalValue) {\n                elem.className.baseVal = finalValue;\n            }\n        }\n        return this;\n    };\n    elproto.removeClass = function (value) {\n        var classes = (value || \"\").match(rgNotSpace) || [],\n            elem = this.node,\n            className = elem.className.baseVal,\n            curClasses = className.match(rgNotSpace) || [],\n            j,\n            pos,\n            clazz,\n            finalValue;\n        if (curClasses.length) {\n            j = 0;\n            while ((clazz = classes[j++])) {\n                pos = curClasses.indexOf(clazz);\n                if (~pos) {\n                    curClasses.splice(pos, 1);\n                }\n            }\n\n            finalValue = curClasses.join(\" \");\n            if (className != finalValue) {\n                elem.className.baseVal = finalValue;\n            }\n        }\n        return this;\n    };\n    elproto.hasClass = function (value) {\n        var elem = this.node,\n            className = elem.className.baseVal,\n            curClasses = className.match(rgNotSpace) || [];\n        return !!~curClasses.indexOf(value);\n    };\n    elproto.toggleClass = function (value, flag) {\n        if (flag != null) {\n            if (flag) {\n                return this.addClass(value);\n            } else {\n                return this.removeClass(value);\n            }\n        }\n        var classes = (value || \"\").match(rgNotSpace) || [],\n            elem = this.node,\n            className = elem.className.baseVal,\n            curClasses = className.match(rgNotSpace) || [],\n            j,\n            pos,\n            clazz,\n            finalValue;\n        j = 0;\n        while ((clazz = classes[j++])) {\n            pos = curClasses.indexOf(clazz);\n            if (~pos) {\n                curClasses.splice(pos, 1);\n            } else {\n                curClasses.push(clazz);\n            }\n        }\n\n        finalValue = curClasses.join(\" \");\n        if (className != finalValue) {\n            elem.className.baseVal = finalValue;\n        }\n        return this;\n    };\n    elproto.clone = function () {\n        var clone = wrap(this.node.cloneNode(true));\n        if ($(clone.node, \"id\")) {\n            $(clone.node, {id: clone.id});\n        }\n        fixids(clone);\n        clone.insertAfter(this);\n        return clone;\n    };\n    /*\\\n     * Element.toDefs\n     [ method ]\n     **\n     * Moves element to the shared `<defs>` area\n     **\n     = (Element) the element\n    \\*/\n    elproto.toDefs = function () {\n        var defs = getSomeDefs(this);\n        defs.appendChild(this.node);\n        return this;\n    };\n    /*\\\n     * Element.pattern\n     [ method ]\n     **\n     * Depricated. Use @Element.toPattern instead.\n    \\*/\n    /*\\\n     * Element.toPattern\n     [ method ]\n     **\n     * Creates a `<pattern>` element from the current element\n     **\n     * To create a pattern you have to specify the pattern rect:\n     - x (string|number)\n     - y (string|number)\n     - width (string|number)\n     - height (string|number)\n     = (Element) the `<pattern>` element\n     * You can use pattern later on as an argument for `fill` attribute:\n     | var p = paper.path(\"M10-5-10,15M15,0,0,15M0-5-20,15\").attr({\n     |         fill: \"none\",\n     |         stroke: \"#bada55\",\n     |         strokeWidth: 5\n     |     }).pattern(0, 0, 10, 10),\n     |     c = paper.circle(200, 200, 100);\n     | c.attr({\n     |     fill: p\n     | });\n    \\*/\n    elproto.pattern = elproto.toPattern = function (x, y, width, height) {\n        var p = make(\"pattern\", getSomeDefs(this));\n        if (x == null) {\n            x = this.getBBox();\n        }\n        if (is(x, \"object\") && \"x\" in x) {\n            y = x.y;\n            width = x.width;\n            height = x.height;\n            x = x.x;\n        }\n        $(p.node, {\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n            patternUnits: \"userSpaceOnUse\",\n            id: p.id,\n            viewBox: [x, y, width, height].join(\" \")\n        });\n        p.node.appendChild(this.node);\n        return p;\n    };\n// SIERRA Element.marker(): clarify what a reference point is. E.g., helps you offset the object from its edge such as when centering it over a path.\n// SIERRA Element.marker(): I suggest the method should accept default reference point values.  Perhaps centered with (refX = width/2) and (refY = height/2)? Also, couldn't it assume the element's current _width_ and _height_? And please specify what _x_ and _y_ mean: offsets? If so, from where?  Couldn't they also be assigned default values?\n    /*\\\n     * Element.marker\n     [ method ]\n     **\n     * Creates a `<marker>` element from the current element\n     **\n     * To create a marker you have to specify the bounding rect and reference point:\n     - x (number)\n     - y (number)\n     - width (number)\n     - height (number)\n     - refX (number)\n     - refY (number)\n     = (Element) the `<marker>` element\n     * You can specify the marker later as an argument for `marker-start`, `marker-end`, `marker-mid`, and `marker` attributes. The `marker` attribute places the marker at every point along the path, and `marker-mid` places them at every point except the start and end.\n    \\*/\n    // TODO add usage for markers\n    elproto.marker = function (x, y, width, height, refX, refY) {\n        var p = make(\"marker\", getSomeDefs(this));\n        if (x == null) {\n            x = this.getBBox();\n        }\n        if (is(x, \"object\") && \"x\" in x) {\n            y = x.y;\n            width = x.width;\n            height = x.height;\n            refX = x.refX || x.cx;\n            refY = x.refY || x.cy;\n            x = x.x;\n        }\n        $(p.node, {\n            viewBox: [x, y, width, height].join(S),\n            markerWidth: width,\n            markerHeight: height,\n            orient: \"auto\",\n            refX: refX || 0,\n            refY: refY || 0,\n            id: p.id\n        });\n        p.node.appendChild(this.node);\n        return p;\n    };\n    // animation\n    function slice(from, to, f) {\n        return function (arr) {\n            var res = arr.slice(from, to);\n            if (res.length == 1) {\n                res = res[0];\n            }\n            return f ? f(res) : res;\n        };\n    }\n    var Animation = function (attr, ms, easing, callback) {\n        if (typeof easing == \"function\" && !easing.length) {\n            callback = easing;\n            easing = mina.linear;\n        }\n        this.attr = attr;\n        this.dur = ms;\n        easing && (this.easing = easing);\n        callback && (this.callback = callback);\n    };\n    Snap._.Animation = Animation;\n    /*\\\n     * Snap.animation\n     [ method ]\n     **\n     * Creates an animation object\n     **\n     - attr (object) attributes of final destination\n     - duration (number) duration of the animation, in milliseconds\n     - easing (function) #optional one of easing functions of @mina or custom one\n     - callback (function) #optional callback function that fires when animation ends\n     = (object) animation object\n    \\*/\n    Snap.animation = function (attr, ms, easing, callback) {\n        return new Animation(attr, ms, easing, callback);\n    };\n    /*\\\n     * Element.inAnim\n     [ method ]\n     **\n     * Returns a set of animations that may be able to manipulate the current element\n     **\n     = (object) in format:\n     o {\n     o     anim (object) animation object,\n     o     mina (object) @mina object,\n     o     curStatus (number) 0..1 — status of the animation: 0 — just started, 1 — just finished,\n     o     status (function) gets or sets the status of the animation,\n     o     stop (function) stops the animation\n     o }\n    \\*/\n    elproto.inAnim = function () {\n        var el = this,\n            res = [];\n        for (var id in el.anims) if (el.anims[has](id)) {\n            (function (a) {\n                res.push({\n                    anim: new Animation(a._attrs, a.dur, a.easing, a._callback),\n                    mina: a,\n                    curStatus: a.status(),\n                    status: function (val) {\n                        return a.status(val);\n                    },\n                    stop: function () {\n                        a.stop();\n                    }\n                });\n            }(el.anims[id]));\n        }\n        return res;\n    };\n    /*\\\n     * Snap.animate\n     [ method ]\n     **\n     * Runs generic animation of one number into another with a caring function\n     **\n     - from (number|array) number or array of numbers\n     - to (number|array) number or array of numbers\n     - setter (function) caring function that accepts one number argument\n     - duration (number) duration, in milliseconds\n     - easing (function) #optional easing function from @mina or custom\n     - callback (function) #optional callback function to execute when animation ends\n     = (object) animation object in @mina format\n     o {\n     o     id (string) animation id, consider it read-only,\n     o     duration (function) gets or sets the duration of the animation,\n     o     easing (function) easing,\n     o     speed (function) gets or sets the speed of the animation,\n     o     status (function) gets or sets the status of the animation,\n     o     stop (function) stops the animation\n     o }\n     | var rect = Snap().rect(0, 0, 10, 10);\n     | Snap.animate(0, 10, function (val) {\n     |     rect.attr({\n     |         x: val\n     |     });\n     | }, 1000);\n     | // in given context is equivalent to\n     | rect.animate({x: 10}, 1000);\n    \\*/\n    Snap.animate = function (from, to, setter, ms, easing, callback) {\n        if (typeof easing == \"function\" && !easing.length) {\n            callback = easing;\n            easing = mina.linear;\n        }\n        var now = mina.time(),\n            anim = mina(from, to, now, now + ms, mina.time, setter, easing);\n        callback && eve.once(\"mina.finish.\" + anim.id, callback);\n        return anim;\n    };\n    /*\\\n     * Element.stop\n     [ method ]\n     **\n     * Stops all the animations for the current element\n     **\n     = (Element) the current element\n    \\*/\n    elproto.stop = function () {\n        var anims = this.inAnim();\n        for (var i = 0, ii = anims.length; i < ii; i++) {\n            anims[i].stop();\n        }\n        return this;\n    };\n    /*\\\n     * Element.animate\n     [ method ]\n     **\n     * Animates the given attributes of the element\n     **\n     - attrs (object) key-value pairs of destination attributes\n     - duration (number) duration of the animation in milliseconds\n     - easing (function) #optional easing function from @mina or custom\n     - callback (function) #optional callback function that executes when the animation ends\n     = (Element) the current element\n    \\*/\n    elproto.animate = function (attrs, ms, easing, callback) {\n        if (typeof easing == \"function\" && !easing.length) {\n            callback = easing;\n            easing = mina.linear;\n        }\n        if (attrs instanceof Animation) {\n            callback = attrs.callback;\n            easing = attrs.easing;\n            ms = easing.dur;\n            attrs = attrs.attr;\n        }\n        var fkeys = [], tkeys = [], keys = {}, from, to, f, eq,\n            el = this;\n        for (var key in attrs) if (attrs[has](key)) {\n            if (el.equal) {\n                eq = el.equal(key, Str(attrs[key]));\n                from = eq.from;\n                to = eq.to;\n                f = eq.f;\n            } else {\n                from = +el.attr(key);\n                to = +attrs[key];\n            }\n            var len = is(from, \"array\") ? from.length : 1;\n            keys[key] = slice(fkeys.length, fkeys.length + len, f);\n            fkeys = fkeys.concat(from);\n            tkeys = tkeys.concat(to);\n        }\n        var now = mina.time(),\n            anim = mina(fkeys, tkeys, now, now + ms, mina.time, function (val) {\n                var attr = {};\n                for (var key in keys) if (keys[has](key)) {\n                    attr[key] = keys[key](val);\n                }\n                el.attr(attr);\n            }, easing);\n        el.anims[anim.id] = anim;\n        anim._attrs = attrs;\n        anim._callback = callback;\n        eve(\"snap.animcreated.\" + el.id, anim);\n        eve.once(\"mina.finish.\" + anim.id, function () {\n            delete el.anims[anim.id];\n            callback && callback.call(el);\n        });\n        eve.once(\"mina.stop.\" + anim.id, function () {\n            delete el.anims[anim.id];\n        });\n        return el;\n    };\n    var eldata = {};\n    /*\\\n     * Element.data\n     [ method ]\n     **\n     * Adds or retrieves given value associated with given key. (Don’t confuse\n     * with `data-` attributes)\n     *\n     * See also @Element.removeData\n     - key (string) key to store data\n     - value (any) #optional value to store\n     = (object) @Element\n     * or, if value is not specified:\n     = (any) value\n     > Usage\n     | for (var i = 0, i < 5, i++) {\n     |     paper.circle(10 + 15 * i, 10, 10)\n     |          .attr({fill: \"#000\"})\n     |          .data(\"i\", i)\n     |          .click(function () {\n     |             alert(this.data(\"i\"));\n     |          });\n     | }\n    \\*/\n    elproto.data = function (key, value) {\n        var data = eldata[this.id] = eldata[this.id] || {};\n        if (arguments.length == 0){\n            eve(\"snap.data.get.\" + this.id, this, data, null);\n            return data;\n        }\n        if (arguments.length == 1) {\n            if (Snap.is(key, \"object\")) {\n                for (var i in key) if (key[has](i)) {\n                    this.data(i, key[i]);\n                }\n                return this;\n            }\n            eve(\"snap.data.get.\" + this.id, this, data[key], key);\n            return data[key];\n        }\n        data[key] = value;\n        eve(\"snap.data.set.\" + this.id, this, value, key);\n        return this;\n    };\n    /*\\\n     * Element.removeData\n     [ method ]\n     **\n     * Removes value associated with an element by given key.\n     * If key is not provided, removes all the data of the element.\n     - key (string) #optional key\n     = (object) @Element\n    \\*/\n    elproto.removeData = function (key) {\n        if (key == null) {\n            eldata[this.id] = {};\n        } else {\n            eldata[this.id] && delete eldata[this.id][key];\n        }\n        return this;\n    };\n    /*\\\n     * Element.outerSVG\n     [ method ]\n     **\n     * Returns SVG code for the element, equivalent to HTML's `outerHTML`.\n     *\n     * See also @Element.innerSVG\n     = (string) SVG code for the element\n    \\*/\n    /*\\\n     * Element.toString\n     [ method ]\n     **\n     * See @Element.outerSVG\n    \\*/\n    elproto.outerSVG = elproto.toString = toString(1);\n    /*\\\n     * Element.innerSVG\n     [ method ]\n     **\n     * Returns SVG code for the element's contents, equivalent to HTML's `innerHTML`\n     = (string) SVG code for the element\n    \\*/\n    elproto.innerSVG = toString();\n    function toString(type) {\n        return function () {\n            var res = type ? \"<\" + this.type : \"\",\n                attr = this.node.attributes,\n                chld = this.node.childNodes;\n            if (type) {\n                for (var i = 0, ii = attr.length; i < ii; i++) {\n                    res += \" \" + attr[i].name + '=\"' +\n                            attr[i].value.replace(/\"/g, '\\\\\"') + '\"';\n                }\n            }\n            if (chld.length) {\n                type && (res += \">\");\n                for (i = 0, ii = chld.length; i < ii; i++) {\n                    if (chld[i].nodeType == 3) {\n                        res += chld[i].nodeValue;\n                    } else if (chld[i].nodeType == 1) {\n                        res += wrap(chld[i]).toString();\n                    }\n                }\n                type && (res += \"</\" + this.type + \">\");\n            } else {\n                type && (res += \"/>\");\n            }\n            return res;\n        };\n    }\n}(Element.prototype));\n/*\\\n * Snap.parse\n [ method ]\n **\n * Parses SVG fragment and converts it into a @Fragment\n **\n - svg (string) SVG string\n = (Fragment) the @Fragment\n\\*/\nSnap.parse = function (svg) {\n    var f = glob.doc.createDocumentFragment(),\n        full = true,\n        div = glob.doc.createElement(\"div\");\n    svg = Str(svg);\n    if (!svg.match(/^\\s*<\\s*svg(?:\\s|>)/)) {\n        svg = \"<svg>\" + svg + \"</svg>\";\n        full = false;\n    }\n    div.innerHTML = svg;\n    svg = div.getElementsByTagName(\"svg\")[0];\n    if (svg) {\n        if (full) {\n            f = svg;\n        } else {\n            while (svg.firstChild) {\n                f.appendChild(svg.firstChild);\n            }\n        }\n    }\n    div.innerHTML = E;\n    return new Fragment(f);\n};\nfunction Fragment(frag) {\n    this.node = frag;\n}\n/*\\\n * Fragment.select\n [ method ]\n **\n * See @Element.select\n\\*/\nFragment.prototype.select = Element.prototype.select;\n/*\\\n * Fragment.selectAll\n [ method ]\n **\n * See @Element.selectAll\n\\*/\nFragment.prototype.selectAll = Element.prototype.selectAll;\n// SIERRA Snap.fragment() could especially use a code example\n/*\\\n * Snap.fragment\n [ method ]\n **\n * Creates a DOM fragment from a given list of elements or strings\n **\n - varargs (…) SVG string\n = (Fragment) the @Fragment\n\\*/\nSnap.fragment = function () {\n    var args = Array.prototype.slice.call(arguments, 0),\n        f = glob.doc.createDocumentFragment();\n    for (var i = 0, ii = args.length; i < ii; i++) {\n        var item = args[i];\n        if (item.node && item.node.nodeType) {\n            f.appendChild(item.node);\n        }\n        if (item.nodeType) {\n            f.appendChild(item);\n        }\n        if (typeof item == \"string\") {\n            f.appendChild(Snap.parse(item).node);\n        }\n    }\n    return new Fragment(f);\n};\n\nfunction make(name, parent) {\n    var res = $(name);\n    parent.appendChild(res);\n    var el = wrap(res);\n    return el;\n}\nfunction Paper(w, h) {\n    var res,\n        desc,\n        defs,\n        proto = Paper.prototype;\n    if (w && w.tagName == \"svg\") {\n        if (w.snap in hub) {\n            return hub[w.snap];\n        }\n        var doc = w.ownerDocument;\n        res = new Element(w);\n        desc = w.getElementsByTagName(\"desc\")[0];\n        defs = w.getElementsByTagName(\"defs\")[0];\n        if (!desc) {\n            desc = $(\"desc\");\n            desc.appendChild(doc.createTextNode(\"Created with Snap\"));\n            res.node.appendChild(desc);\n        }\n        if (!defs) {\n            defs = $(\"defs\");\n            res.node.appendChild(defs);\n        }\n        res.defs = defs;\n        for (var key in proto) if (proto[has](key)) {\n            res[key] = proto[key];\n        }\n        res.paper = res.root = res;\n    } else {\n        res = make(\"svg\", glob.doc.body);\n        $(res.node, {\n            height: h,\n            version: 1.1,\n            width: w,\n            xmlns: xmlns\n        });\n    }\n    return res;\n}\nfunction wrap(dom) {\n    if (!dom) {\n        return dom;\n    }\n    if (dom instanceof Element || dom instanceof Fragment) {\n        return dom;\n    }\n    if (dom.tagName && dom.tagName.toLowerCase() == \"svg\") {\n        return new Paper(dom);\n    }\n    if (dom.tagName && dom.tagName.toLowerCase() == \"object\" && dom.type == \"image/svg+xml\") {\n        return new Paper(dom.contentDocument.getElementsByTagName(\"svg\")[0]);\n    }\n    return new Element(dom);\n}\n\nSnap._.make = make;\nSnap._.wrap = wrap;\n/*\\\n * Paper.el\n [ method ]\n **\n * Creates an element on paper with a given name and no attributes\n **\n - name (string) tag name\n - attr (object) attributes\n = (Element) the current element\n > Usage\n | var c = paper.circle(10, 10, 10); // is the same as...\n | var c = paper.el(\"circle\").attr({\n |     cx: 10,\n |     cy: 10,\n |     r: 10\n | });\n | // and the same as\n | var c = paper.el(\"circle\", {\n |     cx: 10,\n |     cy: 10,\n |     r: 10\n | });\n\\*/\nPaper.prototype.el = function (name, attr) {\n    var el = make(name, this.node);\n    attr && el.attr(attr);\n    return el;\n};\n// default\neve.on(\"snap.util.getattr\", function () {\n    var att = eve.nt();\n    att = att.substring(att.lastIndexOf(\".\") + 1);\n    var css = att.replace(/[A-Z]/g, function (letter) {\n        return \"-\" + letter.toLowerCase();\n    });\n    if (cssAttr[has](css)) {\n        return this.node.ownerDocument.defaultView.getComputedStyle(this.node, null).getPropertyValue(css);\n    } else {\n        return $(this.node, att);\n    }\n});\nvar cssAttr = {\n    \"alignment-baseline\": 0,\n    \"baseline-shift\": 0,\n    \"clip\": 0,\n    \"clip-path\": 0,\n    \"clip-rule\": 0,\n    \"color\": 0,\n    \"color-interpolation\": 0,\n    \"color-interpolation-filters\": 0,\n    \"color-profile\": 0,\n    \"color-rendering\": 0,\n    \"cursor\": 0,\n    \"direction\": 0,\n    \"display\": 0,\n    \"dominant-baseline\": 0,\n    \"enable-background\": 0,\n    \"fill\": 0,\n    \"fill-opacity\": 0,\n    \"fill-rule\": 0,\n    \"filter\": 0,\n    \"flood-color\": 0,\n    \"flood-opacity\": 0,\n    \"font\": 0,\n    \"font-family\": 0,\n    \"font-size\": 0,\n    \"font-size-adjust\": 0,\n    \"font-stretch\": 0,\n    \"font-style\": 0,\n    \"font-variant\": 0,\n    \"font-weight\": 0,\n    \"glyph-orientation-horizontal\": 0,\n    \"glyph-orientation-vertical\": 0,\n    \"image-rendering\": 0,\n    \"kerning\": 0,\n    \"letter-spacing\": 0,\n    \"lighting-color\": 0,\n    \"marker\": 0,\n    \"marker-end\": 0,\n    \"marker-mid\": 0,\n    \"marker-start\": 0,\n    \"mask\": 0,\n    \"opacity\": 0,\n    \"overflow\": 0,\n    \"pointer-events\": 0,\n    \"shape-rendering\": 0,\n    \"stop-color\": 0,\n    \"stop-opacity\": 0,\n    \"stroke\": 0,\n    \"stroke-dasharray\": 0,\n    \"stroke-dashoffset\": 0,\n    \"stroke-linecap\": 0,\n    \"stroke-linejoin\": 0,\n    \"stroke-miterlimit\": 0,\n    \"stroke-opacity\": 0,\n    \"stroke-width\": 0,\n    \"text-anchor\": 0,\n    \"text-decoration\": 0,\n    \"text-rendering\": 0,\n    \"unicode-bidi\": 0,\n    \"visibility\": 0,\n    \"word-spacing\": 0,\n    \"writing-mode\": 0\n};\n\neve.on(\"snap.util.attr\", function (value) {\n    var att = eve.nt(),\n        attr = {};\n    att = att.substring(att.lastIndexOf(\".\") + 1);\n    attr[att] = value;\n    var style = att.replace(/-(\\w)/gi, function (all, letter) {\n            return letter.toUpperCase();\n        }),\n        css = att.replace(/[A-Z]/g, function (letter) {\n            return \"-\" + letter.toLowerCase();\n        });\n    if (cssAttr[has](css)) {\n        this.node.style[style] = value == null ? E : value;\n    } else {\n        $(this.node, attr);\n    }\n});\n(function (proto) {}(Paper.prototype));\n\n// simple ajax\n/*\\\n * Snap.ajax\n [ method ]\n **\n * Simple implementation of Ajax\n **\n - url (string) URL\n - postData (object|string) data for post request\n - callback (function) callback\n - scope (object) #optional scope of callback\n * or\n - url (string) URL\n - callback (function) callback\n - scope (object) #optional scope of callback\n = (XMLHttpRequest) the XMLHttpRequest object, just in case\n\\*/\nSnap.ajax = function (url, postData, callback, scope){\n    var req = new XMLHttpRequest,\n        id = ID();\n    if (req) {\n        if (is(postData, \"function\")) {\n            scope = callback;\n            callback = postData;\n            postData = null;\n        } else if (is(postData, \"object\")) {\n            var pd = [];\n            for (var key in postData) if (postData.hasOwnProperty(key)) {\n                pd.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(postData[key]));\n            }\n            postData = pd.join(\"&\");\n        }\n        req.open((postData ? \"POST\" : \"GET\"), url, true);\n        if (postData) {\n            req.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n            req.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n        }\n        if (callback) {\n            eve.once(\"snap.ajax.\" + id + \".0\", callback);\n            eve.once(\"snap.ajax.\" + id + \".200\", callback);\n            eve.once(\"snap.ajax.\" + id + \".304\", callback);\n        }\n        req.onreadystatechange = function() {\n            if (req.readyState != 4) return;\n            eve(\"snap.ajax.\" + id + \".\" + req.status, scope, req);\n        };\n        if (req.readyState == 4) {\n            return req;\n        }\n        req.send(postData);\n        return req;\n    }\n};\n/*\\\n * Snap.load\n [ method ]\n **\n * Loads external SVG file as a @Fragment (see @Snap.ajax for more advanced AJAX)\n **\n - url (string) URL\n - callback (function) callback\n - scope (object) #optional scope of callback\n\\*/\nSnap.load = function (url, callback, scope) {\n    Snap.ajax(url, function (req) {\n        var f = Snap.parse(req.responseText);\n        scope ? callback.call(scope, f) : callback(f);\n    });\n};\nvar getOffset = function (elem) {\n    var box = elem.getBoundingClientRect(),\n        doc = elem.ownerDocument,\n        body = doc.body,\n        docElem = doc.documentElement,\n        clientTop = docElem.clientTop || body.clientTop || 0, clientLeft = docElem.clientLeft || body.clientLeft || 0,\n        top  = box.top  + (g.win.pageYOffset || docElem.scrollTop || body.scrollTop ) - clientTop,\n        left = box.left + (g.win.pageXOffset || docElem.scrollLeft || body.scrollLeft) - clientLeft;\n    return {\n        y: top,\n        x: left\n    };\n};\n/*\\\n * Snap.getElementByPoint\n [ method ]\n **\n * Returns you topmost element under given point.\n **\n = (object) Snap element object\n - x (number) x coordinate from the top left corner of the window\n - y (number) y coordinate from the top left corner of the window\n > Usage\n | Snap.getElementByPoint(mouseX, mouseY).attr({stroke: \"#f00\"});\n\\*/\nSnap.getElementByPoint = function (x, y) {\n    var paper = this,\n        svg = paper.canvas,\n        target = glob.doc.elementFromPoint(x, y);\n    if (glob.win.opera && target.tagName == \"svg\") {\n        var so = getOffset(target),\n            sr = target.createSVGRect();\n        sr.x = x - so.x;\n        sr.y = y - so.y;\n        sr.width = sr.height = 1;\n        var hits = target.getIntersectionList(sr, null);\n        if (hits.length) {\n            target = hits[hits.length - 1];\n        }\n    }\n    if (!target) {\n        return null;\n    }\n    return wrap(target);\n};\n/*\\\n * Snap.plugin\n [ method ]\n **\n * Let you write plugins. You pass in a function with four arguments, like this:\n | Snap.plugin(function (Snap, Element, Paper, global, Fragment) {\n |     Snap.newmethod = function () {};\n |     Element.prototype.newmethod = function () {};\n |     Paper.prototype.newmethod = function () {};\n | });\n * Inside the function you have access to all main objects (and their\n * prototypes). This allow you to extend anything you want.\n **\n - f (function) your plugin body\n\\*/\nSnap.plugin = function (f) {\n    f(Snap, Element, Paper, glob, Fragment);\n};\nglob.win.Snap = Snap;\nreturn Snap;\n}());\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var objectToString = Object.prototype.toString,\n        Str = String,\n        math = Math,\n        E = \"\";\n    function Matrix(a, b, c, d, e, f) {\n        if (b == null && objectToString.call(a) == \"[object SVGMatrix]\") {\n            this.a = a.a;\n            this.b = a.b;\n            this.c = a.c;\n            this.d = a.d;\n            this.e = a.e;\n            this.f = a.f;\n            return;\n        }\n        if (a != null) {\n            this.a = +a;\n            this.b = +b;\n            this.c = +c;\n            this.d = +d;\n            this.e = +e;\n            this.f = +f;\n        } else {\n            this.a = 1;\n            this.b = 0;\n            this.c = 0;\n            this.d = 1;\n            this.e = 0;\n            this.f = 0;\n        }\n    }\n    (function (matrixproto) {\n        /*\\\n         * Matrix.add\n         [ method ]\n         **\n         * Adds the given matrix to existing one\n         - a (number)\n         - b (number)\n         - c (number)\n         - d (number)\n         - e (number)\n         - f (number)\n         * or\n         - matrix (object) @Matrix\n        \\*/\n        matrixproto.add = function (a, b, c, d, e, f) {\n            var out = [[], [], []],\n                m = [[this.a, this.c, this.e], [this.b, this.d, this.f], [0, 0, 1]],\n                matrix = [[a, c, e], [b, d, f], [0, 0, 1]],\n                x, y, z, res;\n\n            if (a && a instanceof Matrix) {\n                matrix = [[a.a, a.c, a.e], [a.b, a.d, a.f], [0, 0, 1]];\n            }\n\n            for (x = 0; x < 3; x++) {\n                for (y = 0; y < 3; y++) {\n                    res = 0;\n                    for (z = 0; z < 3; z++) {\n                        res += m[x][z] * matrix[z][y];\n                    }\n                    out[x][y] = res;\n                }\n            }\n            this.a = out[0][0];\n            this.b = out[1][0];\n            this.c = out[0][1];\n            this.d = out[1][1];\n            this.e = out[0][2];\n            this.f = out[1][2];\n            return this;\n        };\n        /*\\\n         * Matrix.invert\n         [ method ]\n         **\n         * Returns an inverted version of the matrix\n         = (object) @Matrix\n        \\*/\n        matrixproto.invert = function () {\n            var me = this,\n                x = me.a * me.d - me.b * me.c;\n            return new Matrix(me.d / x, -me.b / x, -me.c / x, me.a / x, (me.c * me.f - me.d * me.e) / x, (me.b * me.e - me.a * me.f) / x);\n        };\n        /*\\\n         * Matrix.clone\n         [ method ]\n         **\n         * Returns a copy of the matrix\n         = (object) @Matrix\n        \\*/\n        matrixproto.clone = function () {\n            return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);\n        };\n        /*\\\n         * Matrix.translate\n         [ method ]\n         **\n         * Translate the matrix\n         - x (number) horizontal offset distance\n         - y (number) vertical offset distance\n        \\*/\n        matrixproto.translate = function (x, y) {\n            return this.add(1, 0, 0, 1, x, y);\n        };\n        /*\\\n         * Matrix.scale\n         [ method ]\n         **\n         * Scales the matrix\n         - x (number) amount to be scaled, with `1` resulting in no change\n         - y (number) #optional amount to scale along the vertical axis. (Otherwise `x` applies to both axes.)\n         - cx (number) #optional horizontal origin point from which to scale\n         - cy (number) #optional vertical origin point from which to scale\n         * Default cx, cy is the middle point of the element.\n        \\*/\n        matrixproto.scale = function (x, y, cx, cy) {\n            y == null && (y = x);\n            (cx || cy) && this.add(1, 0, 0, 1, cx, cy);\n            this.add(x, 0, 0, y, 0, 0);\n            (cx || cy) && this.add(1, 0, 0, 1, -cx, -cy);\n            return this;\n        };\n        /*\\\n         * Matrix.rotate\n         [ method ]\n         **\n         * Rotates the matrix\n         - a (number) angle of rotation, in degrees\n         - x (number) horizontal origin point from which to rotate\n         - y (number) vertical origin point from which to rotate\n        \\*/\n        matrixproto.rotate = function (a, x, y) {\n            a = Snap.rad(a);\n            x = x || 0;\n            y = y || 0;\n            var cos = +math.cos(a).toFixed(9),\n                sin = +math.sin(a).toFixed(9);\n            this.add(cos, sin, -sin, cos, x, y);\n            return this.add(1, 0, 0, 1, -x, -y);\n        };\n        /*\\\n         * Matrix.x\n         [ method ]\n         **\n         * Returns x coordinate for given point after transformation described by the matrix. See also @Matrix.y\n         - x (number)\n         - y (number)\n         = (number) x\n        \\*/\n        matrixproto.x = function (x, y) {\n            return x * this.a + y * this.c + this.e;\n        };\n        /*\\\n         * Matrix.y\n         [ method ]\n         **\n         * Returns y coordinate for given point after transformation described by the matrix. See also @Matrix.x\n         - x (number)\n         - y (number)\n         = (number) y\n        \\*/\n        matrixproto.y = function (x, y) {\n            return x * this.b + y * this.d + this.f;\n        };\n        matrixproto.get = function (i) {\n            return +this[Str.fromCharCode(97 + i)].toFixed(4);\n        };\n        matrixproto.toString = function () {\n            return \"matrix(\" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)].join() + \")\";\n        };\n        matrixproto.offset = function () {\n            return [this.e.toFixed(4), this.f.toFixed(4)];\n        };\n        function norm(a) {\n            return a[0] * a[0] + a[1] * a[1];\n        }\n        function normalize(a) {\n            var mag = math.sqrt(norm(a));\n            a[0] && (a[0] /= mag);\n            a[1] && (a[1] /= mag);\n        }\n        /*\\\n         * Matrix.determinant\n         [ method ]\n         **\n         * Finds determinant of the given matrix.\n         = (number) determinant\n        \\*/\n        matrixproto.determinant = function () {\n            return this.a * this.d - this.b * this.c;\n        };\n        /*\\\n         * Matrix.split\n         [ method ]\n         **\n         * Splits matrix into primitive transformations\n         = (object) in format:\n         o dx (number) translation by x\n         o dy (number) translation by y\n         o scalex (number) scale by x\n         o scaley (number) scale by y\n         o shear (number) shear\n         o rotate (number) rotation in deg\n         o isSimple (boolean) could it be represented via simple transformations\n        \\*/\n        matrixproto.split = function () {\n            var out = {};\n            // translation\n            out.dx = this.e;\n            out.dy = this.f;\n\n            // scale and shear\n            var row = [[this.a, this.c], [this.b, this.d]];\n            out.scalex = math.sqrt(norm(row[0]));\n            normalize(row[0]);\n\n            out.shear = row[0][0] * row[1][0] + row[0][1] * row[1][1];\n            row[1] = [row[1][0] - row[0][0] * out.shear, row[1][1] - row[0][1] * out.shear];\n\n            out.scaley = math.sqrt(norm(row[1]));\n            normalize(row[1]);\n            out.shear /= out.scaley;\n\n            if (this.determinant() < 0) {\n                out.scalex = -out.scalex;\n            }\n\n            // rotation\n            var sin = -row[0][1],\n                cos = row[1][1];\n            if (cos < 0) {\n                out.rotate = Snap.deg(math.acos(cos));\n                if (sin < 0) {\n                    out.rotate = 360 - out.rotate;\n                }\n            } else {\n                out.rotate = Snap.deg(math.asin(sin));\n            }\n\n            out.isSimple = !+out.shear.toFixed(9) && (out.scalex.toFixed(9) == out.scaley.toFixed(9) || !out.rotate);\n            out.isSuperSimple = !+out.shear.toFixed(9) && out.scalex.toFixed(9) == out.scaley.toFixed(9) && !out.rotate;\n            out.noRotation = !+out.shear.toFixed(9) && !out.rotate;\n            return out;\n        };\n        /*\\\n         * Matrix.toTransformString\n         [ method ]\n         **\n         * Returns transform string that represents given matrix\n         = (string) transform string\n        \\*/\n        matrixproto.toTransformString = function (shorter) {\n            var s = shorter || this.split();\n            if (!+s.shear.toFixed(9)) {\n                s.scalex = +s.scalex.toFixed(4);\n                s.scaley = +s.scaley.toFixed(4);\n                s.rotate = +s.rotate.toFixed(4);\n                return  (s.dx || s.dy ? \"t\" + [+s.dx.toFixed(4), +s.dy.toFixed(4)] : E) + \n                        (s.scalex != 1 || s.scaley != 1 ? \"s\" + [s.scalex, s.scaley, 0, 0] : E) +\n                        (s.rotate ? \"r\" + [+s.rotate.toFixed(4), 0, 0] : E);\n            } else {\n                return \"m\" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)];\n            }\n        };\n    })(Matrix.prototype);\n    /*\\\n     * Snap.Matrix\n     [ method ]\n     **\n     * Matrix constructor, extend on your own risk.\n     * To create matrices use @Snap.matrix.\n    \\*/\n    Snap.Matrix = Matrix;\n    /*\\\n     * Snap.matrix\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns a matrix based on the given parameters\n     - a (number)\n     - b (number)\n     - c (number)\n     - d (number)\n     - e (number)\n     - f (number)\n     * or\n     - svgMatrix (SVGMatrix)\n     = (object) @Matrix\n    \\*/\n    Snap.matrix = function (a, b, c, d, e, f) {\n        return new Matrix(a, b, c, d, e, f);\n    };\n});\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var has = \"hasOwnProperty\",\n        make = Snap._.make,\n        wrap = Snap._.wrap,\n        is = Snap.is,\n        getSomeDefs = Snap._.getSomeDefs,\n        reURLValue = /^url\\(#?([^)]+)\\)$/,\n        $ = Snap._.$,\n        URL = Snap.url,\n        Str = String,\n        separator = Snap._.separator,\n        E = \"\";\n    // Attributes event handlers\n    eve.on(\"snap.util.attr.mask\", function (value) {\n        if (value instanceof Element || value instanceof Fragment) {\n            eve.stop();\n            if (value instanceof Fragment && value.node.childNodes.length == 1) {\n                value = value.node.firstChild;\n                getSomeDefs(this).appendChild(value);\n                value = wrap(value);\n            }\n            if (value.type == \"mask\") {\n                var mask = value;\n            } else {\n                mask = make(\"mask\", getSomeDefs(this));\n                mask.node.appendChild(value.node);\n            }\n            !mask.node.id && $(mask.node, {\n                id: mask.id\n            });\n            $(this.node, {\n                mask: URL(mask.id)\n            });\n        }\n    });\n    (function (clipIt) {\n        eve.on(\"snap.util.attr.clip\", clipIt);\n        eve.on(\"snap.util.attr.clip-path\", clipIt);\n        eve.on(\"snap.util.attr.clipPath\", clipIt);\n    }(function (value) {\n        if (value instanceof Element || value instanceof Fragment) {\n            eve.stop();\n            if (value.type == \"clipPath\") {\n                var clip = value;\n            } else {\n                clip = make(\"clipPath\", getSomeDefs(this));\n                clip.node.appendChild(value.node);\n                !clip.node.id && $(clip.node, {\n                    id: clip.id\n                });\n            }\n            $(this.node, {\n                \"clip-path\": URL(clip.id)\n            });\n        }\n    }));\n    function fillStroke(name) {\n        return function (value) {\n            eve.stop();\n            if (value instanceof Fragment && value.node.childNodes.length == 1 &&\n                (value.node.firstChild.tagName == \"radialGradient\" ||\n                value.node.firstChild.tagName == \"linearGradient\" ||\n                value.node.firstChild.tagName == \"pattern\")) {\n                value = value.node.firstChild;\n                getSomeDefs(this).appendChild(value);\n                value = wrap(value);\n            }\n            if (value instanceof Element) {\n                if (value.type == \"radialGradient\" || value.type == \"linearGradient\"\n                   || value.type == \"pattern\") {\n                    if (!value.node.id) {\n                        $(value.node, {\n                            id: value.id\n                        });\n                    }\n                    var fill = URL(value.node.id);\n                } else {\n                    fill = value.attr(name);\n                }\n            } else {\n                fill = Snap.color(value);\n                if (fill.error) {\n                    var grad = Snap(getSomeDefs(this).ownerSVGElement).gradient(value);\n                    if (grad) {\n                        if (!grad.node.id) {\n                            $(grad.node, {\n                                id: grad.id\n                            });\n                        }\n                        fill = URL(grad.node.id);\n                    } else {\n                        fill = value;\n                    }\n                } else {\n                    fill = Str(fill);\n                }\n            }\n            var attrs = {};\n            attrs[name] = fill;\n            $(this.node, attrs);\n            this.node.style[name] = E;\n        };\n    }\n    eve.on(\"snap.util.attr.fill\", fillStroke(\"fill\"));\n    eve.on(\"snap.util.attr.stroke\", fillStroke(\"stroke\"));\n    var gradrg = /^([lr])(?:\\(([^)]*)\\))?(.*)$/i;\n    eve.on(\"snap.util.grad.parse\", function parseGrad(string) {\n        string = Str(string);\n        var tokens = string.match(gradrg);\n        if (!tokens) {\n            return null;\n        }\n        var type = tokens[1],\n            params = tokens[2],\n            stops = tokens[3];\n        params = params.split(/\\s*,\\s*/).map(function (el) {\n            return +el == el ? +el : el;\n        });\n        if (params.length == 1 && params[0] == 0) {\n            params = [];\n        }\n        stops = stops.split(\"-\");\n        stops = stops.map(function (el) {\n            el = el.split(\":\");\n            var out = {\n                color: el[0]\n            };\n            if (el[1]) {\n                out.offset = parseFloat(el[1]);\n            }\n            return out;\n        });\n        return {\n            type: type,\n            params: params,\n            stops: stops\n        };\n    });\n\n    eve.on(\"snap.util.attr.d\", function (value) {\n        eve.stop();\n        if (is(value, \"array\") && is(value[0], \"array\")) {\n            value = Snap.path.toString.call(value);\n        }\n        value = Str(value);\n        if (value.match(/[ruo]/i)) {\n            value = Snap.path.toAbsolute(value);\n        }\n        $(this.node, {d: value});\n    })(-1);\n    eve.on(\"snap.util.attr.#text\", function (value) {\n        eve.stop();\n        value = Str(value);\n        var txt = glob.doc.createTextNode(value);\n        while (this.node.firstChild) {\n            this.node.removeChild(this.node.firstChild);\n        }\n        this.node.appendChild(txt);\n    })(-1);\n    eve.on(\"snap.util.attr.path\", function (value) {\n        eve.stop();\n        this.attr({d: value});\n    })(-1);\n    eve.on(\"snap.util.attr.class\", function (value) {\n        eve.stop();\n        this.node.className.baseVal = value;\n    })(-1);\n    eve.on(\"snap.util.attr.viewBox\", function (value) {\n        var vb;\n        if (is(value, \"object\") && \"x\" in value) {\n            vb = [value.x, value.y, value.width, value.height].join(\" \");\n        } else if (is(value, \"array\")) {\n            vb = value.join(\" \");\n        } else {\n            vb = value;\n        }\n        $(this.node, {\n            viewBox: vb\n        });\n        eve.stop();\n    })(-1);\n    eve.on(\"snap.util.attr.transform\", function (value) {\n        this.transform(value);\n        eve.stop();\n    })(-1);\n    eve.on(\"snap.util.attr.r\", function (value) {\n        if (this.type == \"rect\") {\n            eve.stop();\n            $(this.node, {\n                rx: value,\n                ry: value\n            });\n        }\n    })(-1);\n    eve.on(\"snap.util.attr.textpath\", function (value) {\n        eve.stop();\n        if (this.type == \"text\") {\n            var id, tp, node;\n            if (!value && this.textPath) {\n                tp = this.textPath;\n                while (tp.node.firstChild) {\n                    this.node.appendChild(tp.node.firstChild);\n                }\n                tp.remove();\n                delete this.textPath;\n                return;\n            }\n            if (is(value, \"string\")) {\n                var defs = getSomeDefs(this),\n                    path = wrap(defs.parentNode).path(value);\n                defs.appendChild(path.node);\n                id = path.id;\n                path.attr({id: id});\n            } else {\n                value = wrap(value);\n                if (value instanceof Element) {\n                    id = value.attr(\"id\");\n                    if (!id) {\n                        id = value.id;\n                        value.attr({id: id});\n                    }\n                }\n            }\n            if (id) {\n                tp = this.textPath;\n                node = this.node;\n                if (tp) {\n                    tp.attr({\"xlink:href\": \"#\" + id});\n                } else {\n                    tp = $(\"textPath\", {\n                        \"xlink:href\": \"#\" + id\n                    });\n                    while (node.firstChild) {\n                        tp.appendChild(node.firstChild);\n                    }\n                    node.appendChild(tp);\n                    this.textPath = wrap(tp);\n                }\n            }\n        }\n    })(-1);\n    eve.on(\"snap.util.attr.text\", function (value) {\n        if (this.type == \"text\") {\n            var i = 0,\n                node = this.node,\n                tuner = function (chunk) {\n                    var out = $(\"tspan\");\n                    if (is(chunk, \"array\")) {\n                        for (var i = 0; i < chunk.length; i++) {\n                            out.appendChild(tuner(chunk[i]));\n                        }\n                    } else {\n                        out.appendChild(glob.doc.createTextNode(chunk));\n                    }\n                    out.normalize && out.normalize();\n                    return out;\n                };\n            while (node.firstChild) {\n                node.removeChild(node.firstChild);\n            }\n            var tuned = tuner(value);\n            while (tuned.firstChild) {\n                node.appendChild(tuned.firstChild);\n            }\n        }\n        eve.stop();\n    })(-1);\n    function setFontSize(value) {\n        eve.stop();\n        if (value == +value) {\n            value += \"px\";\n        }\n        this.node.style.fontSize = value;\n    }\n    eve.on(\"snap.util.attr.fontSize\", setFontSize)(-1);\n    eve.on(\"snap.util.attr.font-size\", setFontSize)(-1);\n\n\n    eve.on(\"snap.util.getattr.transform\", function () {\n        eve.stop();\n        return this.transform();\n    })(-1);\n    eve.on(\"snap.util.getattr.textpath\", function () {\n        eve.stop();\n        return this.textPath;\n    })(-1);\n    // Markers\n    (function () {\n        function getter(end) {\n            return function () {\n                eve.stop();\n                var style = glob.doc.defaultView.getComputedStyle(this.node, null).getPropertyValue(\"marker-\" + end);\n                if (style == \"none\") {\n                    return style;\n                } else {\n                    return Snap(glob.doc.getElementById(style.match(reURLValue)[1]));\n                }\n            };\n        }\n        function setter(end) {\n            return function (value) {\n                eve.stop();\n                var name = \"marker\" + end.charAt(0).toUpperCase() + end.substring(1);\n                if (value == \"\" || !value) {\n                    this.node.style[name] = \"none\";\n                    return;\n                }\n                if (value.type == \"marker\") {\n                    var id = value.node.id;\n                    if (!id) {\n                        $(value.node, {id: value.id});\n                    }\n                    this.node.style[name] = URL(id);\n                    return;\n                }\n            };\n        }\n        eve.on(\"snap.util.getattr.marker-end\", getter(\"end\"))(-1);\n        eve.on(\"snap.util.getattr.markerEnd\", getter(\"end\"))(-1);\n        eve.on(\"snap.util.getattr.marker-start\", getter(\"start\"))(-1);\n        eve.on(\"snap.util.getattr.markerStart\", getter(\"start\"))(-1);\n        eve.on(\"snap.util.getattr.marker-mid\", getter(\"mid\"))(-1);\n        eve.on(\"snap.util.getattr.markerMid\", getter(\"mid\"))(-1);\n        eve.on(\"snap.util.attr.marker-end\", setter(\"end\"))(-1);\n        eve.on(\"snap.util.attr.markerEnd\", setter(\"end\"))(-1);\n        eve.on(\"snap.util.attr.marker-start\", setter(\"start\"))(-1);\n        eve.on(\"snap.util.attr.markerStart\", setter(\"start\"))(-1);\n        eve.on(\"snap.util.attr.marker-mid\", setter(\"mid\"))(-1);\n        eve.on(\"snap.util.attr.markerMid\", setter(\"mid\"))(-1);\n    }());\n    eve.on(\"snap.util.getattr.r\", function () {\n        if (this.type == \"rect\" && $(this.node, \"rx\") == $(this.node, \"ry\")) {\n            eve.stop();\n            return $(this.node, \"rx\");\n        }\n    })(-1);\n    function textExtract(node) {\n        var out = [];\n        var children = node.childNodes;\n        for (var i = 0, ii = children.length; i < ii; i++) {\n            var chi = children[i];\n            if (chi.nodeType == 3) {\n                out.push(chi.nodeValue);\n            }\n            if (chi.tagName == \"tspan\") {\n                if (chi.childNodes.length == 1 && chi.firstChild.nodeType == 3) {\n                    out.push(chi.firstChild.nodeValue);\n                } else {\n                    out.push(textExtract(chi));\n                }\n            }\n        }\n        return out;\n    }\n    eve.on(\"snap.util.getattr.text\", function () {\n        if (this.type == \"text\" || this.type == \"tspan\") {\n            eve.stop();\n            var out = textExtract(this.node);\n            return out.length == 1 ? out[0] : out;\n        }\n    })(-1);\n    eve.on(\"snap.util.getattr.#text\", function () {\n        return this.node.textContent;\n    })(-1);\n    eve.on(\"snap.util.getattr.viewBox\", function () {\n        eve.stop();\n        var vb = $(this.node, \"viewBox\");\n        if (vb) {\n            vb = vb.split(separator);\n            return Snap._.box(+vb[0], +vb[1], +vb[2], +vb[3]);\n        } else {\n            return;\n        }\n    })(-1);\n    eve.on(\"snap.util.getattr.points\", function () {\n        var p = $(this.node, \"points\");\n        eve.stop();\n        if (p) {\n            return p.split(separator);\n        } else {\n            return;\n        }\n    })(-1);\n    eve.on(\"snap.util.getattr.path\", function () {\n        var p = $(this.node, \"d\");\n        eve.stop();\n        return p;\n    })(-1);\n    eve.on(\"snap.util.getattr.class\", function () {\n        return this.node.className.baseVal;\n    })(-1);\n    function getFontSize() {\n        eve.stop();\n        return this.node.style.fontSize;\n    }\n    eve.on(\"snap.util.getattr.fontSize\", getFontSize)(-1);\n    eve.on(\"snap.util.getattr.font-size\", getFontSize)(-1);\n});\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var operators = {\n            \"+\": function (x, y) {\n                    return x + y;\n                },\n            \"-\": function (x, y) {\n                    return x - y;\n                },\n            \"/\": function (x, y) {\n                    return x / y;\n                },\n            \"*\": function (x, y) {\n                    return x * y;\n                }\n        },\n        Str = String,\n        reUnit = /[a-z]+$/i,\n        reAddon = /^\\s*([+\\-\\/*])\\s*=\\s*([\\d.eE+\\-]+)\\s*([^\\d\\s]+)?\\s*$/;\n    function getNumber(val) {\n        return val;\n    }\n    function getUnit(unit) {\n        return function (val) {\n            return +val.toFixed(3) + unit;\n        };\n    }\n    eve.on(\"snap.util.attr\", function (val) {\n        var plus = Str(val).match(reAddon);\n        if (plus) {\n            var evnt = eve.nt(),\n                name = evnt.substring(evnt.lastIndexOf(\".\") + 1),\n                a = this.attr(name),\n                atr = {};\n            eve.stop();\n            var unit = plus[3] || \"\",\n                aUnit = a.match(reUnit),\n                op = operators[plus[1]];\n            if (aUnit && aUnit == unit) {\n                val = op(parseFloat(a), +plus[2]);\n            } else {\n                a = this.asPX(name);\n                val = op(this.asPX(name), this.asPX(name, plus[2] + unit));\n            }\n            if (isNaN(a) || isNaN(val)) {\n                return;\n            }\n            atr[name] = val;\n            this.attr(atr);\n        }\n    })(-10);\n    eve.on(\"snap.util.equal\", function (name, b) {\n        var A, B, a = Str(this.attr(name) || \"\"),\n            el = this,\n            bplus = Str(b).match(reAddon);\n        if (bplus) {\n            eve.stop();\n            var unit = bplus[3] || \"\",\n                aUnit = a.match(reUnit),\n                op = operators[bplus[1]];\n            if (aUnit && aUnit == unit) {\n                return {\n                    from: parseFloat(a),\n                    to: op(parseFloat(a), +bplus[2]),\n                    f: getUnit(aUnit)\n                };\n            } else {\n                a = this.asPX(name);\n                return {\n                    from: a,\n                    to: op(a, this.asPX(name, bplus[2] + unit)),\n                    f: getNumber\n                };\n            }\n        }\n    })(-10);\n});\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var proto = Paper.prototype,\n        is = Snap.is;\n    /*\\\n     * Paper.rect\n     [ method ]\n     *\n     * Draws a rectangle\n     **\n     - x (number) x coordinate of the top left corner\n     - y (number) y coordinate of the top left corner\n     - width (number) width\n     - height (number) height\n     - rx (number) #optional horizontal radius for rounded corners, default is 0\n     - ry (number) #optional vertical radius for rounded corners, default is rx or 0\n     = (object) the `rect` element\n     **\n     > Usage\n     | // regular rectangle\n     | var c = paper.rect(10, 10, 50, 50);\n     | // rectangle with rounded corners\n     | var c = paper.rect(40, 40, 50, 50, 10);\n    \\*/\n    proto.rect = function (x, y, w, h, rx, ry) {\n        var attr;\n        if (ry == null) {\n            ry = rx;\n        }\n        if (is(x, \"object\") && x == \"[object Object]\") {\n            attr = x;\n        } else if (x != null) {\n            attr = {\n                x: x,\n                y: y,\n                width: w,\n                height: h\n            };\n            if (rx != null) {\n                attr.rx = rx;\n                attr.ry = ry;\n            }\n        }\n        return this.el(\"rect\", attr);\n    };\n    /*\\\n     * Paper.circle\n     [ method ]\n     **\n     * Draws a circle\n     **\n     - x (number) x coordinate of the centre\n     - y (number) y coordinate of the centre\n     - r (number) radius\n     = (object) the `circle` element\n     **\n     > Usage\n     | var c = paper.circle(50, 50, 40);\n    \\*/\n    proto.circle = function (cx, cy, r) {\n        var attr;\n        if (is(cx, \"object\") && cx == \"[object Object]\") {\n            attr = cx;\n        } else if (cx != null) {\n            attr = {\n                cx: cx,\n                cy: cy,\n                r: r\n            };\n        }\n        return this.el(\"circle\", attr);\n    };\n\n    var preload = (function () {\n        function onerror() {\n            this.parentNode.removeChild(this);\n        }\n        return function (src, f) {\n            var img = glob.doc.createElement(\"img\"),\n                body = glob.doc.body;\n            img.style.cssText = \"position:absolute;left:-9999em;top:-9999em\";\n            img.onload = function () {\n                f.call(img);\n                img.onload = img.onerror = null;\n                body.removeChild(img);\n            };\n            img.onerror = onerror;\n            body.appendChild(img);\n            img.src = src;\n        };\n    }());\n\n    /*\\\n     * Paper.image\n     [ method ]\n     **\n     * Places an image on the surface\n     **\n     - src (string) URI of the source image\n     - x (number) x offset position\n     - y (number) y offset position\n     - width (number) width of the image\n     - height (number) height of the image\n     = (object) the `image` element\n     * or\n     = (object) Snap element object with type `image`\n     **\n     > Usage\n     | var c = paper.image(\"apple.png\", 10, 10, 80, 80);\n    \\*/\n    proto.image = function (src, x, y, width, height) {\n        var el = this.el(\"image\");\n        if (is(src, \"object\") && \"src\" in src) {\n            el.attr(src);\n        } else if (src != null) {\n            var set = {\n                \"xlink:href\": src,\n                preserveAspectRatio: \"none\"\n            };\n            if (x != null && y != null) {\n                set.x = x;\n                set.y = y;\n            }\n            if (width != null && height != null) {\n                set.width = width;\n                set.height = height;\n            } else {\n                preload(src, function () {\n                    Snap._.$(el.node, {\n                        width: this.offsetWidth,\n                        height: this.offsetHeight\n                    });\n                });\n            }\n            Snap._.$(el.node, set);\n        }\n        return el;\n    };\n    /*\\\n     * Paper.ellipse\n     [ method ]\n     **\n     * Draws an ellipse\n     **\n     - x (number) x coordinate of the centre\n     - y (number) y coordinate of the centre\n     - rx (number) horizontal radius\n     - ry (number) vertical radius\n     = (object) the `ellipse` element\n     **\n     > Usage\n     | var c = paper.ellipse(50, 50, 40, 20);\n    \\*/\n    proto.ellipse = function (cx, cy, rx, ry) {\n        var attr;\n        if (is(cx, \"object\") && cx == \"[object Object]\") {\n            attr = cx;\n        } else if (cx != null) {\n            attr ={\n                cx: cx,\n                cy: cy,\n                rx: rx,\n                ry: ry\n            };\n        }\n        return this.el(\"ellipse\", attr);\n    };\n    // SIERRA Paper.path(): Unclear from the link what a Catmull-Rom curveto is, and why it would make life any easier.\n    /*\\\n     * Paper.path\n     [ method ]\n     **\n     * Creates a `<path>` element using the given string as the path's definition\n     - pathString (string) #optional path string in SVG format\n     * Path string consists of one-letter commands, followed by comma seprarated arguments in numerical form. Example:\n     | \"M10,20L30,40\"\n     * This example features two commands: `M`, with arguments `(10, 20)` and `L` with arguments `(30, 40)`. Uppercase letter commands express coordinates in absolute terms, while lowercase commands express them in relative terms from the most recently declared coordinates.\n     *\n     # <p>Here is short list of commands available, for more details see <a href=\"http://www.w3.org/TR/SVG/paths.html#PathData\" title=\"Details of a path's data attribute's format are described in the SVG specification.\">SVG path string format</a> or <a href=\"https://developer.mozilla.org/en/SVG/Tutorial/Paths\">article about path strings at MDN</a>.</p>\n     # <table><thead><tr><th>Command</th><th>Name</th><th>Parameters</th></tr></thead><tbody>\n     # <tr><td>M</td><td>moveto</td><td>(x y)+</td></tr>\n     # <tr><td>Z</td><td>closepath</td><td>(none)</td></tr>\n     # <tr><td>L</td><td>lineto</td><td>(x y)+</td></tr>\n     # <tr><td>H</td><td>horizontal lineto</td><td>x+</td></tr>\n     # <tr><td>V</td><td>vertical lineto</td><td>y+</td></tr>\n     # <tr><td>C</td><td>curveto</td><td>(x1 y1 x2 y2 x y)+</td></tr>\n     # <tr><td>S</td><td>smooth curveto</td><td>(x2 y2 x y)+</td></tr>\n     # <tr><td>Q</td><td>quadratic Bézier curveto</td><td>(x1 y1 x y)+</td></tr>\n     # <tr><td>T</td><td>smooth quadratic Bézier curveto</td><td>(x y)+</td></tr>\n     # <tr><td>A</td><td>elliptical arc</td><td>(rx ry x-axis-rotation large-arc-flag sweep-flag x y)+</td></tr>\n     # <tr><td>R</td><td><a href=\"http://en.wikipedia.org/wiki/Catmull–Rom_spline#Catmull.E2.80.93Rom_spline\">Catmull-Rom curveto</a>*</td><td>x1 y1 (x y)+</td></tr></tbody></table>\n     * * _Catmull-Rom curveto_ is a not standard SVG command and added to make life easier.\n     * Note: there is a special case when a path consists of only three commands: `M10,10R…z`. In this case the path connects back to its starting point.\n     > Usage\n     | var c = paper.path(\"M10 10L90 90\");\n     | // draw a diagonal line:\n     | // move to 10,10, line to 90,90\n    \\*/\n    proto.path = function (d) {\n        var attr;\n        if (is(d, \"object\") && !is(d, \"array\")) {\n            attr = d;\n        } else if (d) {\n            attr = {d: d};\n        }\n        return this.el(\"path\", attr);\n    };\n    /*\\\n     * Paper.g\n     [ method ]\n     **\n     * Creates a group element\n     **\n     - varargs (…) #optional elements to nest within the group\n     = (object) the `g` element\n     **\n     > Usage\n     | var c1 = paper.circle(),\n     |     c2 = paper.rect(),\n     |     g = paper.g(c2, c1); // note that the order of elements is different\n     * or\n     | var c1 = paper.circle(),\n     |     c2 = paper.rect(),\n     |     g = paper.g();\n     | g.add(c2, c1);\n    \\*/\n    /*\\\n     * Paper.group\n     [ method ]\n     **\n     * See @Paper.g\n    \\*/\n    proto.group = proto.g = function (first) {\n        var attr,\n            el = this.el(\"g\");\n        if (arguments.length == 1 && first && !first.type) {\n            el.attr(first);\n        } else if (arguments.length) {\n            el.add(Array.prototype.slice.call(arguments, 0));\n        }\n        return el;\n    };\n    /*\\\n     * Paper.svg\n     [ method ]\n     **\n     * Creates a nested SVG element.\n     - x (number) @optional X of the element\n     - y (number) @optional Y of the element\n     - width (number) @optional width of the element\n     - height (number) @optional height of the element\n     - vbx (number) @optional viewbox X\n     - vby (number) @optional viewbox Y\n     - vbw (number) @optional viewbox width\n     - vbh (number) @optional viewbox height\n     **\n     = (object) the `svg` element\n     **\n    \\*/\n    proto.svg = function (x, y, width, height, vbx, vby, vbw, vbh) {\n        var attrs = {};\n        if (is(x, \"object\") && y == null) {\n            attrs = x;\n        } else {\n            if (x != null) {\n                attrs.x = x;\n            }\n            if (y != null) {\n                attrs.y = y;\n            }\n            if (width != null) {\n                attrs.width = width;\n            }\n            if (height != null) {\n                attrs.height = height;\n            }\n            if (vbx != null && vby != null && vbw != null && vbh != null) {\n                attrs.viewBox = [vbx, vby, vbw, vbh];\n            }\n        }\n        return this.el(\"svg\", attrs);\n    };\n    /*\\\n     * Paper.mask\n     [ method ]\n     **\n     * Equivalent in behaviour to @Paper.g, except it’s a mask.\n     **\n     = (object) the `mask` element\n     **\n    \\*/\n    proto.mask = function (first) {\n        var attr,\n            el = this.el(\"mask\");\n        if (arguments.length == 1 && first && !first.type) {\n            el.attr(first);\n        } else if (arguments.length) {\n            el.add(Array.prototype.slice.call(arguments, 0));\n        }\n        return el;\n    };\n    /*\\\n     * Paper.ptrn\n     [ method ]\n     **\n     * Equivalent in behaviour to @Paper.g, except it’s a mask.\n     - x (number) @optional X of the element\n     - y (number) @optional Y of the element\n     - width (number) @optional width of the element\n     - height (number) @optional height of the element\n     - vbx (number) @optional viewbox X\n     - vby (number) @optional viewbox Y\n     - vbw (number) @optional viewbox width\n     - vbh (number) @optional viewbox height\n     **\n     = (object) the `mask` element\n     **\n    \\*/\n    proto.ptrn = function (x, y, width, height, vx, vy, vw, vh) {\n        if (is(x, \"object\")) {\n            var attr = x;\n        } else if (!arguments.length) {\n            attr = {patternUnits: \"userSpaceOnUse\"};\n        } else {\n            attr = {};\n            if (x != null) {\n                attr.x = x;\n            }\n            if (y != null) {\n                attr.y = y;\n            }\n            if (width != null) {\n                attr.width = width;\n            }\n            if (height != null) {\n                attr.height = height;\n            }\n            if (vx != null && vy != null && vw != null && vh != null) {\n                attr.viewBox = [vx, vy, vw, vh];\n            }\n        }\n        return this.el(\"pattern\", attr);\n    };\n    /*\\\n     * Paper.use\n     [ method ]\n     **\n     * Creates a <use> element.\n     - id (string) @optional id of element to link\n     * or\n     - id (Element) @optional element to link\n     **\n     = (object) the `use` element\n     **\n    \\*/\n    proto.use = function (id) {\n        if (id != null) {\n            var el = make(\"use\", this.node);\n            if (id instanceof Element) {\n                if (!id.attr(\"id\")) {\n                    id.attr({id: ID()});\n                }\n                id = id.attr(\"id\");\n            }\n            return this.el(\"use\", {\"xlink:href\": id});\n        } else {\n            return Element.prototype.use.call(this);\n        }\n    };\n    /*\\\n     * Paper.text\n     [ method ]\n     **\n     * Draws a text string\n     **\n     - x (number) x coordinate position\n     - y (number) y coordinate position\n     - text (string|array) The text string to draw or array of strings to nest within separate `<tspan>` elements\n     = (object) the `text` element\n     **\n     > Usage\n     | var t1 = paper.text(50, 50, \"Snap\");\n     | var t2 = paper.text(50, 50, [\"S\",\"n\",\"a\",\"p\"]);\n     | // Text path usage\n     | t1.attr({textpath: \"M10,10L100,100\"});\n     | // or\n     | var pth = paper.path(\"M10,10L100,100\");\n     | t1.attr({textpath: pth});\n    \\*/\n    proto.text = function (x, y, text) {\n        var attr = {};\n        if (is(x, \"object\")) {\n            attr = x;\n        } else if (x != null) {\n            attr = {\n                x: x,\n                y: y,\n                text: text || \"\"\n            };\n        }\n        return this.el(\"text\", attr);\n    };\n    /*\\\n     * Paper.line\n     [ method ]\n     **\n     * Draws a line\n     **\n     - x1 (number) x coordinate position of the start\n     - y1 (number) y coordinate position of the start\n     - x2 (number) x coordinate position of the end\n     - y2 (number) y coordinate position of the end\n     = (object) the `line` element\n     **\n     > Usage\n     | var t1 = paper.line(50, 50, 100, 100);\n    \\*/\n    proto.line = function (x1, y1, x2, y2) {\n        var attr = {};\n        if (is(x1, \"object\")) {\n            attr = x1;\n        } else if (x1 != null) {\n            attr = {\n                x1: x1,\n                x2: x2,\n                y1: y1,\n                y2: y2\n            };\n        }\n        return this.el(\"line\", attr);\n    };\n    /*\\\n     * Paper.polyline\n     [ method ]\n     **\n     * Draws a polyline\n     **\n     - points (array) array of points\n     * or\n     - varargs (…) points\n     = (object) the `polyline` element\n     **\n     > Usage\n     | var p1 = paper.polyline([10, 10, 100, 100]);\n     | var p2 = paper.polyline(10, 10, 100, 100);\n    \\*/\n    proto.polyline = function (points) {\n        if (arguments.length > 1) {\n            points = Array.prototype.slice.call(arguments, 0);\n        }\n        var attr = {};\n        if (is(points, \"object\") && !is(points, \"array\")) {\n            attr = points;\n        } else if (points != null) {\n            attr = {points: points};\n        }\n        return this.el(\"polyline\", attr);\n    };\n    /*\\\n     * Paper.polygon\n     [ method ]\n     **\n     * Draws a polygon. See @Paper.polyline\n    \\*/\n    proto.polygon = function (points) {\n        if (arguments.length > 1) {\n            points = Array.prototype.slice.call(arguments, 0);\n        }\n        var attr = {};\n        if (is(points, \"object\") && !is(points, \"array\")) {\n            attr = points;\n        } else if (points != null) {\n            attr = {points: points};\n        }\n        return this.el(\"polygon\", attr);\n    };\n    // gradients\n    (function () {\n        var $ = Snap._.$;\n        // gradients' helpers\n        function Gstops() {\n            return this.selectAll(\"stop\");\n        }\n        function GaddStop(color, offset) {\n            var stop = $(\"stop\"),\n                attr = {\n                    offset: +offset + \"%\"\n                };\n            color = Snap.color(color);\n            attr[\"stop-color\"] = color.hex;\n            if (color.opacity < 1) {\n                attr[\"stop-opacity\"] = color.opacity;\n            }\n            $(stop, attr);\n            this.node.appendChild(stop);\n            return this;\n        }\n        function GgetBBox() {\n            if (this.type == \"linearGradient\") {\n                var x1 = $(this.node, \"x1\") || 0,\n                    x2 = $(this.node, \"x2\") || 1,\n                    y1 = $(this.node, \"y1\") || 0,\n                    y2 = $(this.node, \"y2\") || 0;\n                return Snap._.box(x1, y1, math.abs(x2 - x1), math.abs(y2 - y1));\n            } else {\n                var cx = this.node.cx || .5,\n                    cy = this.node.cy || .5,\n                    r = this.node.r || 0;\n                return Snap._.box(cx - r, cy - r, r * 2, r * 2);\n            }\n        }\n        function gradient(defs, str) {\n            var grad = eve(\"snap.util.grad.parse\", null, str).firstDefined(),\n                el;\n            if (!grad) {\n                return null;\n            }\n            grad.params.unshift(defs);\n            if (grad.type.toLowerCase() == \"l\") {\n                el = gradientLinear.apply(0, grad.params);\n            } else {\n                el = gradientRadial.apply(0, grad.params);\n            }\n            if (grad.type != grad.type.toLowerCase()) {\n                $(el.node, {\n                    gradientUnits: \"userSpaceOnUse\"\n                });\n            }\n            var stops = grad.stops,\n                len = stops.length,\n                start = 0,\n                j = 0;\n            function seed(i, end) {\n                var step = (end - start) / (i - j);\n                for (var k = j; k < i; k++) {\n                    stops[k].offset = +(+start + step * (k - j)).toFixed(2);\n                }\n                j = i;\n                start = end;\n            }\n            len--;\n            for (var i = 0; i < len; i++) if (\"offset\" in stops[i]) {\n                seed(i, stops[i].offset);\n            }\n            stops[len].offset = stops[len].offset || 100;\n            seed(len, stops[len].offset);\n            for (i = 0; i <= len; i++) {\n                var stop = stops[i];\n                el.addStop(stop.color, stop.offset);\n            }\n            return el;\n        }\n        function gradientLinear(defs, x1, y1, x2, y2) {\n            var el = Snap._.make(\"linearGradient\", defs);\n            el.stops = Gstops;\n            el.addStop = GaddStop;\n            el.getBBox = GgetBBox;\n            if (x1 != null) {\n                $(el.node, {\n                    x1: x1,\n                    y1: y1,\n                    x2: x2,\n                    y2: y2\n                });\n            }\n            return el;\n        }\n        function gradientRadial(defs, cx, cy, r, fx, fy) {\n            var el = Snap._.make(\"radialGradient\", defs);\n            el.stops = Gstops;\n            el.addStop = GaddStop;\n            el.getBBox = GgetBBox;\n            if (cx != null) {\n                $(el.node, {\n                    cx: cx,\n                    cy: cy,\n                    r: r\n                });\n            }\n            if (fx != null && fy != null) {\n                $(el.node, {\n                    fx: fx,\n                    fy: fy\n                });\n            }\n            return el;\n        }\n        /*\\\n         * Paper.gradient\n         [ method ]\n         **\n         * Creates a gradient element\n         **\n         - gradient (string) gradient descriptor\n         > Gradient Descriptor\n         * The gradient descriptor is an expression formatted as\n         * follows: `<type>(<coords>)<colors>`.  The `<type>` can be\n         * either linear or radial.  The uppercase `L` or `R` letters\n         * indicate absolute coordinates offset from the SVG surface.\n         * Lowercase `l` or `r` letters indicate coordinates\n         * calculated relative to the element to which the gradient is\n         * applied.  Coordinates specify a linear gradient vector as\n         * `x1`, `y1`, `x2`, `y2`, or a radial gradient as `cx`, `cy`,\n         * `r` and optional `fx`, `fy` specifying a focal point away\n         * from the center of the circle. Specify `<colors>` as a list\n         * of dash-separated CSS color values.  Each color may be\n         * followed by a custom offset value, separated with a colon\n         * character.\n         > Examples\n         * Linear gradient, relative from top-left corner to bottom-right\n         * corner, from black through red to white:\n         | var g = paper.gradient(\"l(0, 0, 1, 1)#000-#f00-#fff\");\n         * Linear gradient, absolute from (0, 0) to (100, 100), from black\n         * through red at 25% to white:\n         | var g = paper.gradient(\"L(0, 0, 100, 100)#000-#f00:25-#fff\");\n         * Radial gradient, relative from the center of the element with radius\n         * half the width, from black to white:\n         | var g = paper.gradient(\"r(0.5, 0.5, 0.5)#000-#fff\");\n         * To apply the gradient:\n         | paper.circle(50, 50, 40).attr({\n         |     fill: g\n         | });\n         = (object) the `gradient` element\n        \\*/\n        proto.gradient = function (str) {\n            return gradient(this.defs, str);\n        };\n        proto.gradientLinear = function (x1, y1, x2, y2) {\n            return gradientLinear(this.defs, x1, y1, x2, y2);\n        };\n        proto.gradientRadial = function (cx, cy, r, fx, fy) {\n            return gradientRadial(this.defs, cx, cy, r, fx, fy);\n        };\n        /*\\\n         * Paper.toString\n         [ method ]\n         **\n         * Returns SVG code for the @Paper\n         = (string) SVG code for the @Paper\n        \\*/\n        proto.toString = function () {\n            var doc = this.node.ownerDocument,\n                f = doc.createDocumentFragment(),\n                d = doc.createElement(\"div\"),\n                svg = this.node.cloneNode(true),\n                res;\n            f.appendChild(d);\n            d.appendChild(svg);\n            Snap._.$(svg, {xmlns: \"http://www.w3.org/2000/svg\"});\n            res = d.innerHTML;\n            f.removeChild(f.firstChild);\n            return res;\n        };\n        /*\\\n         * Paper.clear\n         [ method ]\n         **\n         * Removes all child nodes of the paper, except <defs>.\n        \\*/\n        proto.clear = function () {\n            var node = this.node.firstChild,\n                next;\n            while (node) {\n                next = node.nextSibling;\n                if (node.tagName != \"defs\") {\n                    node.parentNode.removeChild(node);\n                } else {\n                    proto.clear.call({node: node});\n                }\n                node = next;\n            }\n        };\n    }());\n});\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var elproto = Element.prototype,\n        is = Snap.is,\n        clone = Snap._.clone,\n        has = \"hasOwnProperty\",\n        p2s = /,?([a-z]),?/gi,\n        toFloat = parseFloat,\n        math = Math,\n        PI = math.PI,\n        mmin = math.min,\n        mmax = math.max,\n        pow = math.pow,\n        abs = math.abs;\n    function paths(ps) {\n        var p = paths.ps = paths.ps || {};\n        if (p[ps]) {\n            p[ps].sleep = 100;\n        } else {\n            p[ps] = {\n                sleep: 100\n            };\n        }\n        setTimeout(function () {\n            for (var key in p) if (p[has](key) && key != ps) {\n                p[key].sleep--;\n                !p[key].sleep && delete p[key];\n            }\n        });\n        return p[ps];\n    }\n    function box(x, y, width, height) {\n        if (x == null) {\n            x = y = width = height = 0;\n        }\n        if (y == null) {\n            y = x.y;\n            width = x.width;\n            height = x.height;\n            x = x.x;\n        }\n        return {\n            x: x,\n            y: y,\n            width: width,\n            w: width,\n            height: height,\n            h: height,\n            x2: x + width,\n            y2: y + height,\n            cx: x + width / 2,\n            cy: y + height / 2,\n            r1: math.min(width, height) / 2,\n            r2: math.max(width, height) / 2,\n            r0: math.sqrt(width * width + height * height) / 2,\n            path: rectPath(x, y, width, height),\n            vb: [x, y, width, height].join(\" \")\n        };\n    }\n    function toString() {\n        return this.join(\",\").replace(p2s, \"$1\");\n    }\n    function pathClone(pathArray) {\n        var res = clone(pathArray);\n        res.toString = toString;\n        return res;\n    }\n    function getPointAtSegmentLength(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length) {\n        if (length == null) {\n            return bezlen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y);\n        } else {\n            return findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y,\n                getTotLen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length));\n        }\n    }\n    function getLengthFactory(istotal, subpath) {\n        function O(val) {\n            return +(+val).toFixed(3);\n        }\n        return Snap._.cacher(function (path, length, onlystart) {\n            if (path instanceof Element) {\n                path = path.attr(\"d\");\n            }\n            path = path2curve(path);\n            var x, y, p, l, sp = \"\", subpaths = {}, point,\n                len = 0;\n            for (var i = 0, ii = path.length; i < ii; i++) {\n                p = path[i];\n                if (p[0] == \"M\") {\n                    x = +p[1];\n                    y = +p[2];\n                } else {\n                    l = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\n                    if (len + l > length) {\n                        if (subpath && !subpaths.start) {\n                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\n                            sp += [\n                                \"C\" + O(point.start.x),\n                                O(point.start.y),\n                                O(point.m.x),\n                                O(point.m.y),\n                                O(point.x),\n                                O(point.y)\n                            ];\n                            if (onlystart) {return sp;}\n                            subpaths.start = sp;\n                            sp = [\n                                \"M\" + O(point.x),\n                                O(point.y) + \"C\" + O(point.n.x),\n                                O(point.n.y),\n                                O(point.end.x),\n                                O(point.end.y),\n                                O(p[5]),\n                                O(p[6])\n                            ].join();\n                            len += l;\n                            x = +p[5];\n                            y = +p[6];\n                            continue;\n                        }\n                        if (!istotal && !subpath) {\n                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\n                            return point;\n                        }\n                    }\n                    len += l;\n                    x = +p[5];\n                    y = +p[6];\n                }\n                sp += p.shift() + p;\n            }\n            subpaths.end = sp;\n            point = istotal ? len : subpath ? subpaths : findDotsAtSegment(x, y, p[0], p[1], p[2], p[3], p[4], p[5], 1);\n            return point;\n        }, null, Snap._.clone);\n    }\n    var getTotalLength = getLengthFactory(1),\n        getPointAtLength = getLengthFactory(),\n        getSubpathsAtLength = getLengthFactory(0, 1);\n    function findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n        var t1 = 1 - t,\n            t13 = pow(t1, 3),\n            t12 = pow(t1, 2),\n            t2 = t * t,\n            t3 = t2 * t,\n            x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x,\n            y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y,\n            mx = p1x + 2 * t * (c1x - p1x) + t2 * (c2x - 2 * c1x + p1x),\n            my = p1y + 2 * t * (c1y - p1y) + t2 * (c2y - 2 * c1y + p1y),\n            nx = c1x + 2 * t * (c2x - c1x) + t2 * (p2x - 2 * c2x + c1x),\n            ny = c1y + 2 * t * (c2y - c1y) + t2 * (p2y - 2 * c2y + c1y),\n            ax = t1 * p1x + t * c1x,\n            ay = t1 * p1y + t * c1y,\n            cx = t1 * c2x + t * p2x,\n            cy = t1 * c2y + t * p2y,\n            alpha = (90 - math.atan2(mx - nx, my - ny) * 180 / PI);\n        // (mx > nx || my < ny) && (alpha += 180);\n        return {\n            x: x,\n            y: y,\n            m: {x: mx, y: my},\n            n: {x: nx, y: ny},\n            start: {x: ax, y: ay},\n            end: {x: cx, y: cy},\n            alpha: alpha\n        };\n    }\n    function bezierBBox(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\n        if (!Snap.is(p1x, \"array\")) {\n            p1x = [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y];\n        }\n        var bbox = curveDim.apply(null, p1x);\n        return box(\n            bbox.min.x,\n            bbox.min.y,\n            bbox.max.x - bbox.min.x,\n            bbox.max.y - bbox.min.y\n        );\n    }\n    function isPointInsideBBox(bbox, x, y) {\n        return  x >= bbox.x &&\n                x <= bbox.x + bbox.width &&\n                y >= bbox.y &&\n                y <= bbox.y + bbox.height;\n    }\n    function isBBoxIntersect(bbox1, bbox2) {\n        bbox1 = box(bbox1);\n        bbox2 = box(bbox2);\n        return isPointInsideBBox(bbox2, bbox1.x, bbox1.y)\n            || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y)\n            || isPointInsideBBox(bbox2, bbox1.x, bbox1.y2)\n            || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y2)\n            || isPointInsideBBox(bbox1, bbox2.x, bbox2.y)\n            || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y)\n            || isPointInsideBBox(bbox1, bbox2.x, bbox2.y2)\n            || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y2)\n            || (bbox1.x < bbox2.x2 && bbox1.x > bbox2.x\n                || bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)\n            && (bbox1.y < bbox2.y2 && bbox1.y > bbox2.y\n                || bbox2.y < bbox1.y2 && bbox2.y > bbox1.y);\n    }\n    function base3(t, p1, p2, p3, p4) {\n        var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4,\n            t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n        return t * t2 - 3 * p1 + 3 * p2;\n    }\n    function bezlen(x1, y1, x2, y2, x3, y3, x4, y4, z) {\n        if (z == null) {\n            z = 1;\n        }\n        z = z > 1 ? 1 : z < 0 ? 0 : z;\n        var z2 = z / 2,\n            n = 12,\n            Tvalues = [-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],\n            Cvalues = [0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],\n            sum = 0;\n        for (var i = 0; i < n; i++) {\n            var ct = z2 * Tvalues[i] + z2,\n                xbase = base3(ct, x1, x2, x3, x4),\n                ybase = base3(ct, y1, y2, y3, y4),\n                comb = xbase * xbase + ybase * ybase;\n            sum += Cvalues[i] * math.sqrt(comb);\n        }\n        return z2 * sum;\n    }\n    function getTotLen(x1, y1, x2, y2, x3, y3, x4, y4, ll) {\n        if (ll < 0 || bezlen(x1, y1, x2, y2, x3, y3, x4, y4) < ll) {\n            return;\n        }\n        var t = 1,\n            step = t / 2,\n            t2 = t - step,\n            l,\n            e = .01;\n        l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\n        while (abs(l - ll) > e) {\n            step /= 2;\n            t2 += (l < ll ? 1 : -1) * step;\n            l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\n        }\n        return t2;\n    }\n    function intersect(x1, y1, x2, y2, x3, y3, x4, y4) {\n        if (\n            mmax(x1, x2) < mmin(x3, x4) ||\n            mmin(x1, x2) > mmax(x3, x4) ||\n            mmax(y1, y2) < mmin(y3, y4) ||\n            mmin(y1, y2) > mmax(y3, y4)\n        ) {\n            return;\n        }\n        var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n            ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n            denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n\n        if (!denominator) {\n            return;\n        }\n        var px = nx / denominator,\n            py = ny / denominator,\n            px2 = +px.toFixed(2),\n            py2 = +py.toFixed(2);\n        if (\n            px2 < +mmin(x1, x2).toFixed(2) ||\n            px2 > +mmax(x1, x2).toFixed(2) ||\n            px2 < +mmin(x3, x4).toFixed(2) ||\n            px2 > +mmax(x3, x4).toFixed(2) ||\n            py2 < +mmin(y1, y2).toFixed(2) ||\n            py2 > +mmax(y1, y2).toFixed(2) ||\n            py2 < +mmin(y3, y4).toFixed(2) ||\n            py2 > +mmax(y3, y4).toFixed(2)\n        ) {\n            return;\n        }\n        return {x: px, y: py};\n    }\n    function inter(bez1, bez2) {\n        return interHelper(bez1, bez2);\n    }\n    function interCount(bez1, bez2) {\n        return interHelper(bez1, bez2, 1);\n    }\n    function interHelper(bez1, bez2, justCount) {\n        var bbox1 = bezierBBox(bez1),\n            bbox2 = bezierBBox(bez2);\n        if (!isBBoxIntersect(bbox1, bbox2)) {\n            return justCount ? 0 : [];\n        }\n        var l1 = bezlen.apply(0, bez1),\n            l2 = bezlen.apply(0, bez2),\n            n1 = ~~(l1 / 8),\n            n2 = ~~(l2 / 8),\n            dots1 = [],\n            dots2 = [],\n            xy = {},\n            res = justCount ? 0 : [];\n        for (var i = 0; i < n1 + 1; i++) {\n            var p = findDotsAtSegment.apply(0, bez1.concat(i / n1));\n            dots1.push({x: p.x, y: p.y, t: i / n1});\n        }\n        for (i = 0; i < n2 + 1; i++) {\n            p = findDotsAtSegment.apply(0, bez2.concat(i / n2));\n            dots2.push({x: p.x, y: p.y, t: i / n2});\n        }\n        for (i = 0; i < n1; i++) {\n            for (var j = 0; j < n2; j++) {\n                var di = dots1[i],\n                    di1 = dots1[i + 1],\n                    dj = dots2[j],\n                    dj1 = dots2[j + 1],\n                    ci = abs(di1.x - di.x) < .001 ? \"y\" : \"x\",\n                    cj = abs(dj1.x - dj.x) < .001 ? \"y\" : \"x\",\n                    is = intersect(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y);\n                if (is) {\n                    if (xy[is.x.toFixed(4)] == is.y.toFixed(4)) {\n                        continue;\n                    }\n                    xy[is.x.toFixed(4)] = is.y.toFixed(4);\n                    var t1 = di.t + abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t),\n                        t2 = dj.t + abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n                    if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {\n                        if (justCount) {\n                            res++;\n                        } else {\n                            res.push({\n                                x: is.x,\n                                y: is.y,\n                                t1: t1,\n                                t2: t2\n                            });\n                        }\n                    }\n                }\n            }\n        }\n        return res;\n    }\n    function pathIntersection(path1, path2) {\n        return interPathHelper(path1, path2);\n    }\n    function pathIntersectionNumber(path1, path2) {\n        return interPathHelper(path1, path2, 1);\n    }\n    function interPathHelper(path1, path2, justCount) {\n        path1 = path2curve(path1);\n        path2 = path2curve(path2);\n        var x1, y1, x2, y2, x1m, y1m, x2m, y2m, bez1, bez2,\n            res = justCount ? 0 : [];\n        for (var i = 0, ii = path1.length; i < ii; i++) {\n            var pi = path1[i];\n            if (pi[0] == \"M\") {\n                x1 = x1m = pi[1];\n                y1 = y1m = pi[2];\n            } else {\n                if (pi[0] == \"C\") {\n                    bez1 = [x1, y1].concat(pi.slice(1));\n                    x1 = bez1[6];\n                    y1 = bez1[7];\n                } else {\n                    bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n                    x1 = x1m;\n                    y1 = y1m;\n                }\n                for (var j = 0, jj = path2.length; j < jj; j++) {\n                    var pj = path2[j];\n                    if (pj[0] == \"M\") {\n                        x2 = x2m = pj[1];\n                        y2 = y2m = pj[2];\n                    } else {\n                        if (pj[0] == \"C\") {\n                            bez2 = [x2, y2].concat(pj.slice(1));\n                            x2 = bez2[6];\n                            y2 = bez2[7];\n                        } else {\n                            bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n                            x2 = x2m;\n                            y2 = y2m;\n                        }\n                        var intr = interHelper(bez1, bez2, justCount);\n                        if (justCount) {\n                            res += intr;\n                        } else {\n                            for (var k = 0, kk = intr.length; k < kk; k++) {\n                                intr[k].segment1 = i;\n                                intr[k].segment2 = j;\n                                intr[k].bez1 = bez1;\n                                intr[k].bez2 = bez2;\n                            }\n                            res = res.concat(intr);\n                        }\n                    }\n                }\n            }\n        }\n        return res;\n    }\n    function isPointInsidePath(path, x, y) {\n        var bbox = pathBBox(path);\n        return isPointInsideBBox(bbox, x, y) &&\n               interPathHelper(path, [[\"M\", x, y], [\"H\", bbox.x2 + 10]], 1) % 2 == 1;\n    }\n    function pathBBox(path) {\n        var pth = paths(path);\n        if (pth.bbox) {\n            return clone(pth.bbox);\n        }\n        if (!path) {\n            return box();\n        }\n        path = path2curve(path);\n        var x = 0, \n            y = 0,\n            X = [],\n            Y = [],\n            p;\n        for (var i = 0, ii = path.length; i < ii; i++) {\n            p = path[i];\n            if (p[0] == \"M\") {\n                x = p[1];\n                y = p[2];\n                X.push(x);\n                Y.push(y);\n            } else {\n                var dim = curveDim(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\n                X = X.concat(dim.min.x, dim.max.x);\n                Y = Y.concat(dim.min.y, dim.max.y);\n                x = p[5];\n                y = p[6];\n            }\n        }\n        var xmin = mmin.apply(0, X),\n            ymin = mmin.apply(0, Y),\n            xmax = mmax.apply(0, X),\n            ymax = mmax.apply(0, Y),\n            bb = box(xmin, ymin, xmax - xmin, ymax - ymin);\n        pth.bbox = clone(bb);\n        return bb;\n    }\n    function rectPath(x, y, w, h, r) {\n        if (r) {\n            return [\n                [\"M\", +x + (+r), y],\n                [\"l\", w - r * 2, 0],\n                [\"a\", r, r, 0, 0, 1, r, r],\n                [\"l\", 0, h - r * 2],\n                [\"a\", r, r, 0, 0, 1, -r, r],\n                [\"l\", r * 2 - w, 0],\n                [\"a\", r, r, 0, 0, 1, -r, -r],\n                [\"l\", 0, r * 2 - h],\n                [\"a\", r, r, 0, 0, 1, r, -r],\n                [\"z\"]\n            ];\n        }\n        var res = [[\"M\", x, y], [\"l\", w, 0], [\"l\", 0, h], [\"l\", -w, 0], [\"z\"]];\n        res.toString = toString;\n        return res;\n    }\n    function ellipsePath(x, y, rx, ry, a) {\n        if (a == null && ry == null) {\n            ry = rx;\n        }\n        x = +x;\n        y = +y;\n        rx = +rx;\n        ry = +ry;\n        if (a != null) {\n            var rad = Math.PI / 180,\n                x1 = x + rx * Math.cos(-ry * rad),\n                x2 = x + rx * Math.cos(-a * rad),\n                y1 = y + rx * Math.sin(-ry * rad),\n                y2 = y + rx * Math.sin(-a * rad),\n                res = [[\"M\", x1, y1], [\"A\", rx, rx, 0, +(a - ry > 180), 0, x2, y2]];\n        } else {\n            res = [\n                [\"M\", x, y],\n                [\"m\", 0, -ry],\n                [\"a\", rx, ry, 0, 1, 1, 0, 2 * ry],\n                [\"a\", rx, ry, 0, 1, 1, 0, -2 * ry],\n                [\"z\"]\n            ];\n        }\n        res.toString = toString;\n        return res;\n    }\n    var unit2px = Snap._unit2px,\n        getPath = {\n        path: function (el) {\n            return el.attr(\"path\");\n        },\n        circle: function (el) {\n            var attr = unit2px(el);\n            return ellipsePath(attr.cx, attr.cy, attr.r);\n        },\n        ellipse: function (el) {\n            var attr = unit2px(el);\n            return ellipsePath(attr.cx || 0, attr.cy || 0, attr.rx, attr.ry);\n        },\n        rect: function (el) {\n            var attr = unit2px(el);\n            return rectPath(attr.x || 0, attr.y || 0, attr.width, attr.height, attr.rx, attr.ry);\n        },\n        image: function (el) {\n            var attr = unit2px(el);\n            return rectPath(attr.x || 0, attr.y || 0, attr.width, attr.height);\n        },\n        line: function (el) {\n            return \"M\" + [el.attr(\"x1\") || 0, el.attr(\"y1\") || 0, el.attr(\"x2\"), el.attr(\"y2\")];\n        },\n        polyline: function (el) {\n            return \"M\" + el.attr(\"points\");\n        },\n        polygon: function (el) {\n            return \"M\" + el.attr(\"points\") + \"z\";\n        },\n        deflt: function (el) {\n            var bbox = el.node.getBBox();\n            return rectPath(bbox.x, bbox.y, bbox.width, bbox.height);\n        }\n    };\n    function pathToRelative(pathArray) {\n        var pth = paths(pathArray),\n            lowerCase = String.prototype.toLowerCase;\n        if (pth.rel) {\n            return pathClone(pth.rel);\n        }\n        if (!Snap.is(pathArray, \"array\") || !Snap.is(pathArray && pathArray[0], \"array\")) {\n            pathArray = Snap.parsePathString(pathArray);\n        }\n        var res = [],\n            x = 0,\n            y = 0,\n            mx = 0,\n            my = 0,\n            start = 0;\n        if (pathArray[0][0] == \"M\") {\n            x = pathArray[0][1];\n            y = pathArray[0][2];\n            mx = x;\n            my = y;\n            start++;\n            res.push([\"M\", x, y]);\n        }\n        for (var i = start, ii = pathArray.length; i < ii; i++) {\n            var r = res[i] = [],\n                pa = pathArray[i];\n            if (pa[0] != lowerCase.call(pa[0])) {\n                r[0] = lowerCase.call(pa[0]);\n                switch (r[0]) {\n                    case \"a\":\n                        r[1] = pa[1];\n                        r[2] = pa[2];\n                        r[3] = pa[3];\n                        r[4] = pa[4];\n                        r[5] = pa[5];\n                        r[6] = +(pa[6] - x).toFixed(3);\n                        r[7] = +(pa[7] - y).toFixed(3);\n                        break;\n                    case \"v\":\n                        r[1] = +(pa[1] - y).toFixed(3);\n                        break;\n                    case \"m\":\n                        mx = pa[1];\n                        my = pa[2];\n                    default:\n                        for (var j = 1, jj = pa.length; j < jj; j++) {\n                            r[j] = +(pa[j] - ((j % 2) ? x : y)).toFixed(3);\n                        }\n                }\n            } else {\n                r = res[i] = [];\n                if (pa[0] == \"m\") {\n                    mx = pa[1] + x;\n                    my = pa[2] + y;\n                }\n                for (var k = 0, kk = pa.length; k < kk; k++) {\n                    res[i][k] = pa[k];\n                }\n            }\n            var len = res[i].length;\n            switch (res[i][0]) {\n                case \"z\":\n                    x = mx;\n                    y = my;\n                    break;\n                case \"h\":\n                    x += +res[i][len - 1];\n                    break;\n                case \"v\":\n                    y += +res[i][len - 1];\n                    break;\n                default:\n                    x += +res[i][len - 2];\n                    y += +res[i][len - 1];\n            }\n        }\n        res.toString = toString;\n        pth.rel = pathClone(res);\n        return res;\n    }\n    function pathToAbsolute(pathArray) {\n        var pth = paths(pathArray);\n        if (pth.abs) {\n            return pathClone(pth.abs);\n        }\n        if (!is(pathArray, \"array\") || !is(pathArray && pathArray[0], \"array\")) { // rough assumption\n            pathArray = Snap.parsePathString(pathArray);\n        }\n        if (!pathArray || !pathArray.length) {\n            return [[\"M\", 0, 0]];\n        }\n        var res = [],\n            x = 0,\n            y = 0,\n            mx = 0,\n            my = 0,\n            start = 0,\n            pa0;\n        if (pathArray[0][0] == \"M\") {\n            x = +pathArray[0][1];\n            y = +pathArray[0][2];\n            mx = x;\n            my = y;\n            start++;\n            res[0] = [\"M\", x, y];\n        }\n        var crz = pathArray.length == 3 &&\n            pathArray[0][0] == \"M\" &&\n            pathArray[1][0].toUpperCase() == \"R\" &&\n            pathArray[2][0].toUpperCase() == \"Z\";\n        for (var r, pa, i = start, ii = pathArray.length; i < ii; i++) {\n            res.push(r = []);\n            pa = pathArray[i];\n            pa0 = pa[0];\n            if (pa0 != pa0.toUpperCase()) {\n                r[0] = pa0.toUpperCase();\n                switch (r[0]) {\n                    case \"A\":\n                        r[1] = pa[1];\n                        r[2] = pa[2];\n                        r[3] = pa[3];\n                        r[4] = pa[4];\n                        r[5] = pa[5];\n                        r[6] = +pa[6] + x;\n                        r[7] = +pa[7] + y;\n                        break;\n                    case \"V\":\n                        r[1] = +pa[1] + y;\n                        break;\n                    case \"H\":\n                        r[1] = +pa[1] + x;\n                        break;\n                    case \"R\":\n                        var dots = [x, y].concat(pa.slice(1));\n                        for (var j = 2, jj = dots.length; j < jj; j++) {\n                            dots[j] = +dots[j] + x;\n                            dots[++j] = +dots[j] + y;\n                        }\n                        res.pop();\n                        res = res.concat(catmullRom2bezier(dots, crz));\n                        break;\n                    case \"O\":\n                        res.pop();\n                        dots = ellipsePath(x, y, pa[1], pa[2]);\n                        dots.push(dots[0]);\n                        res = res.concat(dots);\n                        break;\n                    case \"U\":\n                        res.pop();\n                        res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n                        r = [\"U\"].concat(res[res.length - 1].slice(-2));\n                        break;\n                    case \"M\":\n                        mx = +pa[1] + x;\n                        my = +pa[2] + y;\n                    default:\n                        for (j = 1, jj = pa.length; j < jj; j++) {\n                            r[j] = +pa[j] + ((j % 2) ? x : y);\n                        }\n                }\n            } else if (pa0 == \"R\") {\n                dots = [x, y].concat(pa.slice(1));\n                res.pop();\n                res = res.concat(catmullRom2bezier(dots, crz));\n                r = [\"R\"].concat(pa.slice(-2));\n            } else if (pa0 == \"O\") {\n                res.pop();\n                dots = ellipsePath(x, y, pa[1], pa[2]);\n                dots.push(dots[0]);\n                res = res.concat(dots);\n            } else if (pa0 == \"U\") {\n                res.pop();\n                res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n                r = [\"U\"].concat(res[res.length - 1].slice(-2));\n            } else {\n                for (var k = 0, kk = pa.length; k < kk; k++) {\n                    r[k] = pa[k];\n                }\n            }\n            pa0 = pa0.toUpperCase();\n            if (pa0 != \"O\") {\n                switch (r[0]) {\n                    case \"Z\":\n                        x = +mx;\n                        y = +my;\n                        break;\n                    case \"H\":\n                        x = r[1];\n                        break;\n                    case \"V\":\n                        y = r[1];\n                        break;\n                    case \"M\":\n                        mx = r[r.length - 2];\n                        my = r[r.length - 1];\n                    default:\n                        x = r[r.length - 2];\n                        y = r[r.length - 1];\n                }\n            }\n        }\n        res.toString = toString;\n        pth.abs = pathClone(res);\n        return res;\n    }\n    function l2c(x1, y1, x2, y2) {\n        return [x1, y1, x2, y2, x2, y2];\n    }\n    function q2c(x1, y1, ax, ay, x2, y2) {\n        var _13 = 1 / 3,\n            _23 = 2 / 3;\n        return [\n                _13 * x1 + _23 * ax,\n                _13 * y1 + _23 * ay,\n                _13 * x2 + _23 * ax,\n                _13 * y2 + _23 * ay,\n                x2,\n                y2\n            ];\n    }\n    function a2c(x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n        // for more information of where this math came from visit:\n        // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n        var _120 = PI * 120 / 180,\n            rad = PI / 180 * (+angle || 0),\n            res = [],\n            xy,\n            rotate = Snap._.cacher(function (x, y, rad) {\n                var X = x * math.cos(rad) - y * math.sin(rad),\n                    Y = x * math.sin(rad) + y * math.cos(rad);\n                return {x: X, y: Y};\n            });\n        if (!recursive) {\n            xy = rotate(x1, y1, -rad);\n            x1 = xy.x;\n            y1 = xy.y;\n            xy = rotate(x2, y2, -rad);\n            x2 = xy.x;\n            y2 = xy.y;\n            var cos = math.cos(PI / 180 * angle),\n                sin = math.sin(PI / 180 * angle),\n                x = (x1 - x2) / 2,\n                y = (y1 - y2) / 2;\n            var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n            if (h > 1) {\n                h = math.sqrt(h);\n                rx = h * rx;\n                ry = h * ry;\n            }\n            var rx2 = rx * rx,\n                ry2 = ry * ry,\n                k = (large_arc_flag == sweep_flag ? -1 : 1) *\n                    math.sqrt(abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x))),\n                cx = k * rx * y / ry + (x1 + x2) / 2,\n                cy = k * -ry * x / rx + (y1 + y2) / 2,\n                f1 = math.asin(((y1 - cy) / ry).toFixed(9)),\n                f2 = math.asin(((y2 - cy) / ry).toFixed(9));\n\n            f1 = x1 < cx ? PI - f1 : f1;\n            f2 = x2 < cx ? PI - f2 : f2;\n            f1 < 0 && (f1 = PI * 2 + f1);\n            f2 < 0 && (f2 = PI * 2 + f2);\n            if (sweep_flag && f1 > f2) {\n                f1 = f1 - PI * 2;\n            }\n            if (!sweep_flag && f2 > f1) {\n                f2 = f2 - PI * 2;\n            }\n        } else {\n            f1 = recursive[0];\n            f2 = recursive[1];\n            cx = recursive[2];\n            cy = recursive[3];\n        }\n        var df = f2 - f1;\n        if (abs(df) > _120) {\n            var f2old = f2,\n                x2old = x2,\n                y2old = y2;\n            f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n            x2 = cx + rx * math.cos(f2);\n            y2 = cy + ry * math.sin(f2);\n            res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n        }\n        df = f2 - f1;\n        var c1 = math.cos(f1),\n            s1 = math.sin(f1),\n            c2 = math.cos(f2),\n            s2 = math.sin(f2),\n            t = math.tan(df / 4),\n            hx = 4 / 3 * rx * t,\n            hy = 4 / 3 * ry * t,\n            m1 = [x1, y1],\n            m2 = [x1 + hx * s1, y1 - hy * c1],\n            m3 = [x2 + hx * s2, y2 - hy * c2],\n            m4 = [x2, y2];\n        m2[0] = 2 * m1[0] - m2[0];\n        m2[1] = 2 * m1[1] - m2[1];\n        if (recursive) {\n            return [m2, m3, m4].concat(res);\n        } else {\n            res = [m2, m3, m4].concat(res).join().split(\",\");\n            var newres = [];\n            for (var i = 0, ii = res.length; i < ii; i++) {\n                newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n            }\n            return newres;\n        }\n    }\n    function findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n        var t1 = 1 - t;\n        return {\n            x: pow(t1, 3) * p1x + pow(t1, 2) * 3 * t * c1x + t1 * 3 * t * t * c2x + pow(t, 3) * p2x,\n            y: pow(t1, 3) * p1y + pow(t1, 2) * 3 * t * c1y + t1 * 3 * t * t * c2y + pow(t, 3) * p2y\n        };\n    }\n    \n    // Returns bounding box of cubic bezier curve.\n    // Source: http://blog.hackers-cafe.net/2009/06/how-to-calculate-bezier-curves-bounding.html\n    // Original version: NISHIO Hirokazu\n    // Modifications: https://github.com/timo22345\n    function curveDim(x0, y0, x1, y1, x2, y2, x3, y3) {\n        var tvalues = [],\n            bounds = [[], []],\n            a, b, c, t, t1, t2, b2ac, sqrtb2ac;\n        for (var i = 0; i < 2; ++i) {\n            if (i == 0) {\n                b = 6 * x0 - 12 * x1 + 6 * x2;\n                a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n                c = 3 * x1 - 3 * x0;\n            } else {\n                b = 6 * y0 - 12 * y1 + 6 * y2;\n                a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n                c = 3 * y1 - 3 * y0;\n            }\n            if (abs(a) < 1e-12) {\n                if (abs(b) < 1e-12) {\n                    continue;\n                }\n                t = -c / b;\n                if (0 < t && t < 1) {\n                    tvalues.push(t);\n                }\n                continue;\n            }\n            b2ac = b * b - 4 * c * a;\n            sqrtb2ac = math.sqrt(b2ac);\n            if (b2ac < 0) {\n                continue;\n            }\n            t1 = (-b + sqrtb2ac) / (2 * a);\n            if (0 < t1 && t1 < 1) {\n                tvalues.push(t1);\n            }\n            t2 = (-b - sqrtb2ac) / (2 * a);\n            if (0 < t2 && t2 < 1) {\n                tvalues.push(t2);\n            }\n        }\n\n        var x, y, j = tvalues.length,\n            jlen = j,\n            mt;\n        while (j--) {\n            t = tvalues[j];\n            mt = 1 - t;\n            bounds[0][j] = (mt * mt * mt * x0) + (3 * mt * mt * t * x1) + (3 * mt * t * t * x2) + (t * t * t * x3);\n            bounds[1][j] = (mt * mt * mt * y0) + (3 * mt * mt * t * y1) + (3 * mt * t * t * y2) + (t * t * t * y3);\n        }\n\n        bounds[0][jlen] = x0;\n        bounds[1][jlen] = y0;\n        bounds[0][jlen + 1] = x3;\n        bounds[1][jlen + 1] = y3;\n        bounds[0].length = bounds[1].length = jlen + 2;\n\n\n        return {\n          min: {x: mmin.apply(0, bounds[0]), y: mmin.apply(0, bounds[1])},\n          max: {x: mmax.apply(0, bounds[0]), y: mmax.apply(0, bounds[1])}\n        };\n    }\n\n    function path2curve(path, path2) {\n        var pth = !path2 && paths(path);\n        if (!path2 && pth.curve) {\n            return pathClone(pth.curve);\n        }\n        var p = pathToAbsolute(path),\n            p2 = path2 && pathToAbsolute(path2),\n            attrs = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},\n            attrs2 = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},\n            processPath = function (path, d, pcom) {\n                var nx, ny;\n                if (!path) {\n                    return [\"C\", d.x, d.y, d.x, d.y, d.x, d.y];\n                }\n                !(path[0] in {T: 1, Q: 1}) && (d.qx = d.qy = null);\n                switch (path[0]) {\n                    case \"M\":\n                        d.X = path[1];\n                        d.Y = path[2];\n                        break;\n                    case \"A\":\n                        path = [\"C\"].concat(a2c.apply(0, [d.x, d.y].concat(path.slice(1))));\n                        break;\n                    case \"S\":\n                        if (pcom == \"C\" || pcom == \"S\") { // In \"S\" case we have to take into account, if the previous command is C/S.\n                            nx = d.x * 2 - d.bx;          // And reflect the previous\n                            ny = d.y * 2 - d.by;          // command's control point relative to the current point.\n                        }\n                        else {                            // or some else or nothing\n                            nx = d.x;\n                            ny = d.y;\n                        }\n                        path = [\"C\", nx, ny].concat(path.slice(1));\n                        break;\n                    case \"T\":\n                        if (pcom == \"Q\" || pcom == \"T\") { // In \"T\" case we have to take into account, if the previous command is Q/T.\n                            d.qx = d.x * 2 - d.qx;        // And make a reflection similar\n                            d.qy = d.y * 2 - d.qy;        // to case \"S\".\n                        }\n                        else {                            // or something else or nothing\n                            d.qx = d.x;\n                            d.qy = d.y;\n                        }\n                        path = [\"C\"].concat(q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n                        break;\n                    case \"Q\":\n                        d.qx = path[1];\n                        d.qy = path[2];\n                        path = [\"C\"].concat(q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n                        break;\n                    case \"L\":\n                        path = [\"C\"].concat(l2c(d.x, d.y, path[1], path[2]));\n                        break;\n                    case \"H\":\n                        path = [\"C\"].concat(l2c(d.x, d.y, path[1], d.y));\n                        break;\n                    case \"V\":\n                        path = [\"C\"].concat(l2c(d.x, d.y, d.x, path[1]));\n                        break;\n                    case \"Z\":\n                        path = [\"C\"].concat(l2c(d.x, d.y, d.X, d.Y));\n                        break;\n                }\n                return path;\n            },\n            fixArc = function (pp, i) {\n                if (pp[i].length > 7) {\n                    pp[i].shift();\n                    var pi = pp[i];\n                    while (pi.length) {\n                        pcoms1[i] = \"A\"; // if created multiple C:s, their original seg is saved\n                        p2 && (pcoms2[i] = \"A\"); // the same as above\n                        pp.splice(i++, 0, [\"C\"].concat(pi.splice(0, 6)));\n                    }\n                    pp.splice(i, 1);\n                    ii = mmax(p.length, p2 && p2.length || 0);\n                }\n            },\n            fixM = function (path1, path2, a1, a2, i) {\n                if (path1 && path2 && path1[i][0] == \"M\" && path2[i][0] != \"M\") {\n                    path2.splice(i, 0, [\"M\", a2.x, a2.y]);\n                    a1.bx = 0;\n                    a1.by = 0;\n                    a1.x = path1[i][1];\n                    a1.y = path1[i][2];\n                    ii = mmax(p.length, p2 && p2.length || 0);\n                }\n            },\n            pcoms1 = [], // path commands of original path p\n            pcoms2 = [], // path commands of original path p2\n            pfirst = \"\", // temporary holder for original path command\n            pcom = \"\"; // holder for previous path command of original path\n        for (var i = 0, ii = mmax(p.length, p2 && p2.length || 0); i < ii; i++) {\n            p[i] && (pfirst = p[i][0]); // save current path command\n\n            if (pfirst != \"C\") // C is not saved yet, because it may be result of conversion\n            {\n                pcoms1[i] = pfirst; // Save current path command\n                i && ( pcom = pcoms1[i - 1]); // Get previous path command pcom\n            }\n            p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\n\n            if (pcoms1[i] != \"A\" && pfirst == \"C\") pcoms1[i] = \"C\"; // A is the only command\n            // which may produce multiple C:s\n            // so we have to make sure that C is also C in original path\n\n            fixArc(p, i); // fixArc adds also the right amount of A:s to pcoms1\n\n            if (p2) { // the same procedures is done to p2\n                p2[i] && (pfirst = p2[i][0]);\n                if (pfirst != \"C\") {\n                    pcoms2[i] = pfirst;\n                    i && (pcom = pcoms2[i - 1]);\n                }\n                p2[i] = processPath(p2[i], attrs2, pcom);\n\n                if (pcoms2[i] != \"A\" && pfirst == \"C\") {\n                    pcoms2[i] = \"C\";\n                }\n\n                fixArc(p2, i);\n            }\n            fixM(p, p2, attrs, attrs2, i);\n            fixM(p2, p, attrs2, attrs, i);\n            var seg = p[i],\n                seg2 = p2 && p2[i],\n                seglen = seg.length,\n                seg2len = p2 && seg2.length;\n            attrs.x = seg[seglen - 2];\n            attrs.y = seg[seglen - 1];\n            attrs.bx = toFloat(seg[seglen - 4]) || attrs.x;\n            attrs.by = toFloat(seg[seglen - 3]) || attrs.y;\n            attrs2.bx = p2 && (toFloat(seg2[seg2len - 4]) || attrs2.x);\n            attrs2.by = p2 && (toFloat(seg2[seg2len - 3]) || attrs2.y);\n            attrs2.x = p2 && seg2[seg2len - 2];\n            attrs2.y = p2 && seg2[seg2len - 1];\n        }\n        if (!p2) {\n            pth.curve = pathClone(p);\n        }\n        return p2 ? [p, p2] : p;\n    }\n    function mapPath(path, matrix) {\n        if (!matrix) {\n            return path;\n        }\n        var x, y, i, j, ii, jj, pathi;\n        path = path2curve(path);\n        for (i = 0, ii = path.length; i < ii; i++) {\n            pathi = path[i];\n            for (j = 1, jj = pathi.length; j < jj; j += 2) {\n                x = matrix.x(pathi[j], pathi[j + 1]);\n                y = matrix.y(pathi[j], pathi[j + 1]);\n                pathi[j] = x;\n                pathi[j + 1] = y;\n            }\n        }\n        return path;\n    }\n\n    // http://schepers.cc/getting-to-the-point\n    function catmullRom2bezier(crp, z) {\n        var d = [];\n        for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n            var p = [\n                        {x: +crp[i - 2], y: +crp[i - 1]},\n                        {x: +crp[i],     y: +crp[i + 1]},\n                        {x: +crp[i + 2], y: +crp[i + 3]},\n                        {x: +crp[i + 4], y: +crp[i + 5]}\n                    ];\n            if (z) {\n                if (!i) {\n                    p[0] = {x: +crp[iLen - 2], y: +crp[iLen - 1]};\n                } else if (iLen - 4 == i) {\n                    p[3] = {x: +crp[0], y: +crp[1]};\n                } else if (iLen - 2 == i) {\n                    p[2] = {x: +crp[0], y: +crp[1]};\n                    p[3] = {x: +crp[2], y: +crp[3]};\n                }\n            } else {\n                if (iLen - 4 == i) {\n                    p[3] = p[2];\n                } else if (!i) {\n                    p[0] = {x: +crp[i], y: +crp[i + 1]};\n                }\n            }\n            d.push([\"C\",\n                  (-p[0].x + 6 * p[1].x + p[2].x) / 6,\n                  (-p[0].y + 6 * p[1].y + p[2].y) / 6,\n                  (p[1].x + 6 * p[2].x - p[3].x) / 6,\n                  (p[1].y + 6*p[2].y - p[3].y) / 6,\n                  p[2].x,\n                  p[2].y\n            ]);\n        }\n\n        return d;\n    }\n\n    // export\n    Snap.path = paths;\n\n    /*\\\n     * Snap.path.getTotalLength\n     [ method ]\n     **\n     * Returns the length of the given path in pixels\n     **\n     - path (string) SVG path string\n     **\n     = (number) length\n    \\*/\n    Snap.path.getTotalLength = getTotalLength;\n    /*\\\n     * Snap.path.getPointAtLength\n     [ method ]\n     **\n     * Returns the coordinates of the point located at the given length along the given path\n     **\n     - path (string) SVG path string\n     - length (number) length, in pixels, from the start of the path, excluding non-rendering jumps\n     **\n     = (object) representation of the point:\n     o {\n     o     x: (number) x coordinate,\n     o     y: (number) y coordinate,\n     o     alpha: (number) angle of derivative\n     o }\n    \\*/\n    Snap.path.getPointAtLength = getPointAtLength;\n    /*\\\n     * Snap.path.getSubpath\n     [ method ]\n     **\n     * Returns the subpath of a given path between given start and end lengths\n     **\n     - path (string) SVG path string\n     - from (number) length, in pixels, from the start of the path to the start of the segment\n     - to (number) length, in pixels, from the start of the path to the end of the segment\n     **\n     = (string) path string definition for the segment\n    \\*/\n    Snap.path.getSubpath = function (path, from, to) {\n        if (this.getTotalLength(path) - to < 1e-6) {\n            return getSubpathsAtLength(path, from).end;\n        }\n        var a = getSubpathsAtLength(path, to, 1);\n        return from ? getSubpathsAtLength(a, from).end : a;\n    };\n    /*\\\n     * Element.getTotalLength\n     [ method ]\n     **\n     * Returns the length of the path in pixels (only works for `path` elements)\n     = (number) length\n    \\*/\n    elproto.getTotalLength = function () {\n        if (this.node.getTotalLength) {\n            return this.node.getTotalLength();\n        }\n    };\n    // SIERRA Element.getPointAtLength()/Element.getTotalLength(): If a <path> is broken into different segments, is the jump distance to the new coordinates set by the _M_ or _m_ commands calculated as part of the path's total length?\n    /*\\\n     * Element.getPointAtLength\n     [ method ]\n     **\n     * Returns coordinates of the point located at the given length on the given path (only works for `path` elements)\n     **\n     - length (number) length, in pixels, from the start of the path, excluding non-rendering jumps\n     **\n     = (object) representation of the point:\n     o {\n     o     x: (number) x coordinate,\n     o     y: (number) y coordinate,\n     o     alpha: (number) angle of derivative\n     o }\n    \\*/\n    elproto.getPointAtLength = function (length) {\n        return getPointAtLength(this.attr(\"d\"), length);\n    };\n    // SIERRA Element.getSubpath(): Similar to the problem for Element.getPointAtLength(). Unclear how this would work for a segmented path. Overall, the concept of _subpath_ and what I'm calling a _segment_ (series of non-_M_ or _Z_ commands) is unclear.\n    /*\\\n     * Element.getSubpath\n     [ method ]\n     **\n     * Returns subpath of a given element from given start and end lengths (only works for `path` elements)\n     **\n     - from (number) length, in pixels, from the start of the path to the start of the segment\n     - to (number) length, in pixels, from the start of the path to the end of the segment\n     **\n     = (string) path string definition for the segment\n    \\*/\n    elproto.getSubpath = function (from, to) {\n        return Snap.path.getSubpath(this.attr(\"d\"), from, to);\n    };\n    Snap._.box = box;\n    /*\\\n     * Snap.path.findDotsAtSegment\n     [ method ]\n     **\n     * Utility method\n     **\n     * Finds dot coordinates on the given cubic beziér curve at the given t\n     - p1x (number) x of the first point of the curve\n     - p1y (number) y of the first point of the curve\n     - c1x (number) x of the first anchor of the curve\n     - c1y (number) y of the first anchor of the curve\n     - c2x (number) x of the second anchor of the curve\n     - c2y (number) y of the second anchor of the curve\n     - p2x (number) x of the second point of the curve\n     - p2y (number) y of the second point of the curve\n     - t (number) position on the curve (0..1)\n     = (object) point information in format:\n     o {\n     o     x: (number) x coordinate of the point,\n     o     y: (number) y coordinate of the point,\n     o     m: {\n     o         x: (number) x coordinate of the left anchor,\n     o         y: (number) y coordinate of the left anchor\n     o     },\n     o     n: {\n     o         x: (number) x coordinate of the right anchor,\n     o         y: (number) y coordinate of the right anchor\n     o     },\n     o     start: {\n     o         x: (number) x coordinate of the start of the curve,\n     o         y: (number) y coordinate of the start of the curve\n     o     },\n     o     end: {\n     o         x: (number) x coordinate of the end of the curve,\n     o         y: (number) y coordinate of the end of the curve\n     o     },\n     o     alpha: (number) angle of the curve derivative at the point\n     o }\n    \\*/\n    Snap.path.findDotsAtSegment = findDotsAtSegment;\n    /*\\\n     * Snap.path.bezierBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns the bounding box of a given cubic beziér curve\n     - p1x (number) x of the first point of the curve\n     - p1y (number) y of the first point of the curve\n     - c1x (number) x of the first anchor of the curve\n     - c1y (number) y of the first anchor of the curve\n     - c2x (number) x of the second anchor of the curve\n     - c2y (number) y of the second anchor of the curve\n     - p2x (number) x of the second point of the curve\n     - p2y (number) y of the second point of the curve\n     * or\n     - bez (array) array of six points for beziér curve\n     = (object) bounding box\n     o {\n     o     x: (number) x coordinate of the left top point of the box,\n     o     y: (number) y coordinate of the left top point of the box,\n     o     x2: (number) x coordinate of the right bottom point of the box,\n     o     y2: (number) y coordinate of the right bottom point of the box,\n     o     width: (number) width of the box,\n     o     height: (number) height of the box\n     o }\n    \\*/\n    Snap.path.bezierBBox = bezierBBox;\n    /*\\\n     * Snap.path.isPointInsideBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if given point is inside bounding box\n     - bbox (string) bounding box\n     - x (string) x coordinate of the point\n     - y (string) y coordinate of the point\n     = (boolean) `true` if point is inside\n    \\*/\n    Snap.path.isPointInsideBBox = isPointInsideBBox;\n    /*\\\n     * Snap.path.isBBoxIntersect\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if two bounding boxes intersect\n     - bbox1 (string) first bounding box\n     - bbox2 (string) second bounding box\n     = (boolean) `true` if bounding boxes intersect\n    \\*/\n    Snap.path.isBBoxIntersect = isBBoxIntersect;\n    /*\\\n     * Snap.path.intersection\n     [ method ]\n     **\n     * Utility method\n     **\n     * Finds intersections of two paths\n     - path1 (string) path string\n     - path2 (string) path string\n     = (array) dots of intersection\n     o [\n     o     {\n     o         x: (number) x coordinate of the point,\n     o         y: (number) y coordinate of the point,\n     o         t1: (number) t value for segment of path1,\n     o         t2: (number) t value for segment of path2,\n     o         segment1: (number) order number for segment of path1,\n     o         segment2: (number) order number for segment of path2,\n     o         bez1: (array) eight coordinates representing beziér curve for the segment of path1,\n     o         bez2: (array) eight coordinates representing beziér curve for the segment of path2\n     o     }\n     o ]\n    \\*/\n    Snap.path.intersection = pathIntersection;\n    Snap.path.intersectionNumber = pathIntersectionNumber;\n    /*\\\n     * Snap.path.isPointInside\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if given point is inside a given closed path.\n     *\n     * Note: fill mode doesn’t affect the result of this method.\n     - path (string) path string\n     - x (number) x of the point\n     - y (number) y of the point\n     = (boolean) `true` if point is inside the path\n    \\*/\n    Snap.path.isPointInside = isPointInsidePath;\n    /*\\\n     * Snap.path.getBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns the bounding box of a given path\n     - path (string) path string\n     = (object) bounding box\n     o {\n     o     x: (number) x coordinate of the left top point of the box,\n     o     y: (number) y coordinate of the left top point of the box,\n     o     x2: (number) x coordinate of the right bottom point of the box,\n     o     y2: (number) y coordinate of the right bottom point of the box,\n     o     width: (number) width of the box,\n     o     height: (number) height of the box\n     o }\n    \\*/\n    Snap.path.getBBox = pathBBox;\n    Snap.path.get = getPath;\n    /*\\\n     * Snap.path.toRelative\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path coordinates into relative values\n     - path (string) path string\n     = (array) path string\n    \\*/\n    Snap.path.toRelative = pathToRelative;\n    /*\\\n     * Snap.path.toAbsolute\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path coordinates into absolute values\n     - path (string) path string\n     = (array) path string\n    \\*/\n    Snap.path.toAbsolute = pathToAbsolute;\n    /*\\\n     * Snap.path.toCubic\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path to a new path where all segments are cubic beziér curves\n     - pathString (string|array) path string or array of segments\n     = (array) array of segments\n    \\*/\n    Snap.path.toCubic = path2curve;\n    /*\\\n     * Snap.path.map\n     [ method ]\n     **\n     * Transform the path string with the given matrix\n     - path (string) path string\n     - matrix (object) see @Matrix\n     = (string) transformed path string\n    \\*/\n    Snap.path.map = mapPath;\n    Snap.path.toString = toString;\n    Snap.path.clone = pathClone;\n});\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var mmax = Math.max,\n        mmin = Math.min;\n\n    // Set\n    var Set = function (items) {\n        this.items = [];\n\tthis.bindings = {};\n        this.length = 0;\n        this.type = \"set\";\n        if (items) {\n            for (var i = 0, ii = items.length; i < ii; i++) {\n                if (items[i]) {\n                    this[this.items.length] = this.items[this.items.length] = items[i];\n                    this.length++;\n                }\n            }\n        }\n    },\n    setproto = Set.prototype;\n    /*\\\n     * Set.push\n     [ method ]\n     **\n     * Adds each argument to the current set\n     = (object) original element\n    \\*/\n    setproto.push = function () {\n        var item,\n            len;\n        for (var i = 0, ii = arguments.length; i < ii; i++) {\n            item = arguments[i];\n            if (item) {\n                len = this.items.length;\n                this[len] = this.items[len] = item;\n                this.length++;\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Set.pop\n     [ method ]\n     **\n     * Removes last element and returns it\n     = (object) element\n    \\*/\n    setproto.pop = function () {\n        this.length && delete this[this.length--];\n        return this.items.pop();\n    };\n    /*\\\n     * Set.forEach\n     [ method ]\n     **\n     * Executes given function for each element in the set\n     *\n     * If the function returns `false`, the loop stops running.\n     **\n     - callback (function) function to run\n     - thisArg (object) context object for the callback\n     = (object) Set object\n    \\*/\n    setproto.forEach = function (callback, thisArg) {\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            if (callback.call(thisArg, this.items[i], i) === false) {\n                return this;\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Set.animate\n     [ method ]\n     **\n     * Animates each element in set in sync.\n     *\n     **\n     - attrs (object) key-value pairs of destination attributes\n     - duration (number) duration of the animation in milliseconds\n     - easing (function) #optional easing function from @mina or custom\n     - callback (function) #optional callback function that executes when the animation ends\n     * or\n     - animation (array) array of animation parameter for each element in set in format `[attrs, duration, easing, callback]`\n     > Usage\n     | // animate all elements in set to radius 10\n     | set.animate({r: 10}, 500, mina.easein);\n     | // or\n     | // animate first element to radius 10, but second to radius 20 and in different time\n     | set.animate([{r: 10}, 500, mina.easein], [{r: 20}, 1500, mina.easein]);\n     = (Element) the current element\n    \\*/\n    setproto.animate = function (attrs, ms, easing, callback) {\n        if (typeof easing == \"function\" && !easing.length) {\n            callback = easing;\n            easing = mina.linear;\n        }\n        if (attrs instanceof Snap._.Animation) {\n            callback = attrs.callback;\n            easing = attrs.easing;\n            ms = easing.dur;\n            attrs = attrs.attr;\n        }\n        var args = arguments;\n        if (Snap.is(attrs, \"array\") && Snap.is(args[args.length - 1], \"array\")) {\n            var each = true;\n        }\n        var begin,\n            handler = function () {\n                if (begin) {\n                    this.b = begin;\n                } else {\n                    begin = this.b;\n                }\n            },\n            cb = 0,\n            callbacker = callback && function () {\n                if (cb++ == this.length) {\n                    callback.call(this);\n                }\n            };\n        return this.forEach(function (el, i) {\n            eve.once(\"snap.animcreated.\" + el.id, handler);\n            if (each) {\n                args[i] && el.animate.apply(el, args[i]);\n            } else {\n                el.animate(attrs, ms, easing, callbacker);\n            }\n        });\n    };\n    setproto.remove = function () {\n        while (this.length) {\n            this.pop().remove();\n        }\n        return this;\n    };\n    /*\\\n     * Set.bind\n     [ method ]\n     **\n     * Specifies how to handle a specific attribute when applied\n     * to a set.\n     *\n     **\n     - attr (string) attribute name\n     - callback (function) function to run\n     * or\n     - attr (string) attribute name\n     - element (Element) specific element in the set to apply the attribute to\n     * or\n     - attr (string) attribute name\n     - element (Element) specific element in the set to apply the attribute to\n     - eattr (string) attribute on the element to bind the attribute to\n     = (object) Set object\n    \\*/\n    setproto.bind = function (attr, a, b) {\n        var data = {};\n        if (typeof a == \"function\") {\n            this.bindings[attr] = a;\n        } else {\n            var aname = b || attr;\n            this.bindings[attr] = function (v) {\n                data[aname] = v;\n                a.attr(data);\n            };\n        }\n        return this;\n    };\n    setproto.attr = function (value) {\n        var unbound = {};\n        for (var k in value) {\n            if (this.bindings[k]) {\n                this.bindings[k](value[k]);\n            } else {\n                unbound[k] = value[k];\n            }\n        }\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            this.items[i].attr(unbound);\n        }\n        return this;\n    };\n    /*\\\n     * Set.clear\n     [ method ]\n     **\n     * Removes all elements from the set\n    \\*/\n    setproto.clear = function () {\n        while (this.length) {\n            this.pop();\n        }\n    };\n    /*\\\n     * Set.splice\n     [ method ]\n     **\n     * Removes range of elements from the set\n     **\n     - index (number) position of the deletion\n     - count (number) number of element to remove\n     - insertion… (object) #optional elements to insert\n     = (object) set elements that were deleted\n    \\*/\n    setproto.splice = function (index, count, insertion) {\n        index = index < 0 ? mmax(this.length + index, 0) : index;\n        count = mmax(0, mmin(this.length - index, count));\n        var tail = [],\n            todel = [],\n            args = [],\n            i;\n        for (i = 2; i < arguments.length; i++) {\n            args.push(arguments[i]);\n        }\n        for (i = 0; i < count; i++) {\n            todel.push(this[index + i]);\n        }\n        for (; i < this.length - index; i++) {\n            tail.push(this[index + i]);\n        }\n        var arglen = args.length;\n        for (i = 0; i < arglen + tail.length; i++) {\n            this.items[index + i] = this[index + i] = i < arglen ? args[i] : tail[i - arglen];\n        }\n        i = this.items.length = this.length -= count - arglen;\n        while (this[i]) {\n            delete this[i++];\n        }\n        return new Set(todel);\n    };\n    /*\\\n     * Set.exclude\n     [ method ]\n     **\n     * Removes given element from the set\n     **\n     - element (object) element to remove\n     = (boolean) `true` if object was found and removed from the set\n    \\*/\n    setproto.exclude = function (el) {\n        for (var i = 0, ii = this.length; i < ii; i++) if (this[i] == el) {\n            this.splice(i, 1);\n            return true;\n        }\n        return false;\n    };\n    setproto.insertAfter = function (el) {\n        var i = this.items.length;\n        while (i--) {\n            this.items[i].insertAfter(el);\n        }\n        return this;\n    };\n    setproto.getBBox = function () {\n        var x = [],\n            y = [],\n            x2 = [],\n            y2 = [];\n        for (var i = this.items.length; i--;) if (!this.items[i].removed) {\n            var box = this.items[i].getBBox();\n            x.push(box.x);\n            y.push(box.y);\n            x2.push(box.x + box.width);\n            y2.push(box.y + box.height);\n        }\n        x = mmin.apply(0, x);\n        y = mmin.apply(0, y);\n        x2 = mmax.apply(0, x2);\n        y2 = mmax.apply(0, y2);\n        return {\n            x: x,\n            y: y,\n            x2: x2,\n            y2: y2,\n            width: x2 - x,\n            height: y2 - y,\n            cx: x + (x2 - x) / 2,\n            cy: y + (y2 - y) / 2\n        };\n    };\n    setproto.clone = function (s) {\n        s = new Set;\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            s.push(this.items[i].clone());\n        }\n        return s;\n    };\n    setproto.toString = function () {\n        return \"Snap\\u2018s set\";\n    };\n    setproto.type = \"set\";\n    // export\n    Snap.set = function () {\n        var set = new Set;\n        if (arguments.length) {\n            set.push.apply(set, Array.prototype.slice.call(arguments, 0));\n        }\n        return set;\n    };\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var names = {},\n        reUnit = /[a-z]+$/i,\n        Str = String;\n    names.stroke = names.fill = \"colour\";\n    function getEmpty(item) {\n        var l = item[0];\n        switch (l.toLowerCase()) {\n            case \"t\": return [l, 0, 0];\n            case \"m\": return [l, 1, 0, 0, 1, 0, 0];\n            case \"r\": if (item.length == 4) {\n                return [l, 0, item[2], item[3]];\n            } else {\n                return [l, 0];\n            }\n            case \"s\": if (item.length == 5) {\n                return [l, 1, 1, item[3], item[4]];\n            } else if (item.length == 3) {\n                return [l, 1, 1];\n            } else {\n                return [l, 1];\n            }\n        }\n    }\n    function equaliseTransform(t1, t2, getBBox) {\n        t2 = Str(t2).replace(/\\.{3}|\\u2026/g, t1);\n        t1 = Snap.parseTransformString(t1) || [];\n        t2 = Snap.parseTransformString(t2) || [];\n        var maxlength = Math.max(t1.length, t2.length),\n            from = [],\n            to = [],\n            i = 0, j, jj,\n            tt1, tt2;\n        for (; i < maxlength; i++) {\n            tt1 = t1[i] || getEmpty(t2[i]);\n            tt2 = t2[i] || getEmpty(tt1);\n            if ((tt1[0] != tt2[0]) ||\n                (tt1[0].toLowerCase() == \"r\" && (tt1[2] != tt2[2] || tt1[3] != tt2[3])) ||\n                (tt1[0].toLowerCase() == \"s\" && (tt1[3] != tt2[3] || tt1[4] != tt2[4]))\n                ) {\n                    t1 = Snap._.transform2matrix(t1, getBBox());\n                    t2 = Snap._.transform2matrix(t2, getBBox());\n                    from = [[\"m\", t1.a, t1.b, t1.c, t1.d, t1.e, t1.f]];\n                    to = [[\"m\", t2.a, t2.b, t2.c, t2.d, t2.e, t2.f]];\n                    break;\n            }\n            from[i] = [];\n            to[i] = [];\n            for (j = 0, jj = Math.max(tt1.length, tt2.length); j < jj; j++) {\n                j in tt1 && (from[i][j] = tt1[j]);\n                j in tt2 && (to[i][j] = tt2[j]);\n            }\n        }\n        return {\n            from: path2array(from),\n            to: path2array(to),\n            f: getPath(from)\n        };\n    }\n    function getNumber(val) {\n        return val;\n    }\n    function getUnit(unit) {\n        return function (val) {\n            return +val.toFixed(3) + unit;\n        };\n    }\n    function getColour(clr) {\n        return Snap.rgb(clr[0], clr[1], clr[2]);\n    }\n    function getPath(path) {\n        var k = 0, i, ii, j, jj, out, a, b = [];\n        for (i = 0, ii = path.length; i < ii; i++) {\n            out = \"[\";\n            a = ['\"' + path[i][0] + '\"'];\n            for (j = 1, jj = path[i].length; j < jj; j++) {\n                a[j] = \"val[\" + (k++) + \"]\";\n            }\n            out += a + \"]\";\n            b[i] = out;\n        }\n        return Function(\"val\", \"return Snap.path.toString.call([\" + b + \"])\");\n    }\n    function path2array(path) {\n        var out = [];\n        for (var i = 0, ii = path.length; i < ii; i++) {\n            for (var j = 1, jj = path[i].length; j < jj; j++) {\n                out.push(path[i][j]);\n            }\n        }\n        return out;\n    }\n    Element.prototype.equal = function (name, b) {\n        return eve(\"snap.util.equal\", this, name, b).firstDefined();\n    };\n    eve.on(\"snap.util.equal\", function (name, b) {\n        var A, B, a = Str(this.attr(name) || \"\"),\n            el = this;\n        if (a == +a && b == +b) {\n            return {\n                from: +a,\n                to: +b,\n                f: getNumber\n            };\n        }\n        if (names[name] == \"colour\") {\n            A = Snap.color(a);\n            B = Snap.color(b);\n            return {\n                from: [A.r, A.g, A.b, A.opacity],\n                to: [B.r, B.g, B.b, B.opacity],\n                f: getColour\n            };\n        }\n        if (name == \"transform\" || name == \"gradientTransform\" || name == \"patternTransform\") {\n            if (b instanceof Snap.Matrix) {\n                b = b.toTransformString();\n            }\n            if (!Snap._.rgTransform.test(b)) {\n                b = Snap._.svgTransform2string(b);\n            }\n            return equaliseTransform(a, b, function () {\n                return el.getBBox(1);\n            });\n        }\n        if (name == \"d\" || name == \"path\") {\n            A = Snap.path.toCubic(a, b);\n            return {\n                from: path2array(A[0]),\n                to: path2array(A[1]),\n                f: getPath(A[0])\n            };\n        }\n        if (name == \"points\") {\n            A = Str(a).split(Snap._.separator);\n            B = Str(b).split(Snap._.separator);\n            return {\n                from: A,\n                to: B,\n                f: function (val) { return val; }\n            };\n        }\n        aUnit = a.match(reUnit);\n        var bUnit = Str(b).match(reUnit);\n        if (aUnit && aUnit == bUnit) {\n            return {\n                from: parseFloat(a),\n                to: parseFloat(b),\n                f: getUnit(aUnit)\n            };\n        } else {\n            return {\n                from: this.asPX(name),\n                to: this.asPX(name, b),\n                f: getNumber\n            };\n        }\n    });\n});\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var elproto = Element.prototype,\n    has = \"hasOwnProperty\",\n    supportsTouch = \"createTouch\" in glob.doc,\n    events = [\n        \"click\", \"dblclick\", \"mousedown\", \"mousemove\", \"mouseout\",\n        \"mouseover\", \"mouseup\", \"touchstart\", \"touchmove\", \"touchend\",\n        \"touchcancel\"\n    ],\n    touchMap = {\n        mousedown: \"touchstart\",\n        mousemove: \"touchmove\",\n        mouseup: \"touchend\"\n    },\n    getScroll = function (xy, el) {\n        var name = xy == \"y\" ? \"scrollTop\" : \"scrollLeft\",\n            doc = el && el.node ? el.node.ownerDocument : glob.doc;\n        return doc[name in doc.documentElement ? \"documentElement\" : \"body\"][name];\n    },\n    preventDefault = function () {\n        this.returnValue = false;\n    },\n    preventTouch = function () {\n        return this.originalEvent.preventDefault();\n    },\n    stopPropagation = function () {\n        this.cancelBubble = true;\n    },\n    stopTouch = function () {\n        return this.originalEvent.stopPropagation();\n    },\n    addEvent = (function () {\n        if (glob.doc.addEventListener) {\n            return function (obj, type, fn, element) {\n                var realName = supportsTouch && touchMap[type] ? touchMap[type] : type,\n                    f = function (e) {\n                        var scrollY = getScroll(\"y\", element),\n                            scrollX = getScroll(\"x\", element);\n                        if (supportsTouch && touchMap[has](type)) {\n                            for (var i = 0, ii = e.targetTouches && e.targetTouches.length; i < ii; i++) {\n                                if (e.targetTouches[i].target == obj || obj.contains(e.targetTouches[i].target)) {\n                                    var olde = e;\n                                    e = e.targetTouches[i];\n                                    e.originalEvent = olde;\n                                    e.preventDefault = preventTouch;\n                                    e.stopPropagation = stopTouch;\n                                    break;\n                                }\n                            }\n                        }\n                        var x = e.clientX + scrollX,\n                            y = e.clientY + scrollY;\n                        return fn.call(element, e, x, y);\n                    };\n\n                if (type !== realName) {\n                    obj.addEventListener(type, f, false);\n                }\n\n                obj.addEventListener(realName, f, false);\n\n                return function () {\n                    if (type !== realName) {\n                        obj.removeEventListener(type, f, false);\n                    }\n\n                    obj.removeEventListener(realName, f, false);\n                    return true;\n                };\n            };\n        } else if (glob.doc.attachEvent) {\n            return function (obj, type, fn, element) {\n                var f = function (e) {\n                    e = e || element.node.ownerDocument.window.event;\n                    var scrollY = getScroll(\"y\", element),\n                        scrollX = getScroll(\"x\", element),\n                        x = e.clientX + scrollX,\n                        y = e.clientY + scrollY;\n                    e.preventDefault = e.preventDefault || preventDefault;\n                    e.stopPropagation = e.stopPropagation || stopPropagation;\n                    return fn.call(element, e, x, y);\n                };\n                obj.attachEvent(\"on\" + type, f);\n                var detacher = function () {\n                    obj.detachEvent(\"on\" + type, f);\n                    return true;\n                };\n                return detacher;\n            };\n        }\n    })(),\n    drag = [],\n    dragMove = function (e) {\n        var x = e.clientX,\n            y = e.clientY,\n            scrollY = getScroll(\"y\"),\n            scrollX = getScroll(\"x\"),\n            dragi,\n            j = drag.length;\n        while (j--) {\n            dragi = drag[j];\n            if (supportsTouch) {\n                var i = e.touches && e.touches.length,\n                    touch;\n                while (i--) {\n                    touch = e.touches[i];\n                    if (touch.identifier == dragi.el._drag.id || dragi.el.node.contains(touch.target)) {\n                        x = touch.clientX;\n                        y = touch.clientY;\n                        (e.originalEvent ? e.originalEvent : e).preventDefault();\n                        break;\n                    }\n                }\n            } else {\n                e.preventDefault();\n            }\n            var node = dragi.el.node,\n                o,\n                next = node.nextSibling,\n                parent = node.parentNode,\n                display = node.style.display;\n            // glob.win.opera && parent.removeChild(node);\n            // node.style.display = \"none\";\n            // o = dragi.el.paper.getElementByPoint(x, y);\n            // node.style.display = display;\n            // glob.win.opera && (next ? parent.insertBefore(node, next) : parent.appendChild(node));\n            // o && eve(\"snap.drag.over.\" + dragi.el.id, dragi.el, o);\n            x += scrollX;\n            y += scrollY;\n            eve(\"snap.drag.move.\" + dragi.el.id, dragi.move_scope || dragi.el, x - dragi.el._drag.x, y - dragi.el._drag.y, x, y, e);\n        }\n    },\n    dragUp = function (e) {\n        Snap.unmousemove(dragMove).unmouseup(dragUp);\n        var i = drag.length,\n            dragi;\n        while (i--) {\n            dragi = drag[i];\n            dragi.el._drag = {};\n            eve(\"snap.drag.end.\" + dragi.el.id, dragi.end_scope || dragi.start_scope || dragi.move_scope || dragi.el, e);\n        }\n        drag = [];\n    };\n    /*\\\n     * Element.click\n     [ method ]\n     **\n     * Adds a click event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unclick\n     [ method ]\n     **\n     * Removes a click event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.dblclick\n     [ method ]\n     **\n     * Adds a double click event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.undblclick\n     [ method ]\n     **\n     * Removes a double click event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mousedown\n     [ method ]\n     **\n     * Adds a mousedown event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmousedown\n     [ method ]\n     **\n     * Removes a mousedown event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mousemove\n     [ method ]\n     **\n     * Adds a mousemove event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmousemove\n     [ method ]\n     **\n     * Removes a mousemove event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mouseout\n     [ method ]\n     **\n     * Adds a mouseout event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseout\n     [ method ]\n     **\n     * Removes a mouseout event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mouseover\n     [ method ]\n     **\n     * Adds a mouseover event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseover\n     [ method ]\n     **\n     * Removes a mouseover event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mouseup\n     [ method ]\n     **\n     * Adds a mouseup event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseup\n     [ method ]\n     **\n     * Removes a mouseup event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.touchstart\n     [ method ]\n     **\n     * Adds a touchstart event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchstart\n     [ method ]\n     **\n     * Removes a touchstart event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.touchmove\n     [ method ]\n     **\n     * Adds a touchmove event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchmove\n     [ method ]\n     **\n     * Removes a touchmove event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.touchend\n     [ method ]\n     **\n     * Adds a touchend event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchend\n     [ method ]\n     **\n     * Removes a touchend event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.touchcancel\n     [ method ]\n     **\n     * Adds a touchcancel event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchcancel\n     [ method ]\n     **\n     * Removes a touchcancel event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    for (var i = events.length; i--;) {\n        (function (eventName) {\n            Snap[eventName] = elproto[eventName] = function (fn, scope) {\n                if (Snap.is(fn, \"function\")) {\n                    this.events = this.events || [];\n                    this.events.push({\n                        name: eventName,\n                        f: fn,\n                        unbind: addEvent(this.node || document, eventName, fn, scope || this)\n                    });\n                }\n                return this;\n            };\n            Snap[\"un\" + eventName] =\n            elproto[\"un\" + eventName] = function (fn) {\n                var events = this.events || [],\n                    l = events.length;\n                while (l--) if (events[l].name == eventName &&\n                               (events[l].f == fn || !fn)) {\n                    events[l].unbind();\n                    events.splice(l, 1);\n                    !events.length && delete this.events;\n                    return this;\n                }\n                return this;\n            };\n        })(events[i]);\n    }\n    /*\\\n     * Element.hover\n     [ method ]\n     **\n     * Adds hover event handlers to the element\n     - f_in (function) handler for hover in\n     - f_out (function) handler for hover out\n     - icontext (object) #optional context for hover in handler\n     - ocontext (object) #optional context for hover out handler\n     = (object) @Element\n    \\*/\n    elproto.hover = function (f_in, f_out, scope_in, scope_out) {\n        return this.mouseover(f_in, scope_in).mouseout(f_out, scope_out || scope_in);\n    };\n    /*\\\n     * Element.unhover\n     [ method ]\n     **\n     * Removes hover event handlers from the element\n     - f_in (function) handler for hover in\n     - f_out (function) handler for hover out\n     = (object) @Element\n    \\*/\n    elproto.unhover = function (f_in, f_out) {\n        return this.unmouseover(f_in).unmouseout(f_out);\n    };\n    var draggable = [];\n    // SIERRA unclear what _context_ refers to for starting, ending, moving the drag gesture.\n    // SIERRA Element.drag(): _x position of the mouse_: Where are the x/y values offset from?\n    // SIERRA Element.drag(): much of this member's doc appears to be duplicated for some reason.\n    // SIERRA Unclear about this sentence: _Additionally following drag events will be triggered: drag.start.<id> on start, drag.end.<id> on end and drag.move.<id> on every move._ Is there a global _drag_ object to which you can assign handlers keyed by an element's ID?\n    /*\\\n     * Element.drag\n     [ method ]\n     **\n     * Adds event handlers for an element's drag gesture\n     **\n     - onmove (function) handler for moving\n     - onstart (function) handler for drag start\n     - onend (function) handler for drag end\n     - mcontext (object) #optional context for moving handler\n     - scontext (object) #optional context for drag start handler\n     - econtext (object) #optional context for drag end handler\n     * Additionaly following `drag` events are triggered: `drag.start.<id>` on start, \n     * `drag.end.<id>` on end and `drag.move.<id>` on every move. When element is dragged over another element \n     * `drag.over.<id>` fires as well.\n     *\n     * Start event and start handler are called in specified context or in context of the element with following parameters:\n     o x (number) x position of the mouse\n     o y (number) y position of the mouse\n     o event (object) DOM event object\n     * Move event and move handler are called in specified context or in context of the element with following parameters:\n     o dx (number) shift by x from the start point\n     o dy (number) shift by y from the start point\n     o x (number) x position of the mouse\n     o y (number) y position of the mouse\n     o event (object) DOM event object\n     * End event and end handler are called in specified context or in context of the element with following parameters:\n     o event (object) DOM event object\n     = (object) @Element\n    \\*/\n    elproto.drag = function (onmove, onstart, onend, move_scope, start_scope, end_scope) {\n        if (!arguments.length) {\n            var origTransform;\n            return this.drag(function (dx, dy) {\n                this.attr({\n                    transform: origTransform + (origTransform ? \"T\" : \"t\") + [dx, dy]\n                });\n            }, function () {\n                origTransform = this.transform().local;\n            });\n        }\n        function start(e, x, y) {\n            (e.originalEvent || e).preventDefault();\n            this._drag.x = x;\n            this._drag.y = y;\n            this._drag.id = e.identifier;\n            !drag.length && Snap.mousemove(dragMove).mouseup(dragUp);\n            drag.push({el: this, move_scope: move_scope, start_scope: start_scope, end_scope: end_scope});\n            onstart && eve.on(\"snap.drag.start.\" + this.id, onstart);\n            onmove && eve.on(\"snap.drag.move.\" + this.id, onmove);\n            onend && eve.on(\"snap.drag.end.\" + this.id, onend);\n            eve(\"snap.drag.start.\" + this.id, start_scope || move_scope || this, x, y, e);\n        }\n        this._drag = {};\n        draggable.push({el: this, start: start});\n        this.mousedown(start);\n        return this;\n    };\n    /*\n     * Element.onDragOver\n     [ method ]\n     **\n     * Shortcut to assign event handler for `drag.over.<id>` event, where `id` is the element's `id` (see @Element.id)\n     - f (function) handler for event, first argument would be the element you are dragging over\n    \\*/\n    // elproto.onDragOver = function (f) {\n    //     f ? eve.on(\"snap.drag.over.\" + this.id, f) : eve.unbind(\"snap.drag.over.\" + this.id);\n    // };\n    /*\\\n     * Element.undrag\n     [ method ]\n     **\n     * Removes all drag event handlers from the given element\n    \\*/\n    elproto.undrag = function () {\n        var i = draggable.length;\n        while (i--) if (draggable[i].el == this) {\n            this.unmousedown(draggable[i].start);\n            draggable.splice(i, 1);\n            eve.unbind(\"snap.drag.*.\" + this.id);\n        }\n        !draggable.length && Snap.unmousemove(dragMove).unmouseup(dragUp);\n        return this;\n    };\n});\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var elproto = Element.prototype,\n        pproto = Paper.prototype,\n        rgurl = /^\\s*url\\((.+)\\)/,\n        Str = String,\n        $ = Snap._.$;\n    Snap.filter = {};\n// SIERRA Paper.filter(): I don't understand the note. Does that mean an HTML should dedicate a separate SVG region for a filter definition? What's the advantage over a DEFS?\n    /*\\\n     * Paper.filter\n     [ method ]\n     **\n     * Creates a `<filter>` element\n     **\n     - filstr (string) SVG fragment of filter provided as a string\n     = (object) @Element\n     * Note: It is recommended to use filters embedded into the page inside an empty SVG element.\n     > Usage\n     | var f = paper.filter('<feGaussianBlur stdDeviation=\"2\"/>'),\n     |     c = paper.circle(10, 10, 10).attr({\n     |         filter: f\n     |     });\n    \\*/\n    pproto.filter = function (filstr) {\n        var paper = this;\n        if (paper.type != \"svg\") {\n            paper = paper.paper;\n        }\n        var f = Snap.parse(Str(filstr)),\n            id = Snap._.id(),\n            width = paper.node.offsetWidth,\n            height = paper.node.offsetHeight,\n            filter = $(\"filter\");\n        $(filter, {\n            id: id,\n            filterUnits: \"userSpaceOnUse\"\n        });\n        filter.appendChild(f.node);\n        paper.defs.appendChild(filter);\n        return new Element(filter);\n    };\n    \n    eve.on(\"snap.util.getattr.filter\", function () {\n        eve.stop();\n        var p = $(this.node, \"filter\");\n        if (p) {\n            var match = Str(p).match(rgurl);\n            return match && Snap.select(match[1]);\n        }\n    });\n    eve.on(\"snap.util.attr.filter\", function (value) {\n        if (value instanceof Element && value.type == \"filter\") {\n            eve.stop();\n            var id = value.node.id;\n            if (!id) {\n                $(value.node, {id: value.id});\n                id = value.id;\n            }\n            $(this.node, {\n                filter: Snap.url(id)\n            });\n        }\n        if (!value || value == \"none\") {\n            eve.stop();\n            this.node.removeAttribute(\"filter\");\n        }\n    });\n    /*\\\n     * Snap.filter.blur\n     [ method ]\n     **\n     * Returns an SVG markup string for the blur filter\n     **\n     - x (number) amount of horizontal blur, in pixels\n     - y (number) #optional amount of vertical blur, in pixels\n     = (string) filter representation\n     > Usage\n     | var f = paper.filter(Snap.filter.blur(5, 10)),\n     |     c = paper.circle(10, 10, 10).attr({\n     |         filter: f\n     |     });\n    \\*/\n    Snap.filter.blur = function (x, y) {\n        if (x == null) {\n            x = 2;\n        }\n        var def = y == null ? x : [x, y];\n        return Snap.format('\\<feGaussianBlur stdDeviation=\"{def}\"/>', {\n            def: def\n        });\n    };\n    Snap.filter.blur.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.shadow\n     [ method ]\n     **\n     * Returns an SVG markup string for the shadow filter\n     **\n     - dx (number) #optional horizontal shift of the shadow, in pixels\n     - dy (number) #optional vertical shift of the shadow, in pixels\n     - blur (number) #optional amount of blur\n     - color (string) #optional color of the shadow\n     - opacity (number) #optional `0..1` opacity of the shadow\n     * or\n     - dx (number) #optional horizontal shift of the shadow, in pixels\n     - dy (number) #optional vertical shift of the shadow, in pixels\n     - color (string) #optional color of the shadow\n     - opacity (number) #optional `0..1` opacity of the shadow\n     * which makes blur default to `4`. Or\n     - dx (number) #optional horizontal shift of the shadow, in pixels\n     - dy (number) #optional vertical shift of the shadow, in pixels\n     - opacity (number) #optional `0..1` opacity of the shadow\n     = (string) filter representation\n     > Usage\n     | var f = paper.filter(Snap.filter.shadow(0, 2, 3)),\n     |     c = paper.circle(10, 10, 10).attr({\n     |         filter: f\n     |     });\n    \\*/\n    Snap.filter.shadow = function (dx, dy, blur, color, opacity) {\n        if (typeof blur == \"string\") {\n            color = blur;\n            opacity = color;\n            blur = 4;\n        }\n        if (typeof color != \"string\") {\n            opacity = color;\n            color = \"#000\";\n        }\n        color = color || \"#000\";\n        if (blur == null) {\n            blur = 4;\n        }\n        if (opacity == null) {\n            opacity = 1;\n        }\n        if (dx == null) {\n            dx = 0;\n            dy = 2;\n        }\n        if (dy == null) {\n            dy = dx;\n        }\n        color = Snap.color(color);\n        return Snap.format('<feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"{blur}\"/><feOffset dx=\"{dx}\" dy=\"{dy}\" result=\"offsetblur\"/><feFlood flood-color=\"{color}\"/><feComposite in2=\"offsetblur\" operator=\"in\"/><feComponentTransfer><feFuncA type=\"linear\" slope=\"{opacity}\"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in=\"SourceGraphic\"/></feMerge>', {\n            color: color,\n            dx: dx,\n            dy: dy,\n            blur: blur,\n            opacity: opacity\n        });\n    };\n    Snap.filter.shadow.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.grayscale\n     [ method ]\n     **\n     * Returns an SVG markup string for the grayscale filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.grayscale = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feColorMatrix type=\"matrix\" values=\"{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0\"/>', {\n            a: 0.2126 + 0.7874 * (1 - amount),\n            b: 0.7152 - 0.7152 * (1 - amount),\n            c: 0.0722 - 0.0722 * (1 - amount),\n            d: 0.2126 - 0.2126 * (1 - amount),\n            e: 0.7152 + 0.2848 * (1 - amount),\n            f: 0.0722 - 0.0722 * (1 - amount),\n            g: 0.2126 - 0.2126 * (1 - amount),\n            h: 0.0722 + 0.9278 * (1 - amount)\n        });\n    };\n    Snap.filter.grayscale.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.sepia\n     [ method ]\n     **\n     * Returns an SVG markup string for the sepia filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.sepia = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feColorMatrix type=\"matrix\" values=\"{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0\"/>', {\n            a: 0.393 + 0.607 * (1 - amount),\n            b: 0.769 - 0.769 * (1 - amount),\n            c: 0.189 - 0.189 * (1 - amount),\n            d: 0.349 - 0.349 * (1 - amount),\n            e: 0.686 + 0.314 * (1 - amount),\n            f: 0.168 - 0.168 * (1 - amount),\n            g: 0.272 - 0.272 * (1 - amount),\n            h: 0.534 - 0.534 * (1 - amount),\n            i: 0.131 + 0.869 * (1 - amount)\n        });\n    };\n    Snap.filter.sepia.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.saturate\n     [ method ]\n     **\n     * Returns an SVG markup string for the saturate filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.saturate = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feColorMatrix type=\"saturate\" values=\"{amount}\"/>', {\n            amount: 1 - amount\n        });\n    };\n    Snap.filter.saturate.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.hueRotate\n     [ method ]\n     **\n     * Returns an SVG markup string for the hue-rotate filter\n     **\n     - angle (number) angle of rotation\n     = (string) filter representation\n    \\*/\n    Snap.filter.hueRotate = function (angle) {\n        angle = angle || 0;\n        return Snap.format('<feColorMatrix type=\"hueRotate\" values=\"{angle}\"/>', {\n            angle: angle\n        });\n    };\n    Snap.filter.hueRotate.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.invert\n     [ method ]\n     **\n     * Returns an SVG markup string for the invert filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.invert = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feComponentTransfer><feFuncR type=\"table\" tableValues=\"{amount} {amount2}\"/><feFuncG type=\"table\" tableValues=\"{amount} {amount2}\"/><feFuncB type=\"table\" tableValues=\"{amount} {amount2}\"/></feComponentTransfer>', {\n            amount: amount,\n            amount2: 1 - amount\n        });\n    };\n    Snap.filter.invert.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.brightness\n     [ method ]\n     **\n     * Returns an SVG markup string for the brightness filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.brightness = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feComponentTransfer><feFuncR type=\"linear\" slope=\"{amount}\"/><feFuncG type=\"linear\" slope=\"{amount}\"/><feFuncB type=\"linear\" slope=\"{amount}\"/></feComponentTransfer>', {\n            amount: amount\n        });\n    };\n    Snap.filter.brightness.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.contrast\n     [ method ]\n     **\n     * Returns an SVG markup string for the contrast filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.contrast = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feComponentTransfer><feFuncR type=\"linear\" slope=\"{amount}\" intercept=\"{amount2}\"/><feFuncG type=\"linear\" slope=\"{amount}\" intercept=\"{amount2}\"/><feFuncB type=\"linear\" slope=\"{amount}\" intercept=\"{amount2}\"/></feComponentTransfer>', {\n            amount: amount,\n            amount2: .5 - amount / 2\n        });\n    };\n    Snap.filter.contrast.toString = function () {\n        return this();\n    };\n});\nreturn Snap;\n}));\n// TinyColor v1.1.2\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function() {\n\nvar trimLeft = /^[\\s,#]+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    math = Math,\n    mathRound = math.round,\n    mathMin = math.min,\n    mathMax = math.max,\n    mathRandom = math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function() {\n        return rgbaToHex(this._r, this._g, this._b, this._a);\n    },\n    toHex8String: function() {\n        return '#' + this.toHex8();\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = s.toHex8String();\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (color.hasOwnProperty(\"r\") && color.hasOwnProperty(\"g\") && color.hasOwnProperty(\"b\")) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (color.hasOwnProperty(\"h\") && color.hasOwnProperty(\"s\") && color.hasOwnProperty(\"v\")) {\n            color.s = convertToPercentage(color.s);\n            color.v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, color.s, color.v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (color.hasOwnProperty(\"h\") && color.hasOwnProperty(\"s\") && color.hasOwnProperty(\"l\")) {\n            color.s = convertToPercentage(color.s);\n            color.l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, color.s, color.l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n    // `rgbaToHex`\n    // Converts an RGBA color plus alpha transparency to hex\n    // Assumes r, g, b and a are contained in the set [0, 255]\n    // Returns an 8 character hex\n    function rgbaToHex(r, g, b, a) {\n\n        var hex = [\n            pad2(convertDecimalToHex(a)),\n            pad2(mathRound(r).toString(16)),\n            pad2(mathRound(g).toString(16)),\n            pad2(mathRound(b).toString(16))\n        ];\n\n        return hex.join(\"\");\n    }\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (mathRound(hsl.h) + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n    var w = p * 2 - 1;\n    var a = rgb2.a - rgb1.a;\n\n    var w1;\n\n    if (w * a == -1) {\n        w1 = w;\n    } else {\n        w1 = (w + a) / (1 + w * a);\n    }\n\n    w1 = (w1 + 1) / 2;\n\n    var w2 = 1 - w1;\n\n    var rgba = {\n        r: rgb2.r * w1 + rgb1.r * w2,\n        g: rgb2.g * w1 + rgb1.g * w2,\n        b: rgb2.b * w1 + rgb1.b * w2,\n        a: rgb2.a * p  + rgb1.a * (1 - p)\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/AERT#color-contrast>\n\n// `readability`\n// Analyze the 2 colors and returns an object with the following properties:\n//    `brightness`: difference in brightness between the two colors\n//    `color`: difference in color/hue between the two colors\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    var rgb1 = c1.toRgb();\n    var rgb2 = c2.toRgb();\n    var brightnessA = c1.getBrightness();\n    var brightnessB = c2.getBrightness();\n    var colorDiff = (\n        Math.max(rgb1.r, rgb2.r) - Math.min(rgb1.r, rgb2.r) +\n        Math.max(rgb1.g, rgb2.g) - Math.min(rgb1.g, rgb2.g) +\n        Math.max(rgb1.b, rgb2.b) - Math.min(rgb1.b, rgb2.b)\n    );\n\n    return {\n        brightness: Math.abs(brightnessA - brightnessB),\n        color: colorDiff\n    };\n};\n\n// `readable`\n// http://www.w3.org/TR/AERT#color-contrast\n// Ensure that foreground and background color combinations provide sufficient contrast.\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\ntinycolor.isReadable = function(color1, color2) {\n    var readability = tinycolor.readability(color1, color2);\n    return readability.brightness > 125 && readability.color > 500;\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// *Example*\n//    tinycolor.mostReadable(\"#123\", [\"#fff\", \"#000\"]) => \"#000\"\ntinycolor.mostReadable = function(baseColor, colorList) {\n    var bestColor = null;\n    var bestScore = 0;\n    var bestIsReadable = false;\n    for (var i=0; i < colorList.length; i++) {\n\n        // We normalize both around the \"acceptable\" breaking point,\n        // but rank brightness constrast higher than hue.\n\n        var readability = tinycolor.readability(baseColor, colorList[i]);\n        var readable = readability.brightness > 125 && readability.color > 500;\n        var score = 3 * (readability.brightness / 125) + (readability.color / 500);\n\n        if ((readable && ! bestIsReadable) ||\n            (readable && bestIsReadable && score > bestScore) ||\n            ((! readable) && (! bestIsReadable) && score > bestScore)) {\n            bestIsReadable = readable;\n            bestScore = score;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n    return bestColor;\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex8: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            a: convertHexToDecimal(match[1]),\n            r: parseIntFromHex(match[2]),\n            g: parseIntFromHex(match[3]),\n            b: parseIntFromHex(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})();\n\n/**\n * Super simple wysiwyg editor on Bootstrap v0.6.6\n * http://summernote.org/\n *\n * summernote.js\n * Copyright 2013-2015 Alan Hong. and other contributors\n * summernote may be freely distributed under the MIT license./\n *\n * Date: 2015-04-29T19:41Z\n */\n(function (factory) {\n  /* global define */\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['jquery'], factory);\n  } else {\n    // Browser globals: jQuery\n    factory(window.jQuery);\n  }\n}(function ($) {\n  \n\n\n  if (!Array.prototype.reduce) {\n    /**\n     * Array.prototype.reduce polyfill\n     *\n     * @param {Function} callback\n     * @param {Value} [initialValue]\n     * @return {Value}\n     *\n     * @see http://goo.gl/WNriQD\n     */\n    Array.prototype.reduce = function (callback) {\n      var t = Object(this), len = t.length >>> 0, k = 0, value;\n      if (arguments.length === 2) {\n        value = arguments[1];\n      } else {\n        while (k < len && !(k in t)) {\n          k++;\n        }\n        if (k >= len) {\n          throw new TypeError('Reduce of empty array with no initial value');\n        }\n        value = t[k++];\n      }\n      for (; k < len; k++) {\n        if (k in t) {\n          value = callback(value, t[k], k, t);\n        }\n      }\n      return value;\n    };\n  }\n\n  if ('function' !== typeof Array.prototype.filter) {\n    /**\n     * Array.prototype.filter polyfill\n     *\n     * @param {Function} func\n     * @return {Array}\n     *\n     * @see http://goo.gl/T1KFnq\n     */\n    Array.prototype.filter = function (func) {\n      var t = Object(this), len = t.length >>> 0;\n\n      var res = [];\n      var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n      for (var i = 0; i < len; i++) {\n        if (i in t) {\n          var val = t[i];\n          if (func.call(thisArg, val, i, t)) {\n            res.push(val);\n          }\n        }\n      }\n  \n      return res;\n    };\n  }\n\n  var isSupportAmd = typeof define === 'function' && define.amd;\n\n  /**\n   * returns whether font is installed or not.\n   *\n   * @param {String} fontName\n   * @return {Boolean}\n   */\n  var isFontInstalled = function (fontName) {\n    var testFontName = fontName === 'Comic Sans MS' ? 'Courier New' : 'Comic Sans MS';\n    var $tester = $('<div>').css({\n      position: 'absolute',\n      left: '-9999px',\n      top: '-9999px',\n      fontSize: '200px'\n    }).text('mmmmmmmmmwwwwwww').appendTo(document.body);\n\n    var originalWidth = $tester.css('fontFamily', testFontName).width();\n    var width = $tester.css('fontFamily', fontName + ',' + testFontName).width();\n\n    $tester.remove();\n\n    return originalWidth !== width;\n  };\n\n  /**\n   * @class core.agent\n   *\n   * Object which check platform and agent\n   *\n   * @singleton\n   * @alternateClassName agent\n   */\n  var agent = {\n    /** @property {Boolean} [isMac=false] true if this agent is Mac  */\n    isMac: navigator.appVersion.indexOf('Mac') > -1,\n    /** @property {Boolean} [isMSIE=false] true if this agent is a Internet Explorer  */\n    isMSIE: navigator.userAgent.indexOf('MSIE') > -1 || navigator.userAgent.indexOf('Trident') > -1,\n    /** @property {Boolean} [isFF=false] true if this agent is a Firefox  */\n    isFF: navigator.userAgent.indexOf('Firefox') > -1,\n    /** @property {String} jqueryVersion current jQuery version string  */\n    jqueryVersion: parseFloat($.fn.jquery),\n    isSupportAmd: isSupportAmd,\n    hasCodeMirror: isSupportAmd ? require.specified('CodeMirror') : !!window.CodeMirror,\n    isFontInstalled: isFontInstalled,\n    isW3CRangeSupport: !!document.createRange\n  };\n\n  /**\n   * @class core.func\n   *\n   * func utils (for high-order func's arg)\n   *\n   * @singleton\n   * @alternateClassName func\n   */\n  var func = (function () {\n    var eq = function (itemA) {\n      return function (itemB) {\n        return itemA === itemB;\n      };\n    };\n\n    var eq2 = function (itemA, itemB) {\n      return itemA === itemB;\n    };\n\n    var peq2 = function (propName) {\n      return function (itemA, itemB) {\n        return itemA[propName] === itemB[propName];\n      };\n    };\n\n    var ok = function () {\n      return true;\n    };\n\n    var fail = function () {\n      return false;\n    };\n\n    var not = function (f) {\n      return function () {\n        return !f.apply(f, arguments);\n      };\n    };\n\n    var and = function (fA, fB) {\n      return function (item) {\n        return fA(item) && fB(item);\n      };\n    };\n\n    var self = function (a) {\n      return a;\n    };\n\n    var idCounter = 0;\n\n    /**\n     * generate a globally-unique id\n     *\n     * @param {String} [prefix]\n     */\n    var uniqueId = function (prefix) {\n      var id = ++idCounter + '';\n      return prefix ? prefix + id : id;\n    };\n\n    /**\n     * returns bnd (bounds) from rect\n     *\n     * - IE Compatability Issue: http://goo.gl/sRLOAo\n     * - Scroll Issue: http://goo.gl/sNjUc\n     *\n     * @param {Rect} rect\n     * @return {Object} bounds\n     * @return {Number} bounds.top\n     * @return {Number} bounds.left\n     * @return {Number} bounds.width\n     * @return {Number} bounds.height\n     */\n    var rect2bnd = function (rect) {\n      var $document = $(document);\n      return {\n        top: rect.top + $document.scrollTop(),\n        left: rect.left + $document.scrollLeft(),\n        width: rect.right - rect.left,\n        height: rect.bottom - rect.top\n      };\n    };\n\n    /**\n     * returns a copy of the object where the keys have become the values and the values the keys.\n     * @param {Object} obj\n     * @return {Object}\n     */\n    var invertObject = function (obj) {\n      var inverted = {};\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          inverted[obj[key]] = key;\n        }\n      }\n      return inverted;\n    };\n\n    /**\n     * @param {String} namespace\n     * @param {String} [prefix]\n     * @return {String}\n     */\n    var namespaceToCamel = function (namespace, prefix) {\n      prefix = prefix || '';\n      return prefix + namespace.split('.').map(function (name) {\n        return name.substring(0, 1).toUpperCase() + name.substring(1);\n      }).join('');\n    };\n\n    return {\n      eq: eq,\n      eq2: eq2,\n      peq2: peq2,\n      ok: ok,\n      fail: fail,\n      self: self,\n      not: not,\n      and: and,\n      uniqueId: uniqueId,\n      rect2bnd: rect2bnd,\n      invertObject: invertObject,\n      namespaceToCamel: namespaceToCamel\n    };\n  })();\n\n  /**\n   * @class core.list\n   *\n   * list utils\n   *\n   * @singleton\n   * @alternateClassName list\n   */\n  var list = (function () {\n    /**\n     * returns the first item of an array.\n     *\n     * @param {Array} array\n     */\n    var head = function (array) {\n      return array[0];\n    };\n\n    /**\n     * returns the last item of an array.\n     *\n     * @param {Array} array\n     */\n    var last = function (array) {\n      return array[array.length - 1];\n    };\n\n    /**\n     * returns everything but the last entry of the array.\n     *\n     * @param {Array} array\n     */\n    var initial = function (array) {\n      return array.slice(0, array.length - 1);\n    };\n\n    /**\n     * returns the rest of the items in an array.\n     *\n     * @param {Array} array\n     */\n    var tail = function (array) {\n      return array.slice(1);\n    };\n\n    /**\n     * returns item of array\n     */\n    var find = function (array, pred) {\n      for (var idx = 0, len = array.length; idx < len; idx ++) {\n        var item = array[idx];\n        if (pred(item)) {\n          return item;\n        }\n      }\n    };\n\n    /**\n     * returns true if all of the values in the array pass the predicate truth test.\n     */\n    var all = function (array, pred) {\n      for (var idx = 0, len = array.length; idx < len; idx ++) {\n        if (!pred(array[idx])) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    /**\n     * returns true if the value is present in the list.\n     */\n    var contains = function (array, item) {\n      return $.inArray(item, array) !== -1;\n    };\n\n    /**\n     * get sum from a list\n     *\n     * @param {Array} array - array\n     * @param {Function} fn - iterator\n     */\n    var sum = function (array, fn) {\n      fn = fn || func.self;\n      return array.reduce(function (memo, v) {\n        return memo + fn(v);\n      }, 0);\n    };\n  \n    /**\n     * returns a copy of the collection with array type.\n     * @param {Collection} collection - collection eg) node.childNodes, ...\n     */\n    var from = function (collection) {\n      var result = [], idx = -1, length = collection.length;\n      while (++idx < length) {\n        result[idx] = collection[idx];\n      }\n      return result;\n    };\n  \n    /**\n     * cluster elements by predicate function.\n     *\n     * @param {Array} array - array\n     * @param {Function} fn - predicate function for cluster rule\n     * @param {Array[]}\n     */\n    var clusterBy = function (array, fn) {\n      if (!array.length) { return []; }\n      var aTail = tail(array);\n      return aTail.reduce(function (memo, v) {\n        var aLast = last(memo);\n        if (fn(last(aLast), v)) {\n          aLast[aLast.length] = v;\n        } else {\n          memo[memo.length] = [v];\n        }\n        return memo;\n      }, [[head(array)]]);\n    };\n  \n    /**\n     * returns a copy of the array with all falsy values removed\n     *\n     * @param {Array} array - array\n     * @param {Function} fn - predicate function for cluster rule\n     */\n    var compact = function (array) {\n      var aResult = [];\n      for (var idx = 0, len = array.length; idx < len; idx ++) {\n        if (array[idx]) { aResult.push(array[idx]); }\n      }\n      return aResult;\n    };\n\n    /**\n     * produces a duplicate-free version of the array\n     *\n     * @param {Array} array\n     */\n    var unique = function (array) {\n      var results = [];\n\n      for (var idx = 0, len = array.length; idx < len; idx ++) {\n        if (!contains(results, array[idx])) {\n          results.push(array[idx]);\n        }\n      }\n\n      return results;\n    };\n\n    /**\n     * returns next item.\n     * @param {Array} array\n     */\n    var next = function (array, item) {\n      var idx = array.indexOf(item);\n      if (idx === -1) { return null; }\n\n      return array[idx + 1];\n    };\n\n    /**\n     * returns prev item.\n     * @param {Array} array\n     */\n    var prev = function (array, item) {\n      var idx = array.indexOf(item);\n      if (idx === -1) { return null; }\n\n      return array[idx - 1];\n    };\n\n  \n    return { head: head, last: last, initial: initial, tail: tail,\n             prev: prev, next: next, find: find, contains: contains,\n             all: all, sum: sum, from: from,\n             clusterBy: clusterBy, compact: compact, unique: unique };\n  })();\n\n\n  var NBSP_CHAR = String.fromCharCode(160);\n  var ZERO_WIDTH_NBSP_CHAR = '\\ufeff';\n\n  /**\n   * @class core.dom\n   *\n   * Dom functions\n   *\n   * @singleton\n   * @alternateClassName dom\n   */\n  var dom = (function () {\n    /**\n     * @method isEditable\n     *\n     * returns whether node is `note-editable` or not.\n     *\n     * @param {Node} node\n     * @return {Boolean}\n     */\n    var isEditable = function (node) {\n      return node && $(node).hasClass('note-editable');\n    };\n\n    /**\n     * @method isControlSizing\n     *\n     * returns whether node is `note-control-sizing` or not.\n     *\n     * @param {Node} node\n     * @return {Boolean}\n     */\n    var isControlSizing = function (node) {\n      return node && $(node).hasClass('note-control-sizing');\n    };\n\n    /**\n     * @method  buildLayoutInfo\n     *\n     * build layoutInfo from $editor(.note-editor)\n     *\n     * @param {jQuery} $editor\n     * @return {Object}\n     * @return {Function} return.editor\n     * @return {Node} return.dropzone\n     * @return {Node} return.toolbar\n     * @return {Node} return.editable\n     * @return {Node} return.codable\n     * @return {Node} return.popover\n     * @return {Node} return.handle\n     * @return {Node} return.dialog\n     */\n    var buildLayoutInfo = function ($editor) {\n      var makeFinder;\n\n      // air mode\n      if ($editor.hasClass('note-air-editor')) {\n        var id = list.last($editor.attr('id').split('-'));\n        makeFinder = function (sIdPrefix) {\n          return function () { return $(sIdPrefix + id); };\n        };\n\n        return {\n          editor: function () { return $editor; },\n          holder : function () { return $editor.data('holder'); },\n          editable: function () { return $editor; },\n          popover: makeFinder('#note-popover-'),\n          handle: makeFinder('#note-handle-'),\n          dialog: makeFinder('#note-dialog-')\n        };\n\n        // frame mode\n      } else {\n        makeFinder = function (sClassName) {\n          return function () { return $editor.find(sClassName); };\n        };\n        return {\n          editor: function () { return $editor; },\n          holder : function () { return $editor.data('holder'); },\n          dropzone: makeFinder('.note-dropzone'),\n          toolbar: makeFinder('.note-toolbar'),\n          editable: makeFinder('.note-editable'),\n          codable: makeFinder('.note-codable'),\n          statusbar: makeFinder('.note-statusbar'),\n          popover: makeFinder('.note-popover'),\n          handle: makeFinder('.note-handle'),\n          dialog: makeFinder('.note-dialog')\n        };\n      }\n    };\n\n    /**\n     * returns makeLayoutInfo from editor's descendant node.\n     *\n     * @private\n     * @param {Node} descendant\n     * @return {Object}\n     */\n    var makeLayoutInfo = function (descendant) {\n      var $target = $(descendant).closest('.note-editor, .note-air-editor, .note-air-layout');\n\n      if (!$target.length) {\n        return null;\n      }\n\n      var $editor;\n      if ($target.is('.note-editor, .note-air-editor')) {\n        $editor = $target;\n      } else {\n        $editor = $('#note-editor-' + list.last($target.attr('id').split('-')));\n      }\n\n      return buildLayoutInfo($editor);\n    };\n\n    /**\n     * @method makePredByNodeName\n     *\n     * returns predicate which judge whether nodeName is same\n     *\n     * @param {String} nodeName\n     * @return {Function}\n     */\n    var makePredByNodeName = function (nodeName) {\n      nodeName = nodeName.toUpperCase();\n      return function (node) {\n        return node && node.nodeName.toUpperCase() === nodeName;\n      };\n    };\n\n    /**\n     * @method isText\n     *\n     *\n     *\n     * @param {Node} node\n     * @return {Boolean} true if node's type is text(3)\n     */\n    var isText = function (node) {\n      return node && node.nodeType === 3;\n    };\n\n    /**\n     * ex) br, col, embed, hr, img, input, ...\n     * @see http://www.w3.org/html/wg/drafts/html/master/syntax.html#void-elements\n     */\n    var isVoid = function (node) {\n      return node && /^BR|^IMG|^HR/.test(node.nodeName.toUpperCase());\n    };\n\n    var isPara = function (node) {\n      if (isEditable(node)) {\n        return false;\n      }\n\n      // Chrome(v31.0), FF(v25.0.1) use DIV for paragraph\n      return node && /^DIV|^P|^LI|^H[1-7]/.test(node.nodeName.toUpperCase());\n    };\n\n    var isLi = makePredByNodeName('LI');\n\n    var isPurePara = function (node) {\n      return isPara(node) && !isLi(node);\n    };\n\n    var isTable = makePredByNodeName('TABLE');\n\n    var isInline = function (node) {\n      return !isBodyContainer(node) &&\n             !isList(node) &&\n             !isPara(node) &&\n             !isTable(node) &&\n             !isBlockquote(node);\n    };\n\n    var isList = function (node) {\n      return node && /^UL|^OL/.test(node.nodeName.toUpperCase());\n    };\n\n    var isCell = function (node) {\n      return node && /^TD|^TH/.test(node.nodeName.toUpperCase());\n    };\n\n    var isBlockquote = makePredByNodeName('BLOCKQUOTE');\n\n    var isBodyContainer = function (node) {\n      return isCell(node) || isBlockquote(node) || isEditable(node);\n    };\n\n    var isAnchor = makePredByNodeName('A');\n\n    var isParaInline = function (node) {\n      return isInline(node) && !!ancestor(node, isPara);\n    };\n\n    var isBodyInline = function (node) {\n      return isInline(node) && !ancestor(node, isPara);\n    };\n\n    var isBody = makePredByNodeName('BODY');\n\n    /**\n     * returns whether nodeB is closest sibling of nodeA\n     *\n     * @param {Node} nodeA\n     * @param {Node} nodeB\n     * @return {Boolean}\n     */\n    var isClosestSibling = function (nodeA, nodeB) {\n      return nodeA.nextSibling === nodeB ||\n             nodeA.previousSibling === nodeB;\n    };\n\n    /**\n     * returns array of closest siblings with node\n     *\n     * @param {Node} node\n     * @param {function} [pred] - predicate function\n     * @return {Node[]}\n     */\n    var withClosestSiblings = function (node, pred) {\n      pred = pred || func.ok;\n\n      var siblings = [];\n      if (node.previousSibling && pred(node.previousSibling)) {\n        siblings.push(node.previousSibling);\n      }\n      siblings.push(node);\n      if (node.nextSibling && pred(node.nextSibling)) {\n        siblings.push(node.nextSibling);\n      }\n      return siblings;\n    };\n\n    /**\n     * blank HTML for cursor position\n     * - [workaround] for MSIE IE doesn't works with bogus br\n     */\n    var blankHTML = agent.isMSIE ? '&nbsp;' : '<br>';\n\n    /**\n     * @method nodeLength\n     *\n     * returns #text's text size or element's childNodes size\n     *\n     * @param {Node} node\n     */\n    var nodeLength = function (node) {\n      if (isText(node)) {\n        return node.nodeValue.length;\n      }\n\n      return node.childNodes.length;\n    };\n\n    /**\n     * returns whether node is empty or not.\n     *\n     * @param {Node} node\n     * @return {Boolean}\n     */\n    var isEmpty = function (node) {\n      var len = nodeLength(node);\n\n      if (len === 0) {\n        return true;\n      } else if (!dom.isText(node) && len === 1 && node.innerHTML === blankHTML) {\n        // ex) <p><br></p>, <span><br></span>\n        return true;\n      }\n\n      return false;\n    };\n\n    /**\n     * padding blankHTML if node is empty (for cursor position)\n     */\n    var paddingBlankHTML = function (node) {\n      if (!isVoid(node) && !nodeLength(node)) {\n        node.innerHTML = blankHTML;\n      }\n    };\n\n    /**\n     * find nearest ancestor predicate hit\n     *\n     * @param {Node} node\n     * @param {Function} pred - predicate function\n     */\n    var ancestor = function (node, pred) {\n      while (node) {\n        if (pred(node)) { return node; }\n        if (isEditable(node)) { break; }\n\n        node = node.parentNode;\n      }\n      return null;\n    };\n\n    /**\n     * find nearest ancestor only single child blood line and predicate hit\n     *\n     * @param {Node} node\n     * @param {Function} pred - predicate function\n     */\n    var singleChildAncestor = function (node, pred) {\n      node = node.parentNode;\n\n      while (node) {\n        if (nodeLength(node) !== 1) { break; }\n        if (pred(node)) { return node; }\n        if (isEditable(node)) { break; }\n\n        node = node.parentNode;\n      }\n      return null;\n    };\n\n    /**\n     * returns new array of ancestor nodes (until predicate hit).\n     *\n     * @param {Node} node\n     * @param {Function} [optional] pred - predicate function\n     */\n    var listAncestor = function (node, pred) {\n      pred = pred || func.fail;\n\n      var ancestors = [];\n      ancestor(node, function (el) {\n        if (!isEditable(el)) {\n          ancestors.push(el);\n        }\n\n        return pred(el);\n      });\n      return ancestors;\n    };\n\n    /**\n     * find farthest ancestor predicate hit\n     */\n    var lastAncestor = function (node, pred) {\n      var ancestors = listAncestor(node);\n      return list.last(ancestors.filter(pred));\n    };\n\n    /**\n     * returns common ancestor node between two nodes.\n     *\n     * @param {Node} nodeA\n     * @param {Node} nodeB\n     */\n    var commonAncestor = function (nodeA, nodeB) {\n      var ancestors = listAncestor(nodeA);\n      for (var n = nodeB; n; n = n.parentNode) {\n        if ($.inArray(n, ancestors) > -1) { return n; }\n      }\n      return null; // difference document area\n    };\n\n    /**\n     * listing all previous siblings (until predicate hit).\n     *\n     * @param {Node} node\n     * @param {Function} [optional] pred - predicate function\n     */\n    var listPrev = function (node, pred) {\n      pred = pred || func.fail;\n\n      var nodes = [];\n      while (node) {\n        if (pred(node)) { break; }\n        nodes.push(node);\n        node = node.previousSibling;\n      }\n      return nodes;\n    };\n\n    /**\n     * listing next siblings (until predicate hit).\n     *\n     * @param {Node} node\n     * @param {Function} [pred] - predicate function\n     */\n    var listNext = function (node, pred) {\n      pred = pred || func.fail;\n\n      var nodes = [];\n      while (node) {\n        if (pred(node)) { break; }\n        nodes.push(node);\n        node = node.nextSibling;\n      }\n      return nodes;\n    };\n\n    /**\n     * listing descendant nodes\n     *\n     * @param {Node} node\n     * @param {Function} [pred] - predicate function\n     */\n    var listDescendant = function (node, pred) {\n      var descendents = [];\n      pred = pred || func.ok;\n\n      // start DFS(depth first search) with node\n      (function fnWalk(current) {\n        if (node !== current && pred(current)) {\n          descendents.push(current);\n        }\n        for (var idx = 0, len = current.childNodes.length; idx < len; idx++) {\n          fnWalk(current.childNodes[idx]);\n        }\n      })(node);\n\n      return descendents;\n    };\n\n    /**\n     * wrap node with new tag.\n     *\n     * @param {Node} node\n     * @param {Node} tagName of wrapper\n     * @return {Node} - wrapper\n     */\n    var wrap = function (node, wrapperName) {\n      var parent = node.parentNode;\n      var wrapper = $('<' + wrapperName + '>')[0];\n\n      parent.insertBefore(wrapper, node);\n      wrapper.appendChild(node);\n\n      return wrapper;\n    };\n\n    /**\n     * insert node after preceding\n     *\n     * @param {Node} node\n     * @param {Node} preceding - predicate function\n     */\n    var insertAfter = function (node, preceding) {\n      var next = preceding.nextSibling, parent = preceding.parentNode;\n      if (next) {\n        parent.insertBefore(node, next);\n      } else {\n        parent.appendChild(node);\n      }\n      return node;\n    };\n\n    /**\n     * append elements.\n     *\n     * @param {Node} node\n     * @param {Collection} aChild\n     */\n    var appendChildNodes = function (node, aChild) {\n      $.each(aChild, function (idx, child) {\n        node.appendChild(child);\n      });\n      return node;\n    };\n\n    /**\n     * returns whether boundaryPoint is left edge or not.\n     *\n     * @param {BoundaryPoint} point\n     * @return {Boolean}\n     */\n    var isLeftEdgePoint = function (point) {\n      return point.offset === 0;\n    };\n\n    /**\n     * returns whether boundaryPoint is right edge or not.\n     *\n     * @param {BoundaryPoint} point\n     * @return {Boolean}\n     */\n    var isRightEdgePoint = function (point) {\n      return point.offset === nodeLength(point.node);\n    };\n\n    /**\n     * returns whether boundaryPoint is edge or not.\n     *\n     * @param {BoundaryPoint} point\n     * @return {Boolean}\n     */\n    var isEdgePoint = function (point) {\n      return isLeftEdgePoint(point) || isRightEdgePoint(point);\n    };\n\n    /**\n     * returns wheter node is left edge of ancestor or not.\n     *\n     * @param {Node} node\n     * @param {Node} ancestor\n     * @return {Boolean}\n     */\n    var isLeftEdgeOf = function (node, ancestor) {\n      while (node && node !== ancestor) {\n        if (position(node) !== 0) {\n          return false;\n        }\n        node = node.parentNode;\n      }\n\n      return true;\n    };\n\n    /**\n     * returns whether node is right edge of ancestor or not.\n     *\n     * @param {Node} node\n     * @param {Node} ancestor\n     * @return {Boolean}\n     */\n    var isRightEdgeOf = function (node, ancestor) {\n      while (node && node !== ancestor) {\n        if (position(node) !== nodeLength(node.parentNode) - 1) {\n          return false;\n        }\n        node = node.parentNode;\n      }\n\n      return true;\n    };\n\n    /**\n     * returns offset from parent.\n     *\n     * @param {Node} node\n     */\n    var position = function (node) {\n      var offset = 0;\n      while ((node = node.previousSibling)) {\n        offset += 1;\n      }\n      return offset;\n    };\n\n    var hasChildren = function (node) {\n      return !!(node && node.childNodes && node.childNodes.length);\n    };\n\n    /**\n     * returns previous boundaryPoint\n     *\n     * @param {BoundaryPoint} point\n     * @param {Boolean} isSkipInnerOffset\n     * @return {BoundaryPoint}\n     */\n    var prevPoint = function (point, isSkipInnerOffset) {\n      var node, offset;\n\n      if (point.offset === 0) {\n        if (isEditable(point.node)) {\n          return null;\n        }\n\n        node = point.node.parentNode;\n        offset = position(point.node);\n      } else if (hasChildren(point.node)) {\n        node = point.node.childNodes[point.offset - 1];\n        offset = nodeLength(node);\n      } else {\n        node = point.node;\n        offset = isSkipInnerOffset ? 0 : point.offset - 1;\n      }\n\n      return {\n        node: node,\n        offset: offset\n      };\n    };\n\n    /**\n     * returns next boundaryPoint\n     *\n     * @param {BoundaryPoint} point\n     * @param {Boolean} isSkipInnerOffset\n     * @return {BoundaryPoint}\n     */\n    var nextPoint = function (point, isSkipInnerOffset) {\n      var node, offset;\n\n      if (nodeLength(point.node) === point.offset) {\n        if (isEditable(point.node)) {\n          return null;\n        }\n\n        node = point.node.parentNode;\n        offset = position(point.node) + 1;\n      } else if (hasChildren(point.node)) {\n        node = point.node.childNodes[point.offset];\n        offset = 0;\n      } else {\n        node = point.node;\n        offset = isSkipInnerOffset ? nodeLength(point.node) : point.offset + 1;\n      }\n\n      return {\n        node: node,\n        offset: offset\n      };\n    };\n\n    /**\n     * returns whether pointA and pointB is same or not.\n     *\n     * @param {BoundaryPoint} pointA\n     * @param {BoundaryPoint} pointB\n     * @return {Boolean}\n     */\n    var isSamePoint = function (pointA, pointB) {\n      return pointA.node === pointB.node && pointA.offset === pointB.offset;\n    };\n\n    /**\n     * returns whether point is visible (can set cursor) or not.\n     * \n     * @param {BoundaryPoint} point\n     * @return {Boolean}\n     */\n    var isVisiblePoint = function (point) {\n      if (isText(point.node) || !hasChildren(point.node) || isEmpty(point.node)) {\n        return true;\n      }\n\n      var leftNode = point.node.childNodes[point.offset - 1];\n      var rightNode = point.node.childNodes[point.offset];\n      if ((!leftNode || isVoid(leftNode)) && (!rightNode || isVoid(rightNode))) {\n        return true;\n      }\n\n      return false;\n    };\n\n    /**\n     * @method prevPointUtil\n     *\n     * @param {BoundaryPoint} point\n     * @param {Function} pred\n     * @return {BoundaryPoint}\n     */\n    var prevPointUntil = function (point, pred) {\n      while (point) {\n        if (pred(point)) {\n          return point;\n        }\n\n        point = prevPoint(point);\n      }\n\n      return null;\n    };\n\n    /**\n     * @method nextPointUntil\n     *\n     * @param {BoundaryPoint} point\n     * @param {Function} pred\n     * @return {BoundaryPoint}\n     */\n    var nextPointUntil = function (point, pred) {\n      while (point) {\n        if (pred(point)) {\n          return point;\n        }\n\n        point = nextPoint(point);\n      }\n\n      return null;\n    };\n\n    /**\n     * returns whether point has character or not.\n     *\n     * @param {Point} point\n     * @return {Boolean}\n     */\n    var isCharPoint = function (point) {\n      if (!isText(point.node)) {\n        return false;\n      }\n\n      var ch = point.node.nodeValue.charAt(point.offset - 1);\n      return ch && (ch !== ' ' && ch !== NBSP_CHAR);\n    };\n\n    /**\n     * @method walkPoint\n     *\n     * @param {BoundaryPoint} startPoint\n     * @param {BoundaryPoint} endPoint\n     * @param {Function} handler\n     * @param {Boolean} isSkipInnerOffset\n     */\n    var walkPoint = function (startPoint, endPoint, handler, isSkipInnerOffset) {\n      var point = startPoint;\n\n      while (point) {\n        handler(point);\n\n        if (isSamePoint(point, endPoint)) {\n          break;\n        }\n\n        var isSkipOffset = isSkipInnerOffset &&\n                           startPoint.node !== point.node &&\n                           endPoint.node !== point.node;\n        point = nextPoint(point, isSkipOffset);\n      }\n    };\n\n    /**\n     * @method makeOffsetPath\n     *\n     * return offsetPath(array of offset) from ancestor\n     *\n     * @param {Node} ancestor - ancestor node\n     * @param {Node} node\n     */\n    var makeOffsetPath = function (ancestor, node) {\n      var ancestors = listAncestor(node, func.eq(ancestor));\n      return $.map(ancestors, position).reverse();\n    };\n\n    /**\n     * @method fromOffsetPath\n     *\n     * return element from offsetPath(array of offset)\n     *\n     * @param {Node} ancestor - ancestor node\n     * @param {array} offsets - offsetPath\n     */\n    var fromOffsetPath = function (ancestor, offsets) {\n      var current = ancestor;\n      for (var i = 0, len = offsets.length; i < len; i++) {\n        if (current.childNodes.length <= offsets[i]) {\n          current = current.childNodes[current.childNodes.length - 1];\n        } else {\n          current = current.childNodes[offsets[i]];\n        }\n      }\n      return current;\n    };\n\n    /**\n     * @method splitNode\n     *\n     * split element or #text\n     *\n     * @param {BoundaryPoint} point\n     * @param {Object} [options]\n     * @param {Boolean} [options.isSkipPaddingBlankHTML] - default: false\n     * @param {Boolean} [options.isNotSplitEdgePoint] - default: false\n     * @return {Node} right node of boundaryPoint\n     */\n    var splitNode = function (point, options) {\n      var isSkipPaddingBlankHTML = options && options.isSkipPaddingBlankHTML;\n      var isNotSplitEdgePoint = options && options.isNotSplitEdgePoint;\n\n      // edge case\n      if (isEdgePoint(point) && (isText(point.node) || isNotSplitEdgePoint)) {\n        if (isLeftEdgePoint(point)) {\n          return point.node;\n        } else if (isRightEdgePoint(point)) {\n          return point.node.nextSibling;\n        }\n      }\n\n      // split #text\n      if (isText(point.node)) {\n        return point.node.splitText(point.offset);\n      } else {\n        var childNode = point.node.childNodes[point.offset];\n        var clone = insertAfter(point.node.cloneNode(false), point.node);\n        appendChildNodes(clone, listNext(childNode));\n\n        if (!isSkipPaddingBlankHTML) {\n          paddingBlankHTML(point.node);\n          paddingBlankHTML(clone);\n        }\n\n        return clone;\n      }\n    };\n\n    /**\n     * @method splitTree\n     *\n     * split tree by point\n     *\n     * @param {Node} root - split root\n     * @param {BoundaryPoint} point\n     * @param {Object} [options]\n     * @param {Boolean} [options.isSkipPaddingBlankHTML] - default: false\n     * @param {Boolean} [options.isNotSplitEdgePoint] - default: false\n     * @return {Node} right node of boundaryPoint\n     */\n    var splitTree = function (root, point, options) {\n      // ex) [#text, <span>, <p>]\n      var ancestors = listAncestor(point.node, func.eq(root));\n\n      if (!ancestors.length) {\n        return null;\n      } else if (ancestors.length === 1) {\n        return splitNode(point, options);\n      }\n\n      return ancestors.reduce(function (node, parent) {\n        if (node === point.node) {\n          node = splitNode(point, options);\n        }\n\n        return splitNode({\n          node: parent,\n          offset: node ? dom.position(node) : nodeLength(parent)\n        }, options);\n      });\n    };\n\n    /**\n     * split point\n     *\n     * @param {Point} point\n     * @param {Boolean} isInline\n     * @return {Object}\n     */\n    var splitPoint = function (point, isInline) {\n      // find splitRoot, container\n      //  - inline: splitRoot is a child of paragraph\n      //  - block: splitRoot is a child of bodyContainer\n      var pred = isInline ? isPara : isBodyContainer;\n      var ancestors = listAncestor(point.node, pred);\n      var topAncestor = list.last(ancestors) || point.node;\n\n      var splitRoot, container;\n      if (pred(topAncestor)) {\n        splitRoot = ancestors[ancestors.length - 2];\n        container = topAncestor;\n      } else {\n        splitRoot = topAncestor;\n        container = splitRoot.parentNode;\n      }\n\n      // if splitRoot is exists, split with splitTree\n      var pivot = splitRoot && splitTree(splitRoot, point, {\n        isSkipPaddingBlankHTML: isInline,\n        isNotSplitEdgePoint: isInline\n      });\n\n      // if container is point.node, find pivot with point.offset\n      if (!pivot && container === point.node) {\n        pivot = point.node.childNodes[point.offset];\n      }\n\n      return {\n        rightNode: pivot,\n        container: container\n      };\n    };\n\n    var create = function (nodeName) {\n      return document.createElement(nodeName);\n    };\n\n    var createText = function (text) {\n      return document.createTextNode(text);\n    };\n\n    /**\n     * @method remove\n     *\n     * remove node, (isRemoveChild: remove child or not)\n     *\n     * @param {Node} node\n     * @param {Boolean} isRemoveChild\n     */\n    var remove = function (node, isRemoveChild) {\n      if (!node || !node.parentNode) { return; }\n      if (node.removeNode) { return node.removeNode(isRemoveChild); }\n\n      var parent = node.parentNode;\n      if (!isRemoveChild) {\n        var nodes = [];\n        var i, len;\n        for (i = 0, len = node.childNodes.length; i < len; i++) {\n          nodes.push(node.childNodes[i]);\n        }\n\n        for (i = 0, len = nodes.length; i < len; i++) {\n          parent.insertBefore(nodes[i], node);\n        }\n      }\n\n      parent.removeChild(node);\n    };\n\n    /**\n     * @method removeWhile\n     *\n     * @param {Node} node\n     * @param {Function} pred\n     */\n    var removeWhile = function (node, pred) {\n      while (node) {\n        if (isEditable(node) || !pred(node)) {\n          break;\n        }\n\n        var parent = node.parentNode;\n        remove(node);\n        node = parent;\n      }\n    };\n\n    /**\n     * @method replace\n     *\n     * replace node with provided nodeName\n     *\n     * @param {Node} node\n     * @param {String} nodeName\n     * @return {Node} - new node\n     */\n    var replace = function (node, nodeName) {\n      if (node.nodeName.toUpperCase() === nodeName.toUpperCase()) {\n        return node;\n      }\n\n      var newNode = create(nodeName);\n\n      if (node.style.cssText) {\n        newNode.style.cssText = node.style.cssText;\n      }\n\n      appendChildNodes(newNode, list.from(node.childNodes));\n      insertAfter(newNode, node);\n      remove(node);\n\n      return newNode;\n    };\n\n    var isTextarea = makePredByNodeName('TEXTAREA');\n\n    /**\n     * @param {jQuery} $node\n     * @param {Boolean} [stripLinebreaks] - default: false\n     */\n    var value = function ($node, stripLinebreaks) {\n      var val = isTextarea($node[0]) ? $node.val() : $node.html();\n      if (stripLinebreaks) {\n        return val.replace(/[\\n\\r]/g, '');\n      }\n      return val;\n    };\n\n    /**\n     * @method html\n     *\n     * get the HTML contents of node\n     *\n     * @param {jQuery} $node\n     * @param {Boolean} [isNewlineOnBlock]\n     */\n    var html = function ($node, isNewlineOnBlock) {\n      var markup = value($node);\n\n      if (isNewlineOnBlock) {\n        var regexTag = /<(\\/?)(\\b(?!!)[^>\\s]*)(.*?)(\\s*\\/?>)/g;\n        markup = markup.replace(regexTag, function (match, endSlash, name) {\n          name = name.toUpperCase();\n          var isEndOfInlineContainer = /^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(name) &&\n                                       !!endSlash;\n          var isBlockNode = /^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(name);\n\n          return match + ((isEndOfInlineContainer || isBlockNode) ? '\\n' : '');\n        });\n        markup = $.trim(markup);\n      }\n\n      return markup;\n    };\n\n    return {\n      /** @property {String} NBSP_CHAR */\n      NBSP_CHAR: NBSP_CHAR,\n      /** @property {String} ZERO_WIDTH_NBSP_CHAR */\n      ZERO_WIDTH_NBSP_CHAR: ZERO_WIDTH_NBSP_CHAR,\n      /** @property {String} blank */\n      blank: blankHTML,\n      /** @property {String} emptyPara */\n      emptyPara: '<p>' + blankHTML + '</p>',\n      makePredByNodeName: makePredByNodeName,\n      isEditable: isEditable,\n      isControlSizing: isControlSizing,\n      buildLayoutInfo: buildLayoutInfo,\n      makeLayoutInfo: makeLayoutInfo,\n      isText: isText,\n      isVoid: isVoid,\n      isPara: isPara,\n      isPurePara: isPurePara,\n      isInline: isInline,\n      isBlock: func.not(isInline),\n      isBodyInline: isBodyInline,\n      isBody: isBody,\n      isParaInline: isParaInline,\n      isList: isList,\n      isTable: isTable,\n      isCell: isCell,\n      isBlockquote: isBlockquote,\n      isBodyContainer: isBodyContainer,\n      isAnchor: isAnchor,\n      isDiv: makePredByNodeName('DIV'),\n      isLi: isLi,\n      isBR: makePredByNodeName('BR'),\n      isSpan: makePredByNodeName('SPAN'),\n      isB: makePredByNodeName('B'),\n      isU: makePredByNodeName('U'),\n      isS: makePredByNodeName('S'),\n      isI: makePredByNodeName('I'),\n      isImg: makePredByNodeName('IMG'),\n      isTextarea: isTextarea,\n      isEmpty: isEmpty,\n      isEmptyAnchor: func.and(isAnchor, isEmpty),\n      isClosestSibling: isClosestSibling,\n      withClosestSiblings: withClosestSiblings,\n      nodeLength: nodeLength,\n      isLeftEdgePoint: isLeftEdgePoint,\n      isRightEdgePoint: isRightEdgePoint,\n      isEdgePoint: isEdgePoint,\n      isLeftEdgeOf: isLeftEdgeOf,\n      isRightEdgeOf: isRightEdgeOf,\n      prevPoint: prevPoint,\n      nextPoint: nextPoint,\n      isSamePoint: isSamePoint,\n      isVisiblePoint: isVisiblePoint,\n      prevPointUntil: prevPointUntil,\n      nextPointUntil: nextPointUntil,\n      isCharPoint: isCharPoint,\n      walkPoint: walkPoint,\n      ancestor: ancestor,\n      singleChildAncestor: singleChildAncestor,\n      listAncestor: listAncestor,\n      lastAncestor: lastAncestor,\n      listNext: listNext,\n      listPrev: listPrev,\n      listDescendant: listDescendant,\n      commonAncestor: commonAncestor,\n      wrap: wrap,\n      insertAfter: insertAfter,\n      appendChildNodes: appendChildNodes,\n      position: position,\n      hasChildren: hasChildren,\n      makeOffsetPath: makeOffsetPath,\n      fromOffsetPath: fromOffsetPath,\n      splitTree: splitTree,\n      splitPoint: splitPoint,\n      create: create,\n      createText: createText,\n      remove: remove,\n      removeWhile: removeWhile,\n      replace: replace,\n      html: html,\n      value: value\n    };\n  })();\n\n\n  var range = (function () {\n\n    /**\n     * return boundaryPoint from TextRange, inspired by Andy Na's HuskyRange.js\n     *\n     * @param {TextRange} textRange\n     * @param {Boolean} isStart\n     * @return {BoundaryPoint}\n     *\n     * @see http://msdn.microsoft.com/en-us/library/ie/ms535872(v=vs.85).aspx\n     */\n    var textRangeToPoint = function (textRange, isStart) {\n      var container = textRange.parentElement(), offset;\n  \n      var tester = document.body.createTextRange(), prevContainer;\n      var childNodes = list.from(container.childNodes);\n      for (offset = 0; offset < childNodes.length; offset++) {\n        if (dom.isText(childNodes[offset])) {\n          continue;\n        }\n        tester.moveToElementText(childNodes[offset]);\n        if (tester.compareEndPoints('StartToStart', textRange) >= 0) {\n          break;\n        }\n        prevContainer = childNodes[offset];\n      }\n  \n      if (offset !== 0 && dom.isText(childNodes[offset - 1])) {\n        var textRangeStart = document.body.createTextRange(), curTextNode = null;\n        textRangeStart.moveToElementText(prevContainer || container);\n        textRangeStart.collapse(!prevContainer);\n        curTextNode = prevContainer ? prevContainer.nextSibling : container.firstChild;\n  \n        var pointTester = textRange.duplicate();\n        pointTester.setEndPoint('StartToStart', textRangeStart);\n        var textCount = pointTester.text.replace(/[\\r\\n]/g, '').length;\n  \n        while (textCount > curTextNode.nodeValue.length && curTextNode.nextSibling) {\n          textCount -= curTextNode.nodeValue.length;\n          curTextNode = curTextNode.nextSibling;\n        }\n  \n        /* jshint ignore:start */\n        var dummy = curTextNode.nodeValue; // enforce IE to re-reference curTextNode, hack\n        /* jshint ignore:end */\n  \n        if (isStart && curTextNode.nextSibling && dom.isText(curTextNode.nextSibling) &&\n            textCount === curTextNode.nodeValue.length) {\n          textCount -= curTextNode.nodeValue.length;\n          curTextNode = curTextNode.nextSibling;\n        }\n  \n        container = curTextNode;\n        offset = textCount;\n      }\n  \n      return {\n        cont: container,\n        offset: offset\n      };\n    };\n    \n    /**\n     * return TextRange from boundary point (inspired by google closure-library)\n     * @param {BoundaryPoint} point\n     * @return {TextRange}\n     */\n    var pointToTextRange = function (point) {\n      var textRangeInfo = function (container, offset) {\n        var node, isCollapseToStart;\n  \n        if (dom.isText(container)) {\n          var prevTextNodes = dom.listPrev(container, func.not(dom.isText));\n          var prevContainer = list.last(prevTextNodes).previousSibling;\n          node =  prevContainer || container.parentNode;\n          offset += list.sum(list.tail(prevTextNodes), dom.nodeLength);\n          isCollapseToStart = !prevContainer;\n        } else {\n          node = container.childNodes[offset] || container;\n          if (dom.isText(node)) {\n            return textRangeInfo(node, 0);\n          }\n  \n          offset = 0;\n          isCollapseToStart = false;\n        }\n  \n        return {\n          node: node,\n          collapseToStart: isCollapseToStart,\n          offset: offset\n        };\n      };\n  \n      var textRange = document.body.createTextRange();\n      var info = textRangeInfo(point.node, point.offset);\n  \n      textRange.moveToElementText(info.node);\n      textRange.collapse(info.collapseToStart);\n      textRange.moveStart('character', info.offset);\n      return textRange;\n    };\n    \n    /**\n     * Wrapped Range\n     *\n     * @constructor\n     * @param {Node} sc - start container\n     * @param {Number} so - start offset\n     * @param {Node} ec - end container\n     * @param {Number} eo - end offset\n     */\n    var WrappedRange = function (sc, so, ec, eo) {\n      this.sc = sc;\n      this.so = so;\n      this.ec = ec;\n      this.eo = eo;\n  \n      // nativeRange: get nativeRange from sc, so, ec, eo\n      var nativeRange = function () {\n        if (agent.isW3CRangeSupport) {\n          var w3cRange = document.createRange();\n          w3cRange.setStart(sc, so);\n          w3cRange.setEnd(ec, eo);\n\n          return w3cRange;\n        } else {\n          var textRange = pointToTextRange({\n            node: sc,\n            offset: so\n          });\n\n          textRange.setEndPoint('EndToEnd', pointToTextRange({\n            node: ec,\n            offset: eo\n          }));\n\n          return textRange;\n        }\n      };\n\n      this.getPoints = function () {\n        return {\n          sc: sc,\n          so: so,\n          ec: ec,\n          eo: eo\n        };\n      };\n\n      this.getStartPoint = function () {\n        return {\n          node: sc,\n          offset: so\n        };\n      };\n\n      this.getEndPoint = function () {\n        return {\n          node: ec,\n          offset: eo\n        };\n      };\n\n      /**\n       * select update visible range\n       */\n      this.select = function () {\n        var nativeRng = nativeRange();\n        if (agent.isW3CRangeSupport) {\n          var selection = document.getSelection();\n          if (selection.rangeCount > 0) {\n            selection.removeAllRanges();\n          }\n          selection.addRange(nativeRng);\n        } else {\n          nativeRng.select();\n        }\n        \n        return this;\n      };\n\n      /**\n       * @return {WrappedRange}\n       */\n      this.normalize = function () {\n\n        /**\n         * @param {BoundaryPoint} point\n         * @return {BoundaryPoint}\n         */\n        var getVisiblePoint = function (point) {\n          if (!dom.isVisiblePoint(point)) {\n            if (dom.isLeftEdgePoint(point)) {\n              point = dom.nextPointUntil(point, dom.isVisiblePoint);\n            } else {\n              point = dom.prevPointUntil(point, dom.isVisiblePoint);\n            }\n          }\n          return point;\n        };\n\n        var startPoint = getVisiblePoint(this.getStartPoint());\n        var endPoint = getVisiblePoint(this.getEndPoint());\n\n        return new WrappedRange(\n          startPoint.node,\n          startPoint.offset,\n          endPoint.node,\n          endPoint.offset\n        );\n      };\n\n      /**\n       * returns matched nodes on range\n       *\n       * @param {Function} [pred] - predicate function\n       * @param {Object} [options]\n       * @param {Boolean} [options.includeAncestor]\n       * @param {Boolean} [options.fullyContains]\n       * @return {Node[]}\n       */\n      this.nodes = function (pred, options) {\n        pred = pred || func.ok;\n\n        var includeAncestor = options && options.includeAncestor;\n        var fullyContains = options && options.fullyContains;\n\n        // TODO compare points and sort\n        var startPoint = this.getStartPoint();\n        var endPoint = this.getEndPoint();\n\n        var nodes = [];\n        var leftEdgeNodes = [];\n\n        dom.walkPoint(startPoint, endPoint, function (point) {\n          if (dom.isEditable(point.node)) {\n            return;\n          }\n\n          var node;\n          if (fullyContains) {\n            if (dom.isLeftEdgePoint(point)) {\n              leftEdgeNodes.push(point.node);\n            }\n            if (dom.isRightEdgePoint(point) && list.contains(leftEdgeNodes, point.node)) {\n              node = point.node;\n            }\n          } else if (includeAncestor) {\n            node = dom.ancestor(point.node, pred);\n          } else {\n            node = point.node;\n          }\n\n          if (node && pred(node)) {\n            nodes.push(node);\n          }\n        }, true);\n\n        return list.unique(nodes);\n      };\n\n      /**\n       * returns commonAncestor of range\n       * @return {Element} - commonAncestor\n       */\n      this.commonAncestor = function () {\n        return dom.commonAncestor(sc, ec);\n      };\n\n      /**\n       * returns expanded range by pred\n       *\n       * @param {Function} pred - predicate function\n       * @return {WrappedRange}\n       */\n      this.expand = function (pred) {\n        var startAncestor = dom.ancestor(sc, pred);\n        var endAncestor = dom.ancestor(ec, pred);\n\n        if (!startAncestor && !endAncestor) {\n          return new WrappedRange(sc, so, ec, eo);\n        }\n\n        var boundaryPoints = this.getPoints();\n\n        if (startAncestor) {\n          boundaryPoints.sc = startAncestor;\n          boundaryPoints.so = 0;\n        }\n\n        if (endAncestor) {\n          boundaryPoints.ec = endAncestor;\n          boundaryPoints.eo = dom.nodeLength(endAncestor);\n        }\n\n        return new WrappedRange(\n          boundaryPoints.sc,\n          boundaryPoints.so,\n          boundaryPoints.ec,\n          boundaryPoints.eo\n        );\n      };\n\n      /**\n       * @param {Boolean} isCollapseToStart\n       * @return {WrappedRange}\n       */\n      this.collapse = function (isCollapseToStart) {\n        if (isCollapseToStart) {\n          return new WrappedRange(sc, so, sc, so);\n        } else {\n          return new WrappedRange(ec, eo, ec, eo);\n        }\n      };\n\n      /**\n       * splitText on range\n       */\n      this.splitText = function () {\n        var isSameContainer = sc === ec;\n        var boundaryPoints = this.getPoints();\n\n        if (dom.isText(ec) && !dom.isEdgePoint(this.getEndPoint())) {\n          ec.splitText(eo);\n        }\n\n        if (dom.isText(sc) && !dom.isEdgePoint(this.getStartPoint())) {\n          boundaryPoints.sc = sc.splitText(so);\n          boundaryPoints.so = 0;\n\n          if (isSameContainer) {\n            boundaryPoints.ec = boundaryPoints.sc;\n            boundaryPoints.eo = eo - so;\n          }\n        }\n\n        return new WrappedRange(\n          boundaryPoints.sc,\n          boundaryPoints.so,\n          boundaryPoints.ec,\n          boundaryPoints.eo\n        );\n      };\n\n      /**\n       * delete contents on range\n       * @return {WrappedRange}\n       */\n      this.deleteContents = function () {\n        if (this.isCollapsed()) {\n          return this;\n        }\n\n        var rng = this.splitText();\n        var nodes = rng.nodes(null, {\n          fullyContains: true\n        });\n\n        // find new cursor point\n        var point = dom.prevPointUntil(rng.getStartPoint(), function (point) {\n          return !list.contains(nodes, point.node);\n        });\n\n        var emptyParents = [];\n        $.each(nodes, function (idx, node) {\n          // find empty parents\n          var parent = node.parentNode;\n          if (point.node !== parent && dom.nodeLength(parent) === 1) {\n            emptyParents.push(parent);\n          }\n          dom.remove(node, false);\n        });\n\n        // remove empty parents\n        $.each(emptyParents, function (idx, node) {\n          dom.remove(node, false);\n        });\n\n        return new WrappedRange(\n          point.node,\n          point.offset,\n          point.node,\n          point.offset\n        ).normalize();\n      };\n      \n      /**\n       * makeIsOn: return isOn(pred) function\n       */\n      var makeIsOn = function (pred) {\n        return function () {\n          var ancestor = dom.ancestor(sc, pred);\n          return !!ancestor && (ancestor === dom.ancestor(ec, pred));\n        };\n      };\n  \n      // isOnEditable: judge whether range is on editable or not\n      this.isOnEditable = makeIsOn(dom.isEditable);\n      // isOnList: judge whether range is on list node or not\n      this.isOnList = makeIsOn(dom.isList);\n      // isOnAnchor: judge whether range is on anchor node or not\n      this.isOnAnchor = makeIsOn(dom.isAnchor);\n      // isOnAnchor: judge whether range is on cell node or not\n      this.isOnCell = makeIsOn(dom.isCell);\n\n      /**\n       * @param {Function} pred\n       * @return {Boolean}\n       */\n      this.isLeftEdgeOf = function (pred) {\n        if (!dom.isLeftEdgePoint(this.getStartPoint())) {\n          return false;\n        }\n\n        var node = dom.ancestor(this.sc, pred);\n        return node && dom.isLeftEdgeOf(this.sc, node);\n      };\n\n      /**\n       * returns whether range was collapsed or not\n       */\n      this.isCollapsed = function () {\n        return sc === ec && so === eo;\n      };\n\n      /**\n       * wrap inline nodes which children of body with paragraph\n       *\n       * @return {WrappedRange}\n       */\n      this.wrapBodyInlineWithPara = function () {\n        if (dom.isBodyContainer(sc) && dom.isEmpty(sc)) {\n          sc.innerHTML = dom.emptyPara;\n          return new WrappedRange(sc.firstChild, 0, sc.firstChild, 0);\n        }\n\n        if (dom.isParaInline(sc) || dom.isPara(sc)) {\n          return this.normalize();\n        }\n\n        // find inline top ancestor\n        var topAncestor;\n        if (dom.isInline(sc)) {\n          var ancestors = dom.listAncestor(sc, func.not(dom.isInline));\n          topAncestor = list.last(ancestors);\n          if (!dom.isInline(topAncestor)) {\n            topAncestor = ancestors[ancestors.length - 2] || sc.childNodes[so];\n          }\n        } else {\n          topAncestor = sc.childNodes[so > 0 ? so - 1 : 0];\n        }\n\n        // siblings not in paragraph\n        var inlineSiblings = dom.listPrev(topAncestor, dom.isParaInline).reverse();\n        inlineSiblings = inlineSiblings.concat(dom.listNext(topAncestor.nextSibling, dom.isParaInline));\n\n        // wrap with paragraph\n        if (inlineSiblings.length) {\n          var para = dom.wrap(list.head(inlineSiblings), 'p');\n          dom.appendChildNodes(para, list.tail(inlineSiblings));\n        }\n\n        return this.normalize();\n      };\n\n      /**\n       * insert node at current cursor\n       *\n       * @param {Node} node\n       * @return {Node}\n       */\n      this.insertNode = function (node) {\n        var rng = this.wrapBodyInlineWithPara().deleteContents();\n        var info = dom.splitPoint(rng.getStartPoint(), dom.isInline(node));\n\n        if (info.rightNode) {\n          info.rightNode.parentNode.insertBefore(node, info.rightNode);\n        } else {\n          info.container.appendChild(node);\n        }\n\n        return node;\n      };\n\n      /**\n       * insert html at current cursor\n       */\n      this.pasteHTML = function (markup) {\n        var self = this;\n        var contentsContainer = $('<div></div>').html(markup)[0];\n        var childNodes = list.from(contentsContainer.childNodes);\n\n        this.wrapBodyInlineWithPara().deleteContents();\n\n        return $.map(childNodes.reverse(), function (childNode) {\n          return self.insertNode(childNode);\n        }).reverse();\n      };\n  \n      /**\n       * returns text in range\n       *\n       * @return {String}\n       */\n      this.toString = function () {\n        var nativeRng = nativeRange();\n        return agent.isW3CRangeSupport ? nativeRng.toString() : nativeRng.text;\n      };\n\n      /**\n       * returns range for word before cursor\n       *\n       * @param {Boolean} [findAfter] - find after cursor, default: false\n       * @return {WrappedRange}\n       */\n      this.getWordRange = function (findAfter) {\n        var endPoint = this.getEndPoint();\n\n        if (!dom.isCharPoint(endPoint)) {\n          return this;\n        }\n\n        var startPoint = dom.prevPointUntil(endPoint, function (point) {\n          return !dom.isCharPoint(point);\n        });\n\n        if (findAfter) {\n          endPoint = dom.nextPointUntil(endPoint, function (point) {\n            return !dom.isCharPoint(point);\n          });\n        }\n\n        return new WrappedRange(\n          startPoint.node,\n          startPoint.offset,\n          endPoint.node,\n          endPoint.offset\n        );\n      };\n  \n      /**\n       * create offsetPath bookmark\n       *\n       * @param {Node} editable\n       */\n      this.bookmark = function (editable) {\n        return {\n          s: {\n            path: dom.makeOffsetPath(editable, sc),\n            offset: so\n          },\n          e: {\n            path: dom.makeOffsetPath(editable, ec),\n            offset: eo\n          }\n        };\n      };\n\n      /**\n       * create offsetPath bookmark base on paragraph\n       *\n       * @param {Node[]} paras\n       */\n      this.paraBookmark = function (paras) {\n        return {\n          s: {\n            path: list.tail(dom.makeOffsetPath(list.head(paras), sc)),\n            offset: so\n          },\n          e: {\n            path: list.tail(dom.makeOffsetPath(list.last(paras), ec)),\n            offset: eo\n          }\n        };\n      };\n\n      /**\n       * getClientRects\n       * @return {Rect[]}\n       */\n      this.getClientRects = function () {\n        var nativeRng = nativeRange();\n        return nativeRng.getClientRects();\n      };\n    };\n\n  /**\n   * @class core.range\n   *\n   * Data structure\n   *  * BoundaryPoint: a point of dom tree\n   *  * BoundaryPoints: two boundaryPoints corresponding to the start and the end of the Range\n   *\n   * See to http://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html#Level-2-Range-Position\n   *\n   * @singleton\n   * @alternateClassName range\n   */\n    return {\n      /**\n       * @method\n       * \n       * create Range Object From arguments or Browser Selection\n       *\n       * @param {Node} sc - start container\n       * @param {Number} so - start offset\n       * @param {Node} ec - end container\n       * @param {Number} eo - end offset\n       * @return {WrappedRange}\n       */\n      create : function (sc, so, ec, eo) {\n        if (!arguments.length) { // from Browser Selection\n          if (agent.isW3CRangeSupport) {\n            var selection = document.getSelection();\n            if (selection.rangeCount === 0) {\n              return null;\n            } else if (dom.isBody(selection.anchorNode)) {\n              // Firefox: returns entire body as range on initialization. We won't never need it.\n              return null;\n            }\n  \n            var nativeRng = selection.getRangeAt(0);\n            sc = nativeRng.startContainer;\n            so = nativeRng.startOffset;\n            ec = nativeRng.endContainer;\n            eo = nativeRng.endOffset;\n          } else { // IE8: TextRange\n            var textRange = document.selection.createRange();\n            var textRangeEnd = textRange.duplicate();\n            textRangeEnd.collapse(false);\n            var textRangeStart = textRange;\n            textRangeStart.collapse(true);\n  \n            var startPoint = textRangeToPoint(textRangeStart, true),\n            endPoint = textRangeToPoint(textRangeEnd, false);\n\n            // same visible point case: range was collapsed.\n            if (dom.isText(startPoint.node) && dom.isLeftEdgePoint(startPoint) &&\n                dom.isTextNode(endPoint.node) && dom.isRightEdgePoint(endPoint) &&\n                endPoint.node.nextSibling === startPoint.node) {\n              startPoint = endPoint;\n            }\n\n            sc = startPoint.cont;\n            so = startPoint.offset;\n            ec = endPoint.cont;\n            eo = endPoint.offset;\n          }\n        } else if (arguments.length === 2) { //collapsed\n          ec = sc;\n          eo = so;\n        }\n        return new WrappedRange(sc, so, ec, eo);\n      },\n\n      /**\n       * @method \n       * \n       * create WrappedRange from node\n       *\n       * @param {Node} node\n       * @return {WrappedRange}\n       */\n      createFromNode: function (node) {\n        var sc = node;\n        var so = 0;\n        var ec = node;\n        var eo = dom.nodeLength(ec);\n\n        // browsers can't target a picture or void node\n        if (dom.isVoid(sc)) {\n          so = dom.listPrev(sc).length - 1;\n          sc = sc.parentNode;\n        }\n        if (dom.isBR(ec)) {\n          eo = dom.listPrev(ec).length - 1;\n          ec = ec.parentNode;\n        } else if (dom.isVoid(ec)) {\n          eo = dom.listPrev(ec).length;\n          ec = ec.parentNode;\n        }\n\n        return this.create(sc, so, ec, eo);\n      },\n\n      /**\n       * @method \n       * \n       * create WrappedRange from bookmark\n       *\n       * @param {Node} editable\n       * @param {Object} bookmark\n       * @return {WrappedRange}\n       */\n      createFromBookmark : function (editable, bookmark) {\n        var sc = dom.fromOffsetPath(editable, bookmark.s.path);\n        var so = bookmark.s.offset;\n        var ec = dom.fromOffsetPath(editable, bookmark.e.path);\n        var eo = bookmark.e.offset;\n        return new WrappedRange(sc, so, ec, eo);\n      },\n\n      /**\n       * @method \n       *\n       * create WrappedRange from paraBookmark\n       *\n       * @param {Object} bookmark\n       * @param {Node[]} paras\n       * @return {WrappedRange}\n       */\n      createFromParaBookmark: function (bookmark, paras) {\n        var so = bookmark.s.offset;\n        var eo = bookmark.e.offset;\n        var sc = dom.fromOffsetPath(list.head(paras), bookmark.s.path);\n        var ec = dom.fromOffsetPath(list.last(paras), bookmark.e.path);\n\n        return new WrappedRange(sc, so, ec, eo);\n      }\n    };\n  })();\n\n  /**\n   * @class defaults \n   * \n   * @singleton\n   */\n  var defaults = {\n    /** @property */\n    version: '0.6.6',\n\n    /**\n     * \n     * for event options, reference to EventHandler.attach\n     * \n     * @property {Object} options \n     * @property {String/Number} [options.width=null] set editor width \n     * @property {String/Number} [options.height=null] set editor height, ex) 300\n     * @property {String/Number} options.minHeight set minimum height of editor\n     * @property {String/Number} options.maxHeight\n     * @property {String/Number} options.focus \n     * @property {Number} options.tabsize \n     * @property {Boolean} options.styleWithSpan\n     * @property {Object} options.codemirror\n     * @property {Object} [options.codemirror.mode='text/html']\n     * @property {Object} [options.codemirror.htmlMode=true]\n     * @property {Object} [options.codemirror.lineNumbers=true]\n     * @property {String} [options.lang=en-US] language 'en-US', 'ko-KR', ...\n     * @property {String} [options.direction=null] text direction, ex) 'rtl'\n     * @property {Array} [options.toolbar]\n     * @property {Boolean} [options.airMode=false]\n     * @property {Array} [options.airPopover]\n     * @property {Fucntion} [options.onInit] initialize\n     * @property {Fucntion} [options.onsubmit]\n     */\n    options: {\n      width: null,                  // set editor width\n      height: null,                 // set editor height, ex) 300\n\n      minHeight: null,              // set minimum height of editor\n      maxHeight: null,              // set maximum height of editor\n\n      focus: false,                 // set focus to editable area after initializing summernote\n\n      tabsize: 4,                   // size of tab ex) 2 or 4\n      styleWithSpan: true,          // style with span (Chrome and FF only)\n\n      disableLinkTarget: false,     // hide link Target Checkbox\n      disableDragAndDrop: false,    // disable drag and drop event\n      disableResizeEditor: false,   // disable resizing editor\n\n      shortcuts: true,              // enable keyboard shortcuts\n\n      placeholder: false,           // enable placeholder text\n      prettifyHtml: true,           // enable prettifying html while toggling codeview\n\n      iconPrefix: 'fa fa-',         // prefix for css icon classes\n\n      codemirror: {                 // codemirror options\n        mode: 'text/html',\n        htmlMode: true,\n        lineNumbers: true\n      },\n\n      // language\n      lang: 'en-US',                // language 'en-US', 'ko-KR', ...\n      direction: null,              // text direction, ex) 'rtl'\n\n      // toolbar\n      toolbar: [\n        ['style', ['style']],\n        ['font', ['bold', 'italic', 'underline', 'clear']],\n        // ['font', ['bold', 'italic', 'underline', 'strikethrough', 'superscript', 'subscript', 'clear']],\n        ['fontname', ['fontname']],\n        // ['fontsize', ['fontsize']],\n        ['color', ['color']],\n        ['para', ['ul', 'ol', 'paragraph']],\n        ['height', ['height']],\n        ['table', ['table']],\n        ['insert', ['link', 'picture', 'hr']],\n        ['view', ['fullscreen', 'codeview']],\n        ['help', ['help']]\n      ],\n\n      // air mode: inline editor\n      airMode: false,\n      // airPopover: [\n      //   ['style', ['style']],\n      //   ['font', ['bold', 'italic', 'underline', 'clear']],\n      //   ['fontname', ['fontname']],\n      //   ['color', ['color']],\n      //   ['para', ['ul', 'ol', 'paragraph']],\n      //   ['height', ['height']],\n      //   ['table', ['table']],\n      //   ['insert', ['link', 'picture']],\n      //   ['help', ['help']]\n      // ],\n      airPopover: [\n        ['color', ['color']],\n        ['font', ['bold', 'underline', 'clear']],\n        ['para', ['ul', 'paragraph']],\n        ['table', ['table']],\n        ['insert', ['link', 'picture']]\n      ],\n\n      // style tag\n      styleTags: ['p', 'blockquote', 'pre', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\n\n      // default fontName\n      defaultFontName: 'Helvetica Neue',\n\n      // fontName\n      fontNames: [\n        'Arial', 'Arial Black', 'Comic Sans MS', 'Courier New',\n        'Helvetica Neue', 'Helvetica', 'Impact', 'Lucida Grande',\n        'Tahoma', 'Times New Roman', 'Verdana'\n      ],\n      fontNamesIgnoreCheck: [],\n\n      fontSizes: ['8', '9', '10', '11', '12', '14', '18', '24', '36'],\n\n      // pallete colors(n x n)\n      colors: [\n        ['#000000', '#424242', '#636363', '#9C9C94', '#CEC6CE', '#EFEFEF', '#F7F7F7', '#FFFFFF'],\n        ['#FF0000', '#FF9C00', '#FFFF00', '#00FF00', '#00FFFF', '#0000FF', '#9C00FF', '#FF00FF'],\n        ['#F7C6CE', '#FFE7CE', '#FFEFC6', '#D6EFD6', '#CEDEE7', '#CEE7F7', '#D6D6E7', '#E7D6DE'],\n        ['#E79C9C', '#FFC69C', '#FFE79C', '#B5D6A5', '#A5C6CE', '#9CC6EF', '#B5A5D6', '#D6A5BD'],\n        ['#E76363', '#F7AD6B', '#FFD663', '#94BD7B', '#73A5AD', '#6BADDE', '#8C7BC6', '#C67BA5'],\n        ['#CE0000', '#E79439', '#EFC631', '#6BA54A', '#4A7B8C', '#3984C6', '#634AA5', '#A54A7B'],\n        ['#9C0000', '#B56308', '#BD9400', '#397B21', '#104A5A', '#085294', '#311873', '#731842'],\n        ['#630000', '#7B3900', '#846300', '#295218', '#083139', '#003163', '#21104A', '#4A1031']\n      ],\n\n      // lineHeight\n      lineHeights: ['1.0', '1.2', '1.4', '1.5', '1.6', '1.8', '2.0', '3.0'],\n\n      // insertTable max size\n      insertTableMaxSize: {\n        col: 10,\n        row: 10\n      },\n\n      // image\n      maximumImageFileSize: null, // size in bytes, null = no limit\n\n      // callbacks\n      oninit: null,             // initialize\n      onfocus: null,            // editable has focus\n      onblur: null,             // editable out of focus\n      onenter: null,            // enter key pressed\n      onkeyup: null,            // keyup\n      onkeydown: null,          // keydown\n      onImageUpload: null,      // imageUpload\n      onImageUploadError: null, // imageUploadError\n      onMediaDelete: null,      // media delete\n      onToolbarClick: null,\n      onsubmit: null,\n\n      /**\n       * manipulate link address when user create link\n       * @param {String} sLinkUrl\n       * @return {String}\n       */\n      onCreateLink: function (sLinkUrl) {\n        if (sLinkUrl.indexOf('@') !== -1 && sLinkUrl.indexOf(':') === -1) {\n          sLinkUrl =  'mailto:' + sLinkUrl;\n        } else if (sLinkUrl.indexOf('://') === -1) {\n          sLinkUrl = 'http://' + sLinkUrl;\n        }\n\n        return sLinkUrl;\n      },\n\n      keyMap: {\n        pc: {\n          'ENTER': 'insertParagraph',\n          'CTRL+Z': 'undo',\n          'CTRL+Y': 'redo',\n          'TAB': 'tab',\n          'SHIFT+TAB': 'untab',\n          'CTRL+B': 'bold',\n          'CTRL+I': 'italic',\n          'CTRL+U': 'underline',\n          'CTRL+SHIFT+S': 'strikethrough',\n          'CTRL+BACKSLASH': 'removeFormat',\n          'CTRL+SHIFT+L': 'justifyLeft',\n          'CTRL+SHIFT+E': 'justifyCenter',\n          'CTRL+SHIFT+R': 'justifyRight',\n          'CTRL+SHIFT+J': 'justifyFull',\n          'CTRL+SHIFT+NUM7': 'insertUnorderedList',\n          'CTRL+SHIFT+NUM8': 'insertOrderedList',\n          'CTRL+LEFTBRACKET': 'outdent',\n          'CTRL+RIGHTBRACKET': 'indent',\n          'CTRL+NUM0': 'formatPara',\n          'CTRL+NUM1': 'formatH1',\n          'CTRL+NUM2': 'formatH2',\n          'CTRL+NUM3': 'formatH3',\n          'CTRL+NUM4': 'formatH4',\n          'CTRL+NUM5': 'formatH5',\n          'CTRL+NUM6': 'formatH6',\n          'CTRL+ENTER': 'insertHorizontalRule',\n          'CTRL+K': 'showLinkDialog'\n        },\n\n        mac: {\n          'ENTER': 'insertParagraph',\n          'CMD+Z': 'undo',\n          'CMD+SHIFT+Z': 'redo',\n          'TAB': 'tab',\n          'SHIFT+TAB': 'untab',\n          'CMD+B': 'bold',\n          'CMD+I': 'italic',\n          'CMD+U': 'underline',\n          'CMD+SHIFT+S': 'strikethrough',\n          'CMD+BACKSLASH': 'removeFormat',\n          'CMD+SHIFT+L': 'justifyLeft',\n          'CMD+SHIFT+E': 'justifyCenter',\n          'CMD+SHIFT+R': 'justifyRight',\n          'CMD+SHIFT+J': 'justifyFull',\n          'CMD+SHIFT+NUM7': 'insertUnorderedList',\n          'CMD+SHIFT+NUM8': 'insertOrderedList',\n          'CMD+LEFTBRACKET': 'outdent',\n          'CMD+RIGHTBRACKET': 'indent',\n          'CMD+NUM0': 'formatPara',\n          'CMD+NUM1': 'formatH1',\n          'CMD+NUM2': 'formatH2',\n          'CMD+NUM3': 'formatH3',\n          'CMD+NUM4': 'formatH4',\n          'CMD+NUM5': 'formatH5',\n          'CMD+NUM6': 'formatH6',\n          'CMD+ENTER': 'insertHorizontalRule',\n          'CMD+K': 'showLinkDialog'\n        }\n      }\n    },\n\n    // default language: en-US\n    lang: {\n      'en-US': {\n        font: {\n          bold: 'Bold',\n          italic: 'Italic',\n          underline: 'Underline',\n          clear: 'Remove Font Style',\n          height: 'Line Height',\n          name: 'Font Family',\n          strikethrough: 'Strikethrough',\n          subscript: 'Subscript',\n          superscript: 'Superscript',\n          size: 'Font Size'\n        },\n        image: {\n          image: 'Picture',\n          insert: 'Insert Image',\n          resizeFull: 'Resize Full',\n          resizeHalf: 'Resize Half',\n          resizeQuarter: 'Resize Quarter',\n          floatLeft: 'Float Left',\n          floatRight: 'Float Right',\n          floatNone: 'Float None',\n          shapeRounded: 'Shape: Rounded',\n          shapeCircle: 'Shape: Circle',\n          shapeThumbnail: 'Shape: Thumbnail',\n          shapeNone: 'Shape: None',\n          dragImageHere: 'Drag image or text here',\n          dropImage: 'Drop image or Text',\n          selectFromFiles: 'Select from files',\n          maximumFileSize: 'Maximum file size',\n          maximumFileSizeError: 'Maximum file size exceeded.',\n          url: 'Image URL',\n          remove: 'Remove Image'\n        },\n        link: {\n          link: 'Link',\n          insert: 'Insert Link',\n          unlink: 'Unlink',\n          edit: 'Edit',\n          textToDisplay: 'Text to display',\n          url: 'To what URL should this link go?',\n          openInNewWindow: 'Open in new window'\n        },\n        table: {\n          table: 'Table'\n        },\n        hr: {\n          insert: 'Insert Horizontal Rule'\n        },\n        style: {\n          style: 'Style',\n          normal: 'Normal',\n          blockquote: 'Quote',\n          pre: 'Code',\n          h1: 'Header 1',\n          h2: 'Header 2',\n          h3: 'Header 3',\n          h4: 'Header 4',\n          h5: 'Header 5',\n          h6: 'Header 6'\n        },\n        lists: {\n          unordered: 'Unordered list',\n          ordered: 'Ordered list'\n        },\n        options: {\n          help: 'Help',\n          fullscreen: 'Full Screen',\n          codeview: 'Code View'\n        },\n        paragraph: {\n          paragraph: 'Paragraph',\n          outdent: 'Outdent',\n          indent: 'Indent',\n          left: 'Align left',\n          center: 'Align center',\n          right: 'Align right',\n          justify: 'Justify full'\n        },\n        color: {\n          recent: 'Recent Color',\n          more: 'More Color',\n          background: 'Background Color',\n          foreground: 'Foreground Color',\n          transparent: 'Transparent',\n          setTransparent: 'Set transparent',\n          reset: 'Reset',\n          resetToDefault: 'Reset to default'\n        },\n        shortcut: {\n          shortcuts: 'Keyboard shortcuts',\n          close: 'Close',\n          textFormatting: 'Text formatting',\n          action: 'Action',\n          paragraphFormatting: 'Paragraph formatting',\n          documentStyle: 'Document Style',\n          extraKeys: 'Extra keys'\n        },\n        history: {\n          undo: 'Undo',\n          redo: 'Redo'\n        }\n      }\n    }\n  };\n\n  /**\n   * @class core.async\n   *\n   * Async functions which returns `Promise`\n   *\n   * @singleton\n   * @alternateClassName async\n   */\n  var async = (function () {\n    /**\n     * @method readFileAsDataURL\n     *\n     * read contents of file as representing URL\n     *\n     * @param {File} file\n     * @return {Promise} - then: sDataUrl\n     */\n    var readFileAsDataURL = function (file) {\n      return $.Deferred(function (deferred) {\n        $.extend(new FileReader(), {\n          onload: function (e) {\n            var sDataURL = e.target.result;\n            deferred.resolve(sDataURL);\n          },\n          onerror: function () {\n            deferred.reject(this);\n          }\n        }).readAsDataURL(file);\n      }).promise();\n    };\n  \n    /**\n     * @method createImage\n     *\n     * create `<image>` from url string\n     *\n     * @param {String} sUrl\n     * @param {String} filename\n     * @return {Promise} - then: $image\n     */\n    var createImage = function (sUrl, filename) {\n      return $.Deferred(function (deferred) {\n        var $img = $('<img>');\n\n        $img.one('load', function () {\n          $img.off('error abort');\n          deferred.resolve($img);\n        }).one('error abort', function () {\n          $img.off('load').detach();\n          deferred.reject($img);\n        }).css({\n          display: 'none'\n        }).appendTo(document.body).attr({\n          'src': sUrl,\n          'data-filename': filename\n        });\n      }).promise();\n    };\n\n    return {\n      readFileAsDataURL: readFileAsDataURL,\n      createImage: createImage\n    };\n  })();\n\n  /**\n   * @class core.key\n   *\n   * Object for keycodes.\n   *\n   * @singleton\n   * @alternateClassName key\n   */\n  var key = (function () {\n    var keyMap = {\n      'BACKSPACE': 8,\n      'TAB': 9,\n      'ENTER': 13,\n      'SPACE': 32,\n\n      // Number: 0-9\n      'NUM0': 48,\n      'NUM1': 49,\n      'NUM2': 50,\n      'NUM3': 51,\n      'NUM4': 52,\n      'NUM5': 53,\n      'NUM6': 54,\n      'NUM7': 55,\n      'NUM8': 56,\n\n      // Alphabet: a-z\n      'B': 66,\n      'E': 69,\n      'I': 73,\n      'J': 74,\n      'K': 75,\n      'L': 76,\n      'R': 82,\n      'S': 83,\n      'U': 85,\n      'Y': 89,\n      'Z': 90,\n\n      'SLASH': 191,\n      'LEFTBRACKET': 219,\n      'BACKSLASH': 220,\n      'RIGHTBRACKET': 221\n    };\n\n    return {\n      /**\n       * @method isEdit\n       *\n       * @param {Number} keyCode\n       * @return {Boolean}\n       */\n      isEdit: function (keyCode) {\n        return list.contains([8, 9, 13, 32], keyCode);\n      },\n      /**\n       * @property {Object} nameFromCode\n       * @property {String} nameFromCode.8 \"BACKSPACE\"\n       */\n      nameFromCode: func.invertObject(keyMap),\n      code: keyMap\n    };\n  })();\n\n  /**\n   * @class editing.History\n   *\n   * Editor History\n   *\n   */\n  var History = function ($editable) {\n    var stack = [], stackOffset = -1;\n    var editable = $editable[0];\n\n    var makeSnapshot = function () {\n      var rng = range.create();\n      var emptyBookmark = {s: {path: [], offset: 0}, e: {path: [], offset: 0}};\n\n      return {\n        contents: $editable.html(),\n        bookmark: (rng ? rng.bookmark(editable) : emptyBookmark)\n      };\n    };\n\n    var applySnapshot = function (snapshot) {\n      if (snapshot.contents !== null) {\n        $editable.html(snapshot.contents);\n      }\n      if (snapshot.bookmark !== null) {\n        range.createFromBookmark(editable, snapshot.bookmark).select();\n      }\n    };\n\n    /**\n     * undo\n     */\n    this.undo = function () {\n      if (0 < stackOffset) {\n        stackOffset--;\n        applySnapshot(stack[stackOffset]);\n      }\n    };\n\n    /**\n     * redo\n     */\n    this.redo = function () {\n      if (stack.length - 1 > stackOffset) {\n        stackOffset++;\n        applySnapshot(stack[stackOffset]);\n      }\n    };\n\n    /**\n     * recorded undo\n     */\n    this.recordUndo = function () {\n      stackOffset++;\n\n      // Wash out stack after stackOffset\n      if (stack.length > stackOffset) {\n        stack = stack.slice(0, stackOffset);\n      }\n\n      // Create new snapshot and push it to the end\n      stack.push(makeSnapshot());\n    };\n\n    // Create first undo stack\n    this.recordUndo();\n  };\n\n  /**\n   * @class editing.Style\n   *\n   * Style\n   *\n   */\n  var Style = function () {\n    /**\n     * @method jQueryCSS\n     *\n     * [workaround] for old jQuery\n     * passing an array of style properties to .css()\n     * will result in an object of property-value pairs.\n     * (compability with version < 1.9)\n     *\n     * @private\n     * @param  {jQuery} $obj\n     * @param  {Array} propertyNames - An array of one or more CSS properties.\n     * @return {Object}\n     */\n    var jQueryCSS = function ($obj, propertyNames) {\n      if (agent.jqueryVersion < 1.9) {\n        var result = {};\n        $.each(propertyNames, function (idx, propertyName) {\n          result[propertyName] = $obj.css(propertyName);\n        });\n        return result;\n      }\n      return $obj.css.call($obj, propertyNames);\n    };\n\n    /**\n     * paragraph level style\n     *\n     * @param {WrappedRange} rng\n     * @param {Object} styleInfo\n     */\n    this.stylePara = function (rng, styleInfo) {\n      $.each(rng.nodes(dom.isPara, {\n        includeAncestor: true\n      }), function (idx, para) {\n        $(para).css(styleInfo);\n      });\n    };\n\n    /**\n     * insert and returns styleNodes on range.\n     *\n     * @param {WrappedRange} rng\n     * @param {Object} [options] - options for styleNodes\n     * @param {String} [options.nodeName] - default: `SPAN`\n     * @param {Boolean} [options.expandClosestSibling] - default: `false`\n     * @param {Boolean} [options.onlyPartialContains] - default: `false`\n     * @return {Node[]}\n     */\n    this.styleNodes = function (rng, options) {\n      rng = rng.splitText();\n\n      var nodeName = options && options.nodeName || 'SPAN';\n      var expandClosestSibling = !!(options && options.expandClosestSibling);\n      var onlyPartialContains = !!(options && options.onlyPartialContains);\n\n      if (rng.isCollapsed()) {\n        return rng.insertNode(dom.create(nodeName));\n      }\n\n      var pred = dom.makePredByNodeName(nodeName);\n      var nodes = $.map(rng.nodes(dom.isText, {\n        fullyContains: true\n      }), function (text) {\n        return dom.singleChildAncestor(text, pred) || dom.wrap(text, nodeName);\n      });\n\n      if (expandClosestSibling) {\n        if (onlyPartialContains) {\n          var nodesInRange = rng.nodes();\n          // compose with partial contains predication\n          pred = func.and(pred, function (node) {\n            return list.contains(nodesInRange, node);\n          });\n        }\n\n        return $.map(nodes, function (node) {\n          var siblings = dom.withClosestSiblings(node, pred);\n          var head = list.head(siblings);\n          var tails = list.tail(siblings);\n          $.each(tails, function (idx, elem) {\n            dom.appendChildNodes(head, elem.childNodes);\n            dom.remove(elem);\n          });\n          return list.head(siblings);\n        });\n      } else {\n        return nodes;\n      }\n    };\n\n    /**\n     * get current style on cursor\n     *\n     * @param {WrappedRange} rng\n     * @param {Node} target - target element on event\n     * @return {Object} - object contains style properties.\n     */\n    this.current = function (rng, target) {\n      var $cont = $(dom.isText(rng.sc) ? rng.sc.parentNode : rng.sc);\n      var properties = ['font-family', 'font-size', 'text-align', 'list-style-type', 'line-height'];\n      var styleInfo = jQueryCSS($cont, properties) || {};\n\n      styleInfo['font-size'] = parseInt(styleInfo['font-size'], 10);\n\n      // document.queryCommandState for toggle state\n      styleInfo['font-bold'] = document.queryCommandState('bold') ? 'bold' : 'normal';\n      styleInfo['font-italic'] = document.queryCommandState('italic') ? 'italic' : 'normal';\n      styleInfo['font-underline'] = document.queryCommandState('underline') ? 'underline' : 'normal';\n      styleInfo['font-strikethrough'] = document.queryCommandState('strikeThrough') ? 'strikethrough' : 'normal';\n      styleInfo['font-superscript'] = document.queryCommandState('superscript') ? 'superscript' : 'normal';\n      styleInfo['font-subscript'] = document.queryCommandState('subscript') ? 'subscript' : 'normal';\n\n      // list-style-type to list-style(unordered, ordered)\n      if (!rng.isOnList()) {\n        styleInfo['list-style'] = 'none';\n      } else {\n        var aOrderedType = ['circle', 'disc', 'disc-leading-zero', 'square'];\n        var isUnordered = $.inArray(styleInfo['list-style-type'], aOrderedType) > -1;\n        styleInfo['list-style'] = isUnordered ? 'unordered' : 'ordered';\n      }\n\n      var para = dom.ancestor(rng.sc, dom.isPara);\n      if (para && para.style['line-height']) {\n        styleInfo['line-height'] = para.style.lineHeight;\n      } else {\n        var lineHeight = parseInt(styleInfo['line-height'], 10) / parseInt(styleInfo['font-size'], 10);\n        styleInfo['line-height'] = lineHeight.toFixed(1);\n      }\n\n      styleInfo.image = dom.isImg(target) && target;\n      styleInfo.anchor = rng.isOnAnchor() && dom.ancestor(rng.sc, dom.isAnchor);\n      styleInfo.ancestors = dom.listAncestor(rng.sc, dom.isEditable);\n      styleInfo.range = rng;\n\n      return styleInfo;\n    };\n  };\n\n\n  /**\n   * @class editing.Bullet\n   *\n   * @alternateClassName Bullet\n   */\n  var Bullet = function () {\n    /**\n     * @method insertOrderedList\n     *\n     * toggle ordered list\n     *\n     * @type command\n     */\n    this.insertOrderedList = function () {\n      this.toggleList('OL');\n    };\n\n    /**\n     * @method insertUnorderedList\n     *\n     * toggle unordered list\n     *\n     * @type command\n     */\n    this.insertUnorderedList = function () {\n      this.toggleList('UL');\n    };\n\n    /**\n     * @method indent\n     *\n     * indent\n     *\n     * @type command\n     */\n    this.indent = function () {\n      var self = this;\n      var rng = range.create().wrapBodyInlineWithPara();\n\n      var paras = rng.nodes(dom.isPara, { includeAncestor: true });\n      var clustereds = list.clusterBy(paras, func.peq2('parentNode'));\n\n      $.each(clustereds, function (idx, paras) {\n        var head = list.head(paras);\n        if (dom.isLi(head)) {\n          self.wrapList(paras, head.parentNode.nodeName);\n        } else {\n          $.each(paras, function (idx, para) {\n            $(para).css('marginLeft', function (idx, val) {\n              return (parseInt(val, 10) || 0) + 25;\n            });\n          });\n        }\n      });\n\n      rng.select();\n    };\n\n    /**\n     * @method outdent\n     *\n     * outdent\n     *\n     * @type command\n     */\n    this.outdent = function () {\n      var self = this;\n      var rng = range.create().wrapBodyInlineWithPara();\n\n      var paras = rng.nodes(dom.isPara, { includeAncestor: true });\n      var clustereds = list.clusterBy(paras, func.peq2('parentNode'));\n\n      $.each(clustereds, function (idx, paras) {\n        var head = list.head(paras);\n        if (dom.isLi(head)) {\n          self.releaseList([paras]);\n        } else {\n          $.each(paras, function (idx, para) {\n            $(para).css('marginLeft', function (idx, val) {\n              val = (parseInt(val, 10) || 0);\n              return val > 25 ? val - 25 : '';\n            });\n          });\n        }\n      });\n\n      rng.select();\n    };\n\n    /**\n     * @method toggleList\n     *\n     * toggle list\n     *\n     * @param {String} listName - OL or UL\n     */\n    this.toggleList = function (listName) {\n      var self = this;\n      var rng = range.create().wrapBodyInlineWithPara();\n\n      var paras = rng.nodes(dom.isPara, { includeAncestor: true });\n      var bookmark = rng.paraBookmark(paras);\n      var clustereds = list.clusterBy(paras, func.peq2('parentNode'));\n\n      // paragraph to list\n      if (list.find(paras, dom.isPurePara)) {\n        var wrappedParas = [];\n        $.each(clustereds, function (idx, paras) {\n          wrappedParas = wrappedParas.concat(self.wrapList(paras, listName));\n        });\n        paras = wrappedParas;\n      // list to paragraph or change list style\n      } else {\n        var diffLists = rng.nodes(dom.isList, {\n          includeAncestor: true\n        }).filter(function (listNode) {\n          return !$.nodeName(listNode, listName);\n        });\n\n        if (diffLists.length) {\n          $.each(diffLists, function (idx, listNode) {\n            dom.replace(listNode, listName);\n          });\n        } else {\n          paras = this.releaseList(clustereds, true);\n        }\n      }\n\n      range.createFromParaBookmark(bookmark, paras).select();\n    };\n\n    /**\n     * @method wrapList\n     *\n     * @param {Node[]} paras\n     * @param {String} listName\n     * @return {Node[]}\n     */\n    this.wrapList = function (paras, listName) {\n      var head = list.head(paras);\n      var last = list.last(paras);\n\n      var prevList = dom.isList(head.previousSibling) && head.previousSibling;\n      var nextList = dom.isList(last.nextSibling) && last.nextSibling;\n\n      var listNode = prevList || dom.insertAfter(dom.create(listName || 'UL'), last);\n\n      // P to LI\n      paras = $.map(paras, function (para) {\n        return dom.isPurePara(para) ? dom.replace(para, 'LI') : para;\n      });\n\n      // append to list(<ul>, <ol>)\n      dom.appendChildNodes(listNode, paras);\n\n      if (nextList) {\n        dom.appendChildNodes(listNode, list.from(nextList.childNodes));\n        dom.remove(nextList);\n      }\n\n      return paras;\n    };\n\n    /**\n     * @method releaseList\n     *\n     * @param {Array[]} clustereds\n     * @param {Boolean} isEscapseToBody\n     * @return {Node[]}\n     */\n    this.releaseList = function (clustereds, isEscapseToBody) {\n      var releasedParas = [];\n\n      $.each(clustereds, function (idx, paras) {\n        var head = list.head(paras);\n        var last = list.last(paras);\n\n        var headList = isEscapseToBody ? dom.lastAncestor(head, dom.isList) :\n                                         head.parentNode;\n        var lastList = headList.childNodes.length > 1 ? dom.splitTree(headList, {\n          node: last.parentNode,\n          offset: dom.position(last) + 1\n        }, {\n          isSkipPaddingBlankHTML: true\n        }) : null;\n\n        var middleList = dom.splitTree(headList, {\n          node: head.parentNode,\n          offset: dom.position(head)\n        }, {\n          isSkipPaddingBlankHTML: true\n        });\n\n        paras = isEscapseToBody ? dom.listDescendant(middleList, dom.isLi) :\n                                  list.from(middleList.childNodes).filter(dom.isLi);\n\n        // LI to P\n        if (isEscapseToBody || !dom.isList(headList.parentNode)) {\n          paras = $.map(paras, function (para) {\n            return dom.replace(para, 'P');\n          });\n        }\n\n        $.each(list.from(paras).reverse(), function (idx, para) {\n          dom.insertAfter(para, headList);\n        });\n\n        // remove empty lists\n        var rootLists = list.compact([headList, middleList, lastList]);\n        $.each(rootLists, function (idx, rootList) {\n          var listNodes = [rootList].concat(dom.listDescendant(rootList, dom.isList));\n          $.each(listNodes.reverse(), function (idx, listNode) {\n            if (!dom.nodeLength(listNode)) {\n              dom.remove(listNode, true);\n            }\n          });\n        });\n\n        releasedParas = releasedParas.concat(paras);\n      });\n\n      return releasedParas;\n    };\n  };\n\n\n  /**\n   * @class editing.Typing\n   *\n   * Typing\n   *\n   */\n  var Typing = function () {\n\n    // a Bullet instance to toggle lists off\n    var bullet = new Bullet();\n\n    /**\n     * insert tab\n     *\n     * @param {jQuery} $editable\n     * @param {WrappedRange} rng\n     * @param {Number} tabsize\n     */\n    this.insertTab = function ($editable, rng, tabsize) {\n      var tab = dom.createText(new Array(tabsize + 1).join(dom.NBSP_CHAR));\n      rng = rng.deleteContents();\n      rng.insertNode(tab, true);\n\n      rng = range.create(tab, tabsize);\n      rng.select();\n    };\n\n    /**\n     * insert paragraph\n     */\n    this.insertParagraph = function () {\n      var rng = range.create();\n\n      // deleteContents on range.\n      rng = rng.deleteContents();\n\n      // Wrap range if it needs to be wrapped by paragraph\n      rng = rng.wrapBodyInlineWithPara();\n\n      // finding paragraph\n      var splitRoot = dom.ancestor(rng.sc, dom.isPara);\n\n      var nextPara;\n      // on paragraph: split paragraph\n      if (splitRoot) {\n        // if it is an empty line with li\n        if (dom.isEmpty(splitRoot) && dom.isLi(splitRoot)) {\n          // disable UL/OL and escape!\n          bullet.toggleList(splitRoot.parentNode.nodeName);\n          return;\n        // if new line has content (not a line break)\n        } else {\n          nextPara = dom.splitTree(splitRoot, rng.getStartPoint());\n\n          var emptyAnchors = dom.listDescendant(splitRoot, dom.isEmptyAnchor);\n          emptyAnchors = emptyAnchors.concat(dom.listDescendant(nextPara, dom.isEmptyAnchor));\n\n          $.each(emptyAnchors, function (idx, anchor) {\n            dom.remove(anchor);\n          });\n        }\n      // no paragraph: insert empty paragraph\n      } else {\n        var next = rng.sc.childNodes[rng.so];\n        nextPara = $(dom.emptyPara)[0];\n        if (next) {\n          rng.sc.insertBefore(nextPara, next);\n        } else {\n          rng.sc.appendChild(nextPara);\n        }\n      }\n\n      range.create(nextPara, 0).normalize().select();\n\n    };\n\n  };\n\n  /**\n   * @class editing.Table\n   *\n   * Table\n   *\n   */\n  var Table = function () {\n    /**\n     * handle tab key\n     *\n     * @param {WrappedRange} rng\n     * @param {Boolean} isShift\n     */\n    this.tab = function (rng, isShift) {\n      var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n      var table = dom.ancestor(cell, dom.isTable);\n      var cells = dom.listDescendant(table, dom.isCell);\n\n      var nextCell = list[isShift ? 'prev' : 'next'](cells, cell);\n      if (nextCell) {\n        range.create(nextCell, 0).select();\n      }\n    };\n\n    /**\n     * create empty table element\n     *\n     * @param {Number} rowCount\n     * @param {Number} colCount\n     * @return {Node}\n     */\n    this.createTable = function (colCount, rowCount) {\n      var tds = [], tdHTML;\n      for (var idxCol = 0; idxCol < colCount; idxCol++) {\n        tds.push('<td>' + dom.blank + '</td>');\n      }\n      tdHTML = tds.join('');\n\n      var trs = [], trHTML;\n      for (var idxRow = 0; idxRow < rowCount; idxRow++) {\n        trs.push('<tr>' + tdHTML + '</tr>');\n      }\n      trHTML = trs.join('');\n      return $('<table class=\"table table-bordered\">' + trHTML + '</table>')[0];\n    };\n  };\n\n  /**\n   * @class editing.Editor\n   *\n   * Editor\n   *\n   */\n  var Editor = function (handler) {\n\n    var style = new Style();\n    var table = new Table();\n    var typing = new Typing();\n    var bullet = new Bullet();\n\n    /**\n     * @method createRange\n     *\n     * create range\n     *\n     * @param {jQuery} $editable\n     * @return {WrappedRange}\n     */\n    this.createRange = function ($editable) {\n      $editable.focus();\n      return range.create();\n    };\n\n    /**\n     * @method saveRange\n     *\n     * save current range\n     *\n     * @param {jQuery} $editable\n     * @param {Boolean} [thenCollapse=false]\n     */\n    this.saveRange = function ($editable, thenCollapse) {\n      $editable.focus();\n      $editable.data('range', range.create());\n      if (thenCollapse) {\n        range.create().collapse().select();\n      }\n    };\n\n    /**\n     * @method saveRange\n     *\n     * save current node list to $editable.data('childNodes')\n     *\n     * @param {jQuery} $editable\n     */\n    this.saveNode = function ($editable) {\n      // copy child node reference\n      var copy = [];\n      for (var key  = 0, len = $editable[0].childNodes.length; key < len; key++) {\n        copy.push($editable[0].childNodes[key]);\n      }\n      $editable.data('childNodes', copy);\n    };\n\n    /**\n     * @method restoreRange\n     *\n     * restore lately range\n     *\n     * @param {jQuery} $editable\n     */\n    this.restoreRange = function ($editable) {\n      var rng = $editable.data('range');\n      if (rng) {\n        rng.select();\n        $editable.focus();\n      }\n    };\n\n    /**\n     * @method restoreNode\n     *\n     * restore lately node list\n     *\n     * @param {jQuery} $editable\n     */\n    this.restoreNode = function ($editable) {\n      $editable.html('');\n      var child = $editable.data('childNodes');\n      for (var index = 0, len = child.length; index < len; index++) {\n        $editable[0].appendChild(child[index]);\n      }\n    };\n    /**\n     * @method currentStyle\n     *\n     * current style\n     *\n     * @param {Node} target\n     * @return {Boolean} false if range is no\n     */\n    this.currentStyle = function (target) {\n      var rng = range.create();\n      return rng ? rng.isOnEditable() && style.current(rng, target) : false;\n    };\n\n    var triggerOnBeforeChange = function ($editable) {\n      var $holder = dom.makeLayoutInfo($editable).holder();\n      handler.bindCustomEvent(\n        $holder, $editable.data('callbacks'), 'before.command'\n      )($editable.html(), $editable);\n    };\n\n    var triggerOnChange = function ($editable) {\n      var $holder = dom.makeLayoutInfo($editable).holder();\n      handler.bindCustomEvent(\n        $holder, $editable.data('callbacks'), 'change'\n      )($editable.html(), $editable);\n    };\n\n    /**\n     * @method undo\n     * undo\n     * @param {jQuery} $editable\n     */\n    this.undo = function ($editable) {\n      triggerOnBeforeChange($editable);\n      $editable.data('NoteHistory').undo();\n      triggerOnChange($editable);\n    };\n\n    /**\n     * @method redo\n     * redo\n     * @param {jQuery} $editable\n     */\n    this.redo = function ($editable) {\n      triggerOnBeforeChange($editable);\n      $editable.data('NoteHistory').redo();\n      triggerOnChange($editable);\n    };\n\n    /**\n     * @method beforeCommand\n     * before command\n     * @param {jQuery} $editable\n     */\n    var beforeCommand = this.beforeCommand = function ($editable) {\n      triggerOnBeforeChange($editable);\n    };\n\n    /**\n     * @method afterCommand\n     * after command\n     * @param {jQuery} $editable\n     * @param {Boolean} isPreventTrigger\n     */\n    var afterCommand = this.afterCommand = function ($editable, isPreventTrigger) {\n      $editable.data('NoteHistory').recordUndo();\n      if (!isPreventTrigger) {\n        triggerOnChange($editable);\n      }\n    };\n\n    /**\n     * @method bold\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method italic\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method underline\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method strikethrough\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method formatBlock\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method superscript\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method subscript\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method justifyLeft\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method justifyCenter\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method justifyRight\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method justifyFull\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method formatBlock\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method removeFormat\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method backColor\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method foreColor\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method insertHorizontalRule\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /**\n     * @method fontName\n     *\n     * change font name\n     *\n     * @param {jQuery} $editable\n     * @param {Mixed} value\n     */\n\n    /* jshint ignore:start */\n    // native commands(with execCommand), generate function for execCommand\n    var commands = ['bold', 'italic', 'underline', 'strikethrough', 'superscript', 'subscript',\n                    'justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull',\n                    'formatBlock', 'removeFormat',\n                    'backColor', 'foreColor', 'insertHorizontalRule', 'fontName'];\n\n    for (var idx = 0, len = commands.length; idx < len; idx ++) {\n      this[commands[idx]] = (function (sCmd) {\n        return function ($editable, value) {\n          beforeCommand($editable);\n\n          document.execCommand(sCmd, false, value);\n\n          afterCommand($editable, true);\n        };\n      })(commands[idx]);\n    }\n    /* jshint ignore:end */\n\n    /**\n     * @method tab\n     *\n     * handle tab key\n     *\n     * @param {jQuery} $editable\n     * @param {Object} options\n     */\n    this.tab = function ($editable, options) {\n      var rng = range.create();\n      if (rng.isCollapsed() && rng.isOnCell()) {\n        table.tab(rng);\n      } else {\n        beforeCommand($editable);\n        typing.insertTab($editable, rng, options.tabsize);\n        afterCommand($editable);\n      }\n    };\n\n    /**\n     * @method untab\n     *\n     * handle shift+tab key\n     *\n     */\n    this.untab = function () {\n      var rng = range.create();\n      if (rng.isCollapsed() && rng.isOnCell()) {\n        table.tab(rng, true);\n      }\n    };\n\n    /**\n     * @method insertParagraph\n     *\n     * insert paragraph\n     *\n     * @param {Node} $editable\n     */\n    this.insertParagraph = function ($editable) {\n      beforeCommand($editable);\n      typing.insertParagraph($editable);\n      afterCommand($editable);\n    };\n\n    /**\n     * @method insertOrderedList\n     *\n     * @param {jQuery} $editable\n     */\n    this.insertOrderedList = function ($editable) {\n      beforeCommand($editable);\n      bullet.insertOrderedList($editable);\n      afterCommand($editable);\n    };\n\n    /**\n     * @param {jQuery} $editable\n     */\n    this.insertUnorderedList = function ($editable) {\n      beforeCommand($editable);\n      bullet.insertUnorderedList($editable);\n      afterCommand($editable);\n    };\n\n    /**\n     * @param {jQuery} $editable\n     */\n    this.indent = function ($editable) {\n      beforeCommand($editable);\n      bullet.indent($editable);\n      afterCommand($editable);\n    };\n\n    /**\n     * @param {jQuery} $editable\n     */\n    this.outdent = function ($editable) {\n      beforeCommand($editable);\n      bullet.outdent($editable);\n      afterCommand($editable);\n    };\n\n    /**\n     * insert image\n     *\n     * @param {jQuery} $editable\n     * @param {String} sUrl\n     */\n    this.insertImage = function ($editable, sUrl, filename) {\n      async.createImage(sUrl, filename).then(function ($image) {\n        beforeCommand($editable);\n        $image.css({\n          display: '',\n          width: Math.min($editable.width(), $image.width())\n        });\n        range.create().insertNode($image[0]);\n        range.createFromNode($image[0]).collapse().select();\n        afterCommand($editable);\n      }).fail(function () {\n        var callbacks = $editable.data('callbacks');\n        if (callbacks.onImageUploadError) {\n          callbacks.onImageUploadError();\n        }\n      });\n    };\n\n    /**\n     * @method insertNode\n     * insert node\n     * @param {Node} $editable\n     * @param {Node} node\n     */\n    this.insertNode = function ($editable, node) {\n      beforeCommand($editable);\n      var rng = this.createRange($editable);\n      rng.insertNode(node);\n      range.createFromNode(node).collapse().select();\n      afterCommand($editable);\n    };\n\n    /**\n     * insert text\n     * @param {Node} $editable\n     * @param {String} text\n     */\n    this.insertText = function ($editable, text) {\n      beforeCommand($editable);\n      var rng = this.createRange($editable);\n      var textNode = rng.insertNode(dom.createText(text));\n      range.create(textNode, dom.nodeLength(textNode)).select();\n      afterCommand($editable);\n    };\n\n    /**\n     * paste HTML\n     * @param {Node} $editable\n     * @param {String} markup\n     */\n    this.pasteHTML = function ($editable, markup) {\n      beforeCommand($editable);\n      var rng = this.createRange($editable);\n      var contents = rng.pasteHTML(markup);\n      range.createFromNode(list.last(contents)).collapse().select();\n      afterCommand($editable);\n    };\n\n    /**\n     * formatBlock\n     *\n     * @param {jQuery} $editable\n     * @param {String} tagName\n     */\n    this.formatBlock = function ($editable, tagName) {\n      beforeCommand($editable);\n      // [workaround] for MSIE, IE need `<`\n      tagName = agent.isMSIE ? '<' + tagName + '>' : tagName;\n      document.execCommand('FormatBlock', false, tagName);\n      afterCommand($editable);\n    };\n\n    this.formatPara = function ($editable) {\n      beforeCommand($editable);\n      this.formatBlock($editable, 'P');\n      afterCommand($editable);\n    };\n\n    /* jshint ignore:start */\n    for (var idx = 1; idx <= 6; idx ++) {\n      this['formatH' + idx] = function (idx) {\n        return function ($editable) {\n          this.formatBlock($editable, 'H' + idx);\n        };\n      }(idx);\n    };\n    /* jshint ignore:end */\n\n    /**\n     * fontSize\n     *\n     * @param {jQuery} $editable\n     * @param {String} value - px\n     */\n    this.fontSize = function ($editable, value) {\n      beforeCommand($editable);\n\n      var rng = this.createRange($editable);\n      var spans = style.styleNodes(rng);\n      $.each(spans, function (idx, span) {\n        $(span).css({\n          'font-size': value + 'px'\n        });\n      });\n\n      afterCommand($editable);\n    };\n\n    /**\n     * lineHeight\n     * @param {jQuery} $editable\n     * @param {String} value\n     */\n    this.lineHeight = function ($editable, value) {\n      beforeCommand($editable);\n      style.stylePara(range.create(), {\n        lineHeight: value\n      });\n      afterCommand($editable);\n    };\n\n    /**\n     * unlink\n     *\n     * @type command\n     *\n     * @param {jQuery} $editable\n     */\n    this.unlink = function ($editable) {\n      var rng = range.create();\n      if (rng.isOnAnchor()) {\n        var anchor = dom.ancestor(rng.sc, dom.isAnchor);\n        rng = range.createFromNode(anchor);\n        rng.select();\n\n        beforeCommand($editable);\n        document.execCommand('unlink');\n        afterCommand($editable);\n      }\n    };\n\n    /**\n     * create link (command)\n     *\n     * @param {jQuery} $editable\n     * @param {Object} linkInfo\n     * @param {Object} options\n     */\n    this.createLink = function ($editable, linkInfo, options) {\n      var linkUrl = linkInfo.url;\n      var linkText = linkInfo.text;\n      var isNewWindow = linkInfo.newWindow;\n      var rng = linkInfo.range;\n      var isTextChanged = rng.toString() !== linkText;\n\n      beforeCommand($editable);\n\n      if (options.onCreateLink) {\n        linkUrl = options.onCreateLink(linkUrl);\n      }\n\n      var anchors;\n      if (isTextChanged) {\n        // Create a new link when text changed.\n        var anchor = rng.insertNode($('<A>' + linkText + '</A>')[0]);\n        anchors = [anchor];\n      } else {\n        anchors = style.styleNodes(rng, {\n          nodeName: 'A',\n          expandClosestSibling: true,\n          onlyPartialContains: true\n        });\n      }\n\n      $.each(anchors, function (idx, anchor) {\n        $(anchor).attr('href', linkUrl);\n        if (isNewWindow) {\n          $(anchor).attr('target', '_blank');\n        } else {\n          $(anchor).removeAttr('target');\n        }\n      });\n\n      var startRange = range.createFromNode(list.head(anchors)).collapse(true);\n      var startPoint = startRange.getStartPoint();\n      var endRange = range.createFromNode(list.last(anchors)).collapse();\n      var endPoint = endRange.getEndPoint();\n\n      range.create(\n        startPoint.node,\n        startPoint.offset,\n        endPoint.node,\n        endPoint.offset\n      ).select();\n\n      afterCommand($editable);\n    };\n\n    /**\n     * returns link info\n     *\n     * @return {Object}\n     * @return {WrappedRange} return.range\n     * @return {String} return.text\n     * @return {Boolean} [return.isNewWindow=true]\n     * @return {String} [return.url=\"\"]\n     */\n    this.getLinkInfo = function ($editable) {\n      $editable.focus();\n\n      var rng = range.create().expand(dom.isAnchor);\n\n      // Get the first anchor on range(for edit).\n      var $anchor = $(list.head(rng.nodes(dom.isAnchor)));\n\n      return {\n        range: rng,\n        text: rng.toString(),\n        isNewWindow: $anchor.length ? $anchor.attr('target') === '_blank' : false,\n        url: $anchor.length ? $anchor.attr('href') : ''\n      };\n    };\n\n    /**\n     * setting color\n     *\n     * @param {Node} $editable\n     * @param {Object} sObjColor  color code\n     * @param {String} sObjColor.foreColor foreground color\n     * @param {String} sObjColor.backColor background color\n     */\n    this.color = function ($editable, sObjColor) {\n      var oColor = JSON.parse(sObjColor);\n      var foreColor = oColor.foreColor, backColor = oColor.backColor;\n\n      beforeCommand($editable);\n\n      if (foreColor) { document.execCommand('foreColor', false, foreColor); }\n      if (backColor) { document.execCommand('backColor', false, backColor); }\n\n      afterCommand($editable);\n    };\n\n    /**\n     * insert Table\n     *\n     * @param {Node} $editable\n     * @param {String} sDim dimension of table (ex : \"5x5\")\n     */\n    this.insertTable = function ($editable, sDim) {\n      var dimension = sDim.split('x');\n      beforeCommand($editable);\n\n      var rng = range.create();\n      rng = rng.deleteContents();\n      rng.insertNode(table.createTable(dimension[0], dimension[1]));\n      afterCommand($editable);\n    };\n\n    /**\n     * float me\n     *\n     * @param {jQuery} $editable\n     * @param {String} value\n     * @param {jQuery} $target\n     */\n    this.floatMe = function ($editable, value, $target) {\n      beforeCommand($editable);\n      $target.css('float', value);\n      afterCommand($editable);\n    };\n\n    /**\n     * change image shape\n     *\n     * @param {jQuery} $editable\n     * @param {String} value css class\n     * @param {Node} $target\n     */\n    this.imageShape = function ($editable, value, $target) {\n      beforeCommand($editable);\n\n      $target.removeClass('img-rounded img-circle img-thumbnail');\n\n      if (value) {\n        $target.addClass(value);\n      }\n\n      afterCommand($editable);\n    };\n\n    /**\n     * resize overlay element\n     * @param {jQuery} $editable\n     * @param {String} value\n     * @param {jQuery} $target - target element\n     */\n    this.resize = function ($editable, value, $target) {\n      beforeCommand($editable);\n\n      $target.css({\n        width: value * 100 + '%',\n        height: ''\n      });\n\n      afterCommand($editable);\n    };\n\n    /**\n     * @param {Position} pos\n     * @param {jQuery} $target - target element\n     * @param {Boolean} [bKeepRatio] - keep ratio\n     */\n    this.resizeTo = function (pos, $target, bKeepRatio) {\n      var imageSize;\n      if (bKeepRatio) {\n        var newRatio = pos.y / pos.x;\n        var ratio = $target.data('ratio');\n        imageSize = {\n          width: ratio > newRatio ? pos.x : pos.y / ratio,\n          height: ratio > newRatio ? pos.x * ratio : pos.y\n        };\n      } else {\n        imageSize = {\n          width: pos.x,\n          height: pos.y\n        };\n      }\n\n      $target.css(imageSize);\n    };\n\n    /**\n     * remove media object\n     *\n     * @param {jQuery} $editable\n     * @param {String} value - dummy argument (for keep interface)\n     * @param {jQuery} $target - target element\n     */\n    this.removeMedia = function ($editable, value, $target) {\n      beforeCommand($editable);\n      $target.detach();\n\n      handler.bindCustomEvent(\n        $(), $editable.data('callbacks'), 'media.delete'\n      ).call($target, this.$editable);\n\n      afterCommand($editable);\n    };\n\n    /**\n     * set focus\n     *\n     * @param $editable\n     */\n    this.focus = function ($editable) {\n      $editable.focus();\n\n      // [workaround] for firefox bug http://goo.gl/lVfAaI\n      if (agent.isFF) {\n        range.createFromNode($editable[0].firstChild || $editable[0]).collapse().select();\n      }\n    };\n  };\n\n  /**\n   * @class module.Button\n   *\n   * Button\n   */\n  var Button = function () {\n    /**\n     * update button status\n     *\n     * @param {jQuery} $container\n     * @param {Object} styleInfo\n     */\n    this.update = function ($container, styleInfo) {\n      /**\n       * handle dropdown's check mark (for fontname, fontsize, lineHeight).\n       * @param {jQuery} $btn\n       * @param {Number} value\n       */\n      var checkDropdownMenu = function ($btn, value) {\n        $btn.find('.dropdown-menu li a').each(function () {\n          // always compare string to avoid creating another func.\n          var isChecked = ($(this).data('value') + '') === (value + '');\n          this.className = isChecked ? 'checked' : '';\n        });\n      };\n\n      /**\n       * update button state(active or not).\n       *\n       * @private\n       * @param {String} selector\n       * @param {Function} pred\n       */\n      var btnState = function (selector, pred) {\n        var $btn = $container.find(selector);\n        $btn.toggleClass('active', pred());\n      };\n\n      if (styleInfo.image) {\n        var $img = $(styleInfo.image);\n\n        btnState('button[data-event=\"imageShape\"][data-value=\"img-rounded\"]', function () {\n          return $img.hasClass('img-rounded');\n        });\n        btnState('button[data-event=\"imageShape\"][data-value=\"img-circle\"]', function () {\n          return $img.hasClass('img-circle');\n        });\n        btnState('button[data-event=\"imageShape\"][data-value=\"img-thumbnail\"]', function () {\n          return $img.hasClass('img-thumbnail');\n        });\n        btnState('button[data-event=\"imageShape\"]:not([data-value])', function () {\n          return !$img.is('.img-rounded, .img-circle, .img-thumbnail');\n        });\n\n        var imgFloat = $img.css('float');\n        btnState('button[data-event=\"floatMe\"][data-value=\"left\"]', function () {\n          return imgFloat === 'left';\n        });\n        btnState('button[data-event=\"floatMe\"][data-value=\"right\"]', function () {\n          return imgFloat === 'right';\n        });\n        btnState('button[data-event=\"floatMe\"][data-value=\"none\"]', function () {\n          return imgFloat !== 'left' && imgFloat !== 'right';\n        });\n\n        var style = $img.attr('style');\n        btnState('button[data-event=\"resize\"][data-value=\"1\"]', function () {\n          return !!/(^|\\s)(max-)?width\\s*:\\s*100%/.test(style);\n        });\n        btnState('button[data-event=\"resize\"][data-value=\"0.5\"]', function () {\n          return !!/(^|\\s)(max-)?width\\s*:\\s*50%/.test(style);\n        });\n        btnState('button[data-event=\"resize\"][data-value=\"0.25\"]', function () {\n          return !!/(^|\\s)(max-)?width\\s*:\\s*25%/.test(style);\n        });\n        return;\n      }\n\n      // fontname\n      var $fontname = $container.find('.note-fontname');\n      if ($fontname.length) {\n        var selectedFont = styleInfo['font-family'];\n        if (!!selectedFont) {\n\n          var list = selectedFont.split(',');\n          for (var i = 0, len = list.length; i < len; i++) {\n            selectedFont = list[i].replace(/[\\'\\\"]/g, '').replace(/\\s+$/, '').replace(/^\\s+/, '');\n            if (agent.isFontInstalled(selectedFont)) {\n              break;\n            }\n          }\n          \n          $fontname.find('.note-current-fontname').text(selectedFont);\n          checkDropdownMenu($fontname, selectedFont);\n\n        }\n      }\n\n      // fontsize\n      var $fontsize = $container.find('.note-fontsize');\n      $fontsize.find('.note-current-fontsize').text(styleInfo['font-size']);\n      checkDropdownMenu($fontsize, parseFloat(styleInfo['font-size']));\n\n      // lineheight\n      var $lineHeight = $container.find('.note-height');\n      checkDropdownMenu($lineHeight, parseFloat(styleInfo['line-height']));\n\n      btnState('button[data-event=\"bold\"]', function () {\n        return styleInfo['font-bold'] === 'bold';\n      });\n      btnState('button[data-event=\"italic\"]', function () {\n        return styleInfo['font-italic'] === 'italic';\n      });\n      btnState('button[data-event=\"underline\"]', function () {\n        return styleInfo['font-underline'] === 'underline';\n      });\n      btnState('button[data-event=\"strikethrough\"]', function () {\n        return styleInfo['font-strikethrough'] === 'strikethrough';\n      });\n      btnState('button[data-event=\"superscript\"]', function () {\n        return styleInfo['font-superscript'] === 'superscript';\n      });\n      btnState('button[data-event=\"subscript\"]', function () {\n        return styleInfo['font-subscript'] === 'subscript';\n      });\n      btnState('button[data-event=\"justifyLeft\"]', function () {\n        return styleInfo['text-align'] === 'left' || styleInfo['text-align'] === 'start';\n      });\n      btnState('button[data-event=\"justifyCenter\"]', function () {\n        return styleInfo['text-align'] === 'center';\n      });\n      btnState('button[data-event=\"justifyRight\"]', function () {\n        return styleInfo['text-align'] === 'right';\n      });\n      btnState('button[data-event=\"justifyFull\"]', function () {\n        return styleInfo['text-align'] === 'justify';\n      });\n      btnState('button[data-event=\"insertUnorderedList\"]', function () {\n        return styleInfo['list-style'] === 'unordered';\n      });\n      btnState('button[data-event=\"insertOrderedList\"]', function () {\n        return styleInfo['list-style'] === 'ordered';\n      });\n    };\n\n    /**\n     * update recent color\n     *\n     * @param {Node} button\n     * @param {String} eventName\n     * @param {Mixed} value\n     */\n    this.updateRecentColor = function (button, eventName, value) {\n      var $color = $(button).closest('.note-color');\n      var $recentColor = $color.find('.note-recent-color');\n      var colorInfo = JSON.parse($recentColor.attr('data-value'));\n      colorInfo[eventName] = value;\n      $recentColor.attr('data-value', JSON.stringify(colorInfo));\n      var sKey = eventName === 'backColor' ? 'background-color' : 'color';\n      $recentColor.find('i').css(sKey, value);\n    };\n  };\n\n  /**\n   * @class module.Toolbar\n   *\n   * Toolbar\n   */\n  var Toolbar = function () {\n    var button = new Button();\n\n    this.update = function ($toolbar, styleInfo) {\n      button.update($toolbar, styleInfo);\n    };\n\n    /**\n     * @param {Node} button\n     * @param {String} eventName\n     * @param {String} value\n     */\n    this.updateRecentColor = function (buttonNode, eventName, value) {\n      button.updateRecentColor(buttonNode, eventName, value);\n    };\n\n    /**\n     * activate buttons exclude codeview\n     * @param {jQuery} $toolbar\n     */\n    this.activate = function ($toolbar) {\n      $toolbar.find('button')\n              .not('button[data-event=\"codeview\"]')\n              .removeClass('disabled');\n    };\n\n    /**\n     * deactivate buttons exclude codeview\n     * @param {jQuery} $toolbar\n     */\n    this.deactivate = function ($toolbar) {\n      $toolbar.find('button')\n              .not('button[data-event=\"codeview\"]')\n              .addClass('disabled');\n    };\n\n    /**\n     * @param {jQuery} $container\n     * @param {Boolean} [bFullscreen=false]\n     */\n    this.updateFullscreen = function ($container, bFullscreen) {\n      var $btn = $container.find('button[data-event=\"fullscreen\"]');\n      $btn.toggleClass('active', bFullscreen);\n    };\n\n    /**\n     * @param {jQuery} $container\n     * @param {Boolean} [isCodeview=false]\n     */\n    this.updateCodeview = function ($container, isCodeview) {\n      var $btn = $container.find('button[data-event=\"codeview\"]');\n      $btn.toggleClass('active', isCodeview);\n\n      if (isCodeview) {\n        this.deactivate($container);\n      } else {\n        this.activate($container);\n      }\n    };\n\n    /**\n     * get button in toolbar \n     *\n     * @param {jQuery} $editable\n     * @param {String} name\n     * @return {jQuery}\n     */\n    this.get = function ($editable, name) {\n      var $toolbar = dom.makeLayoutInfo($editable).toolbar();\n\n      return $toolbar.find('[data-name=' + name + ']');\n    };\n\n    /**\n     * set button state\n     * @param {jQuery} $editable\n     * @param {String} name\n     * @param {Boolean} [isActive=true]\n     */\n    this.setButtonState = function ($editable, name, isActive) {\n      isActive = (isActive === false) ? false : true;\n\n      var $button = this.get($editable, name);\n      $button.toggleClass('active', isActive);\n    };\n  };\n\n  var EDITABLE_PADDING = 24;\n\n  var Statusbar = function () {\n    var $document = $(document);\n\n    this.attach = function (layoutInfo, options) {\n      if (!options.disableResizeEditor) {\n        layoutInfo.statusbar().on('mousedown', hStatusbarMousedown);\n      }\n    };\n\n    /**\n     * `mousedown` event handler on statusbar\n     *\n     * @param {MouseEvent} event\n     */\n    var hStatusbarMousedown = function (event) {\n      event.preventDefault();\n      event.stopPropagation();\n\n      var $editable = dom.makeLayoutInfo(event.target).editable();\n      var editableTop = $editable.offset().top - $document.scrollTop();\n\n      var layoutInfo = dom.makeLayoutInfo(event.currentTarget || event.target);\n      var options = layoutInfo.editor().data('options');\n\n      $document.on('mousemove', function (event) {\n        var nHeight = event.clientY - (editableTop + EDITABLE_PADDING);\n\n        nHeight = (options.minHeight > 0) ? Math.max(nHeight, options.minHeight) : nHeight;\n        nHeight = (options.maxHeight > 0) ? Math.min(nHeight, options.maxHeight) : nHeight;\n\n        $editable.height(nHeight);\n      }).one('mouseup', function () {\n        $document.off('mousemove');\n      });\n    };\n  };\n\n  /**\n   * @class module.Popover\n   *\n   * Popover (http://getbootstrap.com/javascript/#popovers)\n   *\n   */\n  var Popover = function () {\n    var button = new Button();\n\n    /**\n     * returns position from placeholder\n     *\n     * @private\n     * @param {Node} placeholder\n     * @param {Boolean} isAirMode\n     * @return {Object}\n     * @return {Number} return.left\n     * @return {Number} return.top\n     */\n    var posFromPlaceholder = function (placeholder, isAirMode) {\n      var $placeholder = $(placeholder);\n      var pos = isAirMode ? $placeholder.offset() : $placeholder.position();\n      var height = $placeholder.outerHeight(true); // include margin\n\n      // popover below placeholder.\n      return {\n        left: pos.left,\n        top: pos.top + height\n      };\n    };\n\n    /**\n     * show popover\n     *\n     * @private\n     * @param {jQuery} popover\n     * @param {Position} pos\n     */\n    var showPopover = function ($popover, pos) {\n      $popover.css({\n        display: 'block',\n        left: pos.left,\n        top: pos.top\n      });\n    };\n\n    var PX_POPOVER_ARROW_OFFSET_X = 20;\n\n    /**\n     * update current state\n     * @param {jQuery} $popover - popover container\n     * @param {Object} styleInfo - style object\n     * @param {Boolean} isAirMode\n     */\n    this.update = function ($popover, styleInfo, isAirMode) {\n      button.update($popover, styleInfo);\n\n      var $linkPopover = $popover.find('.note-link-popover');\n      if (styleInfo.anchor) {\n        var $anchor = $linkPopover.find('a');\n        var href = $(styleInfo.anchor).attr('href');\n        var target = $(styleInfo.anchor).attr('target');\n        $anchor.attr('href', href).html(href);\n        if (!target) {\n          $anchor.removeAttr('target');\n        } else {\n          $anchor.attr('target', '_blank');\n        }\n        showPopover($linkPopover, posFromPlaceholder(styleInfo.anchor, isAirMode));\n      } else {\n        $linkPopover.hide();\n      }\n\n      var $imagePopover = $popover.find('.note-image-popover');\n      if (styleInfo.image) {\n        showPopover($imagePopover, posFromPlaceholder(styleInfo.image, isAirMode));\n      } else {\n        $imagePopover.hide();\n      }\n\n      var $airPopover = $popover.find('.note-air-popover');\n      if (isAirMode && !styleInfo.range.isCollapsed()) {\n        var rect = list.last(styleInfo.range.getClientRects());\n        if (rect) {\n          var bnd = func.rect2bnd(rect);\n          showPopover($airPopover, {\n            left: Math.max(bnd.left + bnd.width / 2 - PX_POPOVER_ARROW_OFFSET_X, 0),\n            top: bnd.top + bnd.height\n          });\n        }\n      } else {\n        $airPopover.hide();\n      }\n    };\n\n    /**\n     * @param {Node} button\n     * @param {String} eventName\n     * @param {String} value\n     */\n    this.updateRecentColor = function (button, eventName, value) {\n      button.updateRecentColor(button, eventName, value);\n    };\n\n    /**\n     * hide all popovers\n     * @param {jQuery} $popover - popover container\n     */\n    this.hide = function ($popover) {\n      $popover.children().hide();\n    };\n  };\n\n  /**\n   * @class module.Handle\n   *\n   * Handle\n   */\n  var Handle = function (handler) {\n    var $document = $(document);\n\n    /**\n     * `mousedown` event handler on $handle\n     *  - controlSizing: resize image\n     *\n     * @param {MouseEvent} event\n     */\n    var hHandleMousedown = function (event) {\n      if (dom.isControlSizing(event.target)) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        var layoutInfo = dom.makeLayoutInfo(event.target),\n            $handle = layoutInfo.handle(),\n            $popover = layoutInfo.popover(),\n            $editable = layoutInfo.editable(),\n            $editor = layoutInfo.editor();\n\n        var target = $handle.find('.note-control-selection').data('target'),\n            $target = $(target), posStart = $target.offset(),\n            scrollTop = $document.scrollTop();\n\n        var isAirMode = $editor.data('options').airMode;\n\n        $document.on('mousemove', function (event) {\n          handler.invoke('editor.resizeTo', {\n            x: event.clientX - posStart.left,\n            y: event.clientY - (posStart.top - scrollTop)\n          }, $target, !event.shiftKey);\n\n          handler.invoke('handle.update', $handle, {image: target}, isAirMode);\n          handler.invoke('popover.update', $popover, {image: target}, isAirMode);\n        }).one('mouseup', function () {\n          $document.off('mousemove');\n          handler.invoke('editor.afterCommand', $editable);\n        });\n\n        if (!$target.data('ratio')) { // original ratio.\n          $target.data('ratio', $target.height() / $target.width());\n        }\n      }\n    };\n\n    this.attach = function (layoutInfo) {\n      layoutInfo.handle().on('mousedown', hHandleMousedown);\n    };\n\n    /**\n     * update handle\n     * @param {jQuery} $handle\n     * @param {Object} styleInfo\n     * @param {Boolean} isAirMode\n     */\n    this.update = function ($handle, styleInfo, isAirMode) {\n      var $selection = $handle.find('.note-control-selection');\n      if (styleInfo.image) {\n        var $image = $(styleInfo.image);\n        var pos = isAirMode ? $image.offset() : $image.position();\n\n        // include margin\n        var imageSize = {\n          w: $image.outerWidth(true),\n          h: $image.outerHeight(true)\n        };\n\n        $selection.css({\n          display: 'block',\n          left: pos.left,\n          top: pos.top,\n          width: imageSize.w,\n          height: imageSize.h\n        }).data('target', styleInfo.image); // save current image element.\n        var sizingText = imageSize.w + 'x' + imageSize.h;\n        $selection.find('.note-control-selection-info').text(sizingText);\n      } else {\n        $selection.hide();\n      }\n    };\n\n    /**\n     * hide\n     *\n     * @param {jQuery} $handle\n     */\n    this.hide = function ($handle) {\n      $handle.children().hide();\n    };\n  };\n\n  var Fullscreen = function (handler) {\n    var $window = $(window);\n    var $scrollbar = $('html, body');\n\n    /**\n     * toggle fullscreen\n     *\n     * @param {Object} layoutInfo\n     */\n    this.toggle = function (layoutInfo) {\n\n      var $editor = layoutInfo.editor(),\n          $toolbar = layoutInfo.toolbar(),\n          $editable = layoutInfo.editable(),\n          $codable = layoutInfo.codable();\n\n      var resize = function (size) {\n        $editable.css('height', size.h);\n        $codable.css('height', size.h);\n        if ($codable.data('cmeditor')) {\n          $codable.data('cmeditor').setsize(null, size.h);\n        }\n      };\n\n      $editor.toggleClass('fullscreen');\n      var isFullscreen = $editor.hasClass('fullscreen');\n      if (isFullscreen) {\n        $editable.data('orgheight', $editable.css('height'));\n\n        $window.on('resize', function () {\n          resize({\n            h: $window.height() - $toolbar.outerHeight()\n          });\n        }).trigger('resize');\n\n        $scrollbar.css('overflow', 'hidden');\n      } else {\n        $window.off('resize');\n        resize({\n          h: $editable.data('orgheight')\n        });\n        $scrollbar.css('overflow', 'visible');\n      }\n\n      handler.invoke('toolbar.updateFullscreen', $toolbar, isFullscreen);\n    };\n  };\n\n\n  var CodeMirror;\n  if (agent.hasCodeMirror) {\n    if (agent.isSupportAmd) {\n      require(['CodeMirror'], function (cm) {\n        CodeMirror = cm;\n      });\n    } else {\n      CodeMirror = window.CodeMirror;\n    }\n  }\n\n  /**\n   * @class Codeview\n   */\n  var Codeview = function (handler) {\n\n    this.sync = function (layoutInfo) {\n      var isCodeview = handler.invoke('codeview.isActivated', layoutInfo);\n      if (isCodeview && agent.hasCodeMirror) {\n        layoutInfo.codable().data('cmEditor').save();\n      }\n    };\n\n    /**\n     * @param {Object} layoutInfo\n     * @return {Boolean}\n     */\n    this.isActivated = function (layoutInfo) {\n      var $editor = layoutInfo.editor();\n      return $editor.hasClass('codeview');\n    };\n\n    /**\n     * toggle codeview\n     *\n     * @param {Object} layoutInfo\n     */\n    this.toggle = function (layoutInfo) {\n      if (this.isActivated(layoutInfo)) {\n        this.deactivate(layoutInfo);\n      } else {\n        this.activate(layoutInfo);\n      }\n    };\n\n    /**\n     * activate code view\n     *\n     * @param {Object} layoutInfo\n     */\n    this.activate = function (layoutInfo) {\n      var $editor = layoutInfo.editor(),\n          $toolbar = layoutInfo.toolbar(),\n          $editable = layoutInfo.editable(),\n          $codable = layoutInfo.codable(),\n          $popover = layoutInfo.popover(),\n          $handle = layoutInfo.handle();\n\n      var options = $editor.data('options');\n\n      $codable.val(dom.html($editable, options.prettifyHtml));\n      $codable.height($editable.height());\n\n      handler.invoke('toolbar.updateCodeview', $toolbar, true);\n      handler.invoke('popover.hide', $popover);\n      handler.invoke('handle.hide', $handle);\n\n      $editor.addClass('codeview');\n\n      $codable.focus();\n\n      // activate CodeMirror as codable\n      if (agent.hasCodeMirror) {\n        var cmEditor = CodeMirror.fromTextArea($codable[0], options.codemirror);\n\n        // CodeMirror TernServer\n        if (options.codemirror.tern) {\n          var server = new CodeMirror.TernServer(options.codemirror.tern);\n          cmEditor.ternServer = server;\n          cmEditor.on('cursorActivity', function (cm) {\n            server.updateArgHints(cm);\n          });\n        }\n\n        // CodeMirror hasn't Padding.\n        cmEditor.setSize(null, $editable.outerHeight());\n        $codable.data('cmEditor', cmEditor);\n      }\n    };\n\n    /**\n     * deactivate code view\n     *\n     * @param {Object} layoutInfo\n     */\n    this.deactivate = function (layoutInfo) {\n      var $holder = layoutInfo.holder(),\n          $editor = layoutInfo.editor(),\n          $toolbar = layoutInfo.toolbar(),\n          $editable = layoutInfo.editable(),\n          $codable = layoutInfo.codable();\n\n      var options = $editor.data('options');\n\n      // deactivate CodeMirror as codable\n      if (agent.hasCodeMirror) {\n        var cmEditor = $codable.data('cmEditor');\n        $codable.val(cmEditor.getValue());\n        cmEditor.toTextArea();\n      }\n\n      var value = dom.value($codable, options.prettifyHtml) || dom.emptyPara;\n      var isChange = $editable.html() !== value;\n\n      $editable.html(value);\n      $editable.height(options.height ? $codable.height() : 'auto');\n      $editor.removeClass('codeview');\n\n      if (isChange) {\n        handler.bindCustomEvent(\n          $holder, $editable.data('callbacks'), 'change'\n        )($editable.html(), $editable);\n      }\n\n      $editable.focus();\n\n      handler.invoke('toolbar.updateCodeview', $toolbar, false);\n    };\n  };\n\n  var DragAndDrop = function (handler) {\n    var $document = $(document);\n\n    /**\n     * attach Drag and Drop Events\n     *\n     * @param {Object} layoutInfo - layout Informations\n     * @param {Object} options\n     */\n    this.attach = function (layoutInfo, options) {\n      if (options.airMode || options.disableDragAndDrop) {\n        // prevent default drop event\n        $document.on('drop', function (e) {\n          e.preventDefault();\n        });\n      } else {\n        this.attachDragAndDropEvent(layoutInfo, options);\n      }\n    };\n\n    /**\n     * attach Drag and Drop Events\n     *\n     * @param {Object} layoutInfo - layout Informations\n     * @param {Object} options\n     */\n    this.attachDragAndDropEvent = function (layoutInfo, options) {\n      var collection = $(),\n          $editor = layoutInfo.editor(),\n          $dropzone = layoutInfo.dropzone(),\n          $dropzoneMessage = $dropzone.find('.note-dropzone-message');\n\n      // show dropzone on dragenter when dragging a object to document\n      // -but only if the editor is visible, i.e. has a positive width and height\n      $document.on('dragenter', function (e) {\n        var isCodeview = handler.invoke('codeview.isActivated', layoutInfo);\n        var hasEditorSize = $editor.width() > 0 && $editor.height() > 0;\n        if (!isCodeview && !collection.length && hasEditorSize) {\n          $editor.addClass('dragover');\n          $dropzone.width($editor.width());\n          $dropzone.height($editor.height());\n          $dropzoneMessage.text(options.langInfo.image.dragImageHere);\n        }\n        collection = collection.add(e.target);\n      }).on('dragleave', function (e) {\n        collection = collection.not(e.target);\n        if (!collection.length) {\n          $editor.removeClass('dragover');\n        }\n      }).on('drop', function () {\n        collection = $();\n        $editor.removeClass('dragover');\n      });\n\n      // change dropzone's message on hover.\n      $dropzone.on('dragenter', function () {\n        $dropzone.addClass('hover');\n        $dropzoneMessage.text(options.langInfo.image.dropImage);\n      }).on('dragleave', function () {\n        $dropzone.removeClass('hover');\n        $dropzoneMessage.text(options.langInfo.image.dragImageHere);\n      });\n\n      // attach dropImage\n      $dropzone.on('drop', function (event) {\n        event.preventDefault();\n\n        var dataTransfer = event.originalEvent.dataTransfer;\n        var html = dataTransfer.getData('text/html');\n        var text = dataTransfer.getData('text/plain');\n\n        var layoutInfo = dom.makeLayoutInfo(event.currentTarget || event.target);\n\n        if (dataTransfer && dataTransfer.files && dataTransfer.files.length) {\n          layoutInfo.editable().focus();\n          handler.insertImages(layoutInfo, dataTransfer.files);\n        } else if (html) {\n          $(html).each(function () {\n            layoutInfo.editable().focus();\n            handler.invoke('editor.insertNode', layoutInfo.editable(), this);\n          });\n        } else if (text) {\n          layoutInfo.editable().focus();\n          handler.invoke('editor.insertText', layoutInfo.editable(), text);\n        }\n      }).on('dragover', false); // prevent default dragover event\n    };\n  };\n\n  var Clipboard = function (handler) {\n\n    this.attach = function (layoutInfo) {\n      layoutInfo.editable().on('paste', hPasteClipboardImage);\n    };\n\n    /**\n     * paste clipboard image\n     *\n     * @param {Event} event\n     */\n    var hPasteClipboardImage = function (event) {\n      var clipboardData = event.originalEvent.clipboardData;\n      var layoutInfo = dom.makeLayoutInfo(event.currentTarget || event.target);\n      var $editable = layoutInfo.editable();\n\n      if (!clipboardData || !clipboardData.items || !clipboardData.items.length) {\n        var callbacks = $editable.data('callbacks');\n        // only can run if it has onImageUpload method\n        if (!callbacks.onImageUpload) {\n          return;\n        }\n\n        // save cursor\n        handler.invoke('editor.saveNode', $editable);\n        handler.invoke('editor.saveRange', $editable);\n\n        $editable.html('');\n\n        setTimeout(function () {\n          var $img = $editable.find('img');\n\n          // if img is no in clipboard, insert text or dom\n          if (!$img.length || $img[0].src.indexOf('data:') === -1) {\n            var html = $editable.html();\n\n            handler.invoke('editor.restoreNode', $editable);\n            handler.invoke('editor.restoreRange', $editable);\n\n            handler.invoke('editor.focus', $editable);\n            try {\n              handler.invoke('editor.pasteHTML', $editable, html);\n            } catch (ex) {\n              handler.invoke('editor.insertText', $editable, html);\n            }\n            return;\n          }\n\n          var datauri = $img[0].src;\n\n          var data = atob(datauri.split(',')[1]);\n          var array = new Uint8Array(data.length);\n          for (var i = 0; i < data.length; i++) {\n            array[i] = data.charCodeAt(i);\n          }\n\n          var blob = new Blob([array], { type : 'image/png' });\n          blob.name = 'clipboard.png';\n\n          handler.invoke('editor.restoreNode', $editable);\n          handler.invoke('editor.restoreRange', $editable);\n          handler.insertImages(layoutInfo, [blob]);\n\n          handler.invoke('editor.afterCommand', $editable);\n        }, 0);\n\n        return;\n      }\n\n      var item = list.head(clipboardData.items);\n      var isClipboardImage = item.kind === 'file' && item.type.indexOf('image/') !== -1;\n\n      if (isClipboardImage) {\n        handler.insertImages(layoutInfo, [item.getAsFile()]);\n      }\n\n      handler.invoke('editor.afterCommand', $editable);\n    };\n  };\n\n  var LinkDialog = function (handler) {\n\n    /**\n     * toggle button status\n     *\n     * @private\n     * @param {jQuery} $btn\n     * @param {Boolean} isEnable\n     */\n    var toggleBtn = function ($btn, isEnable) {\n      $btn.toggleClass('disabled', !isEnable);\n      $btn.attr('disabled', !isEnable);\n    };\n\n    /**\n     * bind enter key\n     *\n     * @private\n     * @param {jQuery} $input\n     * @param {jQuery} $btn\n     */\n    var bindEnterKey = function ($input, $btn) {\n      $input.on('keypress', function (event) {\n        if (event.keyCode === key.code.ENTER) {\n          $btn.trigger('click');\n        }\n      });\n    };\n\n    /**\n     * Show link dialog and set event handlers on dialog controls.\n     *\n     * @param {jQuery} $editable\n     * @param {jQuery} $dialog\n     * @param {Object} linkInfo\n     * @return {Promise}\n     */\n    this.showLinkDialog = function ($editable, $dialog, linkInfo) {\n      return $.Deferred(function (deferred) {\n        var $linkDialog = $dialog.find('.note-link-dialog');\n\n        var $linkText = $linkDialog.find('.note-link-text'),\n        $linkUrl = $linkDialog.find('.note-link-url'),\n        $linkBtn = $linkDialog.find('.note-link-btn'),\n        $openInNewWindow = $linkDialog.find('input[type=checkbox]');\n\n        $linkDialog.one('shown.bs.modal', function () {\n          $linkText.val(linkInfo.text);\n\n          $linkText.on('input', function () {\n            // if linktext was modified by keyup,\n            // stop cloning text from linkUrl\n            linkInfo.text = $linkText.val();\n          });\n\n          // if no url was given, copy text to url\n          if (!linkInfo.url) {\n            linkInfo.url = linkInfo.text;\n            toggleBtn($linkBtn, linkInfo.text);\n          }\n\n          $linkUrl.on('input', function () {\n            toggleBtn($linkBtn, $linkUrl.val());\n            // display same link on `Text to display` input\n            // when create a new link\n            if (!linkInfo.text) {\n              $linkText.val($linkUrl.val());\n            }\n          }).val(linkInfo.url).trigger('focus').trigger('select');\n\n          bindEnterKey($linkUrl, $linkBtn);\n          bindEnterKey($linkText, $linkBtn);\n\n          $openInNewWindow.prop('checked', linkInfo.newWindow);\n\n          $linkBtn.one('click', function (event) {\n            event.preventDefault();\n\n            deferred.resolve({\n              range: linkInfo.range,\n              url: $linkUrl.val(),\n              text: $linkText.val(),\n              newWindow: $openInNewWindow.is(':checked')\n            });\n            $linkDialog.modal('hide');\n          });\n        }).one('hidden.bs.modal', function () {\n          // detach events\n          $linkText.off('input keypress');\n          $linkUrl.off('input keypress');\n          $linkBtn.off('click');\n\n          if (deferred.state() === 'pending') {\n            deferred.reject();\n          }\n        }).modal('show');\n      }).promise();\n    };\n\n    /**\n     * @param {Object} layoutInfo\n     */\n    this.show = function (layoutInfo) {\n      var $editor = layoutInfo.editor(),\n          $dialog = layoutInfo.dialog(),\n          $editable = layoutInfo.editable(),\n          $popover = layoutInfo.popover(),\n          linkInfo = handler.invoke('editor.getLinkInfo', $editable);\n\n      var options = $editor.data('options');\n\n      handler.invoke('editor.saveRange', $editable);\n      this.showLinkDialog($editable, $dialog, linkInfo).then(function (linkInfo) {\n        handler.invoke('editor.restoreRange', $editable);\n        handler.invoke('editor.createLink', $editable, linkInfo, options);\n        // hide popover after creating link\n        handler.invoke('popover.hide', $popover);\n      }).fail(function () {\n        handler.invoke('editor.restoreRange', $editable);\n      });\n    };\n  };\n\n  var ImageDialog = function (handler) {\n    /**\n     * toggle button status\n     *\n     * @private\n     * @param {jQuery} $btn\n     * @param {Boolean} isEnable\n     */\n    var toggleBtn = function ($btn, isEnable) {\n      $btn.toggleClass('disabled', !isEnable);\n      $btn.attr('disabled', !isEnable);\n    };\n\n    /**\n     * bind enter key\n     *\n     * @private\n     * @param {jQuery} $input\n     * @param {jQuery} $btn\n     */\n    var bindEnterKey = function ($input, $btn) {\n      $input.on('keypress', function (event) {\n        if (event.keyCode === key.code.ENTER) {\n          $btn.trigger('click');\n        }\n      });\n    };\n\n    this.show = function (layoutInfo) {\n      var $dialog = layoutInfo.dialog(),\n          $editable = layoutInfo.editable();\n\n      handler.invoke('editor.saveRange', $editable);\n      this.showImageDialog($editable, $dialog).then(function (data) {\n        handler.invoke('editor.restoreRange', $editable);\n\n        if (typeof data === 'string') {\n          // image url\n          handler.invoke('editor.insertImage', $editable, data);\n        } else {\n          // array of files\n          handler.insertImages(layoutInfo, data);\n        }\n      }).fail(function () {\n        handler.invoke('editor.restoreRange', $editable);\n      });\n    };\n\n    /**\n     * show image dialog\n     *\n     * @param {jQuery} $editable\n     * @param {jQuery} $dialog\n     * @return {Promise}\n     */\n    this.showImageDialog = function ($editable, $dialog) {\n      return $.Deferred(function (deferred) {\n        var $imageDialog = $dialog.find('.note-image-dialog');\n\n        var $imageInput = $dialog.find('.note-image-input'),\n            $imageUrl = $dialog.find('.note-image-url'),\n            $imageBtn = $dialog.find('.note-image-btn');\n\n        $imageDialog.one('shown.bs.modal', function () {\n          // Cloning imageInput to clear element.\n          $imageInput.replaceWith($imageInput.clone()\n            .on('change', function () {\n              deferred.resolve(this.files || this.value);\n              $imageDialog.modal('hide');\n            })\n            .val('')\n          );\n\n          $imageBtn.click(function (event) {\n            event.preventDefault();\n\n            deferred.resolve($imageUrl.val());\n            $imageDialog.modal('hide');\n          });\n\n          $imageUrl.on('keyup paste', function (event) {\n            var url;\n            \n            if (event.type === 'paste') {\n              url = event.originalEvent.clipboardData.getData('text');\n            } else {\n              url = $imageUrl.val();\n            }\n            \n            toggleBtn($imageBtn, url);\n          }).val('').trigger('focus');\n          bindEnterKey($imageUrl, $imageBtn);\n        }).one('hidden.bs.modal', function () {\n          $imageInput.off('change');\n          $imageUrl.off('keyup paste keypress');\n          $imageBtn.off('click');\n\n          if (deferred.state() === 'pending') {\n            deferred.reject();\n          }\n        }).modal('show');\n      });\n    };\n  };\n\n  var HelpDialog = function (handler) {\n    /**\n     * show help dialog\n     *\n     * @param {jQuery} $editable\n     * @param {jQuery} $dialog\n     * @return {Promise}\n     */\n    this.showHelpDialog = function ($editable, $dialog) {\n      return $.Deferred(function (deferred) {\n        var $helpDialog = $dialog.find('.note-help-dialog');\n\n        $helpDialog.one('hidden.bs.modal', function () {\n          deferred.resolve();\n        }).modal('show');\n      }).promise();\n    };\n\n    /**\n     * @param {Object} layoutInfo\n     */\n    this.show = function (layoutInfo) {\n      var $dialog = layoutInfo.dialog(),\n          $editable = layoutInfo.editable();\n\n      handler.invoke('editor.saveRange', $editable, true);\n      this.showHelpDialog($editable, $dialog).then(function () {\n        handler.invoke('editor.restoreRange', $editable);\n      });\n    };\n  };\n\n\n  /**\n   * @class EventHandler\n   *\n   * EventHandler\n   *  - TODO: new instance per a editor\n   */\n  var EventHandler = function () {\n    /**\n     * Modules\n     */\n    var modules = this.modules = {\n      editor: new Editor(this),\n      toolbar: new Toolbar(this),\n      statusbar: new Statusbar(this),\n      popover: new Popover(this),\n      handle: new Handle(this),\n      fullscreen: new Fullscreen(this),\n      codeview: new Codeview(this),\n      dragAndDrop: new DragAndDrop(this),\n      clipboard: new Clipboard(this),\n      linkDialog: new LinkDialog(this),\n      imageDialog: new ImageDialog(this),\n      helpDialog: new HelpDialog(this)\n    };\n\n    /**\n     * invoke module's method\n     *\n     * @param {String} moduleAndMethod - ex) 'editor.redo'\n     * @param {...*} arguments - arguments of method\n     * @return {*}\n     */\n    this.invoke = function () {\n      var moduleAndMethod = list.head(list.from(arguments));\n      var args = list.tail(list.from(arguments));\n\n      var splits = moduleAndMethod.split('.');\n      var hasSeparator = splits.length > 1;\n      var moduleName = hasSeparator && list.head(splits);\n      var methodName = hasSeparator ? list.last(splits) : list.head(splits);\n\n      var module = this.getModule(moduleName);\n      var method = module[methodName];\n\n      return method && method.apply(module, args);\n    };\n\n    /**\n     * returns module\n     *\n     * @param {String} moduleName - name of module\n     * @return {Module} - defaults is editor\n     */\n    this.getModule = function (moduleName) {\n      return this.modules[moduleName] || this.modules.editor;\n    };\n\n    /**\n     * @param {jQuery} $holder\n     * @param {Object} callbacks\n     * @param {String} eventNamespace\n     * @returns {Function}\n     */\n    var bindCustomEvent = this.bindCustomEvent = function ($holder, callbacks, eventNamespace) {\n      return function () {\n        var callback = callbacks[func.namespaceToCamel(eventNamespace, 'on')];\n        if (callback) {\n          callback.apply($holder[0], arguments);\n        }\n        return $holder.trigger('summernote.' + eventNamespace, arguments);\n      };\n    };\n\n    /**\n     * insert Images from file array.\n     *\n     * @private\n     * @param {Object} layoutInfo\n     * @param {File[]} files\n     */\n    this.insertImages = function (layoutInfo, files) {\n      var $editor = layoutInfo.editor(),\n          $editable = layoutInfo.editable(),\n          $holder = layoutInfo.holder();\n\n      var callbacks = $editable.data('callbacks');\n      var options = $editor.data('options');\n\n      // If onImageUpload options setted\n      if (callbacks.onImageUpload) {\n        bindCustomEvent($holder, callbacks, 'image.upload')(files);\n      // else insert Image as dataURL\n      } else {\n        $.each(files, function (idx, file) {\n          var filename = file.name;\n          if (options.maximumImageFileSize && options.maximumImageFileSize < file.size) {\n            bindCustomEvent($holder, callbacks, 'image.upload.error')(options.langInfo.image.maximumFileSizeError);\n          } else {\n            async.readFileAsDataURL(file).then(function (sDataURL) {\n              modules.editor.insertImage($editable, sDataURL, filename);\n            }).fail(function () {\n              bindCustomEvent($holder, callbacks, 'image.upload.error')(options.langInfo.image.maximumFileSizeError);\n            });\n          }\n        });\n      }\n    };\n\n    var commands = {\n      /**\n       * @param {Object} layoutInfo\n       */\n      showLinkDialog: function (layoutInfo) {\n        modules.linkDialog.show(layoutInfo);\n      },\n\n      /**\n       * @param {Object} layoutInfo\n       */\n      showImageDialog: function (layoutInfo) {\n        modules.imageDialog.show(layoutInfo);\n      },\n\n      /**\n       * @param {Object} layoutInfo\n       */\n      showHelpDialog: function (layoutInfo) {\n        modules.helpDialog.show(layoutInfo);\n      },\n\n      /**\n       * @param {Object} layoutInfo\n       */\n      fullscreen: function (layoutInfo) {\n        modules.fullscreen.toggle(layoutInfo);\n      },\n\n      /**\n       * @param {Object} layoutInfo\n       */\n      codeview: function (layoutInfo) {\n        modules.codeview.toggle(layoutInfo);\n      }\n    };\n\n    var hMousedown = function (event) {\n      //preventDefault Selection for FF, IE8+\n      if (dom.isImg(event.target)) {\n        event.preventDefault();\n      }\n    };\n\n    var hToolbarAndPopoverUpdate = function (event) {\n      // delay for range after mouseup\n      setTimeout(function () {\n        var layoutInfo = dom.makeLayoutInfo(event.currentTarget || event.target);\n        var styleInfo = modules.editor.currentStyle(event.target);\n        if (!styleInfo) { return; }\n\n        var isAirMode = layoutInfo.editor().data('options').airMode;\n        if (!isAirMode) {\n          modules.toolbar.update(layoutInfo.toolbar(), styleInfo);\n        }\n\n        modules.popover.update(layoutInfo.popover(), styleInfo, isAirMode);\n        modules.handle.update(layoutInfo.handle(), styleInfo, isAirMode);\n      }, 0);\n    };\n\n    var hScroll = function (event) {\n      var layoutInfo = dom.makeLayoutInfo(event.currentTarget || event.target);\n      //hide popover and handle when scrolled\n      modules.popover.hide(layoutInfo.popover());\n      modules.handle.hide(layoutInfo.handle());\n    };\n\n    var hToolbarAndPopoverMousedown = function (event) {\n      // prevent default event when insertTable (FF, Webkit)\n      var $btn = $(event.target).closest('[data-event]');\n      if ($btn.length) {\n        event.preventDefault();\n      }\n    };\n\n    var hToolbarAndPopoverClick = function (event) {\n      var $btn = $(event.target).closest('[data-event]');\n\n      if ($btn.length) {\n        var eventName = $btn.attr('data-event'),\n            value = $btn.attr('data-value'),\n            hide = $btn.attr('data-hide');\n\n        var layoutInfo = dom.makeLayoutInfo(event.target);\n\n        // before command: detect control selection element($target)\n        var $target;\n        if ($.inArray(eventName, ['resize', 'floatMe', 'removeMedia', 'imageShape']) !== -1) {\n          var $selection = layoutInfo.handle().find('.note-control-selection');\n          $target = $($selection.data('target'));\n        }\n\n        // If requested, hide the popover when the button is clicked.\n        // Useful for things like showHelpDialog.\n        if (hide) {\n          $btn.parents('.popover').hide();\n        }\n\n        if ($.isFunction($.summernote.pluginEvents[eventName])) {\n          $.summernote.pluginEvents[eventName](event, modules.editor, layoutInfo, value);\n        } else if (modules.editor[eventName]) { // on command\n          var $editable = layoutInfo.editable();\n          $editable.focus();\n          modules.editor[eventName]($editable, value, $target);\n          event.preventDefault();\n        } else if (commands[eventName]) {\n          commands[eventName].call(this, layoutInfo);\n          event.preventDefault();\n        }\n\n        // after command\n        if ($.inArray(eventName, ['backColor', 'foreColor']) !== -1) {\n          var options = layoutInfo.editor().data('options', options);\n          var module = options.airMode ? modules.popover : modules.toolbar;\n          module.updateRecentColor(list.head($btn), eventName, value);\n        }\n\n        hToolbarAndPopoverUpdate(event);\n      }\n    };\n\n    var PX_PER_EM = 18;\n    var hDimensionPickerMove = function (event, options) {\n      var $picker = $(event.target.parentNode); // target is mousecatcher\n      var $dimensionDisplay = $picker.next();\n      var $catcher = $picker.find('.note-dimension-picker-mousecatcher');\n      var $highlighted = $picker.find('.note-dimension-picker-highlighted');\n      var $unhighlighted = $picker.find('.note-dimension-picker-unhighlighted');\n\n      var posOffset;\n      // HTML5 with jQuery - e.offsetX is undefined in Firefox\n      if (event.offsetX === undefined) {\n        var posCatcher = $(event.target).offset();\n        posOffset = {\n          x: event.pageX - posCatcher.left,\n          y: event.pageY - posCatcher.top\n        };\n      } else {\n        posOffset = {\n          x: event.offsetX,\n          y: event.offsetY\n        };\n      }\n\n      var dim = {\n        c: Math.ceil(posOffset.x / PX_PER_EM) || 1,\n        r: Math.ceil(posOffset.y / PX_PER_EM) || 1\n      };\n\n      $highlighted.css({ width: dim.c + 'em', height: dim.r + 'em' });\n      $catcher.attr('data-value', dim.c + 'x' + dim.r);\n\n      if (3 < dim.c && dim.c < options.insertTableMaxSize.col) {\n        $unhighlighted.css({ width: dim.c + 1 + 'em'});\n      }\n\n      if (3 < dim.r && dim.r < options.insertTableMaxSize.row) {\n        $unhighlighted.css({ height: dim.r + 1 + 'em'});\n      }\n\n      $dimensionDisplay.html(dim.c + ' x ' + dim.r);\n    };\n    \n    /**\n     * bind KeyMap on keydown\n     *\n     * @param {Object} layoutInfo\n     * @param {Object} keyMap\n     */\n    this.bindKeyMap = function (layoutInfo, keyMap) {\n      var $editor = layoutInfo.editor();\n      var $editable = layoutInfo.editable();\n\n      $editable.on('keydown', function (event) {\n        var keys = [];\n\n        // modifier\n        if (event.metaKey) { keys.push('CMD'); }\n        if (event.ctrlKey && !event.altKey) { keys.push('CTRL'); }\n        if (event.shiftKey) { keys.push('SHIFT'); }\n\n        // keycode\n        var keyName = key.nameFromCode[event.keyCode];\n        if (keyName) {\n          keys.push(keyName);\n        }\n\n        var eventName = keyMap[keys.join('+')];\n        if (eventName) {\n          if ($.summernote.pluginEvents[eventName]) {\n            var plugin = $.summernote.pluginEvents[eventName];\n            if ($.isFunction(plugin)) {\n              plugin(event, modules.editor, layoutInfo);\n            }\n          } else if (modules.editor[eventName]) {\n            modules.editor[eventName]($editable, $editor.data('options'));\n            event.preventDefault();\n          } else if (commands[eventName]) {\n            commands[eventName].call(this, layoutInfo);\n            event.preventDefault();\n          }\n        } else if (key.isEdit(event.keyCode)) {\n          modules.editor.afterCommand($editable);\n        }\n      });\n    };\n\n    /**\n     * attach eventhandler\n     *\n     * @param {Object} layoutInfo - layout Informations\n     * @param {Object} options - user options include custom event handlers\n     */\n    this.attach = function (layoutInfo, options) {\n      // handlers for editable\n      if (options.shortcuts) {\n        this.bindKeyMap(layoutInfo, options.keyMap[agent.isMac ? 'mac' : 'pc']);\n      }\n      layoutInfo.editable().on('mousedown', hMousedown);\n      layoutInfo.editable().on('keyup mouseup', hToolbarAndPopoverUpdate);\n      layoutInfo.editable().on('scroll', hScroll);\n      modules.clipboard.attach(layoutInfo, options);\n\n      // handler for handle and popover\n      modules.handle.attach(layoutInfo, options);\n      layoutInfo.popover().on('click', hToolbarAndPopoverClick);\n      layoutInfo.popover().on('mousedown', hToolbarAndPopoverMousedown);\n\n      // handler for drag and drop\n      modules.dragAndDrop.attach(layoutInfo, options);\n\n      // handlers for frame mode (toolbar, statusbar)\n      if (!options.airMode) {\n        // handler for toolbar\n        layoutInfo.toolbar().on('click', hToolbarAndPopoverClick);\n        layoutInfo.toolbar().on('mousedown', hToolbarAndPopoverMousedown);\n\n        // handler for statusbar\n        modules.statusbar.attach(layoutInfo, options);\n      }\n\n      // handler for table dimension\n      var $catcherContainer = options.airMode ? layoutInfo.popover() :\n                                                layoutInfo.toolbar();\n      var $catcher = $catcherContainer.find('.note-dimension-picker-mousecatcher');\n      $catcher.css({\n        width: options.insertTableMaxSize.col + 'em',\n        height: options.insertTableMaxSize.row + 'em'\n      }).on('mousemove', function (event) {\n        hDimensionPickerMove(event, options);\n      });\n\n      // save options on editor\n      layoutInfo.editor().data('options', options);\n\n      // ret styleWithCSS for backColor / foreColor clearing with 'inherit'.\n      if (!agent.isMSIE) {\n        // [workaround] for Firefox\n        //  - protect FF Error: NS_ERROR_FAILURE: Failure\n        setTimeout(function () {\n          document.execCommand('styleWithCSS', 0, options.styleWithSpan);\n        }, 0);\n      }\n\n      // History\n      var history = new History(layoutInfo.editable());\n      layoutInfo.editable().data('NoteHistory', history);\n\n      // All editor status will be saved on editable with jquery's data\n      // for support multiple editor with singleton object.\n      layoutInfo.editable().data('callbacks', {\n        onInit: options.onInit,\n        onFocus: options.onFocus,\n        onBlur: options.onBlur,\n        onKeydown: options.onKeydown,\n        onKeyup: options.onKeyup,\n        onMousedown: options.onMousedown,\n        onEnter: options.onEnter,\n        onPaste: options.onPaste,\n        onBeforeCommand: options.onBeforeCommand,\n        onChange: options.onChange,\n        onImageUpload: options.onImageUpload,\n        onImageUploadError: options.onImageUploadError,\n        onMediaDelete : options.onMediaDelete\n      });\n\n      // Textarea: auto filling the code before form submit.\n      if (dom.isTextarea(list.head(layoutInfo.holder()))) {\n        layoutInfo.holder().closest('form').submit(function () {\n          var contents = layoutInfo.holder().code();\n          layoutInfo.holder().val(contents);\n\n          // callback on submit\n          if (options.onsubmit) {\n            options.onsubmit(contents);\n          }\n        });\n      }\n    };\n\n    /**\n     * attach jquery custom event\n     *\n     * @param {Object} layoutInfo - layout Informations\n     */\n    this.attachCustomEvent = function (layoutInfo, options) {\n      var $holder = layoutInfo.holder();\n      var $editable = layoutInfo.editable();\n      var callbacks = $editable.data('callbacks');\n\n      $editable.focus(bindCustomEvent($holder, callbacks, 'focus'));\n      $editable.blur(bindCustomEvent($holder, callbacks, 'blur'));\n\n      $editable.keydown(function (event) {\n        if (event.keyCode === key.code.ENTER) {\n          bindCustomEvent($holder, callbacks, 'enter').call(this, event);\n        }\n        bindCustomEvent($holder, callbacks, 'keydown').call(this, event);\n      });\n      $editable.keyup(bindCustomEvent($holder, callbacks, 'keyup'));\n\n      $editable.on('mousedown', bindCustomEvent($holder, callbacks, 'mousedown'));\n      $editable.on('mouseup', bindCustomEvent($holder, callbacks, 'mouseup'));\n      $editable.on('scroll', bindCustomEvent($holder, callbacks, 'scroll'));\n\n      $editable.on('paste', bindCustomEvent($holder, callbacks, 'paste'));\n      \n      // [workaround] for old IE - IE8 don't have input events\n      //  - TODO check IE version\n      var changeEventName = agent.isMSIE ? 'DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted' : 'input';\n      $editable.on(changeEventName, function () {\n        bindCustomEvent($holder, callbacks, 'change')($editable.html(), $editable);\n      });\n\n      // callbacks for advanced features (camel)\n      if (!options.airMode) {\n        layoutInfo.toolbar().click(bindCustomEvent($holder, callbacks, 'toolbar.click'));\n        layoutInfo.popover().click(bindCustomEvent($holder, callbacks, 'popover.click'));\n      }\n\n      // Textarea: auto filling the code before form submit.\n      if (dom.isTextarea(list.head($holder))) {\n        $holder.closest('form').submit(function (e) {\n          bindCustomEvent($holder, callbacks, 'submit').call(this, e, $holder.code());\n        });\n      }\n\n      // fire init event\n      bindCustomEvent($holder, callbacks, 'init')(layoutInfo);\n\n      // fire plugin init event\n      for (var i = 0, len = $.summernote.plugins.length; i < len; i++) {\n        if ($.isFunction($.summernote.plugins[i].init)) {\n          $.summernote.plugins[i].init(layoutInfo);\n        }\n      }\n    };\n      \n    this.detach = function (layoutInfo, options) {\n      layoutInfo.holder().off();\n      layoutInfo.editable().off();\n\n      layoutInfo.popover().off();\n      layoutInfo.handle().off();\n      layoutInfo.dialog().off();\n\n      if (!options.airMode) {\n        layoutInfo.dropzone().off();\n        layoutInfo.toolbar().off();\n        layoutInfo.statusbar().off();\n      }\n    };\n  };\n\n  /**\n   * @class Renderer\n   *\n   * renderer\n   *\n   * rendering toolbar and editable\n   */\n  var Renderer = function () {\n\n    /**\n     * bootstrap button template\n     * @private\n     * @param {String} label button name\n     * @param {Object} [options] button options\n     * @param {String} [options.event] data-event\n     * @param {String} [options.className] button's class name\n     * @param {String} [options.value] data-value\n     * @param {String} [options.title] button's title for popup\n     * @param {String} [options.dropdown] dropdown html\n     * @param {String} [options.hide] data-hide\n     */\n    var tplButton = function (label, options) {\n      var event = options.event;\n      var value = options.value;\n      var title = options.title;\n      var className = options.className;\n      var dropdown = options.dropdown;\n      var hide = options.hide;\n\n      return '<button type=\"button\"' +\n                 ' class=\"btn btn-default btn-sm btn-small' +\n                   (className ? ' ' + className : '') +\n                   (dropdown ? ' dropdown-toggle' : '') +\n                 '\"' +\n                 (dropdown ? ' data-toggle=\"dropdown\"' : '') +\n                 (title ? ' title=\"' + title + '\"' : '') +\n                 (event ? ' data-event=\"' + event + '\"' : '') +\n                 (value ? ' data-value=\\'' + value + '\\'' : '') +\n                 (hide ? ' data-hide=\\'' + hide + '\\'' : '') +\n                 ' tabindex=\"-1\">' +\n               label +\n               (dropdown ? ' <span class=\"caret\"></span>' : '') +\n             '</button>' +\n             (dropdown || '');\n    };\n\n    /**\n     * bootstrap icon button template\n     * @private\n     * @param {String} iconClassName\n     * @param {Object} [options]\n     * @param {String} [options.event]\n     * @param {String} [options.value]\n     * @param {String} [options.title]\n     * @param {String} [options.dropdown]\n     */\n    var tplIconButton = function (iconClassName, options) {\n      var label = '<i class=\"' + iconClassName + '\"></i>';\n      return tplButton(label, options);\n    };\n\n    /**\n     * bootstrap popover template\n     * @private\n     * @param {String} className\n     * @param {String} content\n     */\n    var tplPopover = function (className, content) {\n      var $popover = $('<div class=\"' + className + ' popover bottom in\" style=\"display: none;\">' +\n               '<div class=\"arrow\"></div>' +\n               '<div class=\"popover-content\">' +\n               '</div>' +\n             '</div>');\n      \n      $popover.find('.popover-content').append(content);\n      return $popover;\n    };\n\n    /**\n     * bootstrap dialog template\n     *\n     * @param {String} className\n     * @param {String} [title='']\n     * @param {String} body\n     * @param {String} [footer='']\n     */\n    var tplDialog = function (className, title, body, footer) {\n      return '<div class=\"' + className + ' modal\" aria-hidden=\"false\">' +\n               '<div class=\"modal-dialog\">' +\n                 '<div class=\"modal-content\">' +\n                   (title ?\n                   '<div class=\"modal-header\">' +\n                     '<button type=\"button\" class=\"close\" aria-hidden=\"true\" tabindex=\"-1\">&times;</button>' +\n                     '<h4 class=\"modal-title\">' + title + '</h4>' +\n                   '</div>' : ''\n                   ) +\n                   '<div class=\"modal-body\">' + body + '</div>' +\n                   (footer ?\n                   '<div class=\"modal-footer\">' + footer + '</div>' : ''\n                   ) +\n                 '</div>' +\n               '</div>' +\n             '</div>';\n    };\n\n    var tplButtonInfo = {\n      picture: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'picture-o', {\n          event: 'showImageDialog',\n          title: lang.image.image,\n          hide: true\n        });\n      },\n      link: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'link', {\n          event: 'showLinkDialog',\n          title: lang.link.link,\n          hide: true\n        });\n      },\n      table: function (lang, options) {\n        var dropdown = '<ul class=\"note-table dropdown-menu\">' +\n                         '<div class=\"note-dimension-picker\">' +\n                           '<div class=\"note-dimension-picker-mousecatcher\" data-event=\"insertTable\" data-value=\"1x1\"></div>' +\n                           '<div class=\"note-dimension-picker-highlighted\"></div>' +\n                           '<div class=\"note-dimension-picker-unhighlighted\"></div>' +\n                         '</div>' +\n                         '<div class=\"note-dimension-display\"> 1 x 1 </div>' +\n                       '</ul>';\n        return tplIconButton(options.iconPrefix + 'table', {\n          title: lang.table.table,\n          dropdown: dropdown\n        });\n      },\n      style: function (lang, options) {\n        var items = options.styleTags.reduce(function (memo, v) {\n          var label = lang.style[v === 'p' ? 'normal' : v];\n          return memo + '<li><a data-event=\"formatBlock\" href=\"#\" data-value=\"' + v + '\">' +\n                   (\n                     (v === 'p' || v === 'pre') ? label :\n                     '<' + v + '>' + label + '</' + v + '>'\n                   ) +\n                 '</a></li>';\n        }, '');\n\n        return tplIconButton(options.iconPrefix + 'magic', {\n          title: lang.style.style,\n          dropdown: '<ul class=\"dropdown-menu\">' + items + '</ul>'\n        });\n      },\n      fontname: function (lang, options) {\n        var realFontList = [];\n        var items = options.fontNames.reduce(function (memo, v) {\n          if (!agent.isFontInstalled(v) && options.fontNamesIgnoreCheck.indexOf(v) === -1) {\n            return memo;\n          }\n          realFontList.push(v);\n          return memo + '<li><a data-event=\"fontName\" href=\"#\" data-value=\"' + v + '\" style=\"font-family:\\'' + v + '\\'\">' +\n                          '<i class=\"' + options.iconPrefix + 'check\"></i> ' + v +\n                        '</a></li>';\n        }, '');\n\n        var hasDefaultFont = agent.isFontInstalled(options.defaultFontName);\n        var defaultFontName = (hasDefaultFont) ? options.defaultFontName : realFontList[0];\n          \n        var label = '<span class=\"note-current-fontname\">' +\n                        defaultFontName +\n                     '</span>';\n        return tplButton(label, {\n          title: lang.font.name,\n          dropdown: '<ul class=\"dropdown-menu\">' + items + '</ul>'\n        });\n      },\n      fontsize: function (lang, options) {\n        var items = options.fontSizes.reduce(function (memo, v) {\n          return memo + '<li><a data-event=\"fontSize\" href=\"#\" data-value=\"' + v + '\">' +\n                          '<i class=\"fa fa-check\"></i> ' + v +\n                        '</a></li>';\n        }, '');\n\n        var label = '<span class=\"note-current-fontsize\">11</span>';\n        return tplButton(label, {\n          title: lang.font.size,\n          dropdown: '<ul class=\"dropdown-menu\">' + items + '</ul>'\n        });\n      },\n      color: function (lang, options) {\n        var colorButtonLabel = '<i class=\"' + options.iconPrefix + 'font\" style=\"color:black;background-color:yellow;\"></i>';\n        var colorButton = tplButton(colorButtonLabel, {\n          className: 'note-recent-color',\n          title: lang.color.recent,\n          event: 'color',\n          value: '{\"backColor\":\"yellow\"}'\n        });\n\n        var dropdown = '<ul class=\"dropdown-menu\">' +\n                         '<li>' +\n                           '<div class=\"btn-group\">' +\n                             '<div class=\"note-palette-title\">' + lang.color.background + '</div>' +\n                             '<div class=\"note-color-reset\" data-event=\"backColor\"' +\n                               ' data-value=\"inherit\" title=\"' + lang.color.transparent + '\">' +\n                               lang.color.setTransparent +\n                             '</div>' +\n                             '<div class=\"note-color-palette\" data-target-event=\"backColor\"></div>' +\n                           '</div>' +\n                           '<div class=\"btn-group\">' +\n                             '<div class=\"note-palette-title\">' + lang.color.foreground + '</div>' +\n                             '<div class=\"note-color-reset\" data-event=\"foreColor\" data-value=\"inherit\" title=\"' + lang.color.reset + '\">' +\n                               lang.color.resetToDefault +\n                             '</div>' +\n                             '<div class=\"note-color-palette\" data-target-event=\"foreColor\"></div>' +\n                           '</div>' +\n                         '</li>' +\n                       '</ul>';\n\n        var moreButton = tplButton('', {\n          title: lang.color.more,\n          dropdown: dropdown\n        });\n\n        return colorButton + moreButton;\n      },\n      bold: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'bold', {\n          event: 'bold',\n          title: lang.font.bold\n        });\n      },\n      italic: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'italic', {\n          event: 'italic',\n          title: lang.font.italic\n        });\n      },\n      underline: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'underline', {\n          event: 'underline',\n          title: lang.font.underline\n        });\n      },\n      strikethrough: function (lang) {\n        return tplIconButton('fa fa-strikethrough', {\n          event: 'strikethrough',\n          title: lang.font.strikethrough\n        });\n      },\n      superscript: function (lang) {\n        return tplIconButton('fa fa-superscript', {\n          event: 'superscript',\n          title: lang.font.superscript\n        });\n      },\n      subscript: function (lang) {\n        return tplIconButton('fa fa-subscript', {\n          event: 'subscript',\n          title: lang.font.subscript\n        });\n      },\n      clear: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'eraser', {\n          event: 'removeFormat',\n          title: lang.font.clear\n        });\n      },\n      ul: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'list-ul', {\n          event: 'insertUnorderedList',\n          title: lang.lists.unordered\n        });\n      },\n      ol: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'list-ol', {\n          event: 'insertOrderedList',\n          title: lang.lists.ordered\n        });\n      },\n      paragraph: function (lang, options) {\n        var leftButton = tplIconButton(options.iconPrefix + 'align-left', {\n          title: lang.paragraph.left,\n          event: 'justifyLeft'\n        });\n        var centerButton = tplIconButton(options.iconPrefix + 'align-center', {\n          title: lang.paragraph.center,\n          event: 'justifyCenter'\n        });\n        var rightButton = tplIconButton(options.iconPrefix + 'align-right', {\n          title: lang.paragraph.right,\n          event: 'justifyRight'\n        });\n        var justifyButton = tplIconButton(options.iconPrefix + 'align-justify', {\n          title: lang.paragraph.justify,\n          event: 'justifyFull'\n        });\n\n        var outdentButton = tplIconButton(options.iconPrefix + 'outdent', {\n          title: lang.paragraph.outdent,\n          event: 'outdent'\n        });\n        var indentButton = tplIconButton(options.iconPrefix + 'indent', {\n          title: lang.paragraph.indent,\n          event: 'indent'\n        });\n\n        var dropdown = '<div class=\"dropdown-menu\">' +\n                         '<div class=\"note-align btn-group\">' +\n                           leftButton + centerButton + rightButton + justifyButton +\n                         '</div>' +\n                         '<div class=\"note-list btn-group\">' +\n                           indentButton + outdentButton +\n                         '</div>' +\n                       '</div>';\n\n        return tplIconButton(options.iconPrefix + 'align-left', {\n          title: lang.paragraph.paragraph,\n          dropdown: dropdown\n        });\n      },\n      height: function (lang, options) {\n        var items = options.lineHeights.reduce(function (memo, v) {\n          return memo + '<li><a data-event=\"lineHeight\" href=\"#\" data-value=\"' + parseFloat(v) + '\">' +\n                          '<i class=\"' + options.iconPrefix + 'check\"></i> ' + v +\n                        '</a></li>';\n        }, '');\n\n        return tplIconButton(options.iconPrefix + 'text-height', {\n          title: lang.font.height,\n          dropdown: '<ul class=\"dropdown-menu\">' + items + '</ul>'\n        });\n\n      },\n      help: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'question', {\n          event: 'showHelpDialog',\n          title: lang.options.help,\n          hide: true\n        });\n      },\n      fullscreen: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'arrows-alt', {\n          event: 'fullscreen',\n          title: lang.options.fullscreen\n        });\n      },\n      codeview: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'code', {\n          event: 'codeview',\n          title: lang.options.codeview\n        });\n      },\n      undo: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'undo', {\n          event: 'undo',\n          title: lang.history.undo\n        });\n      },\n      redo: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'repeat', {\n          event: 'redo',\n          title: lang.history.redo\n        });\n      },\n      hr: function (lang, options) {\n        return tplIconButton(options.iconPrefix + 'minus', {\n          event: 'insertHorizontalRule',\n          title: lang.hr.insert\n        });\n      }\n    };\n\n    var tplPopovers = function (lang, options) {\n      var tplLinkPopover = function () {\n        var linkButton = tplIconButton(options.iconPrefix + 'edit', {\n          title: lang.link.edit,\n          event: 'showLinkDialog',\n          hide: true\n        });\n        var unlinkButton = tplIconButton(options.iconPrefix + 'unlink', {\n          title: lang.link.unlink,\n          event: 'unlink'\n        });\n        var content = '<a href=\"http://www.google.com\" target=\"_blank\">www.google.com</a>&nbsp;&nbsp;' +\n                      '<div class=\"note-insert btn-group\">' +\n                        linkButton + unlinkButton +\n                      '</div>';\n        return tplPopover('note-link-popover', content);\n      };\n\n      var tplImagePopover = function () {\n        var fullButton = tplButton('<span class=\"note-fontsize-10\">100%</span>', {\n          title: lang.image.resizeFull,\n          event: 'resize',\n          value: '1'\n        });\n        var halfButton = tplButton('<span class=\"note-fontsize-10\">50%</span>', {\n          title: lang.image.resizeHalf,\n          event: 'resize',\n          value: '0.5'\n        });\n        var quarterButton = tplButton('<span class=\"note-fontsize-10\">25%</span>', {\n          title: lang.image.resizeQuarter,\n          event: 'resize',\n          value: '0.25'\n        });\n\n        var leftButton = tplIconButton(options.iconPrefix + 'align-left', {\n          title: lang.image.floatLeft,\n          event: 'floatMe',\n          value: 'left'\n        });\n        var rightButton = tplIconButton(options.iconPrefix + 'align-right', {\n          title: lang.image.floatRight,\n          event: 'floatMe',\n          value: 'right'\n        });\n        var justifyButton = tplIconButton(options.iconPrefix + 'align-justify', {\n          title: lang.image.floatNone,\n          event: 'floatMe',\n          value: 'none'\n        });\n\n        var roundedButton = tplIconButton(options.iconPrefix + 'square', {\n          title: lang.image.shapeRounded,\n          event: 'imageShape',\n          value: 'img-rounded'\n        });\n        var circleButton = tplIconButton(options.iconPrefix + 'circle-o', {\n          title: lang.image.shapeCircle,\n          event: 'imageShape',\n          value: 'img-circle'\n        });\n        var thumbnailButton = tplIconButton(options.iconPrefix + 'picture-o', {\n          title: lang.image.shapeThumbnail,\n          event: 'imageShape',\n          value: 'img-thumbnail'\n        });\n        var noneButton = tplIconButton(options.iconPrefix + 'times', {\n          title: lang.image.shapeNone,\n          event: 'imageShape',\n          value: ''\n        });\n\n        var removeButton = tplIconButton(options.iconPrefix + 'trash-o', {\n          title: lang.image.remove,\n          event: 'removeMedia',\n          value: 'none'\n        });\n\n        var content = '<div class=\"btn-group\">' + fullButton + halfButton + quarterButton + '</div>' +\n                      '<div class=\"btn-group\">' + leftButton + rightButton + justifyButton + '</div>' +\n                      '<div class=\"btn-group\">' + roundedButton + circleButton + thumbnailButton + noneButton + '</div>' +\n                      '<div class=\"btn-group\">' + removeButton + '</div>';\n        return tplPopover('note-image-popover', content);\n      };\n\n      var tplAirPopover = function () {\n        var $content = $('<div />');\n        for (var idx = 0, len = options.airPopover.length; idx < len; idx ++) {\n          var group = options.airPopover[idx];\n          \n          var $group = $('<div class=\"note-' + group[0] + ' btn-group\">');\n          for (var i = 0, lenGroup = group[1].length; i < lenGroup; i++) {\n            var $button = $(tplButtonInfo[group[1][i]](lang, options));\n\n            $button.attr('data-name', group[1][i]);\n            \n            $group.append($button);\n          }\n          $content.append($group);\n        }\n\n        return tplPopover('note-air-popover', $content.children());\n      };\n\n      var $notePopover = $('<div class=\"note-popover\" />');\n      \n      $notePopover.append(tplLinkPopover());\n      $notePopover.append(tplImagePopover());\n      \n      if (options.airMode) {\n        $notePopover.append(tplAirPopover());\n      }\n      \n      return $notePopover;\n    };\n\n    var tplHandles = function () {\n      return '<div class=\"note-handle\">' +\n               '<div class=\"note-control-selection\">' +\n                 '<div class=\"note-control-selection-bg\"></div>' +\n                 '<div class=\"note-control-holder note-control-nw\"></div>' +\n                 '<div class=\"note-control-holder note-control-ne\"></div>' +\n                 '<div class=\"note-control-holder note-control-sw\"></div>' +\n                 '<div class=\"note-control-sizing note-control-se\"></div>' +\n                 '<div class=\"note-control-selection-info\"></div>' +\n               '</div>' +\n             '</div>';\n    };\n\n    /**\n     * shortcut table template\n     * @param {String} title\n     * @param {String} body\n     */\n    var tplShortcut = function (title, keys) {\n      var keyClass = 'note-shortcut-col col-xs-6 note-shortcut-';\n      var body = [];\n\n      for (var i in keys) {\n        if (keys.hasOwnProperty(i)) {\n          body.push(\n            '<div class=\"' + keyClass + 'key\">' + keys[i].kbd + '</div>' +\n            '<div class=\"' + keyClass + 'name\">' + keys[i].text + '</div>'\n            );\n        }\n      }\n\n      return '<div class=\"note-shortcut-row row\"><div class=\"' + keyClass + 'title col-xs-offset-6\">' + title + '</div></div>' +\n             '<div class=\"note-shortcut-row row\">' + body.join('</div><div class=\"note-shortcut-row row\">') + '</div>';\n    };\n\n    var tplShortcutText = function (lang) {\n      var keys = [\n        { kbd: '⌘ + B', text: lang.font.bold },\n        { kbd: '⌘ + I', text: lang.font.italic },\n        { kbd: '⌘ + U', text: lang.font.underline },\n        { kbd: '⌘ + \\\\', text: lang.font.clear }\n      ];\n\n      return tplShortcut(lang.shortcut.textFormatting, keys);\n    };\n\n    var tplShortcutAction = function (lang) {\n      var keys = [\n        { kbd: '⌘ + Z', text: lang.history.undo },\n        { kbd: '⌘ + ⇧ + Z', text: lang.history.redo },\n        { kbd: '⌘ + ]', text: lang.paragraph.indent },\n        { kbd: '⌘ + [', text: lang.paragraph.outdent },\n        { kbd: '⌘ + ENTER', text: lang.hr.insert }\n      ];\n\n      return tplShortcut(lang.shortcut.action, keys);\n    };\n\n    var tplShortcutPara = function (lang) {\n      var keys = [\n        { kbd: '⌘ + ⇧ + L', text: lang.paragraph.left },\n        { kbd: '⌘ + ⇧ + E', text: lang.paragraph.center },\n        { kbd: '⌘ + ⇧ + R', text: lang.paragraph.right },\n        { kbd: '⌘ + ⇧ + J', text: lang.paragraph.justify },\n        { kbd: '⌘ + ⇧ + NUM7', text: lang.lists.ordered },\n        { kbd: '⌘ + ⇧ + NUM8', text: lang.lists.unordered }\n      ];\n\n      return tplShortcut(lang.shortcut.paragraphFormatting, keys);\n    };\n\n    var tplShortcutStyle = function (lang) {\n      var keys = [\n        { kbd: '⌘ + NUM0', text: lang.style.normal },\n        { kbd: '⌘ + NUM1', text: lang.style.h1 },\n        { kbd: '⌘ + NUM2', text: lang.style.h2 },\n        { kbd: '⌘ + NUM3', text: lang.style.h3 },\n        { kbd: '⌘ + NUM4', text: lang.style.h4 },\n        { kbd: '⌘ + NUM5', text: lang.style.h5 },\n        { kbd: '⌘ + NUM6', text: lang.style.h6 }\n      ];\n\n      return tplShortcut(lang.shortcut.documentStyle, keys);\n    };\n\n    var tplExtraShortcuts = function (lang, options) {\n      var extraKeys = options.extraKeys;\n      var keys = [];\n\n      for (var key in extraKeys) {\n        if (extraKeys.hasOwnProperty(key)) {\n          keys.push({ kbd: key, text: extraKeys[key] });\n        }\n      }\n\n      return tplShortcut(lang.shortcut.extraKeys, keys);\n    };\n\n    var tplShortcutTable = function (lang, options) {\n      var colClass = 'class=\"note-shortcut note-shortcut-col col-sm-6 col-xs-12\"';\n      var template = [\n        '<div ' + colClass + '>' + tplShortcutAction(lang, options) + '</div>' +\n        '<div ' + colClass + '>' + tplShortcutText(lang, options) + '</div>',\n        '<div ' + colClass + '>' + tplShortcutStyle(lang, options) + '</div>' +\n        '<div ' + colClass + '>' + tplShortcutPara(lang, options) + '</div>'\n      ];\n\n      if (options.extraKeys) {\n        template.push('<div ' + colClass + '>' + tplExtraShortcuts(lang, options) + '</div>');\n      }\n\n      return '<div class=\"note-shortcut-row row\">' +\n               template.join('</div><div class=\"note-shortcut-row row\">') +\n             '</div>';\n    };\n\n    var replaceMacKeys = function (sHtml) {\n      return sHtml.replace(/⌘/g, 'Ctrl').replace(/⇧/g, 'Shift');\n    };\n\n    var tplDialogInfo = {\n      image: function (lang, options) {\n        var imageLimitation = '';\n        if (options.maximumImageFileSize) {\n          var unit = Math.floor(Math.log(options.maximumImageFileSize) / Math.log(1024));\n          var readableSize = (options.maximumImageFileSize / Math.pow(1024, unit)).toFixed(2) * 1 +\n                             ' ' + ' KMGTP'[unit] + 'B';\n          imageLimitation = '<small>' + lang.image.maximumFileSize + ' : ' + readableSize + '</small>';\n        }\n\n        var body = '<div class=\"form-group row-fluid note-group-select-from-files\">' +\n                     '<label>' + lang.image.selectFromFiles + '</label>' +\n                     '<input class=\"note-image-input\" type=\"file\" name=\"files\" accept=\"image/*\" multiple=\"multiple\" />' +\n                     imageLimitation +\n                   '</div>' +\n                   '<div class=\"form-group row-fluid\">' +\n                     '<label>' + lang.image.url + '</label>' +\n                     '<input class=\"note-image-url form-control span12\" type=\"text\" />' +\n                   '</div>';\n        var footer = '<button href=\"#\" class=\"btn btn-primary note-image-btn disabled\" disabled>' + lang.image.insert + '</button>';\n        return tplDialog('note-image-dialog', lang.image.insert, body, footer);\n      },\n\n      link: function (lang, options) {\n        var body = '<div class=\"form-group row-fluid\">' +\n                     '<label>' + lang.link.textToDisplay + '</label>' +\n                     '<input class=\"note-link-text form-control span12\" type=\"text\" />' +\n                   '</div>' +\n                   '<div class=\"form-group row-fluid\">' +\n                     '<label>' + lang.link.url + '</label>' +\n                     '<input class=\"note-link-url form-control span12\" type=\"text\" />' +\n                   '</div>' +\n                   (!options.disableLinkTarget ?\n                     '<div class=\"checkbox\">' +\n                       '<label>' + '<input type=\"checkbox\" checked> ' +\n                         lang.link.openInNewWindow +\n                       '</label>' +\n                     '</div>' : ''\n                   );\n        var footer = '<button href=\"#\" class=\"btn btn-primary note-link-btn disabled\" disabled>' + lang.link.insert + '</button>';\n        return tplDialog('note-link-dialog', lang.link.insert, body, footer);\n      },\n\n      help: function (lang, options) {\n        var body = '<a class=\"modal-close pull-right\" aria-hidden=\"true\" tabindex=\"-1\">' + lang.shortcut.close + '</a>' +\n                   '<div class=\"title\">' + lang.shortcut.shortcuts + '</div>' +\n                   (agent.isMac ? tplShortcutTable(lang, options) : replaceMacKeys(tplShortcutTable(lang, options))) +\n                   '<p class=\"text-center\">' +\n                     '<a href=\"//summernote.org/\" target=\"_blank\">Summernote 0.6.6</a> · ' +\n                     '<a href=\"//github.com/summernote/summernote\" target=\"_blank\">Project</a> · ' +\n                     '<a href=\"//github.com/summernote/summernote/issues\" target=\"_blank\">Issues</a>' +\n                   '</p>';\n        return tplDialog('note-help-dialog', '', body, '');\n      }\n    };\n\n    var tplDialogs = function (lang, options) {\n      var dialogs = '';\n\n      $.each(tplDialogInfo, function (idx, tplDialog) {\n        dialogs += tplDialog(lang, options);\n      });\n\n      return '<div class=\"note-dialog\">' + dialogs + '</div>';\n    };\n\n    var tplStatusbar = function () {\n      return '<div class=\"note-resizebar\">' +\n               '<div class=\"note-icon-bar\"></div>' +\n               '<div class=\"note-icon-bar\"></div>' +\n               '<div class=\"note-icon-bar\"></div>' +\n             '</div>';\n    };\n\n    var representShortcut = function (str) {\n      if (agent.isMac) {\n        str = str.replace('CMD', '⌘').replace('SHIFT', '⇧');\n      }\n\n      return str.replace('BACKSLASH', '\\\\')\n                .replace('SLASH', '/')\n                .replace('LEFTBRACKET', '[')\n                .replace('RIGHTBRACKET', ']');\n    };\n\n    /**\n     * createTooltip\n     *\n     * @param {jQuery} $container\n     * @param {Object} keyMap\n     * @param {String} [sPlacement]\n     */\n    var createTooltip = function ($container, keyMap, sPlacement) {\n      var invertedKeyMap = func.invertObject(keyMap);\n      var $buttons = $container.find('button');\n\n      $buttons.each(function (i, elBtn) {\n        var $btn = $(elBtn);\n        var sShortcut = invertedKeyMap[$btn.data('event')];\n        if (sShortcut) {\n          $btn.attr('title', function (i, v) {\n            return v + ' (' + representShortcut(sShortcut) + ')';\n          });\n        }\n      // bootstrap tooltip on btn-group bug\n      // https://github.com/twbs/bootstrap/issues/5687\n      }).tooltip({\n        container: 'body',\n        trigger: 'hover',\n        placement: sPlacement || 'top'\n      }).on('click', function () {\n        $(this).tooltip('hide');\n      });\n    };\n\n    // createPalette\n    var createPalette = function ($container, options) {\n      var colorInfo = options.colors;\n      $container.find('.note-color-palette').each(function () {\n        var $palette = $(this), eventName = $palette.attr('data-target-event');\n        var paletteContents = [];\n        for (var row = 0, lenRow = colorInfo.length; row < lenRow; row++) {\n          var colors = colorInfo[row];\n          var buttons = [];\n          for (var col = 0, lenCol = colors.length; col < lenCol; col++) {\n            var color = colors[col];\n            buttons.push(['<button type=\"button\" class=\"note-color-btn\" style=\"background-color:', color,\n                           ';\" data-event=\"', eventName,\n                           '\" data-value=\"', color,\n                           '\" title=\"', color,\n                           '\" data-toggle=\"button\" tabindex=\"-1\"></button>'].join(''));\n          }\n          paletteContents.push('<div class=\"note-color-row\">' + buttons.join('') + '</div>');\n        }\n        $palette.html(paletteContents.join(''));\n      });\n    };\n\n    /**\n     * create summernote layout (air mode)\n     *\n     * @param {jQuery} $holder\n     * @param {Object} options\n     */\n    this.createLayoutByAirMode = function ($holder, options) {\n      var langInfo = options.langInfo;\n      var keyMap = options.keyMap[agent.isMac ? 'mac' : 'pc'];\n      var id = func.uniqueId();\n\n      $holder.addClass('note-air-editor note-editable');\n      $holder.attr({\n        'id': 'note-editor-' + id,\n        'contentEditable': true\n      });\n\n      var body = document.body;\n\n      // create Popover\n      var $popover = $(tplPopovers(langInfo, options));\n      $popover.addClass('note-air-layout');\n      $popover.attr('id', 'note-popover-' + id);\n      $popover.appendTo(body);\n      createTooltip($popover, keyMap);\n      createPalette($popover, options);\n\n      // create Handle\n      var $handle = $(tplHandles());\n      $handle.addClass('note-air-layout');\n      $handle.attr('id', 'note-handle-' + id);\n      $handle.appendTo(body);\n\n      // create Dialog\n      var $dialog = $(tplDialogs(langInfo, options));\n      $dialog.addClass('note-air-layout');\n      $dialog.attr('id', 'note-dialog-' + id);\n      $dialog.find('button.close, a.modal-close').click(function () {\n        $(this).closest('.modal').modal('hide');\n      });\n      $dialog.appendTo(body);\n    };\n\n    /**\n     * create summernote layout (normal mode)\n     *\n     * @param {jQuery} $holder\n     * @param {Object} options\n     */\n    this.createLayoutByFrame = function ($holder, options) {\n      var langInfo = options.langInfo;\n\n      //01. create Editor\n      var $editor = $('<div class=\"note-editor\"></div>');\n      if (options.width) {\n        $editor.width(options.width);\n      }\n\n      //02. statusbar (resizebar)\n      if (options.height > 0) {\n        $('<div class=\"note-statusbar\">' + (options.disableResizeEditor ? '' : tplStatusbar()) + '</div>').prependTo($editor);\n      }\n\n      //03. create Editable\n      var isContentEditable = !$holder.is(':disabled');\n      var $editable = $('<div class=\"note-editable\" contentEditable=\"' + isContentEditable + '\"></div>')\n          .prependTo($editor);\n      if (options.height) {\n        $editable.height(options.height);\n      }\n      if (options.direction) {\n        $editable.attr('dir', options.direction);\n      }\n      var placeholder = $holder.attr('placeholder') || options.placeholder;\n      if (placeholder) {\n        $editable.attr('data-placeholder', placeholder);\n      }\n\n      $editable.html(dom.html($holder));\n\n      //031. create codable\n      $('<textarea class=\"note-codable\"></textarea>').prependTo($editor);\n\n      //04. create Toolbar\n      var $toolbar = $('<div class=\"note-toolbar btn-toolbar\" />');\n      for (var idx = 0, len = options.toolbar.length; idx < len; idx ++) {\n        var groupName = options.toolbar[idx][0];\n        var groupButtons = options.toolbar[idx][1];\n\n        var $group = $('<div class=\"note-' + groupName + ' btn-group\" />');\n        for (var i = 0, btnLength = groupButtons.length; i < btnLength; i++) {\n          var buttonInfo = tplButtonInfo[groupButtons[i]];\n          // continue creating toolbar even if a button doesn't exist\n          if (!$.isFunction(buttonInfo)) { continue; }\n\n          var $button = $(buttonInfo(langInfo, options));\n          $button.attr('data-name', groupButtons[i]);  // set button's alias, becuase to get button element from $toolbar\n          $group.append($button);\n        }\n        $toolbar.append($group);\n      }\n      \n      $toolbar.prependTo($editor);\n      var keyMap = options.keyMap[agent.isMac ? 'mac' : 'pc'];\n      createPalette($toolbar, options);\n      createTooltip($toolbar, keyMap, 'bottom');\n\n      //05. create Popover\n      var $popover = $(tplPopovers(langInfo, options)).prependTo($editor);\n      createPalette($popover, options);\n      createTooltip($popover, keyMap);\n\n      //06. handle(control selection, ...)\n      $(tplHandles()).prependTo($editor);\n\n      //07. create Dialog\n      var $dialog = $(tplDialogs(langInfo, options)).prependTo($editor);\n      $dialog.find('button.close, a.modal-close').click(function () {\n        $(this).closest('.modal').modal('hide');\n      });\n\n      //08. create Dropzone\n      $('<div class=\"note-dropzone\"><div class=\"note-dropzone-message\"></div></div>').prependTo($editor);\n\n      //09. Editor/Holder switch\n      $editor.insertAfter($holder);\n      $holder.hide();\n    };\n\n    this.hasNoteEditor = function ($holder) {\n      return this.noteEditorFromHolder($holder).length > 0;\n    };\n\n    this.noteEditorFromHolder = function ($holder) {\n      if ($holder.hasClass('note-air-editor')) {\n        return $holder;\n      } else if ($holder.next().hasClass('note-editor')) {\n        return $holder.next();\n      } else {\n        return $();\n      }\n    };\n\n    /**\n     * create summernote layout\n     *\n     * @param {jQuery} $holder\n     * @param {Object} options\n     */\n    this.createLayout = function ($holder, options) {\n      if (options.airMode) {\n        this.createLayoutByAirMode($holder, options);\n      } else {\n        this.createLayoutByFrame($holder, options);\n      }\n    };\n\n    /**\n     * returns layoutInfo from holder\n     *\n     * @param {jQuery} $holder - placeholder\n     * @return {Object}\n     */\n    this.layoutInfoFromHolder = function ($holder) {\n      var $editor = this.noteEditorFromHolder($holder);\n      if (!$editor.length) {\n        return;\n      }\n\n      // connect $holder to $editor\n      $editor.data('holder', $holder);\n\n      return dom.buildLayoutInfo($editor);\n    };\n\n    /**\n     * removeLayout\n     *\n     * @param {jQuery} $holder - placeholder\n     * @param {Object} layoutInfo\n     * @param {Object} options\n     *\n     */\n    this.removeLayout = function ($holder, layoutInfo, options) {\n      if (options.airMode) {\n        $holder.removeClass('note-air-editor note-editable')\n               .removeAttr('id contentEditable');\n\n        layoutInfo.popover().remove();\n        layoutInfo.handle().remove();\n        layoutInfo.dialog().remove();\n      } else {\n        $holder.html(layoutInfo.editable().html());\n\n        layoutInfo.editor().remove();\n        $holder.show();\n      }\n    };\n\n    /**\n     *\n     * @return {Object}\n     * @return {function(label, options=):string} return.button {@link #tplButton function to make text button}\n     * @return {function(iconClass, options=):string} return.iconButton {@link #tplIconButton function to make icon button}\n     * @return {function(className, title=, body=, footer=):string} return.dialog {@link #tplDialog function to make dialog}\n     */\n    this.getTemplate = function () {\n      return {\n        button: tplButton,\n        iconButton: tplIconButton,\n        dialog: tplDialog\n      };\n    };\n\n    /**\n     * add button information\n     *\n     * @param {String} name button name\n     * @param {Function} buttonInfo function to make button, reference to {@link #tplButton},{@link #tplIconButton}\n     */\n    this.addButtonInfo = function (name, buttonInfo) {\n      tplButtonInfo[name] = buttonInfo;\n    };\n\n    /**\n     *\n     * @param {String} name\n     * @param {Function} dialogInfo function to make dialog, reference to {@link #tplDialog}\n     */\n    this.addDialogInfo = function (name, dialogInfo) {\n      tplDialogInfo[name] = dialogInfo;\n    };\n  };\n\n\n  // jQuery namespace for summernote\n  /**\n   * @class $.summernote \n   * \n   * summernote attribute  \n   * \n   * @mixin defaults\n   * @singleton  \n   * \n   */\n  $.summernote = $.summernote || {};\n\n  // extends default settings\n  //  - $.summernote.version\n  //  - $.summernote.options\n  //  - $.summernote.lang\n  $.extend($.summernote, defaults);\n\n  var renderer = new Renderer();\n  var eventHandler = new EventHandler();\n\n  $.extend($.summernote, {\n    /** @property {Renderer} */\n    renderer: renderer,\n    /** @property {EventHandler} */\n    eventHandler: eventHandler,\n    /** \n     * @property {Object} core \n     * @property {core.agent} core.agent \n     * @property {core.dom} core.dom\n     * @property {core.range} core.range \n     */\n    core: {\n      agent: agent,\n      dom: dom,\n      range: range\n    },\n    /** \n     * @property {Object} \n     * pluginEvents event list for plugins\n     * event has name and callback function.\n     * \n     * ``` \n     * $.summernote.addPlugin({\n     *     events : {\n     *          'hello' : function(layoutInfo, value, $target) {\n     *              console.log('event name is hello, value is ' + value );\n     *          }\n     *     }     \n     * })\n     * ```\n     * \n     * * event name is data-event property.\n     * * layoutInfo is a summernote layout information.\n     * * value is data-value property.\n     */\n    pluginEvents: {},\n\n    plugins : []\n  });\n\n  /**\n   * @method addPlugin\n   *\n   * add Plugin in Summernote \n   * \n   * Summernote can make a own plugin.\n   *\n   * ### Define plugin\n   * ```\n   * // get template function  \n   * var tmpl = $.summernote.renderer.getTemplate();\n   * \n   * // add a button   \n   * $.summernote.addPlugin({\n   *     buttons : {\n   *        // \"hello\"  is button's namespace.      \n   *        \"hello\" : function(lang, options) {\n   *            // make icon button by template function          \n   *            return tmpl.iconButton('fa fa-header', {\n   *                // callback function name when button clicked \n   *                event : 'hello',\n   *                // set data-value property                 \n   *                value : 'hello',                \n   *                hide : true\n   *            });           \n   *        }\n   *     \n   *     }, \n   *     \n   *     events : {\n   *        \"hello\" : function(layoutInfo, value) {\n   *            // here is event code \n   *        }\n   *     }     \n   * });\n   * ``` \n   * ### Use a plugin in toolbar\n   * \n   * ``` \n   *    $(\"#editor\").summernote({\n   *    ...\n   *    toolbar : [\n   *        // display hello plugin in toolbar     \n   *        ['group', [ 'hello' ]]\n   *    ]\n   *    ...    \n   *    });\n   * ```\n   *  \n   *  \n   * @param {Object} plugin\n   * @param {Object} [plugin.buttons] define plugin button. for detail, see to Renderer.addButtonInfo\n   * @param {Object} [plugin.dialogs] define plugin dialog. for detail, see to Renderer.addDialogInfo\n   * @param {Object} [plugin.events] add event in $.summernote.pluginEvents \n   * @param {Object} [plugin.langs] update $.summernote.lang\n   * @param {Object} [plugin.options] update $.summernote.options\n   */\n  $.summernote.addPlugin = function (plugin) {\n\n    // save plugin list\n    $.summernote.plugins.push(plugin);\n\n    if (plugin.buttons) {\n      $.each(plugin.buttons, function (name, button) {\n        renderer.addButtonInfo(name, button);\n      });\n    }\n\n    if (plugin.dialogs) {\n      $.each(plugin.dialogs, function (name, dialog) {\n        renderer.addDialogInfo(name, dialog);\n      });\n    }\n\n    if (plugin.events) {\n      $.each(plugin.events, function (name, event) {\n        $.summernote.pluginEvents[name] = event;\n      });\n    }\n\n    if (plugin.langs) {\n      $.each(plugin.langs, function (locale, lang) {\n        if ($.summernote.lang[locale]) {\n          $.extend($.summernote.lang[locale], lang);\n        }\n      });\n    }\n\n    if (plugin.options) {\n      $.extend($.summernote.options, plugin.options);\n    }\n  };\n\n  /*\n   * extend $.fn\n   */\n  $.fn.extend({\n    /**\n     * @method\n     * Initialize summernote\n     *  - create editor layout and attach Mouse and keyboard events.\n     * \n     * ```\n     * $(\"#summernote\").summernote( { options ..} );\n     * ```\n     *   \n     * @member $.fn\n     * @param {Object|String} options reference to $.summernote.options\n     * @return {this}\n     */\n    summernote: function () {\n      // check first argument's type\n      //  - {String}: External API call {{module}}.{{method}}\n      //  - {Object}: init options\n      var type = $.type(list.head(arguments));\n      var isExternalAPICalled = type === 'string';\n      var isInitOptions = type === 'object';\n\n      // extend default options with custom user options\n      var options = isInitOptions ? list.head(arguments) : {};\n      options = $.extend({}, $.summernote.options, options);\n\n      // Include langInfo in options for later use, e.g. for image drag-n-drop\n      // Setup language info with en-US as default\n      options.langInfo = $.extend(true, {}, $.summernote.lang['en-US'], $.summernote.lang[options.lang]);\n\n      this.each(function (idx, holder) {\n        var $holder = $(holder);\n\n        // if layout isn't created yet, createLayout and attach events\n        if (!renderer.hasNoteEditor($holder)) {\n          renderer.createLayout($holder, options);\n\n          var layoutInfo = renderer.layoutInfoFromHolder($holder);\n\n          eventHandler.attach(layoutInfo, options);\n          eventHandler.attachCustomEvent(layoutInfo, options);\n\n        }\n      });\n\n      // callback on init\n      if (!isExternalAPICalled && this.length && options.oninit) {\n        options.oninit();\n      }\n\n      var $first = this.first();\n      if ($first.length) {\n        var layoutInfo = renderer.layoutInfoFromHolder($first);\n\n        // external API\n        if (isExternalAPICalled) {\n          var moduleAndMethod = list.head(list.from(arguments));\n          var args = list.tail(list.from(arguments));\n\n          // TODO now external API only works for editor\n          var params = [moduleAndMethod, layoutInfo.editable()].concat(args);\n          return eventHandler.invoke.apply(eventHandler, params);\n        } else if (options.focus) {\n          // focus on first editable element for initialize editor\n          layoutInfo.editable().focus();\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * @method \n     * \n     * get the HTML contents of note or set the HTML contents of note.\n     *\n     * * get contents \n     * ```\n     * var content = $(\"#summernote\").code();\n     * ```\n     * * set contents \n     *\n     * ```\n     * $(\"#summernote\").code(html);\n     * ```\n     *\n     * @member $.fn \n     * @param {String} [html] - HTML contents(optional, set)\n     * @return {this|String} - context(set) or HTML contents of note(get).\n     */\n    code: function (html) {\n      // get the HTML contents of note\n      if (html === undefined) {\n        var $holder = this.first();\n        if (!$holder.length) {\n          return;\n        }\n\n        var layoutInfo = renderer.layoutInfoFromHolder($holder);\n        var $editable = layoutInfo && layoutInfo.editable();\n\n        if ($editable && $editable.length) {\n          var isCodeview = eventHandler.invoke('codeview.isActivated', layoutInfo);\n          eventHandler.invoke('codeview.sync', layoutInfo);\n          return isCodeview ? layoutInfo.codable().val() :\n                              layoutInfo.editable().html();\n        }\n        return dom.value($holder);\n      }\n\n      // set the HTML contents of note\n      this.each(function (i, holder) {\n        var layoutInfo = renderer.layoutInfoFromHolder($(holder));\n        var $editable = layoutInfo && layoutInfo.editable();\n        if ($editable) {\n          $editable.html(html);\n        }\n      });\n\n      return this;\n    },\n\n    /**\n     * @method\n     * \n     * destroy Editor Layout and detach Key and Mouse Event\n     *\n     * @member $.fn\n     * @return {this}\n     */\n    destroy: function () {\n      this.each(function (idx, holder) {\n        var $holder = $(holder);\n\n        if (!renderer.hasNoteEditor($holder)) {\n          return;\n        }\n\n        var info = renderer.layoutInfoFromHolder($holder);\n        var options = info.editor().data('options');\n\n        eventHandler.detach(info, options);\n        renderer.removeLayout($holder, info, options);\n      });\n\n      return this;\n    }\n  });\n}));\n\n//! moment.js\n//! version : 2.10.2\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n!function(a,b){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=b():\"function\"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){\"use strict\";function a(){return Ac.apply(null,arguments)}function b(a){Ac=a}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function d(a){return\"[object Array]\"===Object.prototype.toString.call(a)}function e(a){return\"[object Date]\"===Object.prototype.toString.call(a)||a instanceof Date}function f(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function g(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function h(a,b){for(var c in b)g(b,c)&&(a[c]=b[c]);return g(b,\"toString\")&&(a.toString=b.toString),g(b,\"valueOf\")&&(a.valueOf=b.valueOf),a}function i(a,b,c,d){return ya(a,b,c,d,!0).utc()}function j(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length&&void 0===a._pf.bigHour)),a._isValid}function k(a){var b=i(0/0);return null!=a?h(b._pf,a):b._pf.userInvalidated=!0,b}function l(a,b){var c,d,e;if(\"undefined\"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),\"undefined\"!=typeof b._i&&(a._i=b._i),\"undefined\"!=typeof b._f&&(a._f=b._f),\"undefined\"!=typeof b._l&&(a._l=b._l),\"undefined\"!=typeof b._strict&&(a._strict=b._strict),\"undefined\"!=typeof b._tzm&&(a._tzm=b._tzm),\"undefined\"!=typeof b._isUTC&&(a._isUTC=b._isUTC),\"undefined\"!=typeof b._offset&&(a._offset=b._offset),\"undefined\"!=typeof b._pf&&(a._pf=b._pf),\"undefined\"!=typeof b._locale&&(a._locale=b._locale),Cc.length>0)for(c in Cc)d=Cc[c],e=b[d],\"undefined\"!=typeof e&&(a[d]=e);return a}function m(b){l(this,b),this._d=new Date(+b._d),Dc===!1&&(Dc=!0,a.updateOffset(this),Dc=!1)}function n(a){return a instanceof m||null!=a&&g(a,\"_isAMomentObject\")}function o(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function p(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&o(a[d])!==o(b[d]))&&g++;return g+f}function q(){}function r(a){return a?a.toLowerCase().replace(\"_\",\"-\"):a}function s(a){for(var b,c,d,e,f=0;f<a.length;){for(e=r(a[f]).split(\"-\"),b=e.length,c=r(a[f+1]),c=c?c.split(\"-\"):null;b>0;){if(d=t(e.slice(0,b).join(\"-\")))return d;if(c&&c.length>=b&&p(e,c,!0)>=b-1)break;b--}f++}return null}function t(a){var b=null;if(!Ec[a]&&\"undefined\"!=typeof module&&module&&module.exports)try{b=Bc._abbr,require(\"./locale/\"+a),u(b)}catch(c){}return Ec[a]}function u(a,b){var c;return a&&(c=\"undefined\"==typeof b?w(a):v(a,b),c&&(Bc=c)),Bc._abbr}function v(a,b){return null!==b?(b.abbr=a,Ec[a]||(Ec[a]=new q),Ec[a].set(b),u(a),Ec[a]):(delete Ec[a],null)}function w(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Bc;if(!d(a)){if(b=t(a))return b;a=[a]}return s(a)}function x(a,b){var c=a.toLowerCase();Fc[c]=Fc[c+\"s\"]=Fc[b]=a}function y(a){return\"string\"==typeof a?Fc[a]||Fc[a.toLowerCase()]:void 0}function z(a){var b,c,d={};for(c in a)g(a,c)&&(b=y(c),b&&(d[b]=a[c]));return d}function A(b,c){return function(d){return null!=d?(C(this,b,d),a.updateOffset(this,c),this):B(this,b)}}function B(a,b){return a._d[\"get\"+(a._isUTC?\"UTC\":\"\")+b]()}function C(a,b,c){return a._d[\"set\"+(a._isUTC?\"UTC\":\"\")+b](c)}function D(a,b){var c;if(\"object\"==typeof a)for(c in a)this.set(c,a[c]);else if(a=y(a),\"function\"==typeof this[a])return this[a](b);return this}function E(a,b,c){for(var d=\"\"+Math.abs(a),e=a>=0;d.length<b;)d=\"0\"+d;return(e?c?\"+\":\"\":\"-\")+d}function F(a,b,c,d){var e=d;\"string\"==typeof d&&(e=function(){return this[d]()}),a&&(Jc[a]=e),b&&(Jc[b[0]]=function(){return E(e.apply(this,arguments),b[1],b[2])}),c&&(Jc[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function G(a){return a.match(/\\[[\\s\\S]/)?a.replace(/^\\[|\\]$/g,\"\"):a.replace(/\\\\/g,\"\")}function H(a){var b,c,d=a.match(Gc);for(b=0,c=d.length;c>b;b++)d[b]=Jc[d[b]]?Jc[d[b]]:G(d[b]);return function(e){var f=\"\";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function I(a,b){return a.isValid()?(b=J(b,a.localeData()),Ic[b]||(Ic[b]=H(b)),Ic[b](a)):a.localeData().invalidDate()}function J(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Hc.lastIndex=0;d>=0&&Hc.test(a);)a=a.replace(Hc,c),Hc.lastIndex=0,d-=1;return a}function K(a,b,c){Yc[a]=\"function\"==typeof b?b:function(a){return a&&c?c:b}}function L(a,b){return g(Yc,a)?Yc[a](b._strict,b._locale):new RegExp(M(a))}function M(a){return a.replace(\"\\\\\",\"\").replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\")}function N(a,b){var c,d=b;for(\"string\"==typeof a&&(a=[a]),\"number\"==typeof b&&(d=function(a,c){c[b]=o(a)}),c=0;c<a.length;c++)Zc[a[c]]=d}function O(a,b){N(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function P(a,b,c){null!=b&&g(Zc,a)&&Zc[a](b,c._a,c,a)}function Q(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function R(a){return this._months[a.month()]}function S(a){return this._monthsShort[a.month()]}function T(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=i([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp(\"^\"+this.months(e,\"\").replace(\".\",\"\")+\"$\",\"i\"),this._shortMonthsParse[d]=new RegExp(\"^\"+this.monthsShort(e,\"\").replace(\".\",\"\")+\"$\",\"i\")),c||this._monthsParse[d]||(f=\"^\"+this.months(e,\"\")+\"|^\"+this.monthsShort(e,\"\"),this._monthsParse[d]=new RegExp(f.replace(\".\",\"\"),\"i\")),c&&\"MMMM\"===b&&this._longMonthsParse[d].test(a))return d;if(c&&\"MMM\"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function U(a,b){var c;return\"string\"==typeof b&&(b=a.localeData().monthsParse(b),\"number\"!=typeof b)?a:(c=Math.min(a.date(),Q(a.year(),b)),a._d[\"set\"+(a._isUTC?\"UTC\":\"\")+\"Month\"](b,c),a)}function V(b){return null!=b?(U(this,b),a.updateOffset(this,!0),this):B(this,\"Month\")}function W(){return Q(this.year(),this.month())}function X(a){var b,c=a._a;return c&&-2===a._pf.overflow&&(b=c[_c]<0||c[_c]>11?_c:c[ad]<1||c[ad]>Q(c[$c],c[_c])?ad:c[bd]<0||c[bd]>24||24===c[bd]&&(0!==c[cd]||0!==c[dd]||0!==c[ed])?bd:c[cd]<0||c[cd]>59?cd:c[dd]<0||c[dd]>59?dd:c[ed]<0||c[ed]>999?ed:-1,a._pf._overflowDayOfYear&&($c>b||b>ad)&&(b=ad),a._pf.overflow=b),a}function Y(b){a.suppressDeprecationWarnings===!1&&\"undefined\"!=typeof console&&console.warn&&console.warn(\"Deprecation warning: \"+b)}function Z(a,b){var c=!0;return h(function(){return c&&(Y(a),c=!1),b.apply(this,arguments)},b)}function $(a,b){hd[a]||(Y(b),hd[a]=!0)}function _(a){var b,c,d=a._i,e=id.exec(d);if(e){for(a._pf.iso=!0,b=0,c=jd.length;c>b;b++)if(jd[b][1].exec(d)){a._f=jd[b][0]+(e[6]||\" \");break}for(b=0,c=kd.length;c>b;b++)if(kd[b][1].exec(d)){a._f+=kd[b][0];break}d.match(Vc)&&(a._f+=\"Z\"),sa(a)}else a._isValid=!1}function aa(b){var c=ld.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(_(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ba(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function ca(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function da(a){return ea(a)?366:365}function ea(a){return a%4===0&&a%100!==0||a%400===0}function fa(){return ea(this.year())}function ga(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=za(a).add(f,\"d\"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ha(a){return ga(a,this._week.dow,this._week.doy).week}function ia(){return this._week.dow}function ja(){return this._week.doy}function ka(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),\"d\")}function la(a){var b=ga(this,1,4).week;return null==a?b:this.add(7*(a-b),\"d\")}function ma(a,b,c,d,e){var f,g,h=ca(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:da(a-1)+g}}function na(a){var b=Math.round((this.clone().startOf(\"day\")-this.clone().startOf(\"year\"))/864e5)+1;return null==a?b:this.add(a-b,\"d\")}function oa(a,b,c){return null!=a?a:null!=b?b:c}function pa(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function qa(a){var b,c,d,e,f=[];if(!a._d){for(d=pa(a),a._w&&null==a._a[ad]&&null==a._a[_c]&&ra(a),a._dayOfYear&&(e=oa(a._a[$c],d[$c]),a._dayOfYear>da(e)&&(a._pf._overflowDayOfYear=!0),c=ca(e,0,a._dayOfYear),a._a[_c]=c.getUTCMonth(),a._a[ad]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[bd]&&0===a._a[cd]&&0===a._a[dd]&&0===a._a[ed]&&(a._nextDay=!0,a._a[bd]=0),a._d=(a._useUTC?ca:ba).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[bd]=24)}}function ra(a){var b,c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=oa(b.GG,a._a[$c],ga(za(),1,4).year),d=oa(b.W,1),e=oa(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=oa(b.gg,a._a[$c],ga(za(),f,g).year),d=oa(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),h=ma(c,d,e,g,f),a._a[$c]=h.year,a._dayOfYear=h.dayOfYear}function sa(b){if(b._f===a.ISO_8601)return void _(b);b._a=[],b._pf.empty=!0;var c,d,e,f,g,h=\"\"+b._i,i=h.length,j=0;for(e=J(b._f,b._locale).match(Gc)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(L(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&b._pf.unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),Jc[f]?(d?b._pf.empty=!1:b._pf.unusedTokens.push(f),P(f,d,b)):b._strict&&!d&&b._pf.unusedTokens.push(f);b._pf.charsLeftOver=i-j,h.length>0&&b._pf.unusedInput.push(h),b._pf.bigHour===!0&&b._a[bd]<=12&&(b._pf.bigHour=void 0),b._a[bd]=ta(b._locale,b._a[bd],b._meridiem),qa(b),X(b)}function ta(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function ua(a){var b,d,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(f=0;f<a._f.length;f++)g=0,b=l({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._pf=c(),b._f=a._f[f],sa(b),j(b)&&(g+=b._pf.charsLeftOver,g+=10*b._pf.unusedTokens.length,b._pf.score=g,(null==e||e>g)&&(e=g,d=b));h(a,d||b)}function va(a){if(!a._d){var b=z(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],qa(a)}}function wa(a){var b,c=a._i,e=a._f;return a._locale=a._locale||w(a._l),null===c||void 0===e&&\"\"===c?k({nullInput:!0}):(\"string\"==typeof c&&(a._i=c=a._locale.preparse(c)),n(c)?new m(X(c)):(d(e)?ua(a):e?sa(a):xa(a),b=new m(X(a)),b._nextDay&&(b.add(1,\"d\"),b._nextDay=void 0),b))}function xa(b){var c=b._i;void 0===c?b._d=new Date:e(c)?b._d=new Date(+c):\"string\"==typeof c?aa(b):d(c)?(b._a=f(c.slice(0),function(a){return parseInt(a,10)}),qa(b)):\"object\"==typeof c?va(b):\"number\"==typeof c?b._d=new Date(c):a.createFromInputFallback(b)}function ya(a,b,d,e,f){var g={};return\"boolean\"==typeof d&&(e=d,d=void 0),g._isAMomentObject=!0,g._useUTC=g._isUTC=f,g._l=d,g._i=a,g._f=b,g._strict=e,g._pf=c(),wa(g)}function za(a,b,c,d){return ya(a,b,c,d,!1)}function Aa(a,b){var c,e;if(1===b.length&&d(b[0])&&(b=b[0]),!b.length)return za();for(c=b[0],e=1;e<b.length;++e)b[e][a](c)&&(c=b[e]);return c}function Ba(){var a=[].slice.call(arguments,0);return Aa(\"isBefore\",a)}function Ca(){var a=[].slice.call(arguments,0);return Aa(\"isAfter\",a)}function Da(a){var b=z(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=w(),this._bubble()}function Ea(a){return a instanceof Da}function Fa(a,b){F(a,0,0,function(){var a=this.utcOffset(),c=\"+\";return 0>a&&(a=-a,c=\"-\"),c+E(~~(a/60),2)+b+E(~~a%60,2)})}function Ga(a){var b=(a||\"\").match(Vc)||[],c=b[b.length-1]||[],d=(c+\"\").match(qd)||[\"-\",0,0],e=+(60*d[1])+o(d[2]);return\"+\"===d[0]?e:-e}function Ha(b,c){var d,f;return c._isUTC?(d=c.clone(),f=(n(b)||e(b)?+b:+za(b))-+d,d._d.setTime(+d._d+f),a.updateOffset(d,!1),d):za(b).local();return c._isUTC?za(b).zone(c._offset||0):za(b).local()}function Ia(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Ja(b,c){var d,e=this._offset||0;return null!=b?(\"string\"==typeof b&&(b=Ga(b)),Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Ia(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,\"m\"),e!==b&&(!c||this._changeInProgress?Za(this,Ua(b-e,\"m\"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ia(this)}function Ka(a,b){return null!=a?(\"string\"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function La(a){return this.utcOffset(0,a)}function Ma(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ia(this),\"m\")),this}function Na(){return this._tzm?this.utcOffset(this._tzm):\"string\"==typeof this._i&&this.utcOffset(Ga(this._i)),this}function Oa(a){return a=a?za(a).utcOffset():0,(this.utcOffset()-a)%60===0}function Pa(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Qa(){if(this._a){var a=this._isUTC?i(this._a):za(this._a);return this.isValid()&&p(this._a,a.toArray())>0}return!1}function Ra(){return!this._isUTC}function Sa(){return this._isUTC}function Ta(){return this._isUTC&&0===this._offset}function Ua(a,b){var c,d,e,f=a,h=null;return Ea(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:\"number\"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(h=rd.exec(a))?(c=\"-\"===h[1]?-1:1,f={y:0,d:o(h[ad])*c,h:o(h[bd])*c,m:o(h[cd])*c,s:o(h[dd])*c,ms:o(h[ed])*c}):(h=sd.exec(a))?(c=\"-\"===h[1]?-1:1,f={y:Va(h[2],c),M:Va(h[3],c),d:Va(h[4],c),h:Va(h[5],c),m:Va(h[6],c),s:Va(h[7],c),w:Va(h[8],c)}):null==f?f={}:\"object\"==typeof f&&(\"from\"in f||\"to\"in f)&&(e=Xa(za(f.from),za(f.to)),f={},f.ms=e.milliseconds,f.M=e.months),d=new Da(f),Ea(a)&&g(a,\"_locale\")&&(d._locale=a._locale),d}function Va(a,b){var c=a&&parseFloat(a.replace(\",\",\".\"));return(isNaN(c)?0:c)*b}function Wa(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,\"M\").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,\"M\"),c}function Xa(a,b){var c;return b=Ha(b,a),a.isBefore(b)?c=Wa(a,b):(c=Wa(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function Ya(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||($(b,\"moment().\"+b+\"(period, number) is deprecated. Please use moment().\"+b+\"(number, period).\"),f=c,c=d,d=f),c=\"string\"==typeof c?+c:c,e=Ua(c,d),Za(this,e,a),this}}function Za(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&C(b,\"Date\",B(b,\"Date\")+g*d),h&&U(b,B(b,\"Month\")+h*d),e&&a.updateOffset(b,g||h)}function $a(a){var b=a||za(),c=Ha(b,this).startOf(\"day\"),d=this.diff(c,\"days\",!0),e=-6>d?\"sameElse\":-1>d?\"lastWeek\":0>d?\"lastDay\":1>d?\"sameDay\":2>d?\"nextDay\":7>d?\"nextWeek\":\"sameElse\";return this.format(this.localeData().calendar(e,this,za(b)))}function _a(){return new m(this)}function ab(a,b){var c;return b=y(\"undefined\"!=typeof b?b:\"millisecond\"),\"millisecond\"===b?(a=n(a)?a:za(a),+this>+a):(c=n(a)?+a:+za(a),c<+this.clone().startOf(b))}function bb(a,b){var c;return b=y(\"undefined\"!=typeof b?b:\"millisecond\"),\"millisecond\"===b?(a=n(a)?a:za(a),+a>+this):(c=n(a)?+a:+za(a),+this.clone().endOf(b)<c)}function cb(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function db(a,b){var c;return b=y(b||\"millisecond\"),\"millisecond\"===b?(a=n(a)?a:za(a),+this===+a):(c=+za(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function eb(a){return 0>a?Math.ceil(a):Math.floor(a)}function fb(a,b,c){var d,e,f=Ha(a,this),g=6e4*(f.utcOffset()-this.utcOffset());return b=y(b),\"year\"===b||\"month\"===b||\"quarter\"===b?(e=gb(this,f),\"quarter\"===b?e/=3:\"year\"===b&&(e/=12)):(d=this-f,e=\"second\"===b?d/1e3:\"minute\"===b?d/6e4:\"hour\"===b?d/36e5:\"day\"===b?(d-g)/864e5:\"week\"===b?(d-g)/6048e5:d),c?e:eb(e)}function gb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,\"months\");return 0>b-f?(c=a.clone().add(e-1,\"months\"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,\"months\"),d=(b-f)/(c-f)),-(e+d)}function hb(){return this.clone().locale(\"en\").format(\"ddd MMM DD YYYY HH:mm:ss [GMT]ZZ\")}function ib(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?\"function\"==typeof Date.prototype.toISOString?this.toDate().toISOString():I(a,\"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]\"):I(a,\"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]\")}function jb(b){var c=I(this,b||a.defaultFormat);return this.localeData().postformat(c)}function kb(a,b){return Ua({to:this,from:a}).locale(this.locale()).humanize(!b)}function lb(a){return this.from(za(),a)}function mb(a){var b;return void 0===a?this._locale._abbr:(b=w(a),null!=b&&(this._locale=b),this)}function nb(){return this._locale}function ob(a){switch(a=y(a)){case\"year\":this.month(0);case\"quarter\":case\"month\":this.date(1);case\"week\":case\"isoWeek\":case\"day\":this.hours(0);case\"hour\":this.minutes(0);case\"minute\":this.seconds(0);case\"second\":this.milliseconds(0)}return\"week\"===a&&this.weekday(0),\"isoWeek\"===a&&this.isoWeekday(1),\"quarter\"===a&&this.month(3*Math.floor(this.month()/3)),this}function pb(a){return a=y(a),void 0===a||\"millisecond\"===a?this:this.startOf(a).add(1,\"isoWeek\"===a?\"week\":a).subtract(1,\"ms\")}function qb(){return+this._d-6e4*(this._offset||0)}function rb(){return Math.floor(+this/1e3)}function sb(){return this._offset?new Date(+this):this._d}function tb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function ub(){return j(this)}function vb(){return h({},this._pf)}function wb(){return this._pf.overflow}function xb(a,b){F(0,[a,a.length],0,b)}function yb(a,b,c){return ga(za([a,11,31+b-c]),b,c).week}function zb(a){var b=ga(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,\"y\")}function Ab(a){var b=ga(this,1,4).year;return null==a?b:this.add(a-b,\"y\")}function Bb(){return yb(this.year(),1,4)}function Cb(){var a=this.localeData()._week;return yb(this.year(),a.dow,a.doy)}function Db(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Eb(a,b){if(\"string\"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),\"number\"!=typeof a)return null}else a=parseInt(a,10);return a}function Fb(a){return this._weekdays[a.day()]}function Gb(a){return this._weekdaysShort[a.day()]}function Hb(a){return this._weekdaysMin[a.day()]}function Ib(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=za([2e3,1]).day(b),d=\"^\"+this.weekdays(c,\"\")+\"|^\"+this.weekdaysShort(c,\"\")+\"|^\"+this.weekdaysMin(c,\"\"),this._weekdaysParse[b]=new RegExp(d.replace(\".\",\"\"),\"i\")),this._weekdaysParse[b].test(a))return b}function Jb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Eb(a,this.localeData()),this.add(a-b,\"d\")):b}function Kb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,\"d\")}function Lb(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Mb(a,b){F(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Nb(a,b){return b._meridiemParse}function Ob(a){return\"p\"===(a+\"\").toLowerCase().charAt(0)}function Pb(a,b,c){return a>11?c?\"pm\":\"PM\":c?\"am\":\"AM\"}function Qb(a){F(0,[a,3],0,\"millisecond\")}function Rb(){return this._isUTC?\"UTC\":\"\"}function Sb(){return this._isUTC?\"Coordinated Universal Time\":\"\"}function Tb(a){return za(1e3*a)}function Ub(){return za.apply(null,arguments).parseZone()}function Vb(a,b,c){var d=this._calendar[a];return\"function\"==typeof d?d.call(b,c):d}function Wb(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b}function Xb(){return this._invalidDate}function Yb(a){return this._ordinal.replace(\"%d\",a)}function Zb(a){return a}function $b(a,b,c,d){var e=this._relativeTime[c];return\"function\"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function _b(a,b){var c=this._relativeTime[a>0?\"future\":\"past\"];return\"function\"==typeof c?c(b):c.replace(/%s/i,b)}function ac(a){var b,c;for(c in a)b=a[c],\"function\"==typeof b?this[c]=b:this[\"_\"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+\"|\"+/\\d{1,2}/.source)}function bc(a,b,c,d){var e=w(),f=i().set(d,b);return e[c](f,a)}function cc(a,b,c,d,e){if(\"number\"==typeof a&&(b=a,a=void 0),a=a||\"\",null!=b)return bc(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=bc(a,f,c,e);return g}function dc(a,b){return cc(a,b,\"months\",12,\"month\")}function ec(a,b){return cc(a,b,\"monthsShort\",12,\"month\")}function fc(a,b){return cc(a,b,\"weekdays\",7,\"day\")}function gc(a,b){return cc(a,b,\"weekdaysShort\",7,\"day\")}function hc(a,b){return cc(a,b,\"weekdaysMin\",7,\"day\")}function ic(){var a=this._data;return this._milliseconds=Od(this._milliseconds),this._days=Od(this._days),this._months=Od(this._months),a.milliseconds=Od(a.milliseconds),a.seconds=Od(a.seconds),a.minutes=Od(a.minutes),a.hours=Od(a.hours),a.months=Od(a.months),a.years=Od(a.years),this}function jc(a,b,c,d){var e=Ua(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function kc(a,b){return jc(this,a,b,1)}function lc(a,b){return jc(this,a,b,-1)}function mc(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;return g.milliseconds=d%1e3,a=eb(d/1e3),g.seconds=a%60,b=eb(a/60),g.minutes=b%60,c=eb(b/60),g.hours=c%24,e+=eb(c/24),h=eb(nc(e)),e-=eb(oc(h)),f+=eb(e/30),e%=30,h+=eb(f/12),f%=12,g.days=e,g.months=f,g.years=h,this}function nc(a){return 400*a/146097}function oc(a){return 146097*a/400}function pc(a){var b,c,d=this._milliseconds;if(a=y(a),\"month\"===a||\"year\"===a)return b=this._days+d/864e5,c=this._months+12*nc(b),\"month\"===a?c:c/12;switch(b=this._days+Math.round(oc(this._months/12)),a){case\"week\":return b/7+d/6048e5;case\"day\":return b+d/864e5;case\"hour\":return 24*b+d/36e5;case\"minute\":return 24*b*60+d/6e4;case\"second\":return 24*b*60*60+d/1e3;case\"millisecond\":return Math.floor(24*b*60*60*1e3)+d;default:throw new Error(\"Unknown unit \"+a)}}function qc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*o(this._months/12)}function rc(a){return function(){return this.as(a)}}function sc(a){return a=y(a),this[a+\"s\"]()}function tc(a){return function(){return this._data[a]}}function uc(){return eb(this.days()/7)}function vc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function wc(a,b,c){var d=Ua(a).abs(),e=ce(d.as(\"s\")),f=ce(d.as(\"m\")),g=ce(d.as(\"h\")),h=ce(d.as(\"d\")),i=ce(d.as(\"M\")),j=ce(d.as(\"y\")),k=e<de.s&&[\"s\",e]||1===f&&[\"m\"]||f<de.m&&[\"mm\",f]||1===g&&[\"h\"]||g<de.h&&[\"hh\",g]||1===h&&[\"d\"]||h<de.d&&[\"dd\",h]||1===i&&[\"M\"]||i<de.M&&[\"MM\",i]||1===j&&[\"y\"]||[\"yy\",j];return k[2]=b,k[3]=+a>0,k[4]=c,vc.apply(null,k)}function xc(a,b){return void 0===de[a]?!1:void 0===b?de[a]:(de[a]=b,!0)}function yc(a){var b=this.localeData(),c=wc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function zc(){var a=ee(this.years()),b=ee(this.months()),c=ee(this.days()),d=ee(this.hours()),e=ee(this.minutes()),f=ee(this.seconds()+this.milliseconds()/1e3),g=this.asSeconds();return g?(0>g?\"-\":\"\")+\"P\"+(a?a+\"Y\":\"\")+(b?b+\"M\":\"\")+(c?c+\"D\":\"\")+(d||e||f?\"T\":\"\")+(d?d+\"H\":\"\")+(e?e+\"M\":\"\")+(f?f+\"S\":\"\"):\"P0D\"}var Ac,Bc,Cc=a.momentProperties=[],Dc=!1,Ec={},Fc={},Gc=/(\\[[^\\[]*\\])|(\\\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Hc=/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ic={},Jc={},Kc=/\\d/,Lc=/\\d\\d/,Mc=/\\d{3}/,Nc=/\\d{4}/,Oc=/[+-]?\\d{6}/,Pc=/\\d\\d?/,Qc=/\\d{1,3}/,Rc=/\\d{1,4}/,Sc=/[+-]?\\d{1,6}/,Tc=/\\d+/,Uc=/[+-]?\\d+/,Vc=/Z|[+-]\\d\\d:?\\d\\d/gi,Wc=/[+-]?\\d+(\\.\\d{1,3})?/,Xc=/[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i,Yc={},Zc={},$c=0,_c=1,ad=2,bd=3,cd=4,dd=5,ed=6;F(\"M\",[\"MM\",2],\"Mo\",function(){return this.month()+1}),F(\"MMM\",0,0,function(a){return this.localeData().monthsShort(this,a)}),F(\"MMMM\",0,0,function(a){return this.localeData().months(this,a)}),x(\"month\",\"M\"),K(\"M\",Pc),K(\"MM\",Pc,Lc),K(\"MMM\",Xc),K(\"MMMM\",Xc),N([\"M\",\"MM\"],function(a,b){b[_c]=o(a)-1}),N([\"MMM\",\"MMMM\"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[_c]=e:c._pf.invalidMonth=a});var fd=\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),gd=\"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\"),hd={};a.suppressDeprecationWarnings=!1;var id=/^\\s*(?:[+-]\\d{6}|\\d{4})-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,jd=[[\"YYYYYY-MM-DD\",/[+-]\\d{6}-\\d{2}-\\d{2}/],[\"YYYY-MM-DD\",/\\d{4}-\\d{2}-\\d{2}/],[\"GGGG-[W]WW-E\",/\\d{4}-W\\d{2}-\\d/],[\"GGGG-[W]WW\",/\\d{4}-W\\d{2}/],[\"YYYY-DDD\",/\\d{4}-\\d{3}/]],kd=[[\"HH:mm:ss.SSSS\",/(T| )\\d\\d:\\d\\d:\\d\\d\\.\\d+/],[\"HH:mm:ss\",/(T| )\\d\\d:\\d\\d:\\d\\d/],[\"HH:mm\",/(T| )\\d\\d:\\d\\d/],[\"HH\",/(T| )\\d\\d/]],ld=/^\\/?Date\\((\\-?\\d+)/i;a.createFromInputFallback=Z(\"moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.\",function(a){a._d=new Date(a._i+(a._useUTC?\" UTC\":\"\"))}),F(0,[\"YY\",2],0,function(){return this.year()%100}),F(0,[\"YYYY\",4],0,\"year\"),F(0,[\"YYYYY\",5],0,\"year\"),F(0,[\"YYYYYY\",6,!0],0,\"year\"),x(\"year\",\"y\"),K(\"Y\",Uc),K(\"YY\",Pc,Lc),K(\"YYYY\",Rc,Nc),K(\"YYYYY\",Sc,Oc),K(\"YYYYYY\",Sc,Oc),N([\"YYYY\",\"YYYYY\",\"YYYYYY\"],$c),N(\"YY\",function(b,c){c[$c]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return o(a)+(o(a)>68?1900:2e3)};var md=A(\"FullYear\",!1);F(\"w\",[\"ww\",2],\"wo\",\"week\"),F(\"W\",[\"WW\",2],\"Wo\",\"isoWeek\"),x(\"week\",\"w\"),x(\"isoWeek\",\"W\"),K(\"w\",Pc),K(\"ww\",Pc,Lc),K(\"W\",Pc),K(\"WW\",Pc,Lc),O([\"w\",\"ww\",\"W\",\"WW\"],function(a,b,c,d){b[d.substr(0,1)]=o(a)});var nd={dow:0,doy:6};F(\"DDD\",[\"DDDD\",3],\"DDDo\",\"dayOfYear\"),x(\"dayOfYear\",\"DDD\"),K(\"DDD\",Qc),K(\"DDDD\",Mc),N([\"DDD\",\"DDDD\"],function(a,b,c){c._dayOfYear=o(a)}),a.ISO_8601=function(){};var od=Z(\"moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548\",function(){var a=za.apply(null,arguments);return this>a?this:a}),pd=Z(\"moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548\",function(){var a=za.apply(null,arguments);return a>this?this:a});Fa(\"Z\",\":\"),Fa(\"ZZ\",\"\"),K(\"Z\",Vc),K(\"ZZ\",Vc),N([\"Z\",\"ZZ\"],function(a,b,c){c._useUTC=!0,c._tzm=Ga(a)});var qd=/([\\+\\-]|\\d\\d)/gi;a.updateOffset=function(){};var rd=/(\\-)?(?:(\\d*)\\.)?(\\d+)\\:(\\d+)(?:\\:(\\d+)\\.?(\\d{3})?)?/,sd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ua.fn=Da.prototype;var td=Ya(1,\"add\"),ud=Ya(-1,\"subtract\");a.defaultFormat=\"YYYY-MM-DDTHH:mm:ssZ\";var vd=Z(\"moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.\",function(a){return void 0===a?this.localeData():this.locale(a)});F(0,[\"gg\",2],0,function(){return this.weekYear()%100}),F(0,[\"GG\",2],0,function(){return this.isoWeekYear()%100}),xb(\"gggg\",\"weekYear\"),xb(\"ggggg\",\"weekYear\"),xb(\"GGGG\",\"isoWeekYear\"),xb(\"GGGGG\",\"isoWeekYear\"),x(\"weekYear\",\"gg\"),x(\"isoWeekYear\",\"GG\"),K(\"G\",Uc),K(\"g\",Uc),K(\"GG\",Pc,Lc),K(\"gg\",Pc,Lc),K(\"GGGG\",Rc,Nc),K(\"gggg\",Rc,Nc),K(\"GGGGG\",Sc,Oc),K(\"ggggg\",Sc,Oc),O([\"gggg\",\"ggggg\",\"GGGG\",\"GGGGG\"],function(a,b,c,d){b[d.substr(0,2)]=o(a)}),O([\"gg\",\"GG\"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),F(\"Q\",0,0,\"quarter\"),x(\"quarter\",\"Q\"),K(\"Q\",Kc),N(\"Q\",function(a,b){b[_c]=3*(o(a)-1)}),F(\"D\",[\"DD\",2],\"Do\",\"date\"),x(\"date\",\"D\"),K(\"D\",Pc),K(\"DD\",Pc,Lc),K(\"Do\",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),N([\"D\",\"DD\"],ad),N(\"Do\",function(a,b){b[ad]=o(a.match(Pc)[0],10)});var wd=A(\"Date\",!0);F(\"d\",0,\"do\",\"day\"),F(\"dd\",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),F(\"ddd\",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),F(\"dddd\",0,0,function(a){return this.localeData().weekdays(this,a)}),F(\"e\",0,0,\"weekday\"),F(\"E\",0,0,\"isoWeekday\"),x(\"day\",\"d\"),x(\"weekday\",\"e\"),x(\"isoWeekday\",\"E\"),K(\"d\",Pc),K(\"e\",Pc),K(\"E\",Pc),K(\"dd\",Xc),K(\"ddd\",Xc),K(\"dddd\",Xc),O([\"dd\",\"ddd\",\"dddd\"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:c._pf.invalidWeekday=a}),O([\"d\",\"e\",\"E\"],function(a,b,c,d){b[d]=o(a)});var xd=\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),yd=\"Sun_Mon_Tue_Wed_Thu_Fri_Sat\".split(\"_\"),zd=\"Su_Mo_Tu_We_Th_Fr_Sa\".split(\"_\");F(\"H\",[\"HH\",2],0,\"hour\"),F(\"h\",[\"hh\",2],0,function(){return this.hours()%12||12}),Mb(\"a\",!0),Mb(\"A\",!1),x(\"hour\",\"h\"),K(\"a\",Nb),K(\"A\",Nb),K(\"H\",Pc),K(\"h\",Pc),K(\"HH\",Pc,Lc),K(\"hh\",Pc,Lc),N([\"H\",\"HH\"],bd),N([\"a\",\"A\"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),N([\"h\",\"hh\"],function(a,b,c){b[bd]=o(a),c._pf.bigHour=!0});var Ad=/[ap]\\.?m?\\.?/i,Bd=A(\"Hours\",!0);F(\"m\",[\"mm\",2],0,\"minute\"),x(\"minute\",\"m\"),K(\"m\",Pc),K(\"mm\",Pc,Lc),N([\"m\",\"mm\"],cd);var Cd=A(\"Minutes\",!1);F(\"s\",[\"ss\",2],0,\"second\"),x(\"second\",\"s\"),K(\"s\",Pc),K(\"ss\",Pc,Lc),N([\"s\",\"ss\"],dd);var Dd=A(\"Seconds\",!1);F(\"S\",0,0,function(){return~~(this.millisecond()/100)}),F(0,[\"SS\",2],0,function(){return~~(this.millisecond()/10)}),Qb(\"SSS\"),Qb(\"SSSS\"),x(\"millisecond\",\"ms\"),K(\"S\",Qc,Kc),K(\"SS\",Qc,Lc),K(\"SSS\",Qc,Mc),K(\"SSSS\",Tc),N([\"S\",\"SS\",\"SSS\",\"SSSS\"],function(a,b){b[ed]=o(1e3*(\"0.\"+a))});var Ed=A(\"Milliseconds\",!1);F(\"z\",0,0,\"zoneAbbr\"),F(\"zz\",0,0,\"zoneName\");var Fd=m.prototype;Fd.add=td,Fd.calendar=$a,Fd.clone=_a,Fd.diff=fb,Fd.endOf=pb,Fd.format=jb,Fd.from=kb,Fd.fromNow=lb,Fd.get=D,Fd.invalidAt=wb,Fd.isAfter=ab,Fd.isBefore=bb,Fd.isBetween=cb,Fd.isSame=db,Fd.isValid=ub,Fd.lang=vd,Fd.locale=mb,Fd.localeData=nb,Fd.max=pd,Fd.min=od,Fd.parsingFlags=vb,Fd.set=D,Fd.startOf=ob,Fd.subtract=ud,Fd.toArray=tb,Fd.toDate=sb,Fd.toISOString=ib,Fd.toJSON=ib,Fd.toString=hb,Fd.unix=rb,Fd.valueOf=qb,Fd.year=md,Fd.isLeapYear=fa,Fd.weekYear=zb,Fd.isoWeekYear=Ab,Fd.quarter=Fd.quarters=Db,Fd.month=V,Fd.daysInMonth=W,Fd.week=Fd.weeks=ka,Fd.isoWeek=Fd.isoWeeks=la,Fd.weeksInYear=Cb,Fd.isoWeeksInYear=Bb,Fd.date=wd,Fd.day=Fd.days=Jb,Fd.weekday=Kb,Fd.isoWeekday=Lb,Fd.dayOfYear=na,Fd.hour=Fd.hours=Bd,Fd.minute=Fd.minutes=Cd,Fd.second=Fd.seconds=Dd,Fd.millisecond=Fd.milliseconds=Ed,Fd.utcOffset=Ja,Fd.utc=La,Fd.local=Ma,Fd.parseZone=Na,Fd.hasAlignedHourOffset=Oa,Fd.isDST=Pa,Fd.isDSTShifted=Qa,Fd.isLocal=Ra,Fd.isUtcOffset=Sa,Fd.isUtc=Ta,Fd.isUTC=Ta,Fd.zoneAbbr=Rb,Fd.zoneName=Sb,Fd.dates=Z(\"dates accessor is deprecated. Use date instead.\",wd),Fd.months=Z(\"months accessor is deprecated. Use month instead\",V),Fd.years=Z(\"years accessor is deprecated. Use year instead\",md),Fd.zone=Z(\"moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779\",Ka);var Gd=Fd,Hd={sameDay:\"[Today at] LT\",nextDay:\"[Tomorrow at] LT\",nextWeek:\"dddd [at] LT\",lastDay:\"[Yesterday at] LT\",lastWeek:\"[Last] dddd [at] LT\",sameElse:\"L\"},Id={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY LT\",LLLL:\"dddd, MMMM D, YYYY LT\"},Jd=\"Invalid date\",Kd=\"%d\",Ld=/\\d{1,2}/,Md={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"},Nd=q.prototype;Nd._calendar=Hd,Nd.calendar=Vb,Nd._longDateFormat=Id,Nd.longDateFormat=Wb,Nd._invalidDate=Jd,Nd.invalidDate=Xb,Nd._ordinal=Kd,Nd.ordinal=Yb,Nd._ordinalParse=Ld,\nNd.preparse=Zb,Nd.postformat=Zb,Nd._relativeTime=Md,Nd.relativeTime=$b,Nd.pastFuture=_b,Nd.set=ac,Nd.months=R,Nd._months=fd,Nd.monthsShort=S,Nd._monthsShort=gd,Nd.monthsParse=T,Nd.week=ha,Nd._week=nd,Nd.firstDayOfYear=ja,Nd.firstDayOfWeek=ia,Nd.weekdays=Fb,Nd._weekdays=xd,Nd.weekdaysMin=Hb,Nd._weekdaysMin=zd,Nd.weekdaysShort=Gb,Nd._weekdaysShort=yd,Nd.weekdaysParse=Ib,Nd.isPM=Ob,Nd._meridiemParse=Ad,Nd.meridiem=Pb,u(\"en\",{ordinalParse:/\\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===o(a%100/10)?\"th\":1===b?\"st\":2===b?\"nd\":3===b?\"rd\":\"th\";return a+c}}),a.lang=Z(\"moment.lang is deprecated. Use moment.locale instead.\",u),a.langData=Z(\"moment.langData is deprecated. Use moment.localeData instead.\",w);var Od=Math.abs,Pd=rc(\"ms\"),Qd=rc(\"s\"),Rd=rc(\"m\"),Sd=rc(\"h\"),Td=rc(\"d\"),Ud=rc(\"w\"),Vd=rc(\"M\"),Wd=rc(\"y\"),Xd=tc(\"milliseconds\"),Yd=tc(\"seconds\"),Zd=tc(\"minutes\"),$d=tc(\"hours\"),_d=tc(\"days\"),ae=tc(\"months\"),be=tc(\"years\"),ce=Math.round,de={s:45,m:45,h:22,d:26,M:11},ee=Math.abs,fe=Da.prototype;fe.abs=ic,fe.add=kc,fe.subtract=lc,fe.as=pc,fe.asMilliseconds=Pd,fe.asSeconds=Qd,fe.asMinutes=Rd,fe.asHours=Sd,fe.asDays=Td,fe.asWeeks=Ud,fe.asMonths=Vd,fe.asYears=Wd,fe.valueOf=qc,fe._bubble=mc,fe.get=sc,fe.milliseconds=Xd,fe.seconds=Yd,fe.minutes=Zd,fe.hours=$d,fe.days=_d,fe.weeks=uc,fe.months=ae,fe.years=be,fe.humanize=yc,fe.toISOString=zc,fe.toString=zc,fe.toJSON=zc,fe.locale=mb,fe.localeData=nb,fe.toIsoString=Z(\"toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)\",zc),fe.lang=vd,F(\"X\",0,0,\"unix\"),F(\"x\",0,0,\"valueOf\"),K(\"x\",Uc),K(\"X\",Wc),N(\"X\",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),N(\"x\",function(a,b,c){c._d=new Date(o(a))}),a.version=\"2.10.2\",b(za),a.fn=Gd,a.min=Ba,a.max=Ca,a.utc=i,a.unix=Tb,a.months=dc,a.isDate=e,a.locale=u,a.invalid=k,a.duration=Ua,a.isMoment=n,a.weekdays=fc,a.parseZone=Ub,a.localeData=w,a.isDuration=Ea,a.monthsShort=ec,a.weekdaysMin=hc,a.defineLocale=v,a.weekdaysShort=gc,a.normalizeUnits=y,a.relativeTimeThreshold=xc;var ge=a;return ge});\n/*! version : 4.7.14\n =========================================================\n bootstrap-datetimejs\n https://github.com/Eonasdan/bootstrap-datetimepicker\n Copyright (c) 2015 Jonathan Peterson\n =========================================================\n */\n!function(a){\"use strict\";if(\"function\"==typeof define&&define.amd)define([\"jquery\",\"moment\"],a);else if(\"object\"==typeof exports)a(require(\"jquery\"),require(\"moment\"));else{if(\"undefined\"==typeof jQuery)throw\"bootstrap-datetimepicker requires jQuery to be loaded first\";if(\"undefined\"==typeof moment)throw\"bootstrap-datetimepicker requires Moment.js to be loaded first\";a(jQuery,moment)}}(function(a,b){\"use strict\";if(!b)throw new Error(\"bootstrap-datetimepicker requires Moment.js to be loaded first\");var c=function(c,d){var e,f,g,h,i,j={},k=b().startOf(\"d\"),l=k.clone(),m=!0,n=!1,o=!1,p=0,q=[{clsName:\"days\",navFnc:\"M\",navStep:1},{clsName:\"months\",navFnc:\"y\",navStep:1},{clsName:\"years\",navFnc:\"y\",navStep:10}],r=[\"days\",\"months\",\"years\"],s=[\"top\",\"bottom\",\"auto\"],t=[\"left\",\"right\",\"auto\"],u=[\"default\",\"top\",\"bottom\"],v={up:38,38:\"up\",down:40,40:\"down\",left:37,37:\"left\",right:39,39:\"right\",tab:9,9:\"tab\",escape:27,27:\"escape\",enter:13,13:\"enter\",pageUp:33,33:\"pageUp\",pageDown:34,34:\"pageDown\",shift:16,16:\"shift\",control:17,17:\"control\",space:32,32:\"space\",t:84,84:\"t\",\"delete\":46,46:\"delete\"},w={},x=function(a){if(\"string\"!=typeof a||a.length>1)throw new TypeError(\"isEnabled expects a single character string parameter\");switch(a){case\"y\":return-1!==g.indexOf(\"Y\");case\"M\":return-1!==g.indexOf(\"M\");case\"d\":return-1!==g.toLowerCase().indexOf(\"d\");case\"h\":case\"H\":return-1!==g.toLowerCase().indexOf(\"h\");case\"m\":return-1!==g.indexOf(\"m\");case\"s\":return-1!==g.indexOf(\"s\");default:return!1}},y=function(){return x(\"h\")||x(\"m\")||x(\"s\")},z=function(){return x(\"y\")||x(\"M\")||x(\"d\")},A=function(){var b=a(\"<thead>\").append(a(\"<tr>\").append(a(\"<th>\").addClass(\"prev\").attr(\"data-action\",\"previous\").append(a(\"<span>\").addClass(d.icons.previous))).append(a(\"<th>\").addClass(\"picker-switch\").attr(\"data-action\",\"pickerSwitch\").attr(\"colspan\",d.calendarWeeks?\"6\":\"5\")).append(a(\"<th>\").addClass(\"next\").attr(\"data-action\",\"next\").append(a(\"<span>\").addClass(d.icons.next)))),c=a(\"<tbody>\").append(a(\"<tr>\").append(a(\"<td>\").attr(\"colspan\",d.calendarWeeks?\"8\":\"7\")));return[a(\"<div>\").addClass(\"datepicker-days\").append(a(\"<table>\").addClass(\"table-condensed\").append(b).append(a(\"<tbody>\"))),a(\"<div>\").addClass(\"datepicker-months\").append(a(\"<table>\").addClass(\"table-condensed\").append(b.clone()).append(c.clone())),a(\"<div>\").addClass(\"datepicker-years\").append(a(\"<table>\").addClass(\"table-condensed\").append(b.clone()).append(c.clone()))]},B=function(){var b=a(\"<tr>\"),c=a(\"<tr>\"),e=a(\"<tr>\");return x(\"h\")&&(b.append(a(\"<td>\").append(a(\"<a>\").attr({href:\"#\",tabindex:\"-1\"}).addClass(\"btn\").attr(\"data-action\",\"incrementHours\").append(a(\"<span>\").addClass(d.icons.up)))),c.append(a(\"<td>\").append(a(\"<span>\").addClass(\"timepicker-hour\").attr(\"data-time-component\",\"hours\").attr(\"data-action\",\"showHours\"))),e.append(a(\"<td>\").append(a(\"<a>\").attr({href:\"#\",tabindex:\"-1\"}).addClass(\"btn\").attr(\"data-action\",\"decrementHours\").append(a(\"<span>\").addClass(d.icons.down))))),x(\"m\")&&(x(\"h\")&&(b.append(a(\"<td>\").addClass(\"separator\")),c.append(a(\"<td>\").addClass(\"separator\").html(\":\")),e.append(a(\"<td>\").addClass(\"separator\"))),b.append(a(\"<td>\").append(a(\"<a>\").attr({href:\"#\",tabindex:\"-1\"}).addClass(\"btn\").attr(\"data-action\",\"incrementMinutes\").append(a(\"<span>\").addClass(d.icons.up)))),c.append(a(\"<td>\").append(a(\"<span>\").addClass(\"timepicker-minute\").attr(\"data-time-component\",\"minutes\").attr(\"data-action\",\"showMinutes\"))),e.append(a(\"<td>\").append(a(\"<a>\").attr({href:\"#\",tabindex:\"-1\"}).addClass(\"btn\").attr(\"data-action\",\"decrementMinutes\").append(a(\"<span>\").addClass(d.icons.down))))),x(\"s\")&&(x(\"m\")&&(b.append(a(\"<td>\").addClass(\"separator\")),c.append(a(\"<td>\").addClass(\"separator\").html(\":\")),e.append(a(\"<td>\").addClass(\"separator\"))),b.append(a(\"<td>\").append(a(\"<a>\").attr({href:\"#\",tabindex:\"-1\"}).addClass(\"btn\").attr(\"data-action\",\"incrementSeconds\").append(a(\"<span>\").addClass(d.icons.up)))),c.append(a(\"<td>\").append(a(\"<span>\").addClass(\"timepicker-second\").attr(\"data-time-component\",\"seconds\").attr(\"data-action\",\"showSeconds\"))),e.append(a(\"<td>\").append(a(\"<a>\").attr({href:\"#\",tabindex:\"-1\"}).addClass(\"btn\").attr(\"data-action\",\"decrementSeconds\").append(a(\"<span>\").addClass(d.icons.down))))),f||(b.append(a(\"<td>\").addClass(\"separator\")),c.append(a(\"<td>\").append(a(\"<button>\").addClass(\"btn btn-primary\").attr(\"data-action\",\"togglePeriod\"))),e.append(a(\"<td>\").addClass(\"separator\"))),a(\"<div>\").addClass(\"timepicker-picker\").append(a(\"<table>\").addClass(\"table-condensed\").append([b,c,e]))},C=function(){var b=a(\"<div>\").addClass(\"timepicker-hours\").append(a(\"<table>\").addClass(\"table-condensed\")),c=a(\"<div>\").addClass(\"timepicker-minutes\").append(a(\"<table>\").addClass(\"table-condensed\")),d=a(\"<div>\").addClass(\"timepicker-seconds\").append(a(\"<table>\").addClass(\"table-condensed\")),e=[B()];return x(\"h\")&&e.push(b),x(\"m\")&&e.push(c),x(\"s\")&&e.push(d),e},D=function(){var b=[];return d.showTodayButton&&b.push(a(\"<td>\").append(a(\"<a>\").attr(\"data-action\",\"today\").append(a(\"<span>\").addClass(d.icons.today)))),!d.sideBySide&&z()&&y()&&b.push(a(\"<td>\").append(a(\"<a>\").attr(\"data-action\",\"togglePicker\").append(a(\"<span>\").addClass(d.icons.time)))),d.showClear&&b.push(a(\"<td>\").append(a(\"<a>\").attr(\"data-action\",\"clear\").append(a(\"<span>\").addClass(d.icons.clear)))),d.showClose&&b.push(a(\"<td>\").append(a(\"<a>\").attr(\"data-action\",\"close\").append(a(\"<span>\").addClass(d.icons.close)))),a(\"<table>\").addClass(\"table-condensed\").append(a(\"<tbody>\").append(a(\"<tr>\").append(b)))},E=function(){var b=a(\"<div>\").addClass(\"bootstrap-datetimepicker-widget dropdown-menu\"),c=a(\"<div>\").addClass(\"datepicker\").append(A()),e=a(\"<div>\").addClass(\"timepicker\").append(C()),g=a(\"<ul>\").addClass(\"list-unstyled\"),h=a(\"<li>\").addClass(\"picker-switch\"+(d.collapse?\" accordion-toggle\":\"\")).append(D());return d.inline&&b.removeClass(\"dropdown-menu\"),f&&b.addClass(\"usetwentyfour\"),d.sideBySide&&z()&&y()?(b.addClass(\"timepicker-sbs\"),b.append(a(\"<div>\").addClass(\"row\").append(c.addClass(\"col-sm-6\")).append(e.addClass(\"col-sm-6\"))),b.append(h),b):(\"top\"===d.toolbarPlacement&&g.append(h),z()&&g.append(a(\"<li>\").addClass(d.collapse&&y()?\"collapse in\":\"\").append(c)),\"default\"===d.toolbarPlacement&&g.append(h),y()&&g.append(a(\"<li>\").addClass(d.collapse&&z()?\"collapse\":\"\").append(e)),\"bottom\"===d.toolbarPlacement&&g.append(h),b.append(g))},F=function(){var b,e={};return b=c.is(\"input\")||d.inline?c.data():c.find(\"input\").data(),b.dateOptions&&b.dateOptions instanceof Object&&(e=a.extend(!0,e,b.dateOptions)),a.each(d,function(a){var c=\"date\"+a.charAt(0).toUpperCase()+a.slice(1);void 0!==b[c]&&(e[a]=b[c])}),e},G=function(){var b,e=(n||c).position(),f=(n||c).offset(),g=d.widgetPositioning.vertical,h=d.widgetPositioning.horizontal;if(d.widgetParent)b=d.widgetParent.append(o);else if(c.is(\"input\"))b=c.parent().append(o);else{if(d.inline)return void(b=c.append(o));b=c,c.children().first().after(o)}if(\"auto\"===g&&(g=f.top+1.5*o.height()>=a(window).height()+a(window).scrollTop()&&o.height()+c.outerHeight()<f.top?\"top\":\"bottom\"),\"auto\"===h&&(h=b.width()<f.left+o.outerWidth()/2&&f.left+o.outerWidth()>a(window).width()?\"right\":\"left\"),\"top\"===g?o.addClass(\"top\").removeClass(\"bottom\"):o.addClass(\"bottom\").removeClass(\"top\"),\"right\"===h?o.addClass(\"pull-right\"):o.removeClass(\"pull-right\"),\"relative\"!==b.css(\"position\")&&(b=b.parents().filter(function(){return\"relative\"===a(this).css(\"position\")}).first()),0===b.length)throw new Error(\"datetimepicker component should be placed within a relative positioned container\");o.css({top:\"top\"===g?\"auto\":e.top+c.outerHeight(),bottom:\"top\"===g?e.top+c.outerHeight():\"auto\",left:\"left\"===h?b.css(\"padding-left\"):\"auto\",right:\"left\"===h?\"auto\":b.width()-c.outerWidth()})},H=function(a){\"dp.change\"===a.type&&(a.date&&a.date.isSame(a.oldDate)||!a.date&&!a.oldDate)||c.trigger(a)},I=function(a){o&&(a&&(i=Math.max(p,Math.min(2,i+a))),o.find(\".datepicker > div\").hide().filter(\".datepicker-\"+q[i].clsName).show())},J=function(){var b=a(\"<tr>\"),c=l.clone().startOf(\"w\");for(d.calendarWeeks===!0&&b.append(a(\"<th>\").addClass(\"cw\").text(\"#\"));c.isBefore(l.clone().endOf(\"w\"));)b.append(a(\"<th>\").addClass(\"dow\").text(c.format(\"dd\"))),c.add(1,\"d\");o.find(\".datepicker-days thead\").append(b)},K=function(a){return d.disabledDates[a.format(\"YYYY-MM-DD\")]===!0},L=function(a){return d.enabledDates[a.format(\"YYYY-MM-DD\")]===!0},M=function(a,b){return a.isValid()?d.disabledDates&&K(a)&&\"M\"!==b?!1:d.enabledDates&&!L(a)&&\"M\"!==b?!1:d.minDate&&a.isBefore(d.minDate,b)?!1:d.maxDate&&a.isAfter(d.maxDate,b)?!1:\"d\"===b&&-1!==d.daysOfWeekDisabled.indexOf(a.day())?!1:!0:!1},N=function(){for(var b=[],c=l.clone().startOf(\"y\").hour(12);c.isSame(l,\"y\");)b.push(a(\"<span>\").attr(\"data-action\",\"selectMonth\").addClass(\"month\").text(c.format(\"MMM\"))),c.add(1,\"M\");o.find(\".datepicker-months td\").empty().append(b)},O=function(){var b=o.find(\".datepicker-months\"),c=b.find(\"th\"),d=b.find(\"tbody\").find(\"span\");b.find(\".disabled\").removeClass(\"disabled\"),M(l.clone().subtract(1,\"y\"),\"y\")||c.eq(0).addClass(\"disabled\"),c.eq(1).text(l.year()),M(l.clone().add(1,\"y\"),\"y\")||c.eq(2).addClass(\"disabled\"),d.removeClass(\"active\"),k.isSame(l,\"y\")&&d.eq(k.month()).addClass(\"active\"),d.each(function(b){M(l.clone().month(b),\"M\")||a(this).addClass(\"disabled\")})},P=function(){var a=o.find(\".datepicker-years\"),b=a.find(\"th\"),c=l.clone().subtract(5,\"y\"),e=l.clone().add(6,\"y\"),f=\"\";for(a.find(\".disabled\").removeClass(\"disabled\"),d.minDate&&d.minDate.isAfter(c,\"y\")&&b.eq(0).addClass(\"disabled\"),b.eq(1).text(c.year()+\"-\"+e.year()),d.maxDate&&d.maxDate.isBefore(e,\"y\")&&b.eq(2).addClass(\"disabled\");!c.isAfter(e,\"y\");)f+='<span data-action=\"selectYear\" class=\"year'+(c.isSame(k,\"y\")?\" active\":\"\")+(M(c,\"y\")?\"\":\" disabled\")+'\">'+c.year()+\"</span>\",c.add(1,\"y\");a.find(\"td\").html(f)},Q=function(){var c,e,f,g=o.find(\".datepicker-days\"),h=g.find(\"th\"),i=[];if(z()){for(g.find(\".disabled\").removeClass(\"disabled\"),h.eq(1).text(l.format(d.dayViewHeaderFormat)),M(l.clone().subtract(1,\"M\"),\"M\")||h.eq(0).addClass(\"disabled\"),M(l.clone().add(1,\"M\"),\"M\")||h.eq(2).addClass(\"disabled\"),c=l.clone().startOf(\"M\").startOf(\"week\");!l.clone().endOf(\"M\").endOf(\"w\").isBefore(c,\"d\");)0===c.weekday()&&(e=a(\"<tr>\"),d.calendarWeeks&&e.append('<td class=\"cw\">'+c.week()+\"</td>\"),i.push(e)),f=\"\",c.isBefore(l,\"M\")&&(f+=\" old\"),c.isAfter(l,\"M\")&&(f+=\" new\"),c.isSame(k,\"d\")&&!m&&(f+=\" active\"),M(c,\"d\")||(f+=\" disabled\"),c.isSame(b(),\"d\")&&(f+=\" today\"),(0===c.day()||6===c.day())&&(f+=\" weekend\"),e.append('<td data-action=\"selectDay\" class=\"day'+f+'\">'+c.date()+\"</td>\"),c.add(1,\"d\");g.find(\"tbody\").empty().append(i),O(),P()}},R=function(){var b=o.find(\".timepicker-hours table\"),c=l.clone().startOf(\"d\"),d=[],e=a(\"<tr>\");for(l.hour()>11&&!f&&c.hour(12);c.isSame(l,\"d\")&&(f||l.hour()<12&&c.hour()<12||l.hour()>11);)c.hour()%4===0&&(e=a(\"<tr>\"),d.push(e)),e.append('<td data-action=\"selectHour\" class=\"hour'+(M(c,\"h\")?\"\":\" disabled\")+'\">'+c.format(f?\"HH\":\"hh\")+\"</td>\"),c.add(1,\"h\");b.empty().append(d)},S=function(){for(var b=o.find(\".timepicker-minutes table\"),c=l.clone().startOf(\"h\"),e=[],f=a(\"<tr>\"),g=1===d.stepping?5:d.stepping;l.isSame(c,\"h\");)c.minute()%(4*g)===0&&(f=a(\"<tr>\"),e.push(f)),f.append('<td data-action=\"selectMinute\" class=\"minute'+(M(c,\"m\")?\"\":\" disabled\")+'\">'+c.format(\"mm\")+\"</td>\"),c.add(g,\"m\");b.empty().append(e)},T=function(){for(var b=o.find(\".timepicker-seconds table\"),c=l.clone().startOf(\"m\"),d=[],e=a(\"<tr>\");l.isSame(c,\"m\");)c.second()%20===0&&(e=a(\"<tr>\"),d.push(e)),e.append('<td data-action=\"selectSecond\" class=\"second'+(M(c,\"s\")?\"\":\" disabled\")+'\">'+c.format(\"ss\")+\"</td>\"),c.add(5,\"s\");b.empty().append(d)},U=function(){var a=o.find(\".timepicker span[data-time-component]\");f||o.find(\".timepicker [data-action=togglePeriod]\").text(k.format(\"A\")),a.filter(\"[data-time-component=hours]\").text(k.format(f?\"HH\":\"hh\")),a.filter(\"[data-time-component=minutes]\").text(k.format(\"mm\")),a.filter(\"[data-time-component=seconds]\").text(k.format(\"ss\")),R(),S(),T()},V=function(){o&&(Q(),U())},W=function(a){var b=m?null:k;return a?(a=a.clone().locale(d.locale),1!==d.stepping&&a.minutes(Math.round(a.minutes()/d.stepping)*d.stepping%60).seconds(0),void(M(a)?(k=a,l=k.clone(),e.val(k.format(g)),c.data(\"date\",k.format(g)),V(),m=!1,H({type:\"dp.change\",date:k.clone(),oldDate:b})):(d.keepInvalid||e.val(m?\"\":k.format(g)),H({type:\"dp.error\",date:a})))):(m=!0,e.val(\"\"),c.data(\"date\",\"\"),H({type:\"dp.change\",date:null,oldDate:b}),void V())},X=function(){var b=!1;return o?(o.find(\".collapse\").each(function(){var c=a(this).data(\"collapse\");return c&&c.transitioning?(b=!0,!1):!0}),b?j:(n&&n.hasClass(\"btn\")&&n.toggleClass(\"active\"),o.hide(),a(window).off(\"resize\",G),o.off(\"click\",\"[data-action]\"),o.off(\"mousedown\",!1),o.remove(),o=!1,H({type:\"dp.hide\",date:k.clone()}),j)):j},Y=function(){W(null)},Z={next:function(){l.add(q[i].navStep,q[i].navFnc),Q()},previous:function(){l.subtract(q[i].navStep,q[i].navFnc),Q()},pickerSwitch:function(){I(1)},selectMonth:function(b){var c=a(b.target).closest(\"tbody\").find(\"span\").index(a(b.target));l.month(c),i===p?(W(k.clone().year(l.year()).month(l.month())),d.inline||X()):(I(-1),Q())},selectYear:function(b){var c=parseInt(a(b.target).text(),10)||0;l.year(c),i===p?(W(k.clone().year(l.year())),d.inline||X()):(I(-1),Q())},selectDay:function(b){var c=l.clone();a(b.target).is(\".old\")&&c.subtract(1,\"M\"),a(b.target).is(\".new\")&&c.add(1,\"M\"),W(c.date(parseInt(a(b.target).text(),10))),y()||d.keepOpen||d.inline||X()},incrementHours:function(){W(k.clone().add(1,\"h\"))},incrementMinutes:function(){W(k.clone().add(d.stepping,\"m\"))},incrementSeconds:function(){W(k.clone().add(1,\"s\"))},decrementHours:function(){W(k.clone().subtract(1,\"h\"))},decrementMinutes:function(){W(k.clone().subtract(d.stepping,\"m\"))},decrementSeconds:function(){W(k.clone().subtract(1,\"s\"))},togglePeriod:function(){W(k.clone().add(k.hours()>=12?-12:12,\"h\"))},togglePicker:function(b){var c,e=a(b.target),f=e.closest(\"ul\"),g=f.find(\".in\"),h=f.find(\".collapse:not(.in)\");if(g&&g.length){if(c=g.data(\"collapse\"),c&&c.transitioning)return;g.collapse?(g.collapse(\"hide\"),h.collapse(\"show\")):(g.removeClass(\"in\"),h.addClass(\"in\")),e.is(\"span\")?e.toggleClass(d.icons.time+\" \"+d.icons.date):e.find(\"span\").toggleClass(d.icons.time+\" \"+d.icons.date)}},showPicker:function(){o.find(\".timepicker > div:not(.timepicker-picker)\").hide(),o.find(\".timepicker .timepicker-picker\").show()},showHours:function(){o.find(\".timepicker .timepicker-picker\").hide(),o.find(\".timepicker .timepicker-hours\").show()},showMinutes:function(){o.find(\".timepicker .timepicker-picker\").hide(),o.find(\".timepicker .timepicker-minutes\").show()},showSeconds:function(){o.find(\".timepicker .timepicker-picker\").hide(),o.find(\".timepicker .timepicker-seconds\").show()},selectHour:function(b){var c=parseInt(a(b.target).text(),10);f||(k.hours()>=12?12!==c&&(c+=12):12===c&&(c=0)),W(k.clone().hours(c)),Z.showPicker.call(j)},selectMinute:function(b){W(k.clone().minutes(parseInt(a(b.target).text(),10))),Z.showPicker.call(j)},selectSecond:function(b){W(k.clone().seconds(parseInt(a(b.target).text(),10))),Z.showPicker.call(j)},clear:Y,today:function(){W(b())},close:X},$=function(b){return a(b.currentTarget).is(\".disabled\")?!1:(Z[a(b.currentTarget).data(\"action\")].apply(j,arguments),!1)},_=function(){var c,f={year:function(a){return a.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(a){return a.date(1).hours(0).seconds(0).minutes(0)},day:function(a){return a.hours(0).seconds(0).minutes(0)},hour:function(a){return a.seconds(0).minutes(0)},minute:function(a){return a.seconds(0)}};return e.prop(\"disabled\")||!d.ignoreReadonly&&e.prop(\"readonly\")||o?j:(d.useCurrent&&m&&(e.is(\"input\")&&0===e.val().trim().length||d.inline)&&(c=b(),\"string\"==typeof d.useCurrent&&(c=f[d.useCurrent](c)),W(c)),o=E(),J(),N(),o.find(\".timepicker-hours\").hide(),o.find(\".timepicker-minutes\").hide(),o.find(\".timepicker-seconds\").hide(),V(),I(),a(window).on(\"resize\",G),o.on(\"click\",\"[data-action]\",$),o.on(\"mousedown\",!1),n&&n.hasClass(\"btn\")&&n.toggleClass(\"active\"),o.show(),G(),e.is(\":focus\")||e.focus(),H({type:\"dp.show\"}),j)},ab=function(){return o?X():_()},bb=function(a){return a=b.isMoment(a)||a instanceof Date?b(a):b(a,h,d.useStrict),a.locale(d.locale),a},cb=function(a){var b,c,e,f,g=null,h=[],i={},k=a.which,l=\"p\";w[k]=l;for(b in w)w.hasOwnProperty(b)&&w[b]===l&&(h.push(b),parseInt(b,10)!==k&&(i[b]=!0));for(b in d.keyBinds)if(d.keyBinds.hasOwnProperty(b)&&\"function\"==typeof d.keyBinds[b]&&(e=b.split(\" \"),e.length===h.length&&v[k]===e[e.length-1])){for(f=!0,c=e.length-2;c>=0;c--)if(!(v[e[c]]in i)){f=!1;break}if(f){g=d.keyBinds[b];break}}g&&(g.call(j,o),a.stopPropagation(),a.preventDefault())},db=function(a){w[a.which]=\"r\",a.stopPropagation(),a.preventDefault()},eb=function(b){var c=a(b.target).val().trim(),d=c?bb(c):null;return W(d),b.stopImmediatePropagation(),!1},fb=function(){e.on({change:eb,blur:d.debug?\"\":X,keydown:cb,keyup:db}),c.is(\"input\")?e.on({focus:_}):n&&(n.on(\"click\",ab),n.on(\"mousedown\",!1))},gb=function(){e.off({change:eb,blur:X,keydown:cb,keyup:db}),c.is(\"input\")?e.off({focus:_}):n&&(n.off(\"click\",ab),n.off(\"mousedown\",!1))},hb=function(b){var c={};return a.each(b,function(){var a=bb(this);a.isValid()&&(c[a.format(\"YYYY-MM-DD\")]=!0)}),Object.keys(c).length?c:!1},ib=function(){var a=d.format||\"L LT\";g=a.replace(/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(a){var b=k.localeData().longDateFormat(a)||a;return b.replace(/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(a){return k.localeData().longDateFormat(a)||a})}),h=d.extraFormats?d.extraFormats.slice():[],h.indexOf(a)<0&&h.indexOf(g)<0&&h.push(g),f=g.toLowerCase().indexOf(\"a\")<1&&g.indexOf(\"h\")<1,x(\"y\")&&(p=2),x(\"M\")&&(p=1),x(\"d\")&&(p=0),i=Math.max(p,i),m||W(k)};if(j.destroy=function(){X(),gb(),c.removeData(\"DateTimePicker\"),c.removeData(\"date\")},j.toggle=ab,j.show=_,j.hide=X,j.disable=function(){return X(),n&&n.hasClass(\"btn\")&&n.addClass(\"disabled\"),e.prop(\"disabled\",!0),j},j.enable=function(){return n&&n.hasClass(\"btn\")&&n.removeClass(\"disabled\"),e.prop(\"disabled\",!1),j},j.ignoreReadonly=function(a){if(0===arguments.length)return d.ignoreReadonly;if(\"boolean\"!=typeof a)throw new TypeError(\"ignoreReadonly () expects a boolean parameter\");return d.ignoreReadonly=a,j},j.options=function(b){if(0===arguments.length)return a.extend(!0,{},d);if(!(b instanceof Object))throw new TypeError(\"options() options parameter should be an object\");return a.extend(!0,d,b),a.each(d,function(a,b){if(void 0===j[a])throw new TypeError(\"option \"+a+\" is not recognized!\");j[a](b)}),j},j.date=function(a){if(0===arguments.length)return m?null:k.clone();if(!(null===a||\"string\"==typeof a||b.isMoment(a)||a instanceof Date))throw new TypeError(\"date() parameter must be one of [null, string, moment or Date]\");return W(null===a?null:bb(a)),j},j.format=function(a){if(0===arguments.length)return d.format;if(\"string\"!=typeof a&&(\"boolean\"!=typeof a||a!==!1))throw new TypeError(\"format() expects a sting or boolean:false parameter \"+a);return d.format=a,g&&ib(),j},j.dayViewHeaderFormat=function(a){if(0===arguments.length)return d.dayViewHeaderFormat;if(\"string\"!=typeof a)throw new TypeError(\"dayViewHeaderFormat() expects a string parameter\");return d.dayViewHeaderFormat=a,j},j.extraFormats=function(a){if(0===arguments.length)return d.extraFormats;if(a!==!1&&!(a instanceof Array))throw new TypeError(\"extraFormats() expects an array or false parameter\");return d.extraFormats=a,h&&ib(),j},j.disabledDates=function(b){if(0===arguments.length)return d.disabledDates?a.extend({},d.disabledDates):d.disabledDates;if(!b)return d.disabledDates=!1,V(),j;if(!(b instanceof Array))throw new TypeError(\"disabledDates() expects an array parameter\");return d.disabledDates=hb(b),d.enabledDates=!1,V(),j},j.enabledDates=function(b){if(0===arguments.length)return d.enabledDates?a.extend({},d.enabledDates):d.enabledDates;if(!b)return d.enabledDates=!1,V(),j;if(!(b instanceof Array))throw new TypeError(\"enabledDates() expects an array parameter\");return d.enabledDates=hb(b),d.disabledDates=!1,V(),j},j.daysOfWeekDisabled=function(a){if(0===arguments.length)return d.daysOfWeekDisabled.splice(0);if(!(a instanceof Array))throw new TypeError(\"daysOfWeekDisabled() expects an array parameter\");return d.daysOfWeekDisabled=a.reduce(function(a,b){return b=parseInt(b,10),b>6||0>b||isNaN(b)?a:(-1===a.indexOf(b)&&a.push(b),a)},[]).sort(),V(),j},j.maxDate=function(a){if(0===arguments.length)return d.maxDate?d.maxDate.clone():d.maxDate;if(\"boolean\"==typeof a&&a===!1)return d.maxDate=!1,V(),j;\"string\"==typeof a&&(\"now\"===a||\"moment\"===a)&&(a=b());var c=bb(a);if(!c.isValid())throw new TypeError(\"maxDate() Could not parse date parameter: \"+a);if(d.minDate&&c.isBefore(d.minDate))throw new TypeError(\"maxDate() date parameter is before options.minDate: \"+c.format(g));return d.maxDate=c,d.maxDate.isBefore(a)&&W(d.maxDate),l.isAfter(c)&&(l=c.clone()),V(),j},j.minDate=function(a){if(0===arguments.length)return d.minDate?d.minDate.clone():d.minDate;if(\"boolean\"==typeof a&&a===!1)return d.minDate=!1,V(),j;\"string\"==typeof a&&(\"now\"===a||\"moment\"===a)&&(a=b());var c=bb(a);if(!c.isValid())throw new TypeError(\"minDate() Could not parse date parameter: \"+a);if(d.maxDate&&c.isAfter(d.maxDate))throw new TypeError(\"minDate() date parameter is after options.maxDate: \"+c.format(g));return d.minDate=c,d.minDate.isAfter(a)&&W(d.minDate),l.isBefore(c)&&(l=c.clone()),V(),j},j.defaultDate=function(a){if(0===arguments.length)return d.defaultDate?d.defaultDate.clone():d.defaultDate;if(!a)return d.defaultDate=!1,j;\"string\"==typeof a&&(\"now\"===a||\"moment\"===a)&&(a=b());var c=bb(a);if(!c.isValid())throw new TypeError(\"defaultDate() Could not parse date parameter: \"+a);if(!M(c))throw new TypeError(\"defaultDate() date passed is invalid according to component setup validations\");return d.defaultDate=c,d.defaultDate&&\"\"===e.val().trim()&&void 0===e.attr(\"placeholder\")&&W(d.defaultDate),j},j.locale=function(a){if(0===arguments.length)return d.locale;if(!b.localeData(a))throw new TypeError(\"locale() locale \"+a+\" is not loaded from moment locales!\");return d.locale=a,k.locale(d.locale),l.locale(d.locale),g&&ib(),o&&(X(),_()),j},j.stepping=function(a){return 0===arguments.length?d.stepping:(a=parseInt(a,10),(isNaN(a)||1>a)&&(a=1),d.stepping=a,j)},j.useCurrent=function(a){var b=[\"year\",\"month\",\"day\",\"hour\",\"minute\"];if(0===arguments.length)return d.useCurrent;if(\"boolean\"!=typeof a&&\"string\"!=typeof a)throw new TypeError(\"useCurrent() expects a boolean or string parameter\");if(\"string\"==typeof a&&-1===b.indexOf(a.toLowerCase()))throw new TypeError(\"useCurrent() expects a string parameter of \"+b.join(\", \"));return d.useCurrent=a,j},j.collapse=function(a){if(0===arguments.length)return d.collapse;if(\"boolean\"!=typeof a)throw new TypeError(\"collapse() expects a boolean parameter\");return d.collapse===a?j:(d.collapse=a,o&&(X(),_()),j)},j.icons=function(b){if(0===arguments.length)return a.extend({},d.icons);if(!(b instanceof Object))throw new TypeError(\"icons() expects parameter to be an Object\");return a.extend(d.icons,b),o&&(X(),_()),j},j.useStrict=function(a){if(0===arguments.length)return d.useStrict;if(\"boolean\"!=typeof a)throw new TypeError(\"useStrict() expects a boolean parameter\");return d.useStrict=a,j},j.sideBySide=function(a){if(0===arguments.length)return d.sideBySide;if(\"boolean\"!=typeof a)throw new TypeError(\"sideBySide() expects a boolean parameter\");return d.sideBySide=a,o&&(X(),_()),j},j.viewMode=function(a){if(0===arguments.length)return d.viewMode;if(\"string\"!=typeof a)throw new TypeError(\"viewMode() expects a string parameter\");if(-1===r.indexOf(a))throw new TypeError(\"viewMode() parameter must be one of (\"+r.join(\", \")+\") value\");return d.viewMode=a,i=Math.max(r.indexOf(a),p),I(),j},j.toolbarPlacement=function(a){if(0===arguments.length)return d.toolbarPlacement;if(\"string\"!=typeof a)throw new TypeError(\"toolbarPlacement() expects a string parameter\");if(-1===u.indexOf(a))throw new TypeError(\"toolbarPlacement() parameter must be one of (\"+u.join(\", \")+\") value\");return d.toolbarPlacement=a,o&&(X(),_()),j},j.widgetPositioning=function(b){if(0===arguments.length)return a.extend({},d.widgetPositioning);if(\"[object Object]\"!=={}.toString.call(b))throw new TypeError(\"widgetPositioning() expects an object variable\");if(b.horizontal){if(\"string\"!=typeof b.horizontal)throw new TypeError(\"widgetPositioning() horizontal variable must be a string\");if(b.horizontal=b.horizontal.toLowerCase(),-1===t.indexOf(b.horizontal))throw new TypeError(\"widgetPositioning() expects horizontal parameter to be one of (\"+t.join(\", \")+\")\");d.widgetPositioning.horizontal=b.horizontal}if(b.vertical){if(\"string\"!=typeof b.vertical)throw new TypeError(\"widgetPositioning() vertical variable must be a string\");if(b.vertical=b.vertical.toLowerCase(),-1===s.indexOf(b.vertical))throw new TypeError(\"widgetPositioning() expects vertical parameter to be one of (\"+s.join(\", \")+\")\");d.widgetPositioning.vertical=b.vertical}return V(),j},j.calendarWeeks=function(a){if(0===arguments.length)return d.calendarWeeks;if(\"boolean\"!=typeof a)throw new TypeError(\"calendarWeeks() expects parameter to be a boolean value\");return d.calendarWeeks=a,V(),j},j.showTodayButton=function(a){if(0===arguments.length)return d.showTodayButton;if(\"boolean\"!=typeof a)throw new TypeError(\"showTodayButton() expects a boolean parameter\");return d.showTodayButton=a,o&&(X(),_()),j},j.showClear=function(a){if(0===arguments.length)return d.showClear;if(\"boolean\"!=typeof a)throw new TypeError(\"showClear() expects a boolean parameter\");return d.showClear=a,o&&(X(),_()),j},j.widgetParent=function(b){if(0===arguments.length)return d.widgetParent;if(\"string\"==typeof b&&(b=a(b)),null!==b&&\"string\"!=typeof b&&!(b instanceof a))throw new TypeError(\"widgetParent() expects a string or a jQuery object parameter\");return d.widgetParent=b,o&&(X(),_()),j},j.keepOpen=function(a){if(0===arguments.length)return d.keepOpen;if(\"boolean\"!=typeof a)throw new TypeError(\"keepOpen() expects a boolean parameter\");return d.keepOpen=a,j},j.inline=function(a){if(0===arguments.length)return d.inline;if(\"boolean\"!=typeof a)throw new TypeError(\"inline() expects a boolean parameter\");return d.inline=a,j},j.clear=function(){return Y(),j},j.keyBinds=function(a){return d.keyBinds=a,j},j.debug=function(a){if(\"boolean\"!=typeof a)throw new TypeError(\"debug() expects a boolean parameter\");return d.debug=a,j},j.showClose=function(a){if(0===arguments.length)return d.showClose;if(\"boolean\"!=typeof a)throw new TypeError(\"showClose() expects a boolean parameter\");return d.showClose=a,j},j.keepInvalid=function(a){if(0===arguments.length)return d.keepInvalid;if(\"boolean\"!=typeof a)throw new TypeError(\"keepInvalid() expects a boolean parameter\");return d.keepInvalid=a,j},j.datepickerInput=function(a){if(0===arguments.length)return d.datepickerInput;if(\"string\"!=typeof a)throw new TypeError(\"datepickerInput() expects a string parameter\");return d.datepickerInput=a,j},c.is(\"input\"))e=c;else if(e=c.find(d.datepickerInput),0===e.size())e=c.find(\"input\");else if(!e.is(\"input\"))throw new Error('CSS class \"'+d.datepickerInput+'\" cannot be applied to non input element');if(c.hasClass(\"input-group\")&&(n=c.find(0===c.find(\".datepickerbutton\").size()?'[class^=\"input-group-\"]':\".datepickerbutton\")),!d.inline&&!e.is(\"input\"))throw new Error(\"Could not initialize DateTimePicker without an input element\");return a.extend(!0,d,F()),j.options(d),ib(),fb(),e.prop(\"disabled\")&&j.disable(),e.is(\"input\")&&0!==e.val().trim().length?W(bb(e.val().trim())):d.defaultDate&&void 0===e.attr(\"placeholder\")&&W(d.defaultDate),d.inline&&_(),j};a.fn.datetimepicker=function(b){return this.each(function(){var d=a(this);d.data(\"DateTimePicker\")||(b=a.extend(!0,{},a.fn.datetimepicker.defaults,b),d.data(\"DateTimePicker\",c(d,b)))})},a.fn.datetimepicker.defaults={format:!1,dayViewHeaderFormat:\"MMMM YYYY\",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:b.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:\"glyphicon glyphicon-time\",date:\"glyphicon glyphicon-calendar\",up:\"glyphicon glyphicon-chevron-up\",down:\"glyphicon glyphicon-chevron-down\",previous:\"glyphicon glyphicon-chevron-left\",next:\"glyphicon glyphicon-chevron-right\",today:\"glyphicon glyphicon-screenshot\",clear:\"glyphicon glyphicon-trash\",close:\"glyphicon glyphicon-remove\"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:[],calendarWeeks:!1,viewMode:\"days\",toolbarPlacement:\"default\",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:\"auto\",vertical:\"auto\"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,inline:!1,keepInvalid:!1,datepickerInput:\".datepickerinput\",keyBinds:{up:function(a){if(a){var c=this.date()||b();this.date(a.find(\".datepicker\").is(\":visible\")?c.clone().subtract(7,\"d\"):c.clone().add(1,\"m\"))}},down:function(a){if(!a)return void this.show();var c=this.date()||b();this.date(a.find(\".datepicker\").is(\":visible\")?c.clone().add(7,\"d\"):c.clone().subtract(1,\"m\"))},\"control up\":function(a){if(a){var c=this.date()||b();this.date(a.find(\".datepicker\").is(\":visible\")?c.clone().subtract(1,\"y\"):c.clone().add(1,\"h\"))}},\"control down\":function(a){if(a){var c=this.date()||b();this.date(a.find(\".datepicker\").is(\":visible\")?c.clone().add(1,\"y\"):c.clone().subtract(1,\"h\"))}},left:function(a){if(a){var c=this.date()||b();a.find(\".datepicker\").is(\":visible\")&&this.date(c.clone().subtract(1,\"d\"))}},right:function(a){if(a){var c=this.date()||b();a.find(\".datepicker\").is(\":visible\")&&this.date(c.clone().add(1,\"d\"))}},pageUp:function(a){if(a){var c=this.date()||b();a.find(\".datepicker\").is(\":visible\")&&this.date(c.clone().subtract(1,\"M\"))}},pageDown:function(a){if(a){var c=this.date()||b();a.find(\".datepicker\").is(\":visible\")&&this.date(c.clone().add(1,\"M\"))}},enter:function(){this.hide()},escape:function(){this.hide()},\"control space\":function(a){a.find(\".timepicker\").is(\":visible\")&&a.find('.btn[data-action=\"togglePeriod\"]').click()},t:function(){this.date(b())},\"delete\":function(){this.clear()}},debug:!1}});\n/*!\n * Select2 4.0.0\n * https://select2.github.io\n *\n * Released under the MIT license\n * https://github.com/select2/select2/blob/master/LICENSE.md\n */\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['jquery'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS\n    factory(require('jquery'));\n  } else {\n    // Browser globals\n    factory(jQuery);\n  }\n}(function (jQuery) {\n  // This is needed so we can catch the AMD loader configuration and use it\n  // The inner file should be wrapped (by `banner.start.js`) in a function that\n  // returns the AMD loader references.\n  var S2 =\n(function () {\n  // Restore the Select2 AMD loader so it can be used\n  // Needed mostly in the language files, where the loader is not inserted\n  if (jQuery && jQuery.fn && jQuery.fn.select2 && jQuery.fn.select2.amd) {\n    var S2 = jQuery.fn.select2.amd;\n  }\nvar S2;(function () { if (!S2 || !S2.requirejs) {\nif (!S2) { S2 = {}; } else { require = S2; }\n/**\n * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/jrburke/almond for details\n */\n//Going sloppy to avoid 'use strict' string cost, but strict practices should\n//be followed.\n/*jslint sloppy: true */\n/*global setTimeout: false */\n\nvar requirejs, require, define;\n(function (undef) {\n    var main, req, makeMap, handlers,\n        defined = {},\n        waiting = {},\n        config = {},\n        defining = {},\n        hasOwn = Object.prototype.hasOwnProperty,\n        aps = [].slice,\n        jsSuffixRegExp = /\\.js$/;\n\n    function hasProp(obj, prop) {\n        return hasOwn.call(obj, prop);\n    }\n\n    /**\n     * Given a relative module name, like ./something, normalize it to\n     * a real name that can be mapped to a path.\n     * @param {String} name the relative name\n     * @param {String} baseName a real name that the name arg is relative\n     * to.\n     * @returns {String} normalized name\n     */\n    function normalize(name, baseName) {\n        var nameParts, nameSegment, mapValue, foundMap, lastIndex,\n            foundI, foundStarMap, starI, i, j, part,\n            baseParts = baseName && baseName.split(\"/\"),\n            map = config.map,\n            starMap = (map && map['*']) || {};\n\n        //Adjust any relative paths.\n        if (name && name.charAt(0) === \".\") {\n            //If have a base name, try to normalize against it,\n            //otherwise, assume it is a top-level require that will\n            //be relative to baseUrl in the end.\n            if (baseName) {\n                //Convert baseName to array, and lop off the last part,\n                //so that . matches that \"directory\" and not name of the baseName's\n                //module. For instance, baseName of \"one/two/three\", maps to\n                //\"one/two/three.js\", but we want the directory, \"one/two\" for\n                //this normalization.\n                baseParts = baseParts.slice(0, baseParts.length - 1);\n                name = name.split('/');\n                lastIndex = name.length - 1;\n\n                // Node .js allowance:\n                if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {\n                    name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');\n                }\n\n                name = baseParts.concat(name);\n\n                //start trimDots\n                for (i = 0; i < name.length; i += 1) {\n                    part = name[i];\n                    if (part === \".\") {\n                        name.splice(i, 1);\n                        i -= 1;\n                    } else if (part === \"..\") {\n                        if (i === 1 && (name[2] === '..' || name[0] === '..')) {\n                            //End of the line. Keep at least one non-dot\n                            //path segment at the front so it can be mapped\n                            //correctly to disk. Otherwise, there is likely\n                            //no path mapping for a path starting with '..'.\n                            //This can still fail, but catches the most reasonable\n                            //uses of ..\n                            break;\n                        } else if (i > 0) {\n                            name.splice(i - 1, 2);\n                            i -= 2;\n                        }\n                    }\n                }\n                //end trimDots\n\n                name = name.join(\"/\");\n            } else if (name.indexOf('./') === 0) {\n                // No baseName, so this is ID is resolved relative\n                // to baseUrl, pull off the leading dot.\n                name = name.substring(2);\n            }\n        }\n\n        //Apply map config if available.\n        if ((baseParts || starMap) && map) {\n            nameParts = name.split('/');\n\n            for (i = nameParts.length; i > 0; i -= 1) {\n                nameSegment = nameParts.slice(0, i).join(\"/\");\n\n                if (baseParts) {\n                    //Find the longest baseName segment match in the config.\n                    //So, do joins on the biggest to smallest lengths of baseParts.\n                    for (j = baseParts.length; j > 0; j -= 1) {\n                        mapValue = map[baseParts.slice(0, j).join('/')];\n\n                        //baseName segment has  config, find if it has one for\n                        //this name.\n                        if (mapValue) {\n                            mapValue = mapValue[nameSegment];\n                            if (mapValue) {\n                                //Match, update name to the new value.\n                                foundMap = mapValue;\n                                foundI = i;\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                if (foundMap) {\n                    break;\n                }\n\n                //Check for a star map match, but just hold on to it,\n                //if there is a shorter segment match later in a matching\n                //config, then favor over this star map.\n                if (!foundStarMap && starMap && starMap[nameSegment]) {\n                    foundStarMap = starMap[nameSegment];\n                    starI = i;\n                }\n            }\n\n            if (!foundMap && foundStarMap) {\n                foundMap = foundStarMap;\n                foundI = starI;\n            }\n\n            if (foundMap) {\n                nameParts.splice(0, foundI, foundMap);\n                name = nameParts.join('/');\n            }\n        }\n\n        return name;\n    }\n\n    function makeRequire(relName, forceSync) {\n        return function () {\n            //A version of a require function that passes a moduleName\n            //value for items that may need to\n            //look up paths relative to the moduleName\n            return req.apply(undef, aps.call(arguments, 0).concat([relName, forceSync]));\n        };\n    }\n\n    function makeNormalize(relName) {\n        return function (name) {\n            return normalize(name, relName);\n        };\n    }\n\n    function makeLoad(depName) {\n        return function (value) {\n            defined[depName] = value;\n        };\n    }\n\n    function callDep(name) {\n        if (hasProp(waiting, name)) {\n            var args = waiting[name];\n            delete waiting[name];\n            defining[name] = true;\n            main.apply(undef, args);\n        }\n\n        if (!hasProp(defined, name) && !hasProp(defining, name)) {\n            throw new Error('No ' + name);\n        }\n        return defined[name];\n    }\n\n    //Turns a plugin!resource to [plugin, resource]\n    //with the plugin being undefined if the name\n    //did not have a plugin prefix.\n    function splitPrefix(name) {\n        var prefix,\n            index = name ? name.indexOf('!') : -1;\n        if (index > -1) {\n            prefix = name.substring(0, index);\n            name = name.substring(index + 1, name.length);\n        }\n        return [prefix, name];\n    }\n\n    /**\n     * Makes a name map, normalizing the name, and using a plugin\n     * for normalization if necessary. Grabs a ref to plugin\n     * too, as an optimization.\n     */\n    makeMap = function (name, relName) {\n        var plugin,\n            parts = splitPrefix(name),\n            prefix = parts[0];\n\n        name = parts[1];\n\n        if (prefix) {\n            prefix = normalize(prefix, relName);\n            plugin = callDep(prefix);\n        }\n\n        //Normalize according\n        if (prefix) {\n            if (plugin && plugin.normalize) {\n                name = plugin.normalize(name, makeNormalize(relName));\n            } else {\n                name = normalize(name, relName);\n            }\n        } else {\n            name = normalize(name, relName);\n            parts = splitPrefix(name);\n            prefix = parts[0];\n            name = parts[1];\n            if (prefix) {\n                plugin = callDep(prefix);\n            }\n        }\n\n        //Using ridiculous property names for space reasons\n        return {\n            f: prefix ? prefix + '!' + name : name, //fullName\n            n: name,\n            pr: prefix,\n            p: plugin\n        };\n    };\n\n    function makeConfig(name) {\n        return function () {\n            return (config && config.config && config.config[name]) || {};\n        };\n    }\n\n    handlers = {\n        require: function (name) {\n            return makeRequire(name);\n        },\n        exports: function (name) {\n            var e = defined[name];\n            if (typeof e !== 'undefined') {\n                return e;\n            } else {\n                return (defined[name] = {});\n            }\n        },\n        module: function (name) {\n            return {\n                id: name,\n                uri: '',\n                exports: defined[name],\n                config: makeConfig(name)\n            };\n        }\n    };\n\n    main = function (name, deps, callback, relName) {\n        var cjsModule, depName, ret, map, i,\n            args = [],\n            callbackType = typeof callback,\n            usingExports;\n\n        //Use name if no relName\n        relName = relName || name;\n\n        //Call the callback to define the module, if necessary.\n        if (callbackType === 'undefined' || callbackType === 'function') {\n            //Pull out the defined dependencies and pass the ordered\n            //values to the callback.\n            //Default to [require, exports, module] if no deps\n            deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;\n            for (i = 0; i < deps.length; i += 1) {\n                map = makeMap(deps[i], relName);\n                depName = map.f;\n\n                //Fast path CommonJS standard dependencies.\n                if (depName === \"require\") {\n                    args[i] = handlers.require(name);\n                } else if (depName === \"exports\") {\n                    //CommonJS module spec 1.1\n                    args[i] = handlers.exports(name);\n                    usingExports = true;\n                } else if (depName === \"module\") {\n                    //CommonJS module spec 1.1\n                    cjsModule = args[i] = handlers.module(name);\n                } else if (hasProp(defined, depName) ||\n                           hasProp(waiting, depName) ||\n                           hasProp(defining, depName)) {\n                    args[i] = callDep(depName);\n                } else if (map.p) {\n                    map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});\n                    args[i] = defined[depName];\n                } else {\n                    throw new Error(name + ' missing ' + depName);\n                }\n            }\n\n            ret = callback ? callback.apply(defined[name], args) : undefined;\n\n            if (name) {\n                //If setting exports via \"module\" is in play,\n                //favor that over return value and exports. After that,\n                //favor a non-undefined return value over exports use.\n                if (cjsModule && cjsModule.exports !== undef &&\n                        cjsModule.exports !== defined[name]) {\n                    defined[name] = cjsModule.exports;\n                } else if (ret !== undef || !usingExports) {\n                    //Use the return value from the function.\n                    defined[name] = ret;\n                }\n            }\n        } else if (name) {\n            //May just be an object definition for the module. Only\n            //worry about defining if have a module name.\n            defined[name] = callback;\n        }\n    };\n\n    requirejs = require = req = function (deps, callback, relName, forceSync, alt) {\n        if (typeof deps === \"string\") {\n            if (handlers[deps]) {\n                //callback in this case is really relName\n                return handlers[deps](callback);\n            }\n            //Just return the module wanted. In this scenario, the\n            //deps arg is the module name, and second arg (if passed)\n            //is just the relName.\n            //Normalize module name, if it contains . or ..\n            return callDep(makeMap(deps, callback).f);\n        } else if (!deps.splice) {\n            //deps is a config object, not an array.\n            config = deps;\n            if (config.deps) {\n                req(config.deps, config.callback);\n            }\n            if (!callback) {\n                return;\n            }\n\n            if (callback.splice) {\n                //callback is an array, which means it is a dependency list.\n                //Adjust args if there are dependencies\n                deps = callback;\n                callback = relName;\n                relName = null;\n            } else {\n                deps = undef;\n            }\n        }\n\n        //Support require(['a'])\n        callback = callback || function () {};\n\n        //If relName is a function, it is an errback handler,\n        //so remove it.\n        if (typeof relName === 'function') {\n            relName = forceSync;\n            forceSync = alt;\n        }\n\n        //Simulate async callback;\n        if (forceSync) {\n            main(undef, deps, callback, relName);\n        } else {\n            //Using a non-zero value because of concern for what old browsers\n            //do, and latest browsers \"upgrade\" to 4 if lower value is used:\n            //http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:\n            //If want a value immediately, use require('id') instead -- something\n            //that works in almond on the global level, but not guaranteed and\n            //unlikely to work in other AMD implementations.\n            setTimeout(function () {\n                main(undef, deps, callback, relName);\n            }, 4);\n        }\n\n        return req;\n    };\n\n    /**\n     * Just drops the config on the floor, but returns req in case\n     * the config return value is used.\n     */\n    req.config = function (cfg) {\n        return req(cfg);\n    };\n\n    /**\n     * Expose module registry for debugging and tooling\n     */\n    requirejs._defined = defined;\n\n    define = function (name, deps, callback) {\n\n        //This module may not have dependencies\n        if (!deps.splice) {\n            //deps is not an array, so probably means\n            //an object literal or factory function for\n            //the value. Adjust args.\n            callback = deps;\n            deps = [];\n        }\n\n        if (!hasProp(defined, name) && !hasProp(waiting, name)) {\n            waiting[name] = [name, deps, callback];\n        }\n    };\n\n    define.amd = {\n        jQuery: true\n    };\n}());\n\nS2.requirejs = requirejs;S2.require = require;S2.define = define;\n}\n}());\nS2.define(\"almond\", function(){});\n\n/* global jQuery:false, $:false */\nS2.define('jquery',[],function () {\n  var _$ = jQuery || $;\n\n  if (_$ == null && console && console.error) {\n    console.error(\n      'Select2: An instance of jQuery or a jQuery-compatible library was not ' +\n      'found. Make sure that you are including jQuery before Select2 on your ' +\n      'web page.'\n    );\n  }\n\n  return _$;\n});\n\nS2.define('select2/utils',[\n  'jquery'\n], function ($) {\n  var Utils = {};\n\n  Utils.Extend = function (ChildClass, SuperClass) {\n    var __hasProp = {}.hasOwnProperty;\n\n    function BaseConstructor () {\n      this.constructor = ChildClass;\n    }\n\n    for (var key in SuperClass) {\n      if (__hasProp.call(SuperClass, key)) {\n        ChildClass[key] = SuperClass[key];\n      }\n    }\n\n    BaseConstructor.prototype = SuperClass.prototype;\n    ChildClass.prototype = new BaseConstructor();\n    ChildClass.__super__ = SuperClass.prototype;\n\n    return ChildClass;\n  };\n\n  function getMethods (theClass) {\n    var proto = theClass.prototype;\n\n    var methods = [];\n\n    for (var methodName in proto) {\n      var m = proto[methodName];\n\n      if (typeof m !== 'function') {\n        continue;\n      }\n\n      if (methodName === 'constructor') {\n        continue;\n      }\n\n      methods.push(methodName);\n    }\n\n    return methods;\n  }\n\n  Utils.Decorate = function (SuperClass, DecoratorClass) {\n    var decoratedMethods = getMethods(DecoratorClass);\n    var superMethods = getMethods(SuperClass);\n\n    function DecoratedClass () {\n      var unshift = Array.prototype.unshift;\n\n      var argCount = DecoratorClass.prototype.constructor.length;\n\n      var calledConstructor = SuperClass.prototype.constructor;\n\n      if (argCount > 0) {\n        unshift.call(arguments, SuperClass.prototype.constructor);\n\n        calledConstructor = DecoratorClass.prototype.constructor;\n      }\n\n      calledConstructor.apply(this, arguments);\n    }\n\n    DecoratorClass.displayName = SuperClass.displayName;\n\n    function ctr () {\n      this.constructor = DecoratedClass;\n    }\n\n    DecoratedClass.prototype = new ctr();\n\n    for (var m = 0; m < superMethods.length; m++) {\n        var superMethod = superMethods[m];\n\n        DecoratedClass.prototype[superMethod] =\n          SuperClass.prototype[superMethod];\n    }\n\n    var calledMethod = function (methodName) {\n      // Stub out the original method if it's not decorating an actual method\n      var originalMethod = function () {};\n\n      if (methodName in DecoratedClass.prototype) {\n        originalMethod = DecoratedClass.prototype[methodName];\n      }\n\n      var decoratedMethod = DecoratorClass.prototype[methodName];\n\n      return function () {\n        var unshift = Array.prototype.unshift;\n\n        unshift.call(arguments, originalMethod);\n\n        return decoratedMethod.apply(this, arguments);\n      };\n    };\n\n    for (var d = 0; d < decoratedMethods.length; d++) {\n      var decoratedMethod = decoratedMethods[d];\n\n      DecoratedClass.prototype[decoratedMethod] = calledMethod(decoratedMethod);\n    }\n\n    return DecoratedClass;\n  };\n\n  var Observable = function () {\n    this.listeners = {};\n  };\n\n  Observable.prototype.on = function (event, callback) {\n    this.listeners = this.listeners || {};\n\n    if (event in this.listeners) {\n      this.listeners[event].push(callback);\n    } else {\n      this.listeners[event] = [callback];\n    }\n  };\n\n  Observable.prototype.trigger = function (event) {\n    var slice = Array.prototype.slice;\n\n    this.listeners = this.listeners || {};\n\n    if (event in this.listeners) {\n      this.invoke(this.listeners[event], slice.call(arguments, 1));\n    }\n\n    if ('*' in this.listeners) {\n      this.invoke(this.listeners['*'], arguments);\n    }\n  };\n\n  Observable.prototype.invoke = function (listeners, params) {\n    for (var i = 0, len = listeners.length; i < len; i++) {\n      listeners[i].apply(this, params);\n    }\n  };\n\n  Utils.Observable = Observable;\n\n  Utils.generateChars = function (length) {\n    var chars = '';\n\n    for (var i = 0; i < length; i++) {\n      var randomChar = Math.floor(Math.random() * 36);\n      chars += randomChar.toString(36);\n    }\n\n    return chars;\n  };\n\n  Utils.bind = function (func, context) {\n    return function () {\n      func.apply(context, arguments);\n    };\n  };\n\n  Utils._convertData = function (data) {\n    for (var originalKey in data) {\n      var keys = originalKey.split('-');\n\n      var dataLevel = data;\n\n      if (keys.length === 1) {\n        continue;\n      }\n\n      for (var k = 0; k < keys.length; k++) {\n        var key = keys[k];\n\n        // Lowercase the first letter\n        // By default, dash-separated becomes camelCase\n        key = key.substring(0, 1).toLowerCase() + key.substring(1);\n\n        if (!(key in dataLevel)) {\n          dataLevel[key] = {};\n        }\n\n        if (k == keys.length - 1) {\n          dataLevel[key] = data[originalKey];\n        }\n\n        dataLevel = dataLevel[key];\n      }\n\n      delete data[originalKey];\n    }\n\n    return data;\n  };\n\n  Utils.hasScroll = function (index, el) {\n    // Adapted from the function created by @ShadowScripter\n    // and adapted by @BillBarry on the Stack Exchange Code Review website.\n    // The original code can be found at\n    // http://codereview.stackexchange.com/q/13338\n    // and was designed to be used with the Sizzle selector engine.\n\n    var $el = $(el);\n    var overflowX = el.style.overflowX;\n    var overflowY = el.style.overflowY;\n\n    //Check both x and y declarations\n    if (overflowX === overflowY &&\n        (overflowY === 'hidden' || overflowY === 'visible')) {\n      return false;\n    }\n\n    if (overflowX === 'scroll' || overflowY === 'scroll') {\n      return true;\n    }\n\n    return ($el.innerHeight() < el.scrollHeight ||\n      $el.innerWidth() < el.scrollWidth);\n  };\n\n  Utils.escapeMarkup = function (markup) {\n    var replaceMap = {\n      '\\\\': '&#92;',\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      '\\'': '&#39;',\n      '/': '&#47;'\n    };\n\n    // Do not try to escape the markup if it's not a string\n    if (typeof markup !== 'string') {\n      return markup;\n    }\n\n    return String(markup).replace(/[&<>\"'\\/\\\\]/g, function (match) {\n      return replaceMap[match];\n    });\n  };\n\n  // Append an array of jQuery nodes to a given element.\n  Utils.appendMany = function ($element, $nodes) {\n    // jQuery 1.7.x does not support $.fn.append() with an array\n    // Fall back to a jQuery object collection using $.fn.add()\n    if ($.fn.jquery.substr(0, 3) === '1.7') {\n      var $jqNodes = $();\n\n      $.map($nodes, function (node) {\n        $jqNodes = $jqNodes.add(node);\n      });\n\n      $nodes = $jqNodes;\n    }\n\n    $element.append($nodes);\n  };\n\n  return Utils;\n});\n\nS2.define('select2/results',[\n  'jquery',\n  './utils'\n], function ($, Utils) {\n  function Results ($element, options, dataAdapter) {\n    this.$element = $element;\n    this.data = dataAdapter;\n    this.options = options;\n\n    Results.__super__.constructor.call(this);\n  }\n\n  Utils.Extend(Results, Utils.Observable);\n\n  Results.prototype.render = function () {\n    var $results = $(\n      '<ul class=\"select2-results__options\" role=\"tree\"></ul>'\n    );\n\n    if (this.options.get('multiple')) {\n      $results.attr('aria-multiselectable', 'true');\n    }\n\n    this.$results = $results;\n\n    return $results;\n  };\n\n  Results.prototype.clear = function () {\n    this.$results.empty();\n  };\n\n  Results.prototype.displayMessage = function (params) {\n    var escapeMarkup = this.options.get('escapeMarkup');\n\n    this.clear();\n    this.hideLoading();\n\n    var $message = $(\n      '<li role=\"treeitem\" class=\"select2-results__option\"></li>'\n    );\n\n    var message = this.options.get('translations').get(params.message);\n\n    $message.append(\n      escapeMarkup(\n        message(params.args)\n      )\n    );\n\n    this.$results.append($message);\n  };\n\n  Results.prototype.append = function (data) {\n    this.hideLoading();\n\n    var $options = [];\n\n    if (data.results == null || data.results.length === 0) {\n      if (this.$results.children().length === 0) {\n        this.trigger('results:message', {\n          message: 'noResults'\n        });\n      }\n\n      return;\n    }\n\n    data.results = this.sort(data.results);\n\n    for (var d = 0; d < data.results.length; d++) {\n      var item = data.results[d];\n\n      var $option = this.option(item);\n\n      $options.push($option);\n    }\n\n    this.$results.append($options);\n  };\n\n  Results.prototype.position = function ($results, $dropdown) {\n    var $resultsContainer = $dropdown.find('.select2-results');\n    $resultsContainer.append($results);\n  };\n\n  Results.prototype.sort = function (data) {\n    var sorter = this.options.get('sorter');\n\n    return sorter(data);\n  };\n\n  Results.prototype.setClasses = function () {\n    var self = this;\n\n    this.data.current(function (selected) {\n      var selectedIds = $.map(selected, function (s) {\n        return s.id.toString();\n      });\n\n      var $options = self.$results\n        .find('.select2-results__option[aria-selected]');\n\n      $options.each(function () {\n        var $option = $(this);\n\n        var item = $.data(this, 'data');\n\n        // id needs to be converted to a string when comparing\n        var id = '' + item.id;\n\n        if ((item.element != null && item.element.selected) ||\n            (item.element == null && $.inArray(id, selectedIds) > -1)) {\n          $option.attr('aria-selected', 'true');\n        } else {\n          $option.attr('aria-selected', 'false');\n        }\n      });\n\n      var $selected = $options.filter('[aria-selected=true]');\n\n      // Check if there are any selected options\n      if ($selected.length > 0) {\n        // If there are selected options, highlight the first\n        $selected.first().trigger('mouseenter');\n      } else {\n        // If there are no selected options, highlight the first option\n        // in the dropdown\n        $options.first().trigger('mouseenter');\n      }\n    });\n  };\n\n  Results.prototype.showLoading = function (params) {\n    this.hideLoading();\n\n    var loadingMore = this.options.get('translations').get('searching');\n\n    var loading = {\n      disabled: true,\n      loading: true,\n      text: loadingMore(params)\n    };\n    var $loading = this.option(loading);\n    $loading.className += ' loading-results';\n\n    this.$results.prepend($loading);\n  };\n\n  Results.prototype.hideLoading = function () {\n    this.$results.find('.loading-results').remove();\n  };\n\n  Results.prototype.option = function (data) {\n    var option = document.createElement('li');\n    option.className = 'select2-results__option';\n\n    var attrs = {\n      'role': 'treeitem',\n      'aria-selected': 'false'\n    };\n\n    if (data.disabled) {\n      delete attrs['aria-selected'];\n      attrs['aria-disabled'] = 'true';\n    }\n\n    if (data.id == null) {\n      delete attrs['aria-selected'];\n    }\n\n    if (data._resultId != null) {\n      option.id = data._resultId;\n    }\n\n    if (data.title) {\n      option.title = data.title;\n    }\n\n    if (data.children) {\n      attrs.role = 'group';\n      attrs['aria-label'] = data.text;\n      delete attrs['aria-selected'];\n    }\n\n    for (var attr in attrs) {\n      var val = attrs[attr];\n\n      option.setAttribute(attr, val);\n    }\n\n    if (data.children) {\n      var $option = $(option);\n\n      var label = document.createElement('strong');\n      label.className = 'select2-results__group';\n\n      var $label = $(label);\n      this.template(data, label);\n\n      var $children = [];\n\n      for (var c = 0; c < data.children.length; c++) {\n        var child = data.children[c];\n\n        var $child = this.option(child);\n\n        $children.push($child);\n      }\n\n      var $childrenContainer = $('<ul></ul>', {\n        'class': 'select2-results__options select2-results__options--nested'\n      });\n\n      $childrenContainer.append($children);\n\n      $option.append(label);\n      $option.append($childrenContainer);\n    } else {\n      this.template(data, option);\n    }\n\n    $.data(option, 'data', data);\n\n    return option;\n  };\n\n  Results.prototype.bind = function (container, $container) {\n    var self = this;\n\n    var id = container.id + '-results';\n\n    this.$results.attr('id', id);\n\n    container.on('results:all', function (params) {\n      self.clear();\n      self.append(params.data);\n\n      if (container.isOpen()) {\n        self.setClasses();\n      }\n    });\n\n    container.on('results:append', function (params) {\n      self.append(params.data);\n\n      if (container.isOpen()) {\n        self.setClasses();\n      }\n    });\n\n    container.on('query', function (params) {\n      self.showLoading(params);\n    });\n\n    container.on('select', function () {\n      if (!container.isOpen()) {\n        return;\n      }\n\n      self.setClasses();\n    });\n\n    container.on('unselect', function () {\n      if (!container.isOpen()) {\n        return;\n      }\n\n      self.setClasses();\n    });\n\n    container.on('open', function () {\n      // When the dropdown is open, aria-expended=\"true\"\n      self.$results.attr('aria-expanded', 'true');\n      self.$results.attr('aria-hidden', 'false');\n\n      self.setClasses();\n      self.ensureHighlightVisible();\n    });\n\n    container.on('close', function () {\n      // When the dropdown is closed, aria-expended=\"false\"\n      self.$results.attr('aria-expanded', 'false');\n      self.$results.attr('aria-hidden', 'true');\n      self.$results.removeAttr('aria-activedescendant');\n    });\n\n    container.on('results:toggle', function () {\n      var $highlighted = self.getHighlightedResults();\n\n      if ($highlighted.length === 0) {\n        return;\n      }\n\n      $highlighted.trigger('mouseup');\n    });\n\n    container.on('results:select', function () {\n      var $highlighted = self.getHighlightedResults();\n\n      if ($highlighted.length === 0) {\n        return;\n      }\n\n      var data = $highlighted.data('data');\n\n      if ($highlighted.attr('aria-selected') == 'true') {\n        self.trigger('close');\n      } else {\n        self.trigger('select', {\n          data: data\n        });\n      }\n    });\n\n    container.on('results:previous', function () {\n      var $highlighted = self.getHighlightedResults();\n\n      var $options = self.$results.find('[aria-selected]');\n\n      var currentIndex = $options.index($highlighted);\n\n      // If we are already at te top, don't move further\n      if (currentIndex === 0) {\n        return;\n      }\n\n      var nextIndex = currentIndex - 1;\n\n      // If none are highlighted, highlight the first\n      if ($highlighted.length === 0) {\n        nextIndex = 0;\n      }\n\n      var $next = $options.eq(nextIndex);\n\n      $next.trigger('mouseenter');\n\n      var currentOffset = self.$results.offset().top;\n      var nextTop = $next.offset().top;\n      var nextOffset = self.$results.scrollTop() + (nextTop - currentOffset);\n\n      if (nextIndex === 0) {\n        self.$results.scrollTop(0);\n      } else if (nextTop - currentOffset < 0) {\n        self.$results.scrollTop(nextOffset);\n      }\n    });\n\n    container.on('results:next', function () {\n      var $highlighted = self.getHighlightedResults();\n\n      var $options = self.$results.find('[aria-selected]');\n\n      var currentIndex = $options.index($highlighted);\n\n      var nextIndex = currentIndex + 1;\n\n      // If we are at the last option, stay there\n      if (nextIndex >= $options.length) {\n        return;\n      }\n\n      var $next = $options.eq(nextIndex);\n\n      $next.trigger('mouseenter');\n\n      var currentOffset = self.$results.offset().top +\n        self.$results.outerHeight(false);\n      var nextBottom = $next.offset().top + $next.outerHeight(false);\n      var nextOffset = self.$results.scrollTop() + nextBottom - currentOffset;\n\n      if (nextIndex === 0) {\n        self.$results.scrollTop(0);\n      } else if (nextBottom > currentOffset) {\n        self.$results.scrollTop(nextOffset);\n      }\n    });\n\n    container.on('results:focus', function (params) {\n      params.element.addClass('select2-results__option--highlighted');\n    });\n\n    container.on('results:message', function (params) {\n      self.displayMessage(params);\n    });\n\n    if ($.fn.mousewheel) {\n      this.$results.on('mousewheel', function (e) {\n        var top = self.$results.scrollTop();\n\n        var bottom = (\n          self.$results.get(0).scrollHeight -\n          self.$results.scrollTop() +\n          e.deltaY\n        );\n\n        var isAtTop = e.deltaY > 0 && top - e.deltaY <= 0;\n        var isAtBottom = e.deltaY < 0 && bottom <= self.$results.height();\n\n        if (isAtTop) {\n          self.$results.scrollTop(0);\n\n          e.preventDefault();\n          e.stopPropagation();\n        } else if (isAtBottom) {\n          self.$results.scrollTop(\n            self.$results.get(0).scrollHeight - self.$results.height()\n          );\n\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n    }\n\n    this.$results.on('mouseup', '.select2-results__option[aria-selected]',\n      function (evt) {\n      var $this = $(this);\n\n      var data = $this.data('data');\n\n      if ($this.attr('aria-selected') === 'true') {\n        if (self.options.get('multiple')) {\n          self.trigger('unselect', {\n            originalEvent: evt,\n            data: data\n          });\n        } else {\n          self.trigger('close');\n        }\n\n        return;\n      }\n\n      self.trigger('select', {\n        originalEvent: evt,\n        data: data\n      });\n    });\n\n    this.$results.on('mouseenter', '.select2-results__option[aria-selected]',\n      function (evt) {\n      var data = $(this).data('data');\n\n      self.getHighlightedResults()\n          .removeClass('select2-results__option--highlighted');\n\n      self.trigger('results:focus', {\n        data: data,\n        element: $(this)\n      });\n    });\n  };\n\n  Results.prototype.getHighlightedResults = function () {\n    var $highlighted = this.$results\n    .find('.select2-results__option--highlighted');\n\n    return $highlighted;\n  };\n\n  Results.prototype.destroy = function () {\n    this.$results.remove();\n  };\n\n  Results.prototype.ensureHighlightVisible = function () {\n    var $highlighted = this.getHighlightedResults();\n\n    if ($highlighted.length === 0) {\n      return;\n    }\n\n    var $options = this.$results.find('[aria-selected]');\n\n    var currentIndex = $options.index($highlighted);\n\n    var currentOffset = this.$results.offset().top;\n    var nextTop = $highlighted.offset().top;\n    var nextOffset = this.$results.scrollTop() + (nextTop - currentOffset);\n\n    var offsetDelta = nextTop - currentOffset;\n    nextOffset -= $highlighted.outerHeight(false) * 2;\n\n    if (currentIndex <= 2) {\n      this.$results.scrollTop(0);\n    } else if (offsetDelta > this.$results.outerHeight() || offsetDelta < 0) {\n      this.$results.scrollTop(nextOffset);\n    }\n  };\n\n  Results.prototype.template = function (result, container) {\n    var template = this.options.get('templateResult');\n    var escapeMarkup = this.options.get('escapeMarkup');\n\n    var content = template(result);\n\n    if (content == null) {\n      container.style.display = 'none';\n    } else if (typeof content === 'string') {\n      container.innerHTML = escapeMarkup(content);\n    } else {\n      $(container).append(content);\n    }\n  };\n\n  return Results;\n});\n\nS2.define('select2/keys',[\n\n], function () {\n  var KEYS = {\n    BACKSPACE: 8,\n    TAB: 9,\n    ENTER: 13,\n    SHIFT: 16,\n    CTRL: 17,\n    ALT: 18,\n    ESC: 27,\n    SPACE: 32,\n    PAGE_UP: 33,\n    PAGE_DOWN: 34,\n    END: 35,\n    HOME: 36,\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40,\n    DELETE: 46\n  };\n\n  return KEYS;\n});\n\nS2.define('select2/selection/base',[\n  'jquery',\n  '../utils',\n  '../keys'\n], function ($, Utils, KEYS) {\n  function BaseSelection ($element, options) {\n    this.$element = $element;\n    this.options = options;\n\n    BaseSelection.__super__.constructor.call(this);\n  }\n\n  Utils.Extend(BaseSelection, Utils.Observable);\n\n  BaseSelection.prototype.render = function () {\n    var $selection = $(\n      '<span class=\"select2-selection\" role=\"combobox\" ' +\n      'aria-autocomplete=\"list\" aria-haspopup=\"true\" aria-expanded=\"false\">' +\n      '</span>'\n    );\n\n    this._tabindex = 0;\n\n    if (this.$element.data('old-tabindex') != null) {\n      this._tabindex = this.$element.data('old-tabindex');\n    } else if (this.$element.attr('tabindex') != null) {\n      this._tabindex = this.$element.attr('tabindex');\n    }\n\n    $selection.attr('title', this.$element.attr('title'));\n    $selection.attr('tabindex', this._tabindex);\n\n    this.$selection = $selection;\n\n    return $selection;\n  };\n\n  BaseSelection.prototype.bind = function (container, $container) {\n    var self = this;\n\n    var id = container.id + '-container';\n    var resultsId = container.id + '-results';\n\n    this.container = container;\n\n    this.$selection.on('focus', function (evt) {\n      self.trigger('focus', evt);\n    });\n\n    this.$selection.on('blur', function (evt) {\n      self.trigger('blur', evt);\n    });\n\n    this.$selection.on('keydown', function (evt) {\n      self.trigger('keypress', evt);\n\n      if (evt.which === KEYS.SPACE) {\n        evt.preventDefault();\n      }\n    });\n\n    container.on('results:focus', function (params) {\n      self.$selection.attr('aria-activedescendant', params.data._resultId);\n    });\n\n    container.on('selection:update', function (params) {\n      self.update(params.data);\n    });\n\n    container.on('open', function () {\n      // When the dropdown is open, aria-expanded=\"true\"\n      self.$selection.attr('aria-expanded', 'true');\n      self.$selection.attr('aria-owns', resultsId);\n\n      self._attachCloseHandler(container);\n    });\n\n    container.on('close', function () {\n      // When the dropdown is closed, aria-expanded=\"false\"\n      self.$selection.attr('aria-expanded', 'false');\n      self.$selection.removeAttr('aria-activedescendant');\n      self.$selection.removeAttr('aria-owns');\n\n      self.$selection.focus();\n\n      self._detachCloseHandler(container);\n    });\n\n    container.on('enable', function () {\n      self.$selection.attr('tabindex', self._tabindex);\n    });\n\n    container.on('disable', function () {\n      self.$selection.attr('tabindex', '-1');\n    });\n  };\n\n  BaseSelection.prototype._attachCloseHandler = function (container) {\n    var self = this;\n\n    $(document.body).on('mousedown.select2.' + container.id, function (e) {\n      var $target = $(e.target);\n\n      var $select = $target.closest('.select2');\n\n      var $all = $('.select2.select2-container--open');\n\n      $all.each(function () {\n        var $this = $(this);\n\n        if (this == $select[0]) {\n          return;\n        }\n\n        var $element = $this.data('element');\n\n        $element.select2('close');\n      });\n    });\n  };\n\n  BaseSelection.prototype._detachCloseHandler = function (container) {\n    $(document.body).off('mousedown.select2.' + container.id);\n  };\n\n  BaseSelection.prototype.position = function ($selection, $container) {\n    var $selectionContainer = $container.find('.selection');\n    $selectionContainer.append($selection);\n  };\n\n  BaseSelection.prototype.destroy = function () {\n    this._detachCloseHandler(this.container);\n  };\n\n  BaseSelection.prototype.update = function (data) {\n    throw new Error('The `update` method must be defined in child classes.');\n  };\n\n  return BaseSelection;\n});\n\nS2.define('select2/selection/single',[\n  'jquery',\n  './base',\n  '../utils',\n  '../keys'\n], function ($, BaseSelection, Utils, KEYS) {\n  function SingleSelection () {\n    SingleSelection.__super__.constructor.apply(this, arguments);\n  }\n\n  Utils.Extend(SingleSelection, BaseSelection);\n\n  SingleSelection.prototype.render = function () {\n    var $selection = SingleSelection.__super__.render.call(this);\n\n    $selection.addClass('select2-selection--single');\n\n    $selection.html(\n      '<span class=\"select2-selection__rendered\"></span>' +\n      '<span class=\"select2-selection__arrow\" role=\"presentation\">' +\n        '<b role=\"presentation\"></b>' +\n      '</span>'\n    );\n\n    return $selection;\n  };\n\n  SingleSelection.prototype.bind = function (container, $container) {\n    var self = this;\n\n    SingleSelection.__super__.bind.apply(this, arguments);\n\n    var id = container.id + '-container';\n\n    this.$selection.find('.select2-selection__rendered').attr('id', id);\n    this.$selection.attr('aria-labelledby', id);\n\n    this.$selection.on('mousedown', function (evt) {\n      // Only respond to left clicks\n      if (evt.which !== 1) {\n        return;\n      }\n\n      self.trigger('toggle', {\n        originalEvent: evt\n      });\n    });\n\n    this.$selection.on('focus', function (evt) {\n      // User focuses on the container\n    });\n\n    this.$selection.on('blur', function (evt) {\n      // User exits the container\n    });\n\n    container.on('selection:update', function (params) {\n      self.update(params.data);\n    });\n  };\n\n  SingleSelection.prototype.clear = function () {\n    this.$selection.find('.select2-selection__rendered').empty();\n  };\n\n  SingleSelection.prototype.display = function (data) {\n    var template = this.options.get('templateSelection');\n    var escapeMarkup = this.options.get('escapeMarkup');\n\n    return escapeMarkup(template(data));\n  };\n\n  SingleSelection.prototype.selectionContainer = function () {\n    return $('<span></span>');\n  };\n\n  SingleSelection.prototype.update = function (data) {\n    if (data.length === 0) {\n      this.clear();\n      return;\n    }\n\n    var selection = data[0];\n\n    var formatted = this.display(selection);\n\n    var $rendered = this.$selection.find('.select2-selection__rendered');\n    $rendered.empty().append(formatted);\n    $rendered.prop('title', selection.title || selection.text);\n  };\n\n  return SingleSelection;\n});\n\nS2.define('select2/selection/multiple',[\n  'jquery',\n  './base',\n  '../utils'\n], function ($, BaseSelection, Utils) {\n  function MultipleSelection ($element, options) {\n    MultipleSelection.__super__.constructor.apply(this, arguments);\n  }\n\n  Utils.Extend(MultipleSelection, BaseSelection);\n\n  MultipleSelection.prototype.render = function () {\n    var $selection = MultipleSelection.__super__.render.call(this);\n\n    $selection.addClass('select2-selection--multiple');\n\n    $selection.html(\n      '<ul class=\"select2-selection__rendered\"></ul>'\n    );\n\n    return $selection;\n  };\n\n  MultipleSelection.prototype.bind = function (container, $container) {\n    var self = this;\n\n    MultipleSelection.__super__.bind.apply(this, arguments);\n\n    this.$selection.on('click', function (evt) {\n      self.trigger('toggle', {\n        originalEvent: evt\n      });\n    });\n\n    this.$selection.on('click', '.select2-selection__choice__remove',\n      function (evt) {\n      var $remove = $(this);\n      var $selection = $remove.parent();\n\n      var data = $selection.data('data');\n\n      self.trigger('unselect', {\n        originalEvent: evt,\n        data: data\n      });\n    });\n  };\n\n  MultipleSelection.prototype.clear = function () {\n    this.$selection.find('.select2-selection__rendered').empty();\n  };\n\n  MultipleSelection.prototype.display = function (data) {\n    var template = this.options.get('templateSelection');\n    var escapeMarkup = this.options.get('escapeMarkup');\n\n    return escapeMarkup(template(data));\n  };\n\n  MultipleSelection.prototype.selectionContainer = function () {\n    var $container = $(\n      '<li class=\"select2-selection__choice\">' +\n        '<span class=\"select2-selection__choice__remove\" role=\"presentation\">' +\n          '&times;' +\n        '</span>' +\n      '</li>'\n    );\n\n    return $container;\n  };\n\n  MultipleSelection.prototype.update = function (data) {\n    this.clear();\n\n    if (data.length === 0) {\n      return;\n    }\n\n    var $selections = [];\n\n    for (var d = 0; d < data.length; d++) {\n      var selection = data[d];\n\n      var formatted = this.display(selection);\n      var $selection = this.selectionContainer();\n\n      $selection.append(formatted);\n      $selection.prop('title', selection.title || selection.text);\n\n      $selection.data('data', selection);\n\n      $selections.push($selection);\n    }\n\n    var $rendered = this.$selection.find('.select2-selection__rendered');\n\n    Utils.appendMany($rendered, $selections);\n  };\n\n  return MultipleSelection;\n});\n\nS2.define('select2/selection/placeholder',[\n  '../utils'\n], function (Utils) {\n  function Placeholder (decorated, $element, options) {\n    this.placeholder = this.normalizePlaceholder(options.get('placeholder'));\n\n    decorated.call(this, $element, options);\n  }\n\n  Placeholder.prototype.normalizePlaceholder = function (_, placeholder) {\n    if (typeof placeholder === 'string') {\n      placeholder = {\n        id: '',\n        text: placeholder\n      };\n    }\n\n    return placeholder;\n  };\n\n  Placeholder.prototype.createPlaceholder = function (decorated, placeholder) {\n    var $placeholder = this.selectionContainer();\n\n    $placeholder.html(this.display(placeholder));\n    $placeholder.addClass('select2-selection__placeholder')\n                .removeClass('select2-selection__choice');\n\n    return $placeholder;\n  };\n\n  Placeholder.prototype.update = function (decorated, data) {\n    var singlePlaceholder = (\n      data.length == 1 && data[0].id != this.placeholder.id\n    );\n    var multipleSelections = data.length > 1;\n\n    if (multipleSelections || singlePlaceholder) {\n      return decorated.call(this, data);\n    }\n\n    this.clear();\n\n    var $placeholder = this.createPlaceholder(this.placeholder);\n\n    this.$selection.find('.select2-selection__rendered').append($placeholder);\n  };\n\n  return Placeholder;\n});\n\nS2.define('select2/selection/allowClear',[\n  'jquery',\n  '../keys'\n], function ($, KEYS) {\n  function AllowClear () { }\n\n  AllowClear.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    decorated.call(this, container, $container);\n\n    if (this.placeholder == null) {\n      if (this.options.get('debug') && window.console && console.error) {\n        console.error(\n          'Select2: The `allowClear` option should be used in combination ' +\n          'with the `placeholder` option.'\n        );\n      }\n    }\n\n    this.$selection.on('mousedown', '.select2-selection__clear',\n      function (evt) {\n        self._handleClear(evt);\n    });\n\n    container.on('keypress', function (evt) {\n      self._handleKeyboardClear(evt, container);\n    });\n  };\n\n  AllowClear.prototype._handleClear = function (_, evt) {\n    // Ignore the event if it is disabled\n    if (this.options.get('disabled')) {\n      return;\n    }\n\n    var $clear = this.$selection.find('.select2-selection__clear');\n\n    // Ignore the event if nothing has been selected\n    if ($clear.length === 0) {\n      return;\n    }\n\n    evt.stopPropagation();\n\n    var data = $clear.data('data');\n\n    for (var d = 0; d < data.length; d++) {\n      var unselectData = {\n        data: data[d]\n      };\n\n      // Trigger the `unselect` event, so people can prevent it from being\n      // cleared.\n      this.trigger('unselect', unselectData);\n\n      // If the event was prevented, don't clear it out.\n      if (unselectData.prevented) {\n        return;\n      }\n    }\n\n    this.$element.val(this.placeholder.id).trigger('change');\n\n    this.trigger('toggle');\n  };\n\n  AllowClear.prototype._handleKeyboardClear = function (_, evt, container) {\n    if (container.isOpen()) {\n      return;\n    }\n\n    if (evt.which == KEYS.DELETE || evt.which == KEYS.BACKSPACE) {\n      this._handleClear(evt);\n    }\n  };\n\n  AllowClear.prototype.update = function (decorated, data) {\n    decorated.call(this, data);\n\n    if (this.$selection.find('.select2-selection__placeholder').length > 0 ||\n        data.length === 0) {\n      return;\n    }\n\n    var $remove = $(\n      '<span class=\"select2-selection__clear\">' +\n        '&times;' +\n      '</span>'\n    );\n    $remove.data('data', data);\n\n    this.$selection.find('.select2-selection__rendered').prepend($remove);\n  };\n\n  return AllowClear;\n});\n\nS2.define('select2/selection/search',[\n  'jquery',\n  '../utils',\n  '../keys'\n], function ($, Utils, KEYS) {\n  function Search (decorated, $element, options) {\n    decorated.call(this, $element, options);\n  }\n\n  Search.prototype.render = function (decorated) {\n    var $search = $(\n      '<li class=\"select2-search select2-search--inline\">' +\n        '<input class=\"select2-search__field\" type=\"search\" tabindex=\"-1\"' +\n        ' autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\"' +\n        ' spellcheck=\"false\" role=\"textbox\" />' +\n      '</li>'\n    );\n\n    this.$searchContainer = $search;\n    this.$search = $search.find('input');\n\n    var $rendered = decorated.call(this);\n\n    return $rendered;\n  };\n\n  Search.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    decorated.call(this, container, $container);\n\n    container.on('open', function () {\n      self.$search.attr('tabindex', 0);\n\n      self.$search.focus();\n    });\n\n    container.on('close', function () {\n      self.$search.attr('tabindex', -1);\n\n      self.$search.val('');\n      self.$search.focus();\n    });\n\n    container.on('enable', function () {\n      self.$search.prop('disabled', false);\n    });\n\n    container.on('disable', function () {\n      self.$search.prop('disabled', true);\n    });\n\n    this.$selection.on('focusin', '.select2-search--inline', function (evt) {\n      self.trigger('focus', evt);\n    });\n\n    this.$selection.on('focusout', '.select2-search--inline', function (evt) {\n      self.trigger('blur', evt);\n    });\n\n    this.$selection.on('keydown', '.select2-search--inline', function (evt) {\n      evt.stopPropagation();\n\n      self.trigger('keypress', evt);\n\n      self._keyUpPrevented = evt.isDefaultPrevented();\n\n      var key = evt.which;\n\n      if (key === KEYS.BACKSPACE && self.$search.val() === '') {\n        var $previousChoice = self.$searchContainer\n          .prev('.select2-selection__choice');\n\n        if ($previousChoice.length > 0) {\n          var item = $previousChoice.data('data');\n\n          self.searchRemoveChoice(item);\n\n          evt.preventDefault();\n        }\n      }\n    });\n\n    // Workaround for browsers which do not support the `input` event\n    // This will prevent double-triggering of events for browsers which support\n    // both the `keyup` and `input` events.\n    this.$selection.on('input', '.select2-search--inline', function (evt) {\n      // Unbind the duplicated `keyup` event\n      self.$selection.off('keyup.search');\n    });\n\n    this.$selection.on('keyup.search input', '.select2-search--inline',\n        function (evt) {\n      self.handleSearch(evt);\n    });\n  };\n\n  Search.prototype.createPlaceholder = function (decorated, placeholder) {\n    this.$search.attr('placeholder', placeholder.text);\n  };\n\n  Search.prototype.update = function (decorated, data) {\n    this.$search.attr('placeholder', '');\n\n    decorated.call(this, data);\n\n    this.$selection.find('.select2-selection__rendered')\n                   .append(this.$searchContainer);\n\n    this.resizeSearch();\n  };\n\n  Search.prototype.handleSearch = function () {\n    this.resizeSearch();\n\n    if (!this._keyUpPrevented) {\n      var input = this.$search.val();\n\n      this.trigger('query', {\n        term: input\n      });\n    }\n\n    this._keyUpPrevented = false;\n  };\n\n  Search.prototype.searchRemoveChoice = function (decorated, item) {\n    this.trigger('unselect', {\n      data: item\n    });\n\n    this.trigger('open');\n\n    this.$search.val(item.text + ' ');\n  };\n\n  Search.prototype.resizeSearch = function () {\n    this.$search.css('width', '25px');\n\n    var width = '';\n\n    if (this.$search.attr('placeholder') !== '') {\n      width = this.$selection.find('.select2-selection__rendered').innerWidth();\n    } else {\n      var minimumWidth = this.$search.val().length + 1;\n\n      width = (minimumWidth * 0.75) + 'em';\n    }\n\n    this.$search.css('width', width);\n  };\n\n  return Search;\n});\n\nS2.define('select2/selection/eventRelay',[\n  'jquery'\n], function ($) {\n  function EventRelay () { }\n\n  EventRelay.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n    var relayEvents = [\n      'open', 'opening',\n      'close', 'closing',\n      'select', 'selecting',\n      'unselect', 'unselecting'\n    ];\n\n    var preventableEvents = ['opening', 'closing', 'selecting', 'unselecting'];\n\n    decorated.call(this, container, $container);\n\n    container.on('*', function (name, params) {\n      // Ignore events that should not be relayed\n      if ($.inArray(name, relayEvents) === -1) {\n        return;\n      }\n\n      // The parameters should always be an object\n      params = params || {};\n\n      // Generate the jQuery event for the Select2 event\n      var evt = $.Event('select2:' + name, {\n        params: params\n      });\n\n      self.$element.trigger(evt);\n\n      // Only handle preventable events if it was one\n      if ($.inArray(name, preventableEvents) === -1) {\n        return;\n      }\n\n      params.prevented = evt.isDefaultPrevented();\n    });\n  };\n\n  return EventRelay;\n});\n\nS2.define('select2/translation',[\n  'jquery',\n  'require'\n], function ($, require) {\n  function Translation (dict) {\n    this.dict = dict || {};\n  }\n\n  Translation.prototype.all = function () {\n    return this.dict;\n  };\n\n  Translation.prototype.get = function (key) {\n    return this.dict[key];\n  };\n\n  Translation.prototype.extend = function (translation) {\n    this.dict = $.extend({}, translation.all(), this.dict);\n  };\n\n  // Static functions\n\n  Translation._cache = {};\n\n  Translation.loadPath = function (path) {\n    if (!(path in Translation._cache)) {\n      var translations = require(path);\n\n      Translation._cache[path] = translations;\n    }\n\n    return new Translation(Translation._cache[path]);\n  };\n\n  return Translation;\n});\n\nS2.define('select2/diacritics',[\n\n], function () {\n  var diacritics = {\n    '\\u24B6': 'A',\n    '\\uFF21': 'A',\n    '\\u00C0': 'A',\n    '\\u00C1': 'A',\n    '\\u00C2': 'A',\n    '\\u1EA6': 'A',\n    '\\u1EA4': 'A',\n    '\\u1EAA': 'A',\n    '\\u1EA8': 'A',\n    '\\u00C3': 'A',\n    '\\u0100': 'A',\n    '\\u0102': 'A',\n    '\\u1EB0': 'A',\n    '\\u1EAE': 'A',\n    '\\u1EB4': 'A',\n    '\\u1EB2': 'A',\n    '\\u0226': 'A',\n    '\\u01E0': 'A',\n    '\\u00C4': 'A',\n    '\\u01DE': 'A',\n    '\\u1EA2': 'A',\n    '\\u00C5': 'A',\n    '\\u01FA': 'A',\n    '\\u01CD': 'A',\n    '\\u0200': 'A',\n    '\\u0202': 'A',\n    '\\u1EA0': 'A',\n    '\\u1EAC': 'A',\n    '\\u1EB6': 'A',\n    '\\u1E00': 'A',\n    '\\u0104': 'A',\n    '\\u023A': 'A',\n    '\\u2C6F': 'A',\n    '\\uA732': 'AA',\n    '\\u00C6': 'AE',\n    '\\u01FC': 'AE',\n    '\\u01E2': 'AE',\n    '\\uA734': 'AO',\n    '\\uA736': 'AU',\n    '\\uA738': 'AV',\n    '\\uA73A': 'AV',\n    '\\uA73C': 'AY',\n    '\\u24B7': 'B',\n    '\\uFF22': 'B',\n    '\\u1E02': 'B',\n    '\\u1E04': 'B',\n    '\\u1E06': 'B',\n    '\\u0243': 'B',\n    '\\u0182': 'B',\n    '\\u0181': 'B',\n    '\\u24B8': 'C',\n    '\\uFF23': 'C',\n    '\\u0106': 'C',\n    '\\u0108': 'C',\n    '\\u010A': 'C',\n    '\\u010C': 'C',\n    '\\u00C7': 'C',\n    '\\u1E08': 'C',\n    '\\u0187': 'C',\n    '\\u023B': 'C',\n    '\\uA73E': 'C',\n    '\\u24B9': 'D',\n    '\\uFF24': 'D',\n    '\\u1E0A': 'D',\n    '\\u010E': 'D',\n    '\\u1E0C': 'D',\n    '\\u1E10': 'D',\n    '\\u1E12': 'D',\n    '\\u1E0E': 'D',\n    '\\u0110': 'D',\n    '\\u018B': 'D',\n    '\\u018A': 'D',\n    '\\u0189': 'D',\n    '\\uA779': 'D',\n    '\\u01F1': 'DZ',\n    '\\u01C4': 'DZ',\n    '\\u01F2': 'Dz',\n    '\\u01C5': 'Dz',\n    '\\u24BA': 'E',\n    '\\uFF25': 'E',\n    '\\u00C8': 'E',\n    '\\u00C9': 'E',\n    '\\u00CA': 'E',\n    '\\u1EC0': 'E',\n    '\\u1EBE': 'E',\n    '\\u1EC4': 'E',\n    '\\u1EC2': 'E',\n    '\\u1EBC': 'E',\n    '\\u0112': 'E',\n    '\\u1E14': 'E',\n    '\\u1E16': 'E',\n    '\\u0114': 'E',\n    '\\u0116': 'E',\n    '\\u00CB': 'E',\n    '\\u1EBA': 'E',\n    '\\u011A': 'E',\n    '\\u0204': 'E',\n    '\\u0206': 'E',\n    '\\u1EB8': 'E',\n    '\\u1EC6': 'E',\n    '\\u0228': 'E',\n    '\\u1E1C': 'E',\n    '\\u0118': 'E',\n    '\\u1E18': 'E',\n    '\\u1E1A': 'E',\n    '\\u0190': 'E',\n    '\\u018E': 'E',\n    '\\u24BB': 'F',\n    '\\uFF26': 'F',\n    '\\u1E1E': 'F',\n    '\\u0191': 'F',\n    '\\uA77B': 'F',\n    '\\u24BC': 'G',\n    '\\uFF27': 'G',\n    '\\u01F4': 'G',\n    '\\u011C': 'G',\n    '\\u1E20': 'G',\n    '\\u011E': 'G',\n    '\\u0120': 'G',\n    '\\u01E6': 'G',\n    '\\u0122': 'G',\n    '\\u01E4': 'G',\n    '\\u0193': 'G',\n    '\\uA7A0': 'G',\n    '\\uA77D': 'G',\n    '\\uA77E': 'G',\n    '\\u24BD': 'H',\n    '\\uFF28': 'H',\n    '\\u0124': 'H',\n    '\\u1E22': 'H',\n    '\\u1E26': 'H',\n    '\\u021E': 'H',\n    '\\u1E24': 'H',\n    '\\u1E28': 'H',\n    '\\u1E2A': 'H',\n    '\\u0126': 'H',\n    '\\u2C67': 'H',\n    '\\u2C75': 'H',\n    '\\uA78D': 'H',\n    '\\u24BE': 'I',\n    '\\uFF29': 'I',\n    '\\u00CC': 'I',\n    '\\u00CD': 'I',\n    '\\u00CE': 'I',\n    '\\u0128': 'I',\n    '\\u012A': 'I',\n    '\\u012C': 'I',\n    '\\u0130': 'I',\n    '\\u00CF': 'I',\n    '\\u1E2E': 'I',\n    '\\u1EC8': 'I',\n    '\\u01CF': 'I',\n    '\\u0208': 'I',\n    '\\u020A': 'I',\n    '\\u1ECA': 'I',\n    '\\u012E': 'I',\n    '\\u1E2C': 'I',\n    '\\u0197': 'I',\n    '\\u24BF': 'J',\n    '\\uFF2A': 'J',\n    '\\u0134': 'J',\n    '\\u0248': 'J',\n    '\\u24C0': 'K',\n    '\\uFF2B': 'K',\n    '\\u1E30': 'K',\n    '\\u01E8': 'K',\n    '\\u1E32': 'K',\n    '\\u0136': 'K',\n    '\\u1E34': 'K',\n    '\\u0198': 'K',\n    '\\u2C69': 'K',\n    '\\uA740': 'K',\n    '\\uA742': 'K',\n    '\\uA744': 'K',\n    '\\uA7A2': 'K',\n    '\\u24C1': 'L',\n    '\\uFF2C': 'L',\n    '\\u013F': 'L',\n    '\\u0139': 'L',\n    '\\u013D': 'L',\n    '\\u1E36': 'L',\n    '\\u1E38': 'L',\n    '\\u013B': 'L',\n    '\\u1E3C': 'L',\n    '\\u1E3A': 'L',\n    '\\u0141': 'L',\n    '\\u023D': 'L',\n    '\\u2C62': 'L',\n    '\\u2C60': 'L',\n    '\\uA748': 'L',\n    '\\uA746': 'L',\n    '\\uA780': 'L',\n    '\\u01C7': 'LJ',\n    '\\u01C8': 'Lj',\n    '\\u24C2': 'M',\n    '\\uFF2D': 'M',\n    '\\u1E3E': 'M',\n    '\\u1E40': 'M',\n    '\\u1E42': 'M',\n    '\\u2C6E': 'M',\n    '\\u019C': 'M',\n    '\\u24C3': 'N',\n    '\\uFF2E': 'N',\n    '\\u01F8': 'N',\n    '\\u0143': 'N',\n    '\\u00D1': 'N',\n    '\\u1E44': 'N',\n    '\\u0147': 'N',\n    '\\u1E46': 'N',\n    '\\u0145': 'N',\n    '\\u1E4A': 'N',\n    '\\u1E48': 'N',\n    '\\u0220': 'N',\n    '\\u019D': 'N',\n    '\\uA790': 'N',\n    '\\uA7A4': 'N',\n    '\\u01CA': 'NJ',\n    '\\u01CB': 'Nj',\n    '\\u24C4': 'O',\n    '\\uFF2F': 'O',\n    '\\u00D2': 'O',\n    '\\u00D3': 'O',\n    '\\u00D4': 'O',\n    '\\u1ED2': 'O',\n    '\\u1ED0': 'O',\n    '\\u1ED6': 'O',\n    '\\u1ED4': 'O',\n    '\\u00D5': 'O',\n    '\\u1E4C': 'O',\n    '\\u022C': 'O',\n    '\\u1E4E': 'O',\n    '\\u014C': 'O',\n    '\\u1E50': 'O',\n    '\\u1E52': 'O',\n    '\\u014E': 'O',\n    '\\u022E': 'O',\n    '\\u0230': 'O',\n    '\\u00D6': 'O',\n    '\\u022A': 'O',\n    '\\u1ECE': 'O',\n    '\\u0150': 'O',\n    '\\u01D1': 'O',\n    '\\u020C': 'O',\n    '\\u020E': 'O',\n    '\\u01A0': 'O',\n    '\\u1EDC': 'O',\n    '\\u1EDA': 'O',\n    '\\u1EE0': 'O',\n    '\\u1EDE': 'O',\n    '\\u1EE2': 'O',\n    '\\u1ECC': 'O',\n    '\\u1ED8': 'O',\n    '\\u01EA': 'O',\n    '\\u01EC': 'O',\n    '\\u00D8': 'O',\n    '\\u01FE': 'O',\n    '\\u0186': 'O',\n    '\\u019F': 'O',\n    '\\uA74A': 'O',\n    '\\uA74C': 'O',\n    '\\u01A2': 'OI',\n    '\\uA74E': 'OO',\n    '\\u0222': 'OU',\n    '\\u24C5': 'P',\n    '\\uFF30': 'P',\n    '\\u1E54': 'P',\n    '\\u1E56': 'P',\n    '\\u01A4': 'P',\n    '\\u2C63': 'P',\n    '\\uA750': 'P',\n    '\\uA752': 'P',\n    '\\uA754': 'P',\n    '\\u24C6': 'Q',\n    '\\uFF31': 'Q',\n    '\\uA756': 'Q',\n    '\\uA758': 'Q',\n    '\\u024A': 'Q',\n    '\\u24C7': 'R',\n    '\\uFF32': 'R',\n    '\\u0154': 'R',\n    '\\u1E58': 'R',\n    '\\u0158': 'R',\n    '\\u0210': 'R',\n    '\\u0212': 'R',\n    '\\u1E5A': 'R',\n    '\\u1E5C': 'R',\n    '\\u0156': 'R',\n    '\\u1E5E': 'R',\n    '\\u024C': 'R',\n    '\\u2C64': 'R',\n    '\\uA75A': 'R',\n    '\\uA7A6': 'R',\n    '\\uA782': 'R',\n    '\\u24C8': 'S',\n    '\\uFF33': 'S',\n    '\\u1E9E': 'S',\n    '\\u015A': 'S',\n    '\\u1E64': 'S',\n    '\\u015C': 'S',\n    '\\u1E60': 'S',\n    '\\u0160': 'S',\n    '\\u1E66': 'S',\n    '\\u1E62': 'S',\n    '\\u1E68': 'S',\n    '\\u0218': 'S',\n    '\\u015E': 'S',\n    '\\u2C7E': 'S',\n    '\\uA7A8': 'S',\n    '\\uA784': 'S',\n    '\\u24C9': 'T',\n    '\\uFF34': 'T',\n    '\\u1E6A': 'T',\n    '\\u0164': 'T',\n    '\\u1E6C': 'T',\n    '\\u021A': 'T',\n    '\\u0162': 'T',\n    '\\u1E70': 'T',\n    '\\u1E6E': 'T',\n    '\\u0166': 'T',\n    '\\u01AC': 'T',\n    '\\u01AE': 'T',\n    '\\u023E': 'T',\n    '\\uA786': 'T',\n    '\\uA728': 'TZ',\n    '\\u24CA': 'U',\n    '\\uFF35': 'U',\n    '\\u00D9': 'U',\n    '\\u00DA': 'U',\n    '\\u00DB': 'U',\n    '\\u0168': 'U',\n    '\\u1E78': 'U',\n    '\\u016A': 'U',\n    '\\u1E7A': 'U',\n    '\\u016C': 'U',\n    '\\u00DC': 'U',\n    '\\u01DB': 'U',\n    '\\u01D7': 'U',\n    '\\u01D5': 'U',\n    '\\u01D9': 'U',\n    '\\u1EE6': 'U',\n    '\\u016E': 'U',\n    '\\u0170': 'U',\n    '\\u01D3': 'U',\n    '\\u0214': 'U',\n    '\\u0216': 'U',\n    '\\u01AF': 'U',\n    '\\u1EEA': 'U',\n    '\\u1EE8': 'U',\n    '\\u1EEE': 'U',\n    '\\u1EEC': 'U',\n    '\\u1EF0': 'U',\n    '\\u1EE4': 'U',\n    '\\u1E72': 'U',\n    '\\u0172': 'U',\n    '\\u1E76': 'U',\n    '\\u1E74': 'U',\n    '\\u0244': 'U',\n    '\\u24CB': 'V',\n    '\\uFF36': 'V',\n    '\\u1E7C': 'V',\n    '\\u1E7E': 'V',\n    '\\u01B2': 'V',\n    '\\uA75E': 'V',\n    '\\u0245': 'V',\n    '\\uA760': 'VY',\n    '\\u24CC': 'W',\n    '\\uFF37': 'W',\n    '\\u1E80': 'W',\n    '\\u1E82': 'W',\n    '\\u0174': 'W',\n    '\\u1E86': 'W',\n    '\\u1E84': 'W',\n    '\\u1E88': 'W',\n    '\\u2C72': 'W',\n    '\\u24CD': 'X',\n    '\\uFF38': 'X',\n    '\\u1E8A': 'X',\n    '\\u1E8C': 'X',\n    '\\u24CE': 'Y',\n    '\\uFF39': 'Y',\n    '\\u1EF2': 'Y',\n    '\\u00DD': 'Y',\n    '\\u0176': 'Y',\n    '\\u1EF8': 'Y',\n    '\\u0232': 'Y',\n    '\\u1E8E': 'Y',\n    '\\u0178': 'Y',\n    '\\u1EF6': 'Y',\n    '\\u1EF4': 'Y',\n    '\\u01B3': 'Y',\n    '\\u024E': 'Y',\n    '\\u1EFE': 'Y',\n    '\\u24CF': 'Z',\n    '\\uFF3A': 'Z',\n    '\\u0179': 'Z',\n    '\\u1E90': 'Z',\n    '\\u017B': 'Z',\n    '\\u017D': 'Z',\n    '\\u1E92': 'Z',\n    '\\u1E94': 'Z',\n    '\\u01B5': 'Z',\n    '\\u0224': 'Z',\n    '\\u2C7F': 'Z',\n    '\\u2C6B': 'Z',\n    '\\uA762': 'Z',\n    '\\u24D0': 'a',\n    '\\uFF41': 'a',\n    '\\u1E9A': 'a',\n    '\\u00E0': 'a',\n    '\\u00E1': 'a',\n    '\\u00E2': 'a',\n    '\\u1EA7': 'a',\n    '\\u1EA5': 'a',\n    '\\u1EAB': 'a',\n    '\\u1EA9': 'a',\n    '\\u00E3': 'a',\n    '\\u0101': 'a',\n    '\\u0103': 'a',\n    '\\u1EB1': 'a',\n    '\\u1EAF': 'a',\n    '\\u1EB5': 'a',\n    '\\u1EB3': 'a',\n    '\\u0227': 'a',\n    '\\u01E1': 'a',\n    '\\u00E4': 'a',\n    '\\u01DF': 'a',\n    '\\u1EA3': 'a',\n    '\\u00E5': 'a',\n    '\\u01FB': 'a',\n    '\\u01CE': 'a',\n    '\\u0201': 'a',\n    '\\u0203': 'a',\n    '\\u1EA1': 'a',\n    '\\u1EAD': 'a',\n    '\\u1EB7': 'a',\n    '\\u1E01': 'a',\n    '\\u0105': 'a',\n    '\\u2C65': 'a',\n    '\\u0250': 'a',\n    '\\uA733': 'aa',\n    '\\u00E6': 'ae',\n    '\\u01FD': 'ae',\n    '\\u01E3': 'ae',\n    '\\uA735': 'ao',\n    '\\uA737': 'au',\n    '\\uA739': 'av',\n    '\\uA73B': 'av',\n    '\\uA73D': 'ay',\n    '\\u24D1': 'b',\n    '\\uFF42': 'b',\n    '\\u1E03': 'b',\n    '\\u1E05': 'b',\n    '\\u1E07': 'b',\n    '\\u0180': 'b',\n    '\\u0183': 'b',\n    '\\u0253': 'b',\n    '\\u24D2': 'c',\n    '\\uFF43': 'c',\n    '\\u0107': 'c',\n    '\\u0109': 'c',\n    '\\u010B': 'c',\n    '\\u010D': 'c',\n    '\\u00E7': 'c',\n    '\\u1E09': 'c',\n    '\\u0188': 'c',\n    '\\u023C': 'c',\n    '\\uA73F': 'c',\n    '\\u2184': 'c',\n    '\\u24D3': 'd',\n    '\\uFF44': 'd',\n    '\\u1E0B': 'd',\n    '\\u010F': 'd',\n    '\\u1E0D': 'd',\n    '\\u1E11': 'd',\n    '\\u1E13': 'd',\n    '\\u1E0F': 'd',\n    '\\u0111': 'd',\n    '\\u018C': 'd',\n    '\\u0256': 'd',\n    '\\u0257': 'd',\n    '\\uA77A': 'd',\n    '\\u01F3': 'dz',\n    '\\u01C6': 'dz',\n    '\\u24D4': 'e',\n    '\\uFF45': 'e',\n    '\\u00E8': 'e',\n    '\\u00E9': 'e',\n    '\\u00EA': 'e',\n    '\\u1EC1': 'e',\n    '\\u1EBF': 'e',\n    '\\u1EC5': 'e',\n    '\\u1EC3': 'e',\n    '\\u1EBD': 'e',\n    '\\u0113': 'e',\n    '\\u1E15': 'e',\n    '\\u1E17': 'e',\n    '\\u0115': 'e',\n    '\\u0117': 'e',\n    '\\u00EB': 'e',\n    '\\u1EBB': 'e',\n    '\\u011B': 'e',\n    '\\u0205': 'e',\n    '\\u0207': 'e',\n    '\\u1EB9': 'e',\n    '\\u1EC7': 'e',\n    '\\u0229': 'e',\n    '\\u1E1D': 'e',\n    '\\u0119': 'e',\n    '\\u1E19': 'e',\n    '\\u1E1B': 'e',\n    '\\u0247': 'e',\n    '\\u025B': 'e',\n    '\\u01DD': 'e',\n    '\\u24D5': 'f',\n    '\\uFF46': 'f',\n    '\\u1E1F': 'f',\n    '\\u0192': 'f',\n    '\\uA77C': 'f',\n    '\\u24D6': 'g',\n    '\\uFF47': 'g',\n    '\\u01F5': 'g',\n    '\\u011D': 'g',\n    '\\u1E21': 'g',\n    '\\u011F': 'g',\n    '\\u0121': 'g',\n    '\\u01E7': 'g',\n    '\\u0123': 'g',\n    '\\u01E5': 'g',\n    '\\u0260': 'g',\n    '\\uA7A1': 'g',\n    '\\u1D79': 'g',\n    '\\uA77F': 'g',\n    '\\u24D7': 'h',\n    '\\uFF48': 'h',\n    '\\u0125': 'h',\n    '\\u1E23': 'h',\n    '\\u1E27': 'h',\n    '\\u021F': 'h',\n    '\\u1E25': 'h',\n    '\\u1E29': 'h',\n    '\\u1E2B': 'h',\n    '\\u1E96': 'h',\n    '\\u0127': 'h',\n    '\\u2C68': 'h',\n    '\\u2C76': 'h',\n    '\\u0265': 'h',\n    '\\u0195': 'hv',\n    '\\u24D8': 'i',\n    '\\uFF49': 'i',\n    '\\u00EC': 'i',\n    '\\u00ED': 'i',\n    '\\u00EE': 'i',\n    '\\u0129': 'i',\n    '\\u012B': 'i',\n    '\\u012D': 'i',\n    '\\u00EF': 'i',\n    '\\u1E2F': 'i',\n    '\\u1EC9': 'i',\n    '\\u01D0': 'i',\n    '\\u0209': 'i',\n    '\\u020B': 'i',\n    '\\u1ECB': 'i',\n    '\\u012F': 'i',\n    '\\u1E2D': 'i',\n    '\\u0268': 'i',\n    '\\u0131': 'i',\n    '\\u24D9': 'j',\n    '\\uFF4A': 'j',\n    '\\u0135': 'j',\n    '\\u01F0': 'j',\n    '\\u0249': 'j',\n    '\\u24DA': 'k',\n    '\\uFF4B': 'k',\n    '\\u1E31': 'k',\n    '\\u01E9': 'k',\n    '\\u1E33': 'k',\n    '\\u0137': 'k',\n    '\\u1E35': 'k',\n    '\\u0199': 'k',\n    '\\u2C6A': 'k',\n    '\\uA741': 'k',\n    '\\uA743': 'k',\n    '\\uA745': 'k',\n    '\\uA7A3': 'k',\n    '\\u24DB': 'l',\n    '\\uFF4C': 'l',\n    '\\u0140': 'l',\n    '\\u013A': 'l',\n    '\\u013E': 'l',\n    '\\u1E37': 'l',\n    '\\u1E39': 'l',\n    '\\u013C': 'l',\n    '\\u1E3D': 'l',\n    '\\u1E3B': 'l',\n    '\\u017F': 'l',\n    '\\u0142': 'l',\n    '\\u019A': 'l',\n    '\\u026B': 'l',\n    '\\u2C61': 'l',\n    '\\uA749': 'l',\n    '\\uA781': 'l',\n    '\\uA747': 'l',\n    '\\u01C9': 'lj',\n    '\\u24DC': 'm',\n    '\\uFF4D': 'm',\n    '\\u1E3F': 'm',\n    '\\u1E41': 'm',\n    '\\u1E43': 'm',\n    '\\u0271': 'm',\n    '\\u026F': 'm',\n    '\\u24DD': 'n',\n    '\\uFF4E': 'n',\n    '\\u01F9': 'n',\n    '\\u0144': 'n',\n    '\\u00F1': 'n',\n    '\\u1E45': 'n',\n    '\\u0148': 'n',\n    '\\u1E47': 'n',\n    '\\u0146': 'n',\n    '\\u1E4B': 'n',\n    '\\u1E49': 'n',\n    '\\u019E': 'n',\n    '\\u0272': 'n',\n    '\\u0149': 'n',\n    '\\uA791': 'n',\n    '\\uA7A5': 'n',\n    '\\u01CC': 'nj',\n    '\\u24DE': 'o',\n    '\\uFF4F': 'o',\n    '\\u00F2': 'o',\n    '\\u00F3': 'o',\n    '\\u00F4': 'o',\n    '\\u1ED3': 'o',\n    '\\u1ED1': 'o',\n    '\\u1ED7': 'o',\n    '\\u1ED5': 'o',\n    '\\u00F5': 'o',\n    '\\u1E4D': 'o',\n    '\\u022D': 'o',\n    '\\u1E4F': 'o',\n    '\\u014D': 'o',\n    '\\u1E51': 'o',\n    '\\u1E53': 'o',\n    '\\u014F': 'o',\n    '\\u022F': 'o',\n    '\\u0231': 'o',\n    '\\u00F6': 'o',\n    '\\u022B': 'o',\n    '\\u1ECF': 'o',\n    '\\u0151': 'o',\n    '\\u01D2': 'o',\n    '\\u020D': 'o',\n    '\\u020F': 'o',\n    '\\u01A1': 'o',\n    '\\u1EDD': 'o',\n    '\\u1EDB': 'o',\n    '\\u1EE1': 'o',\n    '\\u1EDF': 'o',\n    '\\u1EE3': 'o',\n    '\\u1ECD': 'o',\n    '\\u1ED9': 'o',\n    '\\u01EB': 'o',\n    '\\u01ED': 'o',\n    '\\u00F8': 'o',\n    '\\u01FF': 'o',\n    '\\u0254': 'o',\n    '\\uA74B': 'o',\n    '\\uA74D': 'o',\n    '\\u0275': 'o',\n    '\\u01A3': 'oi',\n    '\\u0223': 'ou',\n    '\\uA74F': 'oo',\n    '\\u24DF': 'p',\n    '\\uFF50': 'p',\n    '\\u1E55': 'p',\n    '\\u1E57': 'p',\n    '\\u01A5': 'p',\n    '\\u1D7D': 'p',\n    '\\uA751': 'p',\n    '\\uA753': 'p',\n    '\\uA755': 'p',\n    '\\u24E0': 'q',\n    '\\uFF51': 'q',\n    '\\u024B': 'q',\n    '\\uA757': 'q',\n    '\\uA759': 'q',\n    '\\u24E1': 'r',\n    '\\uFF52': 'r',\n    '\\u0155': 'r',\n    '\\u1E59': 'r',\n    '\\u0159': 'r',\n    '\\u0211': 'r',\n    '\\u0213': 'r',\n    '\\u1E5B': 'r',\n    '\\u1E5D': 'r',\n    '\\u0157': 'r',\n    '\\u1E5F': 'r',\n    '\\u024D': 'r',\n    '\\u027D': 'r',\n    '\\uA75B': 'r',\n    '\\uA7A7': 'r',\n    '\\uA783': 'r',\n    '\\u24E2': 's',\n    '\\uFF53': 's',\n    '\\u00DF': 's',\n    '\\u015B': 's',\n    '\\u1E65': 's',\n    '\\u015D': 's',\n    '\\u1E61': 's',\n    '\\u0161': 's',\n    '\\u1E67': 's',\n    '\\u1E63': 's',\n    '\\u1E69': 's',\n    '\\u0219': 's',\n    '\\u015F': 's',\n    '\\u023F': 's',\n    '\\uA7A9': 's',\n    '\\uA785': 's',\n    '\\u1E9B': 's',\n    '\\u24E3': 't',\n    '\\uFF54': 't',\n    '\\u1E6B': 't',\n    '\\u1E97': 't',\n    '\\u0165': 't',\n    '\\u1E6D': 't',\n    '\\u021B': 't',\n    '\\u0163': 't',\n    '\\u1E71': 't',\n    '\\u1E6F': 't',\n    '\\u0167': 't',\n    '\\u01AD': 't',\n    '\\u0288': 't',\n    '\\u2C66': 't',\n    '\\uA787': 't',\n    '\\uA729': 'tz',\n    '\\u24E4': 'u',\n    '\\uFF55': 'u',\n    '\\u00F9': 'u',\n    '\\u00FA': 'u',\n    '\\u00FB': 'u',\n    '\\u0169': 'u',\n    '\\u1E79': 'u',\n    '\\u016B': 'u',\n    '\\u1E7B': 'u',\n    '\\u016D': 'u',\n    '\\u00FC': 'u',\n    '\\u01DC': 'u',\n    '\\u01D8': 'u',\n    '\\u01D6': 'u',\n    '\\u01DA': 'u',\n    '\\u1EE7': 'u',\n    '\\u016F': 'u',\n    '\\u0171': 'u',\n    '\\u01D4': 'u',\n    '\\u0215': 'u',\n    '\\u0217': 'u',\n    '\\u01B0': 'u',\n    '\\u1EEB': 'u',\n    '\\u1EE9': 'u',\n    '\\u1EEF': 'u',\n    '\\u1EED': 'u',\n    '\\u1EF1': 'u',\n    '\\u1EE5': 'u',\n    '\\u1E73': 'u',\n    '\\u0173': 'u',\n    '\\u1E77': 'u',\n    '\\u1E75': 'u',\n    '\\u0289': 'u',\n    '\\u24E5': 'v',\n    '\\uFF56': 'v',\n    '\\u1E7D': 'v',\n    '\\u1E7F': 'v',\n    '\\u028B': 'v',\n    '\\uA75F': 'v',\n    '\\u028C': 'v',\n    '\\uA761': 'vy',\n    '\\u24E6': 'w',\n    '\\uFF57': 'w',\n    '\\u1E81': 'w',\n    '\\u1E83': 'w',\n    '\\u0175': 'w',\n    '\\u1E87': 'w',\n    '\\u1E85': 'w',\n    '\\u1E98': 'w',\n    '\\u1E89': 'w',\n    '\\u2C73': 'w',\n    '\\u24E7': 'x',\n    '\\uFF58': 'x',\n    '\\u1E8B': 'x',\n    '\\u1E8D': 'x',\n    '\\u24E8': 'y',\n    '\\uFF59': 'y',\n    '\\u1EF3': 'y',\n    '\\u00FD': 'y',\n    '\\u0177': 'y',\n    '\\u1EF9': 'y',\n    '\\u0233': 'y',\n    '\\u1E8F': 'y',\n    '\\u00FF': 'y',\n    '\\u1EF7': 'y',\n    '\\u1E99': 'y',\n    '\\u1EF5': 'y',\n    '\\u01B4': 'y',\n    '\\u024F': 'y',\n    '\\u1EFF': 'y',\n    '\\u24E9': 'z',\n    '\\uFF5A': 'z',\n    '\\u017A': 'z',\n    '\\u1E91': 'z',\n    '\\u017C': 'z',\n    '\\u017E': 'z',\n    '\\u1E93': 'z',\n    '\\u1E95': 'z',\n    '\\u01B6': 'z',\n    '\\u0225': 'z',\n    '\\u0240': 'z',\n    '\\u2C6C': 'z',\n    '\\uA763': 'z',\n    '\\u0386': '\\u0391',\n    '\\u0388': '\\u0395',\n    '\\u0389': '\\u0397',\n    '\\u038A': '\\u0399',\n    '\\u03AA': '\\u0399',\n    '\\u038C': '\\u039F',\n    '\\u038E': '\\u03A5',\n    '\\u03AB': '\\u03A5',\n    '\\u038F': '\\u03A9',\n    '\\u03AC': '\\u03B1',\n    '\\u03AD': '\\u03B5',\n    '\\u03AE': '\\u03B7',\n    '\\u03AF': '\\u03B9',\n    '\\u03CA': '\\u03B9',\n    '\\u0390': '\\u03B9',\n    '\\u03CC': '\\u03BF',\n    '\\u03CD': '\\u03C5',\n    '\\u03CB': '\\u03C5',\n    '\\u03B0': '\\u03C5',\n    '\\u03C9': '\\u03C9',\n    '\\u03C2': '\\u03C3'\n  };\n\n  return diacritics;\n});\n\nS2.define('select2/data/base',[\n  '../utils'\n], function (Utils) {\n  function BaseAdapter ($element, options) {\n    BaseAdapter.__super__.constructor.call(this);\n  }\n\n  Utils.Extend(BaseAdapter, Utils.Observable);\n\n  BaseAdapter.prototype.current = function (callback) {\n    throw new Error('The `current` method must be defined in child classes.');\n  };\n\n  BaseAdapter.prototype.query = function (params, callback) {\n    throw new Error('The `query` method must be defined in child classes.');\n  };\n\n  BaseAdapter.prototype.bind = function (container, $container) {\n    // Can be implemented in subclasses\n  };\n\n  BaseAdapter.prototype.destroy = function () {\n    // Can be implemented in subclasses\n  };\n\n  BaseAdapter.prototype.generateResultId = function (container, data) {\n    var id = container.id + '-result-';\n\n    id += Utils.generateChars(4);\n\n    if (data.id != null) {\n      id += '-' + data.id.toString();\n    } else {\n      id += '-' + Utils.generateChars(4);\n    }\n    return id;\n  };\n\n  return BaseAdapter;\n});\n\nS2.define('select2/data/select',[\n  './base',\n  '../utils',\n  'jquery'\n], function (BaseAdapter, Utils, $) {\n  function SelectAdapter ($element, options) {\n    this.$element = $element;\n    this.options = options;\n\n    SelectAdapter.__super__.constructor.call(this);\n  }\n\n  Utils.Extend(SelectAdapter, BaseAdapter);\n\n  SelectAdapter.prototype.current = function (callback) {\n    var data = [];\n    var self = this;\n\n    this.$element.find(':selected').each(function () {\n      var $option = $(this);\n\n      var option = self.item($option);\n\n      data.push(option);\n    });\n\n    callback(data);\n  };\n\n  SelectAdapter.prototype.select = function (data) {\n    var self = this;\n\n    data.selected = true;\n\n    // If data.element is a DOM node, use it instead\n    if ($(data.element).is('option')) {\n      data.element.selected = true;\n\n      this.$element.trigger('change');\n\n      return;\n    }\n\n    if (this.$element.prop('multiple')) {\n      this.current(function (currentData) {\n        var val = [];\n\n        data = [data];\n        data.push.apply(data, currentData);\n\n        for (var d = 0; d < data.length; d++) {\n          var id = data[d].id;\n\n          if ($.inArray(id, val) === -1) {\n            val.push(id);\n          }\n        }\n\n        self.$element.val(val);\n        self.$element.trigger('change');\n      });\n    } else {\n      var val = data.id;\n\n      this.$element.val(val);\n      this.$element.trigger('change');\n    }\n  };\n\n  SelectAdapter.prototype.unselect = function (data) {\n    var self = this;\n\n    if (!this.$element.prop('multiple')) {\n      return;\n    }\n\n    data.selected = false;\n\n    if ($(data.element).is('option')) {\n      data.element.selected = false;\n\n      this.$element.trigger('change');\n\n      return;\n    }\n\n    this.current(function (currentData) {\n      var val = [];\n\n      for (var d = 0; d < currentData.length; d++) {\n        var id = currentData[d].id;\n\n        if (id !== data.id && $.inArray(id, val) === -1) {\n          val.push(id);\n        }\n      }\n\n      self.$element.val(val);\n\n      self.$element.trigger('change');\n    });\n  };\n\n  SelectAdapter.prototype.bind = function (container, $container) {\n    var self = this;\n\n    this.container = container;\n\n    container.on('select', function (params) {\n      self.select(params.data);\n    });\n\n    container.on('unselect', function (params) {\n      self.unselect(params.data);\n    });\n  };\n\n  SelectAdapter.prototype.destroy = function () {\n    // Remove anything added to child elements\n    this.$element.find('*').each(function () {\n      // Remove any custom data set by Select2\n      $.removeData(this, 'data');\n    });\n  };\n\n  SelectAdapter.prototype.query = function (params, callback) {\n    var data = [];\n    var self = this;\n\n    var $options = this.$element.children();\n\n    $options.each(function () {\n      var $option = $(this);\n\n      if (!$option.is('option') && !$option.is('optgroup')) {\n        return;\n      }\n\n      var option = self.item($option);\n\n      var matches = self.matches(params, option);\n\n      if (matches !== null) {\n        data.push(matches);\n      }\n    });\n\n    callback({\n      results: data\n    });\n  };\n\n  SelectAdapter.prototype.addOptions = function ($options) {\n    Utils.appendMany(this.$element, $options);\n  };\n\n  SelectAdapter.prototype.option = function (data) {\n    var option;\n\n    if (data.children) {\n      option = document.createElement('optgroup');\n      option.label = data.text;\n    } else {\n      option = document.createElement('option');\n\n      if (option.textContent !== undefined) {\n        option.textContent = data.text;\n      } else {\n        option.innerText = data.text;\n      }\n    }\n\n    if (data.id) {\n      option.value = data.id;\n    }\n\n    if (data.disabled) {\n      option.disabled = true;\n    }\n\n    if (data.selected) {\n      option.selected = true;\n    }\n\n    if (data.title) {\n      option.title = data.title;\n    }\n\n    var $option = $(option);\n\n    var normalizedData = this._normalizeItem(data);\n    normalizedData.element = option;\n\n    // Override the option's data with the combined data\n    $.data(option, 'data', normalizedData);\n\n    return $option;\n  };\n\n  SelectAdapter.prototype.item = function ($option) {\n    var data = {};\n\n    data = $.data($option[0], 'data');\n\n    if (data != null) {\n      return data;\n    }\n\n    if ($option.is('option')) {\n      data = {\n        id: $option.val(),\n        text: $option.text(),\n        disabled: $option.prop('disabled'),\n        selected: $option.prop('selected'),\n        title: $option.prop('title')\n      };\n    } else if ($option.is('optgroup')) {\n      data = {\n        text: $option.prop('label'),\n        children: [],\n        title: $option.prop('title')\n      };\n\n      var $children = $option.children('option');\n      var children = [];\n\n      for (var c = 0; c < $children.length; c++) {\n        var $child = $($children[c]);\n\n        var child = this.item($child);\n\n        children.push(child);\n      }\n\n      data.children = children;\n    }\n\n    data = this._normalizeItem(data);\n    data.element = $option[0];\n\n    $.data($option[0], 'data', data);\n\n    return data;\n  };\n\n  SelectAdapter.prototype._normalizeItem = function (item) {\n    if (!$.isPlainObject(item)) {\n      item = {\n        id: item,\n        text: item\n      };\n    }\n\n    item = $.extend({}, {\n      text: ''\n    }, item);\n\n    var defaults = {\n      selected: false,\n      disabled: false\n    };\n\n    if (item.id != null) {\n      item.id = item.id.toString();\n    }\n\n    if (item.text != null) {\n      item.text = item.text.toString();\n    }\n\n    if (item._resultId == null && item.id && this.container != null) {\n      item._resultId = this.generateResultId(this.container, item);\n    }\n\n    return $.extend({}, defaults, item);\n  };\n\n  SelectAdapter.prototype.matches = function (params, data) {\n    var matcher = this.options.get('matcher');\n\n    return matcher(params, data);\n  };\n\n  return SelectAdapter;\n});\n\nS2.define('select2/data/array',[\n  './select',\n  '../utils',\n  'jquery'\n], function (SelectAdapter, Utils, $) {\n  function ArrayAdapter ($element, options) {\n    var data = options.get('data') || [];\n\n    ArrayAdapter.__super__.constructor.call(this, $element, options);\n\n    this.addOptions(this.convertToOptions(data));\n  }\n\n  Utils.Extend(ArrayAdapter, SelectAdapter);\n\n  ArrayAdapter.prototype.select = function (data) {\n    var $option = this.$element.find('option').filter(function (i, elm) {\n      return elm.value == data.id.toString();\n    });\n\n    if ($option.length === 0) {\n      $option = this.option(data);\n\n      this.addOptions($option);\n    }\n\n    ArrayAdapter.__super__.select.call(this, data);\n  };\n\n  ArrayAdapter.prototype.convertToOptions = function (data) {\n    var self = this;\n\n    var $existing = this.$element.find('option');\n    var existingIds = $existing.map(function () {\n      return self.item($(this)).id;\n    }).get();\n\n    var $options = [];\n\n    // Filter out all items except for the one passed in the argument\n    function onlyItem (item) {\n      return function () {\n        return $(this).val() == item.id;\n      };\n    }\n\n    for (var d = 0; d < data.length; d++) {\n      var item = this._normalizeItem(data[d]);\n\n      // Skip items which were pre-loaded, only merge the data\n      if ($.inArray(item.id, existingIds) >= 0) {\n        var $existingOption = $existing.filter(onlyItem(item));\n\n        var existingData = this.item($existingOption);\n        var newData = $.extend(true, {}, existingData, item);\n\n        var $newOption = this.option(existingData);\n\n        $existingOption.replaceWith($newOption);\n\n        continue;\n      }\n\n      var $option = this.option(item);\n\n      if (item.children) {\n        var $children = this.convertToOptions(item.children);\n\n        Utils.appendMany($option, $children);\n      }\n\n      $options.push($option);\n    }\n\n    return $options;\n  };\n\n  return ArrayAdapter;\n});\n\nS2.define('select2/data/ajax',[\n  './array',\n  '../utils',\n  'jquery'\n], function (ArrayAdapter, Utils, $) {\n  function AjaxAdapter ($element, options) {\n    this.ajaxOptions = this._applyDefaults(options.get('ajax'));\n\n    if (this.ajaxOptions.processResults != null) {\n      this.processResults = this.ajaxOptions.processResults;\n    }\n\n    ArrayAdapter.__super__.constructor.call(this, $element, options);\n  }\n\n  Utils.Extend(AjaxAdapter, ArrayAdapter);\n\n  AjaxAdapter.prototype._applyDefaults = function (options) {\n    var defaults = {\n      data: function (params) {\n        return {\n          q: params.term\n        };\n      },\n      transport: function (params, success, failure) {\n        var $request = $.ajax(params);\n\n        $request.then(success);\n        $request.fail(failure);\n\n        return $request;\n      }\n    };\n\n    return $.extend({}, defaults, options, true);\n  };\n\n  AjaxAdapter.prototype.processResults = function (results) {\n    return results;\n  };\n\n  AjaxAdapter.prototype.query = function (params, callback) {\n    var matches = [];\n    var self = this;\n\n    if (this._request != null) {\n      // JSONP requests cannot always be aborted\n      if ($.isFunction(this._request.abort)) {\n        this._request.abort();\n      }\n\n      this._request = null;\n    }\n\n    var options = $.extend({\n      type: 'GET'\n    }, this.ajaxOptions);\n\n    if (typeof options.url === 'function') {\n      options.url = options.url(params);\n    }\n\n    if (typeof options.data === 'function') {\n      options.data = options.data(params);\n    }\n\n    function request () {\n      var $request = options.transport(options, function (data) {\n        var results = self.processResults(data, params);\n\n        if (self.options.get('debug') && window.console && console.error) {\n          // Check to make sure that the response included a `results` key.\n          if (!results || !results.results || !$.isArray(results.results)) {\n            console.error(\n              'Select2: The AJAX results did not return an array in the ' +\n              '`results` key of the response.'\n            );\n          }\n        }\n\n        callback(results);\n      }, function () {\n        // TODO: Handle AJAX errors\n      });\n\n      self._request = $request;\n    }\n\n    if (this.ajaxOptions.delay && params.term !== '') {\n      if (this._queryTimeout) {\n        window.clearTimeout(this._queryTimeout);\n      }\n\n      this._queryTimeout = window.setTimeout(request, this.ajaxOptions.delay);\n    } else {\n      request();\n    }\n  };\n\n  return AjaxAdapter;\n});\n\nS2.define('select2/data/tags',[\n  'jquery'\n], function ($) {\n  function Tags (decorated, $element, options) {\n    var tags = options.get('tags');\n\n    var createTag = options.get('createTag');\n\n    if (createTag !== undefined) {\n      this.createTag = createTag;\n    }\n\n    decorated.call(this, $element, options);\n\n    if ($.isArray(tags)) {\n      for (var t = 0; t < tags.length; t++) {\n        var tag = tags[t];\n        var item = this._normalizeItem(tag);\n\n        var $option = this.option(item);\n\n        this.$element.append($option);\n      }\n    }\n  }\n\n  Tags.prototype.query = function (decorated, params, callback) {\n    var self = this;\n\n    this._removeOldTags();\n\n    if (params.term == null || params.page != null) {\n      decorated.call(this, params, callback);\n      return;\n    }\n\n    function wrapper (obj, child) {\n      var data = obj.results;\n\n      for (var i = 0; i < data.length; i++) {\n        var option = data[i];\n\n        var checkChildren = (\n          option.children != null &&\n          !wrapper({\n            results: option.children\n          }, true)\n        );\n\n        var checkText = option.text === params.term;\n\n        if (checkText || checkChildren) {\n          if (child) {\n            return false;\n          }\n\n          obj.data = data;\n          callback(obj);\n\n          return;\n        }\n      }\n\n      if (child) {\n        return true;\n      }\n\n      var tag = self.createTag(params);\n\n      if (tag != null) {\n        var $option = self.option(tag);\n        $option.attr('data-select2-tag', true);\n\n        self.addOptions([$option]);\n\n        self.insertTag(data, tag);\n      }\n\n      obj.results = data;\n\n      callback(obj);\n    }\n\n    decorated.call(this, params, wrapper);\n  };\n\n  Tags.prototype.createTag = function (decorated, params) {\n    var term = $.trim(params.term);\n\n    if (term === '') {\n      return null;\n    }\n\n    return {\n      id: term,\n      text: term\n    };\n  };\n\n  Tags.prototype.insertTag = function (_, data, tag) {\n    data.unshift(tag);\n  };\n\n  Tags.prototype._removeOldTags = function (_) {\n    var tag = this._lastTag;\n\n    var $options = this.$element.find('option[data-select2-tag]');\n\n    $options.each(function () {\n      if (this.selected) {\n        return;\n      }\n\n      $(this).remove();\n    });\n  };\n\n  return Tags;\n});\n\nS2.define('select2/data/tokenizer',[\n  'jquery'\n], function ($) {\n  function Tokenizer (decorated, $element, options) {\n    var tokenizer = options.get('tokenizer');\n\n    if (tokenizer !== undefined) {\n      this.tokenizer = tokenizer;\n    }\n\n    decorated.call(this, $element, options);\n  }\n\n  Tokenizer.prototype.bind = function (decorated, container, $container) {\n    decorated.call(this, container, $container);\n\n    this.$search =  container.dropdown.$search || container.selection.$search ||\n      $container.find('.select2-search__field');\n  };\n\n  Tokenizer.prototype.query = function (decorated, params, callback) {\n    var self = this;\n\n    function select (data) {\n      self.select(data);\n    }\n\n    params.term = params.term || '';\n\n    var tokenData = this.tokenizer(params, this.options, select);\n\n    if (tokenData.term !== params.term) {\n      // Replace the search term if we have the search box\n      if (this.$search.length) {\n        this.$search.val(tokenData.term);\n        this.$search.focus();\n      }\n\n      params.term = tokenData.term;\n    }\n\n    decorated.call(this, params, callback);\n  };\n\n  Tokenizer.prototype.tokenizer = function (_, params, options, callback) {\n    var separators = options.get('tokenSeparators') || [];\n    var term = params.term;\n    var i = 0;\n\n    var createTag = this.createTag || function (params) {\n      return {\n        id: params.term,\n        text: params.term\n      };\n    };\n\n    while (i < term.length) {\n      var termChar = term[i];\n\n      if ($.inArray(termChar, separators) === -1) {\n        i++;\n\n        continue;\n      }\n\n      var part = term.substr(0, i);\n      var partParams = $.extend({}, params, {\n        term: part\n      });\n\n      var data = createTag(partParams);\n\n      callback(data);\n\n      // Reset the term to not include the tokenized portion\n      term = term.substr(i + 1) || '';\n      i = 0;\n    }\n\n    return {\n      term: term\n    };\n  };\n\n  return Tokenizer;\n});\n\nS2.define('select2/data/minimumInputLength',[\n\n], function () {\n  function MinimumInputLength (decorated, $e, options) {\n    this.minimumInputLength = options.get('minimumInputLength');\n\n    decorated.call(this, $e, options);\n  }\n\n  MinimumInputLength.prototype.query = function (decorated, params, callback) {\n    params.term = params.term || '';\n\n    if (params.term.length < this.minimumInputLength) {\n      this.trigger('results:message', {\n        message: 'inputTooShort',\n        args: {\n          minimum: this.minimumInputLength,\n          input: params.term,\n          params: params\n        }\n      });\n\n      return;\n    }\n\n    decorated.call(this, params, callback);\n  };\n\n  return MinimumInputLength;\n});\n\nS2.define('select2/data/maximumInputLength',[\n\n], function () {\n  function MaximumInputLength (decorated, $e, options) {\n    this.maximumInputLength = options.get('maximumInputLength');\n\n    decorated.call(this, $e, options);\n  }\n\n  MaximumInputLength.prototype.query = function (decorated, params, callback) {\n    params.term = params.term || '';\n\n    if (this.maximumInputLength > 0 &&\n        params.term.length > this.maximumInputLength) {\n      this.trigger('results:message', {\n        message: 'inputTooLong',\n        args: {\n          maximum: this.maximumInputLength,\n          input: params.term,\n          params: params\n        }\n      });\n\n      return;\n    }\n\n    decorated.call(this, params, callback);\n  };\n\n  return MaximumInputLength;\n});\n\nS2.define('select2/data/maximumSelectionLength',[\n\n], function (){\n  function MaximumSelectionLength (decorated, $e, options) {\n    this.maximumSelectionLength = options.get('maximumSelectionLength');\n\n    decorated.call(this, $e, options);\n  }\n\n  MaximumSelectionLength.prototype.query =\n    function (decorated, params, callback) {\n      var self = this;\n\n      this.current(function (currentData) {\n        var count = currentData != null ? currentData.length : 0;\n        if (self.maximumSelectionLength > 0 &&\n          count >= self.maximumSelectionLength) {\n          self.trigger('results:message', {\n            message: 'maximumSelected',\n            args: {\n              maximum: self.maximumSelectionLength\n            }\n          });\n          return;\n        }\n        decorated.call(self, params, callback);\n      });\n  };\n\n  return MaximumSelectionLength;\n});\n\nS2.define('select2/dropdown',[\n  'jquery',\n  './utils'\n], function ($, Utils) {\n  function Dropdown ($element, options) {\n    this.$element = $element;\n    this.options = options;\n\n    Dropdown.__super__.constructor.call(this);\n  }\n\n  Utils.Extend(Dropdown, Utils.Observable);\n\n  Dropdown.prototype.render = function () {\n    var $dropdown = $(\n      '<span class=\"select2-dropdown\">' +\n        '<span class=\"select2-results\"></span>' +\n      '</span>'\n    );\n\n    $dropdown.attr('dir', this.options.get('dir'));\n\n    this.$dropdown = $dropdown;\n\n    return $dropdown;\n  };\n\n  Dropdown.prototype.position = function ($dropdown, $container) {\n    // Should be implmented in subclasses\n  };\n\n  Dropdown.prototype.destroy = function () {\n    // Remove the dropdown from the DOM\n    this.$dropdown.remove();\n  };\n\n  return Dropdown;\n});\n\nS2.define('select2/dropdown/search',[\n  'jquery',\n  '../utils'\n], function ($, Utils) {\n  function Search () { }\n\n  Search.prototype.render = function (decorated) {\n    var $rendered = decorated.call(this);\n\n    var $search = $(\n      '<span class=\"select2-search select2-search--dropdown\">' +\n        '<input class=\"select2-search__field\" type=\"search\" tabindex=\"-1\"' +\n        ' autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\"' +\n        ' spellcheck=\"false\" role=\"textbox\" />' +\n      '</span>'\n    );\n\n    this.$searchContainer = $search;\n    this.$search = $search.find('input');\n\n    $rendered.prepend($search);\n\n    return $rendered;\n  };\n\n  Search.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    decorated.call(this, container, $container);\n\n    this.$search.on('keydown', function (evt) {\n      self.trigger('keypress', evt);\n\n      self._keyUpPrevented = evt.isDefaultPrevented();\n    });\n\n    // Workaround for browsers which do not support the `input` event\n    // This will prevent double-triggering of events for browsers which support\n    // both the `keyup` and `input` events.\n    this.$search.on('input', function (evt) {\n      // Unbind the duplicated `keyup` event\n      $(this).off('keyup');\n    });\n\n    this.$search.on('keyup input', function (evt) {\n      self.handleSearch(evt);\n    });\n\n    container.on('open', function () {\n      self.$search.attr('tabindex', 0);\n\n      self.$search.focus();\n\n      window.setTimeout(function () {\n        self.$search.focus();\n      }, 0);\n    });\n\n    container.on('close', function () {\n      self.$search.attr('tabindex', -1);\n\n      self.$search.val('');\n    });\n\n    container.on('results:all', function (params) {\n      if (params.query.term == null || params.query.term === '') {\n        var showSearch = self.showSearch(params);\n\n        if (showSearch) {\n          self.$searchContainer.removeClass('select2-search--hide');\n        } else {\n          self.$searchContainer.addClass('select2-search--hide');\n        }\n      }\n    });\n  };\n\n  Search.prototype.handleSearch = function (evt) {\n    if (!this._keyUpPrevented) {\n      var input = this.$search.val();\n\n      this.trigger('query', {\n        term: input\n      });\n    }\n\n    this._keyUpPrevented = false;\n  };\n\n  Search.prototype.showSearch = function (_, params) {\n    return true;\n  };\n\n  return Search;\n});\n\nS2.define('select2/dropdown/hidePlaceholder',[\n\n], function () {\n  function HidePlaceholder (decorated, $element, options, dataAdapter) {\n    this.placeholder = this.normalizePlaceholder(options.get('placeholder'));\n\n    decorated.call(this, $element, options, dataAdapter);\n  }\n\n  HidePlaceholder.prototype.append = function (decorated, data) {\n    data.results = this.removePlaceholder(data.results);\n\n    decorated.call(this, data);\n  };\n\n  HidePlaceholder.prototype.normalizePlaceholder = function (_, placeholder) {\n    if (typeof placeholder === 'string') {\n      placeholder = {\n        id: '',\n        text: placeholder\n      };\n    }\n\n    return placeholder;\n  };\n\n  HidePlaceholder.prototype.removePlaceholder = function (_, data) {\n    var modifiedData = data.slice(0);\n\n    for (var d = data.length - 1; d >= 0; d--) {\n      var item = data[d];\n\n      if (this.placeholder.id === item.id) {\n        modifiedData.splice(d, 1);\n      }\n    }\n\n    return modifiedData;\n  };\n\n  return HidePlaceholder;\n});\n\nS2.define('select2/dropdown/infiniteScroll',[\n  'jquery'\n], function ($) {\n  function InfiniteScroll (decorated, $element, options, dataAdapter) {\n    this.lastParams = {};\n\n    decorated.call(this, $element, options, dataAdapter);\n\n    this.$loadingMore = this.createLoadingMore();\n    this.loading = false;\n  }\n\n  InfiniteScroll.prototype.append = function (decorated, data) {\n    this.$loadingMore.remove();\n    this.loading = false;\n\n    decorated.call(this, data);\n\n    if (this.showLoadingMore(data)) {\n      this.$results.append(this.$loadingMore);\n    }\n  };\n\n  InfiniteScroll.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    decorated.call(this, container, $container);\n\n    container.on('query', function (params) {\n      self.lastParams = params;\n      self.loading = true;\n    });\n\n    container.on('query:append', function (params) {\n      self.lastParams = params;\n      self.loading = true;\n    });\n\n    this.$results.on('scroll', function () {\n      var isLoadMoreVisible = $.contains(\n        document.documentElement,\n        self.$loadingMore[0]\n      );\n\n      if (self.loading || !isLoadMoreVisible) {\n        return;\n      }\n\n      var currentOffset = self.$results.offset().top +\n        self.$results.outerHeight(false);\n      var loadingMoreOffset = self.$loadingMore.offset().top +\n        self.$loadingMore.outerHeight(false);\n\n      if (currentOffset + 50 >= loadingMoreOffset) {\n        self.loadMore();\n      }\n    });\n  };\n\n  InfiniteScroll.prototype.loadMore = function () {\n    this.loading = true;\n\n    var params = $.extend({}, {page: 1}, this.lastParams);\n\n    params.page++;\n\n    this.trigger('query:append', params);\n  };\n\n  InfiniteScroll.prototype.showLoadingMore = function (_, data) {\n    return data.pagination && data.pagination.more;\n  };\n\n  InfiniteScroll.prototype.createLoadingMore = function () {\n    var $option = $(\n      '<li class=\"option load-more\" role=\"treeitem\"></li>'\n    );\n\n    var message = this.options.get('translations').get('loadingMore');\n\n    $option.html(message(this.lastParams));\n\n    return $option;\n  };\n\n  return InfiniteScroll;\n});\n\nS2.define('select2/dropdown/attachBody',[\n  'jquery',\n  '../utils'\n], function ($, Utils) {\n  function AttachBody (decorated, $element, options) {\n    this.$dropdownParent = options.get('dropdownParent') || document.body;\n\n    decorated.call(this, $element, options);\n  }\n\n  AttachBody.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    var setupResultsEvents = false;\n\n    decorated.call(this, container, $container);\n\n    container.on('open', function () {\n      self._showDropdown();\n      self._attachPositioningHandler(container);\n\n      if (!setupResultsEvents) {\n        setupResultsEvents = true;\n\n        container.on('results:all', function () {\n          self._positionDropdown();\n          self._resizeDropdown();\n        });\n\n        container.on('results:append', function () {\n          self._positionDropdown();\n          self._resizeDropdown();\n        });\n      }\n    });\n\n    container.on('close', function () {\n      self._hideDropdown();\n      self._detachPositioningHandler(container);\n    });\n\n    this.$dropdownContainer.on('mousedown', function (evt) {\n      evt.stopPropagation();\n    });\n  };\n\n  AttachBody.prototype.position = function (decorated, $dropdown, $container) {\n    // Clone all of the container classes\n    $dropdown.attr('class', $container.attr('class'));\n\n    $dropdown.removeClass('select2');\n    $dropdown.addClass('select2-container--open');\n\n    $dropdown.css({\n      position: 'absolute',\n      top: -999999\n    });\n\n    this.$container = $container;\n  };\n\n  AttachBody.prototype.render = function (decorated) {\n    var $container = $('<span></span>');\n\n    var $dropdown = decorated.call(this);\n    $container.append($dropdown);\n\n    this.$dropdownContainer = $container;\n\n    return $container;\n  };\n\n  AttachBody.prototype._hideDropdown = function (decorated) {\n    this.$dropdownContainer.detach();\n  };\n\n  AttachBody.prototype._attachPositioningHandler = function (container) {\n    var self = this;\n\n    var scrollEvent = 'scroll.select2.' + container.id;\n    var resizeEvent = 'resize.select2.' + container.id;\n    var orientationEvent = 'orientationchange.select2.' + container.id;\n\n    var $watchers = this.$container.parents().filter(Utils.hasScroll);\n    $watchers.each(function () {\n      $(this).data('select2-scroll-position', {\n        x: $(this).scrollLeft(),\n        y: $(this).scrollTop()\n      });\n    });\n\n    $watchers.on(scrollEvent, function (ev) {\n      var position = $(this).data('select2-scroll-position');\n      $(this).scrollTop(position.y);\n    });\n\n    $(window).on(scrollEvent + ' ' + resizeEvent + ' ' + orientationEvent,\n      function (e) {\n      self._positionDropdown();\n      self._resizeDropdown();\n    });\n  };\n\n  AttachBody.prototype._detachPositioningHandler = function (container) {\n    var scrollEvent = 'scroll.select2.' + container.id;\n    var resizeEvent = 'resize.select2.' + container.id;\n    var orientationEvent = 'orientationchange.select2.' + container.id;\n\n    var $watchers = this.$container.parents().filter(Utils.hasScroll);\n    $watchers.off(scrollEvent);\n\n    $(window).off(scrollEvent + ' ' + resizeEvent + ' ' + orientationEvent);\n  };\n\n  AttachBody.prototype._positionDropdown = function () {\n    var $window = $(window);\n\n    var isCurrentlyAbove = this.$dropdown.hasClass('select2-dropdown--above');\n    var isCurrentlyBelow = this.$dropdown.hasClass('select2-dropdown--below');\n\n    var newDirection = null;\n\n    var position = this.$container.position();\n    var offset = this.$container.offset();\n\n    offset.bottom = offset.top + this.$container.outerHeight(false);\n\n    var container = {\n      height: this.$container.outerHeight(false)\n    };\n\n    container.top = offset.top;\n    container.bottom = offset.top + container.height;\n\n    var dropdown = {\n      height: this.$dropdown.outerHeight(false)\n    };\n\n    var viewport = {\n      top: $window.scrollTop(),\n      bottom: $window.scrollTop() + $window.height()\n    };\n\n    var enoughRoomAbove = viewport.top < (offset.top - dropdown.height);\n    var enoughRoomBelow = viewport.bottom > (offset.bottom + dropdown.height);\n\n    var css = {\n      left: offset.left,\n      top: container.bottom\n    };\n\n    if (!isCurrentlyAbove && !isCurrentlyBelow) {\n      newDirection = 'below';\n    }\n\n    if (!enoughRoomBelow && enoughRoomAbove && !isCurrentlyAbove) {\n      newDirection = 'above';\n    } else if (!enoughRoomAbove && enoughRoomBelow && isCurrentlyAbove) {\n      newDirection = 'below';\n    }\n\n    if (newDirection == 'above' ||\n      (isCurrentlyAbove && newDirection !== 'below')) {\n      css.top = container.top - dropdown.height;\n    }\n\n    if (newDirection != null) {\n      this.$dropdown\n        .removeClass('select2-dropdown--below select2-dropdown--above')\n        .addClass('select2-dropdown--' + newDirection);\n      this.$container\n        .removeClass('select2-container--below select2-container--above')\n        .addClass('select2-container--' + newDirection);\n    }\n\n    this.$dropdownContainer.css(css);\n  };\n\n  AttachBody.prototype._resizeDropdown = function () {\n    this.$dropdownContainer.width();\n\n    var css = {\n      width: this.$container.outerWidth(false) + 'px'\n    };\n\n    if (this.options.get('dropdownAutoWidth')) {\n      css.minWidth = css.width;\n      css.width = 'auto';\n    }\n\n    this.$dropdown.css(css);\n  };\n\n  AttachBody.prototype._showDropdown = function (decorated) {\n    this.$dropdownContainer.appendTo(this.$dropdownParent);\n\n    this._positionDropdown();\n    this._resizeDropdown();\n  };\n\n  return AttachBody;\n});\n\nS2.define('select2/dropdown/minimumResultsForSearch',[\n\n], function () {\n  function countResults (data) {\n    var count = 0;\n\n    for (var d = 0; d < data.length; d++) {\n      var item = data[d];\n\n      if (item.children) {\n        count += countResults(item.children);\n      } else {\n        count++;\n      }\n    }\n\n    return count;\n  }\n\n  function MinimumResultsForSearch (decorated, $element, options, dataAdapter) {\n    this.minimumResultsForSearch = options.get('minimumResultsForSearch');\n\n    if (this.minimumResultsForSearch < 0) {\n      this.minimumResultsForSearch = Infinity;\n    }\n\n    decorated.call(this, $element, options, dataAdapter);\n  }\n\n  MinimumResultsForSearch.prototype.showSearch = function (decorated, params) {\n    if (countResults(params.data.results) < this.minimumResultsForSearch) {\n      return false;\n    }\n\n    return decorated.call(this, params);\n  };\n\n  return MinimumResultsForSearch;\n});\n\nS2.define('select2/dropdown/selectOnClose',[\n\n], function () {\n  function SelectOnClose () { }\n\n  SelectOnClose.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    decorated.call(this, container, $container);\n\n    container.on('close', function () {\n      self._handleSelectOnClose();\n    });\n  };\n\n  SelectOnClose.prototype._handleSelectOnClose = function () {\n    var $highlightedResults = this.getHighlightedResults();\n\n    if ($highlightedResults.length < 1) {\n      return;\n    }\n\n    this.trigger('select', {\n        data: $highlightedResults.data('data')\n    });\n  };\n\n  return SelectOnClose;\n});\n\nS2.define('select2/dropdown/closeOnSelect',[\n\n], function () {\n  function CloseOnSelect () { }\n\n  CloseOnSelect.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    decorated.call(this, container, $container);\n\n    container.on('select', function (evt) {\n      self._selectTriggered(evt);\n    });\n\n    container.on('unselect', function (evt) {\n      self._selectTriggered(evt);\n    });\n  };\n\n  CloseOnSelect.prototype._selectTriggered = function (_, evt) {\n    var originalEvent = evt.originalEvent;\n\n    // Don't close if the control key is being held\n    if (originalEvent && originalEvent.ctrlKey) {\n      return;\n    }\n\n    this.trigger('close');\n  };\n\n  return CloseOnSelect;\n});\n\nS2.define('select2/i18n/en',[],function () {\n  // English\n  return {\n    errorLoading: function () {\n      return 'The results could not be loaded.';\n    },\n    inputTooLong: function (args) {\n      var overChars = args.input.length - args.maximum;\n\n      var message = 'Please delete ' + overChars + ' character';\n\n      if (overChars != 1) {\n        message += 's';\n      }\n\n      return message;\n    },\n    inputTooShort: function (args) {\n      var remainingChars = args.minimum - args.input.length;\n\n      var message = 'Please enter ' + remainingChars + ' or more characters';\n\n      return message;\n    },\n    loadingMore: function () {\n      return 'Loading more results…';\n    },\n    maximumSelected: function (args) {\n      var message = 'You can only select ' + args.maximum + ' item';\n\n      if (args.maximum != 1) {\n        message += 's';\n      }\n\n      return message;\n    },\n    noResults: function () {\n      return 'No results found';\n    },\n    searching: function () {\n      return 'Searching…';\n    }\n  };\n});\n\nS2.define('select2/defaults',[\n  'jquery',\n  'require',\n\n  './results',\n\n  './selection/single',\n  './selection/multiple',\n  './selection/placeholder',\n  './selection/allowClear',\n  './selection/search',\n  './selection/eventRelay',\n\n  './utils',\n  './translation',\n  './diacritics',\n\n  './data/select',\n  './data/array',\n  './data/ajax',\n  './data/tags',\n  './data/tokenizer',\n  './data/minimumInputLength',\n  './data/maximumInputLength',\n  './data/maximumSelectionLength',\n\n  './dropdown',\n  './dropdown/search',\n  './dropdown/hidePlaceholder',\n  './dropdown/infiniteScroll',\n  './dropdown/attachBody',\n  './dropdown/minimumResultsForSearch',\n  './dropdown/selectOnClose',\n  './dropdown/closeOnSelect',\n\n  './i18n/en'\n], function ($, require,\n\n             ResultsList,\n\n             SingleSelection, MultipleSelection, Placeholder, AllowClear,\n             SelectionSearch, EventRelay,\n\n             Utils, Translation, DIACRITICS,\n\n             SelectData, ArrayData, AjaxData, Tags, Tokenizer,\n             MinimumInputLength, MaximumInputLength, MaximumSelectionLength,\n\n             Dropdown, DropdownSearch, HidePlaceholder, InfiniteScroll,\n             AttachBody, MinimumResultsForSearch, SelectOnClose, CloseOnSelect,\n\n             EnglishTranslation) {\n  function Defaults () {\n    this.reset();\n  }\n\n  Defaults.prototype.apply = function (options) {\n    options = $.extend({}, this.defaults, options);\n\n    if (options.dataAdapter == null) {\n      if (options.ajax != null) {\n        options.dataAdapter = AjaxData;\n      } else if (options.data != null) {\n        options.dataAdapter = ArrayData;\n      } else {\n        options.dataAdapter = SelectData;\n      }\n\n      if (options.minimumInputLength > 0) {\n        options.dataAdapter = Utils.Decorate(\n          options.dataAdapter,\n          MinimumInputLength\n        );\n      }\n\n      if (options.maximumInputLength > 0) {\n        options.dataAdapter = Utils.Decorate(\n          options.dataAdapter,\n          MaximumInputLength\n        );\n      }\n\n      if (options.maximumSelectionLength > 0) {\n        options.dataAdapter = Utils.Decorate(\n          options.dataAdapter,\n          MaximumSelectionLength\n        );\n      }\n\n      if (options.tags) {\n        options.dataAdapter = Utils.Decorate(options.dataAdapter, Tags);\n      }\n\n      if (options.tokenSeparators != null || options.tokenizer != null) {\n        options.dataAdapter = Utils.Decorate(\n          options.dataAdapter,\n          Tokenizer\n        );\n      }\n\n      if (options.query != null) {\n        var Query = require(options.amdBase + 'compat/query');\n\n        options.dataAdapter = Utils.Decorate(\n          options.dataAdapter,\n          Query\n        );\n      }\n\n      if (options.initSelection != null) {\n        var InitSelection = require(options.amdBase + 'compat/initSelection');\n\n        options.dataAdapter = Utils.Decorate(\n          options.dataAdapter,\n          InitSelection\n        );\n      }\n    }\n\n    if (options.resultsAdapter == null) {\n      options.resultsAdapter = ResultsList;\n\n      if (options.ajax != null) {\n        options.resultsAdapter = Utils.Decorate(\n          options.resultsAdapter,\n          InfiniteScroll\n        );\n      }\n\n      if (options.placeholder != null) {\n        options.resultsAdapter = Utils.Decorate(\n          options.resultsAdapter,\n          HidePlaceholder\n        );\n      }\n\n      if (options.selectOnClose) {\n        options.resultsAdapter = Utils.Decorate(\n          options.resultsAdapter,\n          SelectOnClose\n        );\n      }\n    }\n\n    if (options.dropdownAdapter == null) {\n      if (options.multiple) {\n        options.dropdownAdapter = Dropdown;\n      } else {\n        var SearchableDropdown = Utils.Decorate(Dropdown, DropdownSearch);\n\n        options.dropdownAdapter = SearchableDropdown;\n      }\n\n      if (options.minimumResultsForSearch !== 0) {\n        options.dropdownAdapter = Utils.Decorate(\n          options.dropdownAdapter,\n          MinimumResultsForSearch\n        );\n      }\n\n      if (options.closeOnSelect) {\n        options.dropdownAdapter = Utils.Decorate(\n          options.dropdownAdapter,\n          CloseOnSelect\n        );\n      }\n\n      if (\n        options.dropdownCssClass != null ||\n        options.dropdownCss != null ||\n        options.adaptDropdownCssClass != null\n      ) {\n        var DropdownCSS = require(options.amdBase + 'compat/dropdownCss');\n\n        options.dropdownAdapter = Utils.Decorate(\n          options.dropdownAdapter,\n          DropdownCSS\n        );\n      }\n\n      options.dropdownAdapter = Utils.Decorate(\n        options.dropdownAdapter,\n        AttachBody\n      );\n    }\n\n    if (options.selectionAdapter == null) {\n      if (options.multiple) {\n        options.selectionAdapter = MultipleSelection;\n      } else {\n        options.selectionAdapter = SingleSelection;\n      }\n\n      // Add the placeholder mixin if a placeholder was specified\n      if (options.placeholder != null) {\n        options.selectionAdapter = Utils.Decorate(\n          options.selectionAdapter,\n          Placeholder\n        );\n      }\n\n      if (options.allowClear) {\n        options.selectionAdapter = Utils.Decorate(\n          options.selectionAdapter,\n          AllowClear\n        );\n      }\n\n      if (options.multiple) {\n        options.selectionAdapter = Utils.Decorate(\n          options.selectionAdapter,\n          SelectionSearch\n        );\n      }\n\n      if (\n        options.containerCssClass != null ||\n        options.containerCss != null ||\n        options.adaptContainerCssClass != null\n      ) {\n        var ContainerCSS = require(options.amdBase + 'compat/containerCss');\n\n        options.selectionAdapter = Utils.Decorate(\n          options.selectionAdapter,\n          ContainerCSS\n        );\n      }\n\n      options.selectionAdapter = Utils.Decorate(\n        options.selectionAdapter,\n        EventRelay\n      );\n    }\n\n    if (typeof options.language === 'string') {\n      // Check if the language is specified with a region\n      if (options.language.indexOf('-') > 0) {\n        // Extract the region information if it is included\n        var languageParts = options.language.split('-');\n        var baseLanguage = languageParts[0];\n\n        options.language = [options.language, baseLanguage];\n      } else {\n        options.language = [options.language];\n      }\n    }\n\n    if ($.isArray(options.language)) {\n      var languages = new Translation();\n      options.language.push('en');\n\n      var languageNames = options.language;\n\n      for (var l = 0; l < languageNames.length; l++) {\n        var name = languageNames[l];\n        var language = {};\n\n        try {\n          // Try to load it with the original name\n          language = Translation.loadPath(name);\n        } catch (e) {\n          try {\n            // If we couldn't load it, check if it wasn't the full path\n            name = this.defaults.amdLanguageBase + name;\n            language = Translation.loadPath(name);\n          } catch (ex) {\n            // The translation could not be loaded at all. Sometimes this is\n            // because of a configuration problem, other times this can be\n            // because of how Select2 helps load all possible translation files.\n            if (options.debug && window.console && console.warn) {\n              console.warn(\n                'Select2: The language file for \"' + name + '\" could not be ' +\n                'automatically loaded. A fallback will be used instead.'\n              );\n            }\n\n            continue;\n          }\n        }\n\n        languages.extend(language);\n      }\n\n      options.translations = languages;\n    } else {\n      var baseTranslation = Translation.loadPath(\n        this.defaults.amdLanguageBase + 'en'\n      );\n      var customTranslation = new Translation(options.language);\n\n      customTranslation.extend(baseTranslation);\n\n      options.translations = customTranslation;\n    }\n\n    return options;\n  };\n\n  Defaults.prototype.reset = function () {\n    function stripDiacritics (text) {\n      // Used 'uni range + named function' from http://jsperf.com/diacritics/18\n      function match(a) {\n        return DIACRITICS[a] || a;\n      }\n\n      return text.replace(/[^\\u0000-\\u007E]/g, match);\n    }\n\n    function matcher (params, data) {\n      // Always return the object if there is nothing to compare\n      if ($.trim(params.term) === '') {\n        return data;\n      }\n\n      // Do a recursive check for options with children\n      if (data.children && data.children.length > 0) {\n        // Clone the data object if there are children\n        // This is required as we modify the object to remove any non-matches\n        var match = $.extend(true, {}, data);\n\n        // Check each child of the option\n        for (var c = data.children.length - 1; c >= 0; c--) {\n          var child = data.children[c];\n\n          var matches = matcher(params, child);\n\n          // If there wasn't a match, remove the object in the array\n          if (matches == null) {\n            match.children.splice(c, 1);\n          }\n        }\n\n        // If any children matched, return the new object\n        if (match.children.length > 0) {\n          return match;\n        }\n\n        // If there were no matching children, check just the plain object\n        return matcher(params, match);\n      }\n\n      var original = stripDiacritics(data.text).toUpperCase();\n      var term = stripDiacritics(params.term).toUpperCase();\n\n      // Check if the text contains the term\n      if (original.indexOf(term) > -1) {\n        return data;\n      }\n\n      // If it doesn't contain the term, don't return anything\n      return null;\n    }\n\n    this.defaults = {\n      amdBase: './',\n      amdLanguageBase: './i18n/',\n      closeOnSelect: true,\n      debug: false,\n      dropdownAutoWidth: false,\n      escapeMarkup: Utils.escapeMarkup,\n      language: EnglishTranslation,\n      matcher: matcher,\n      minimumInputLength: 0,\n      maximumInputLength: 0,\n      maximumSelectionLength: 0,\n      minimumResultsForSearch: 0,\n      selectOnClose: false,\n      sorter: function (data) {\n        return data;\n      },\n      templateResult: function (result) {\n        return result.text;\n      },\n      templateSelection: function (selection) {\n        return selection.text;\n      },\n      theme: 'default',\n      width: 'resolve'\n    };\n  };\n\n  Defaults.prototype.set = function (key, value) {\n    var camelKey = $.camelCase(key);\n\n    var data = {};\n    data[camelKey] = value;\n\n    var convertedData = Utils._convertData(data);\n\n    $.extend(this.defaults, convertedData);\n  };\n\n  var defaults = new Defaults();\n\n  return defaults;\n});\n\nS2.define('select2/options',[\n  'require',\n  'jquery',\n  './defaults',\n  './utils'\n], function (require, $, Defaults, Utils) {\n  function Options (options, $element) {\n    this.options = options;\n\n    if ($element != null) {\n      this.fromElement($element);\n    }\n\n    this.options = Defaults.apply(this.options);\n\n    if ($element && $element.is('input')) {\n      var InputCompat = require(this.get('amdBase') + 'compat/inputData');\n\n      this.options.dataAdapter = Utils.Decorate(\n        this.options.dataAdapter,\n        InputCompat\n      );\n    }\n  }\n\n  Options.prototype.fromElement = function ($e) {\n    var excludedData = ['select2'];\n\n    if (this.options.multiple == null) {\n      this.options.multiple = $e.prop('multiple');\n    }\n\n    if (this.options.disabled == null) {\n      this.options.disabled = $e.prop('disabled');\n    }\n\n    if (this.options.language == null) {\n      if ($e.prop('lang')) {\n        this.options.language = $e.prop('lang').toLowerCase();\n      } else if ($e.closest('[lang]').prop('lang')) {\n        this.options.language = $e.closest('[lang]').prop('lang');\n      }\n    }\n\n    if (this.options.dir == null) {\n      if ($e.prop('dir')) {\n        this.options.dir = $e.prop('dir');\n      } else if ($e.closest('[dir]').prop('dir')) {\n        this.options.dir = $e.closest('[dir]').prop('dir');\n      } else {\n        this.options.dir = 'ltr';\n      }\n    }\n\n    $e.prop('disabled', this.options.disabled);\n    $e.prop('multiple', this.options.multiple);\n\n    if ($e.data('select2Tags')) {\n      if (this.options.debug && window.console && console.warn) {\n        console.warn(\n          'Select2: The `data-select2-tags` attribute has been changed to ' +\n          'use the `data-data` and `data-tags=\"true\"` attributes and will be ' +\n          'removed in future versions of Select2.'\n        );\n      }\n\n      $e.data('data', $e.data('select2Tags'));\n      $e.data('tags', true);\n    }\n\n    if ($e.data('ajaxUrl')) {\n      if (this.options.debug && window.console && console.warn) {\n        console.warn(\n          'Select2: The `data-ajax-url` attribute has been changed to ' +\n          '`data-ajax--url` and support for the old attribute will be removed' +\n          ' in future versions of Select2.'\n        );\n      }\n\n      $e.attr('ajax--url', $e.data('ajaxUrl'));\n      $e.data('ajax--url', $e.data('ajaxUrl'));\n    }\n\n    var dataset = {};\n\n    // Prefer the element's `dataset` attribute if it exists\n    // jQuery 1.x does not correctly handle data attributes with multiple dashes\n    if ($.fn.jquery && $.fn.jquery.substr(0, 2) == '1.' && $e[0].dataset) {\n      dataset = $.extend(true, {}, $e[0].dataset, $e.data());\n    } else {\n      dataset = $e.data();\n    }\n\n    var data = $.extend(true, {}, dataset);\n\n    data = Utils._convertData(data);\n\n    for (var key in data) {\n      if ($.inArray(key, excludedData) > -1) {\n        continue;\n      }\n\n      if ($.isPlainObject(this.options[key])) {\n        $.extend(this.options[key], data[key]);\n      } else {\n        this.options[key] = data[key];\n      }\n    }\n\n    return this;\n  };\n\n  Options.prototype.get = function (key) {\n    return this.options[key];\n  };\n\n  Options.prototype.set = function (key, val) {\n    this.options[key] = val;\n  };\n\n  return Options;\n});\n\nS2.define('select2/core',[\n  'jquery',\n  './options',\n  './utils',\n  './keys'\n], function ($, Options, Utils, KEYS) {\n  var Select2 = function ($element, options) {\n    if ($element.data('select2') != null) {\n      $element.data('select2').destroy();\n    }\n\n    this.$element = $element;\n\n    this.id = this._generateId($element);\n\n    options = options || {};\n\n    this.options = new Options(options, $element);\n\n    Select2.__super__.constructor.call(this);\n\n    // Set up the tabindex\n\n    var tabindex = $element.attr('tabindex') || 0;\n    $element.data('old-tabindex', tabindex);\n    $element.attr('tabindex', '-1');\n\n    // Set up containers and adapters\n\n    var DataAdapter = this.options.get('dataAdapter');\n    this.dataAdapter = new DataAdapter($element, this.options);\n\n    var $container = this.render();\n\n    this._placeContainer($container);\n\n    var SelectionAdapter = this.options.get('selectionAdapter');\n    this.selection = new SelectionAdapter($element, this.options);\n    this.$selection = this.selection.render();\n\n    this.selection.position(this.$selection, $container);\n\n    var DropdownAdapter = this.options.get('dropdownAdapter');\n    this.dropdown = new DropdownAdapter($element, this.options);\n    this.$dropdown = this.dropdown.render();\n\n    this.dropdown.position(this.$dropdown, $container);\n\n    var ResultsAdapter = this.options.get('resultsAdapter');\n    this.results = new ResultsAdapter($element, this.options, this.dataAdapter);\n    this.$results = this.results.render();\n\n    this.results.position(this.$results, this.$dropdown);\n\n    // Bind events\n\n    var self = this;\n\n    // Bind the container to all of the adapters\n    this._bindAdapters();\n\n    // Register any DOM event handlers\n    this._registerDomEvents();\n\n    // Register any internal event handlers\n    this._registerDataEvents();\n    this._registerSelectionEvents();\n    this._registerDropdownEvents();\n    this._registerResultsEvents();\n    this._registerEvents();\n\n    // Set the initial state\n    this.dataAdapter.current(function (initialData) {\n      self.trigger('selection:update', {\n        data: initialData\n      });\n    });\n\n    // Hide the original select\n    $element.addClass('select2-hidden-accessible');\n\t$element.attr('aria-hidden', 'true');\n\t\n    // Synchronize any monitored attributes\n    this._syncAttributes();\n\n    $element.data('select2', this);\n  };\n\n  Utils.Extend(Select2, Utils.Observable);\n\n  Select2.prototype._generateId = function ($element) {\n    var id = '';\n\n    if ($element.attr('id') != null) {\n      id = $element.attr('id');\n    } else if ($element.attr('name') != null) {\n      id = $element.attr('name') + '-' + Utils.generateChars(2);\n    } else {\n      id = Utils.generateChars(4);\n    }\n\n    id = 'select2-' + id;\n\n    return id;\n  };\n\n  Select2.prototype._placeContainer = function ($container) {\n    $container.insertAfter(this.$element);\n\n    var width = this._resolveWidth(this.$element, this.options.get('width'));\n\n    if (width != null) {\n      $container.css('width', width);\n    }\n  };\n\n  Select2.prototype._resolveWidth = function ($element, method) {\n    var WIDTH = /^width:(([-+]?([0-9]*\\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;\n\n    if (method == 'resolve') {\n      var styleWidth = this._resolveWidth($element, 'style');\n\n      if (styleWidth != null) {\n        return styleWidth;\n      }\n\n      return this._resolveWidth($element, 'element');\n    }\n\n    if (method == 'element') {\n      var elementWidth = $element.outerWidth(false);\n\n      if (elementWidth <= 0) {\n        return 'auto';\n      }\n\n      return elementWidth + 'px';\n    }\n\n    if (method == 'style') {\n      var style = $element.attr('style');\n\n      if (typeof(style) !== 'string') {\n        return null;\n      }\n\n      var attrs = style.split(';');\n\n      for (var i = 0, l = attrs.length; i < l; i = i + 1) {\n        var attr = attrs[i].replace(/\\s/g, '');\n        var matches = attr.match(WIDTH);\n\n        if (matches !== null && matches.length >= 1) {\n          return matches[1];\n        }\n      }\n\n      return null;\n    }\n\n    return method;\n  };\n\n  Select2.prototype._bindAdapters = function () {\n    this.dataAdapter.bind(this, this.$container);\n    this.selection.bind(this, this.$container);\n\n    this.dropdown.bind(this, this.$container);\n    this.results.bind(this, this.$container);\n  };\n\n  Select2.prototype._registerDomEvents = function () {\n    var self = this;\n\n    this.$element.on('change.select2', function () {\n      self.dataAdapter.current(function (data) {\n        self.trigger('selection:update', {\n          data: data\n        });\n      });\n    });\n\n    this._sync = Utils.bind(this._syncAttributes, this);\n\n    if (this.$element[0].attachEvent) {\n      this.$element[0].attachEvent('onpropertychange', this._sync);\n    }\n\n    var observer = window.MutationObserver ||\n      window.WebKitMutationObserver ||\n      window.MozMutationObserver\n    ;\n\n    if (observer != null) {\n      this._observer = new observer(function (mutations) {\n        $.each(mutations, self._sync);\n      });\n      this._observer.observe(this.$element[0], {\n        attributes: true,\n        subtree: false\n      });\n    } else if (this.$element[0].addEventListener) {\n      this.$element[0].addEventListener('DOMAttrModified', self._sync, false);\n    }\n  };\n\n  Select2.prototype._registerDataEvents = function () {\n    var self = this;\n\n    this.dataAdapter.on('*', function (name, params) {\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerSelectionEvents = function () {\n    var self = this;\n    var nonRelayEvents = ['toggle'];\n\n    this.selection.on('toggle', function () {\n      self.toggleDropdown();\n    });\n\n    this.selection.on('*', function (name, params) {\n      if ($.inArray(name, nonRelayEvents) !== -1) {\n        return;\n      }\n\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerDropdownEvents = function () {\n    var self = this;\n\n    this.dropdown.on('*', function (name, params) {\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerResultsEvents = function () {\n    var self = this;\n\n    this.results.on('*', function (name, params) {\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerEvents = function () {\n    var self = this;\n\n    this.on('open', function () {\n      self.$container.addClass('select2-container--open');\n    });\n\n    this.on('close', function () {\n      self.$container.removeClass('select2-container--open');\n    });\n\n    this.on('enable', function () {\n      self.$container.removeClass('select2-container--disabled');\n    });\n\n    this.on('disable', function () {\n      self.$container.addClass('select2-container--disabled');\n    });\n\n    this.on('focus', function () {\n      self.$container.addClass('select2-container--focus');\n    });\n\n    this.on('blur', function () {\n      self.$container.removeClass('select2-container--focus');\n    });\n\n    this.on('query', function (params) {\n      if (!self.isOpen()) {\n        self.trigger('open');\n      }\n\n      this.dataAdapter.query(params, function (data) {\n        self.trigger('results:all', {\n          data: data,\n          query: params\n        });\n      });\n    });\n\n    this.on('query:append', function (params) {\n      this.dataAdapter.query(params, function (data) {\n        self.trigger('results:append', {\n          data: data,\n          query: params\n        });\n      });\n    });\n\n    this.on('keypress', function (evt) {\n      var key = evt.which;\n\n      if (self.isOpen()) {\n        if (key === KEYS.ENTER) {\n          self.trigger('results:select');\n\n          evt.preventDefault();\n        } else if ((key === KEYS.SPACE && evt.ctrlKey)) {\n          self.trigger('results:toggle');\n\n          evt.preventDefault();\n        } else if (key === KEYS.UP) {\n          self.trigger('results:previous');\n\n          evt.preventDefault();\n        } else if (key === KEYS.DOWN) {\n          self.trigger('results:next');\n\n          evt.preventDefault();\n        } else if (key === KEYS.ESC || key === KEYS.TAB) {\n          self.close();\n\n          evt.preventDefault();\n        }\n      } else {\n        if (key === KEYS.ENTER || key === KEYS.SPACE ||\n            ((key === KEYS.DOWN || key === KEYS.UP) && evt.altKey)) {\n          self.open();\n\n          evt.preventDefault();\n        }\n      }\n    });\n  };\n\n  Select2.prototype._syncAttributes = function () {\n    this.options.set('disabled', this.$element.prop('disabled'));\n\n    if (this.options.get('disabled')) {\n      if (this.isOpen()) {\n        this.close();\n      }\n\n      this.trigger('disable');\n    } else {\n      this.trigger('enable');\n    }\n  };\n\n  /**\n   * Override the trigger method to automatically trigger pre-events when\n   * there are events that can be prevented.\n   */\n  Select2.prototype.trigger = function (name, args) {\n    var actualTrigger = Select2.__super__.trigger;\n    var preTriggerMap = {\n      'open': 'opening',\n      'close': 'closing',\n      'select': 'selecting',\n      'unselect': 'unselecting'\n    };\n\n    if (name in preTriggerMap) {\n      var preTriggerName = preTriggerMap[name];\n      var preTriggerArgs = {\n        prevented: false,\n        name: name,\n        args: args\n      };\n\n      actualTrigger.call(this, preTriggerName, preTriggerArgs);\n\n      if (preTriggerArgs.prevented) {\n        args.prevented = true;\n\n        return;\n      }\n    }\n\n    actualTrigger.call(this, name, args);\n  };\n\n  Select2.prototype.toggleDropdown = function () {\n    if (this.options.get('disabled')) {\n      return;\n    }\n\n    if (this.isOpen()) {\n      this.close();\n    } else {\n      this.open();\n    }\n  };\n\n  Select2.prototype.open = function () {\n    if (this.isOpen()) {\n      return;\n    }\n\n    this.trigger('query', {});\n\n    this.trigger('open');\n  };\n\n  Select2.prototype.close = function () {\n    if (!this.isOpen()) {\n      return;\n    }\n\n    this.trigger('close');\n  };\n\n  Select2.prototype.isOpen = function () {\n    return this.$container.hasClass('select2-container--open');\n  };\n\n  Select2.prototype.enable = function (args) {\n    if (this.options.get('debug') && window.console && console.warn) {\n      console.warn(\n        'Select2: The `select2(\"enable\")` method has been deprecated and will' +\n        ' be removed in later Select2 versions. Use $element.prop(\"disabled\")' +\n        ' instead.'\n      );\n    }\n\n    if (args == null || args.length === 0) {\n      args = [true];\n    }\n\n    var disabled = !args[0];\n\n    this.$element.prop('disabled', disabled);\n  };\n\n  Select2.prototype.data = function () {\n    if (this.options.get('debug') &&\n        arguments.length > 0 && window.console && console.warn) {\n      console.warn(\n        'Select2: Data can no longer be set using `select2(\"data\")`. You ' +\n        'should consider setting the value instead using `$element.val()`.'\n      );\n    }\n\n    var data = [];\n\n    this.dataAdapter.current(function (currentData) {\n      data = currentData;\n    });\n\n    return data;\n  };\n\n  Select2.prototype.val = function (args) {\n    if (this.options.get('debug') && window.console && console.warn) {\n      console.warn(\n        'Select2: The `select2(\"val\")` method has been deprecated and will be' +\n        ' removed in later Select2 versions. Use $element.val() instead.'\n      );\n    }\n\n    if (args == null || args.length === 0) {\n      return this.$element.val();\n    }\n\n    var newVal = args[0];\n\n    if ($.isArray(newVal)) {\n      newVal = $.map(newVal, function (obj) {\n        return obj.toString();\n      });\n    }\n\n    this.$element.val(newVal).trigger('change');\n  };\n\n  Select2.prototype.destroy = function () {\n    this.$container.remove();\n\n    if (this.$element[0].detachEvent) {\n      this.$element[0].detachEvent('onpropertychange', this._sync);\n    }\n\n    if (this._observer != null) {\n      this._observer.disconnect();\n      this._observer = null;\n    } else if (this.$element[0].removeEventListener) {\n      this.$element[0]\n        .removeEventListener('DOMAttrModified', this._sync, false);\n    }\n\n    this._sync = null;\n\n    this.$element.off('.select2');\n    this.$element.attr('tabindex', this.$element.data('old-tabindex'));\n\n    this.$element.removeClass('select2-hidden-accessible');\n\tthis.$element.attr('aria-hidden', 'false');\n    this.$element.removeData('select2');\n\n    this.dataAdapter.destroy();\n    this.selection.destroy();\n    this.dropdown.destroy();\n    this.results.destroy();\n\n    this.dataAdapter = null;\n    this.selection = null;\n    this.dropdown = null;\n    this.results = null;\n  };\n\n  Select2.prototype.render = function () {\n    var $container = $(\n      '<span class=\"select2 select2-container\">' +\n        '<span class=\"selection\"></span>' +\n        '<span class=\"dropdown-wrapper\" aria-hidden=\"true\"></span>' +\n      '</span>'\n    );\n\n    $container.attr('dir', this.options.get('dir'));\n\n    this.$container = $container;\n\n    this.$container.addClass('select2-container--' + this.options.get('theme'));\n\n    $container.data('element', this.$element);\n\n    return $container;\n  };\n\n  return Select2;\n});\n\nS2.define('jquery.select2',[\n  'jquery',\n  'require',\n\n  './select2/core',\n  './select2/defaults'\n], function ($, require, Select2, Defaults) {\n  // Force jQuery.mousewheel to be loaded if it hasn't already\n  require('jquery.mousewheel');\n\n  if ($.fn.select2 == null) {\n    // All methods that should return the element\n    var thisMethods = ['open', 'close', 'destroy'];\n\n    $.fn.select2 = function (options) {\n      options = options || {};\n\n      if (typeof options === 'object') {\n        this.each(function () {\n          var instanceOptions = $.extend({}, options, true);\n\n          var instance = new Select2($(this), instanceOptions);\n        });\n\n        return this;\n      } else if (typeof options === 'string') {\n        var instance = this.data('select2');\n\n        if (instance == null && window.console && console.error) {\n          console.error(\n            'The select2(\\'' + options + '\\') method was called on an ' +\n            'element that is not using Select2.'\n          );\n        }\n\n        var args = Array.prototype.slice.call(arguments, 1);\n\n        var ret = instance[options](args);\n\n        // Check if we should be returning `this`\n        if ($.inArray(options, thisMethods) > -1) {\n          return this;\n        }\n\n        return ret;\n      } else {\n        throw new Error('Invalid arguments for Select2: ' + options);\n      }\n    };\n  }\n\n  if ($.fn.select2.defaults == null) {\n    $.fn.select2.defaults = Defaults;\n  }\n\n  return Select2;\n});\n\nS2.define('jquery.mousewheel',[\n  'jquery'\n], function ($) {\n  // Used to shim jQuery.mousewheel for non-full builds.\n  return $;\n});\n\n  // Return the AMD loader configuration so it can be used outside of this file\n  return {\n    define: S2.define,\n    require: S2.require\n  };\n}());\n\n  // Autoload the jQuery bindings\n  // We know that all of the modules exist above this, so we're safe\n  var select2 = S2.require('jquery.select2');\n\n  // Hold the AMD module references on the jQuery function that was just loaded\n  // This allows Select2 to use the internal loader outside of this file, such\n  // as in the language files.\n  jQuery.fn.select2.amd = S2;\n\n  // Return the Select2 instance for anyone who is importing it.\n  return select2;\n}));\n\n(function($){\n\n\t/**\n\t * Copyright 2012, Digital Fusion\n\t * Licensed under the MIT license.\n\t * http://teamdf.com/jquery-plugins/license/\n\t *\n\t * @author Sam Sehnert\n\t * @desc A small plugin that checks whether elements are within\n\t *\t\t the user visible viewport of a web browser.\n\t *\t\t only accounts for vertical position, not horizontal.\n\t */\n\t$.fn.visible = function(partial,hidden){\n\t\t\n\t    var $t\t\t\t\t= $(this).eq(0),\n\t    \tt\t\t\t\t= $t.get(0),\n\t    \t$w\t\t\t\t= $(window),\n\t    \tviewTop\t\t\t= $w.scrollTop(),\n\t    \tviewBottom\t\t= viewTop + $w.height(),\n\t    \t_top\t\t\t= $t.offset().top,\n\t    \t_bottom\t\t\t= _top + $t.height(),\n\t    \tcompareTop\t\t= partial === true ? _bottom : _top,\n\t    \tcompareBottom\t= partial === true ? _top : _bottom,\n\t    \tclientSize\t\t= hidden === true ? t.offsetWidth * t.offsetHeight : true;\n\t\t\n\t\treturn !!clientSize && ((compareBottom <= viewBottom) && (compareTop >= viewTop));\n    };\n    \n})(jQuery);\n/**\n * bootbox.js [v4.4.0]\n *\n * http://bootboxjs.com/license.txt\n */\n\n// @see https://github.com/makeusabrew/bootbox/issues/180\n// @see https://github.com/makeusabrew/bootbox/issues/186\n(function (root, factory) {\n\n  \"use strict\";\n  if (typeof define === \"function\" && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([\"jquery\"], factory);\n  } else if (typeof exports === \"object\") {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory(require(\"jquery\"));\n  } else {\n    // Browser globals (root is window)\n    root.bootbox = factory(root.jQuery);\n  }\n\n}(this, function init($, undefined) {\n\n  \"use strict\";\n\n  // the base DOM structure needed to create a modal\n  var templates = {\n    dialog:\n      \"<div class='bootbox modal' tabindex='-1' role='dialog'>\" +\n        \"<div class='modal-dialog'>\" +\n          \"<div class='modal-content'>\" +\n            \"<div class='modal-body'><div class='bootbox-body'></div></div>\" +\n          \"</div>\" +\n        \"</div>\" +\n      \"</div>\",\n    header:\n      \"<div class='modal-header'>\" +\n        \"<h4 class='modal-title'></h4>\" +\n      \"</div>\",\n    footer:\n      \"<div class='modal-footer'></div>\",\n    closeButton:\n      \"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>\",\n    form:\n      \"<form class='bootbox-form'></form>\",\n    inputs: {\n      text:\n        \"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />\",\n      textarea:\n        \"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>\",\n      email:\n        \"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />\",\n      select:\n        \"<select class='bootbox-input bootbox-input-select form-control'></select>\",\n      checkbox:\n        \"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>\",\n      date:\n        \"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />\",\n      time:\n        \"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />\",\n      number:\n        \"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />\",\n      password:\n        \"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />\"\n    }\n  };\n\n  var defaults = {\n    // default language\n    locale: \"en\",\n    // show backdrop or not. Default to static so user has to interact with dialog\n    backdrop: \"static\",\n    // animate the modal in/out\n    animate: true,\n    // additional class string applied to the top level dialog\n    className: null,\n    // whether or not to include a close button\n    closeButton: true,\n    // show the dialog immediately by default\n    show: true,\n    // dialog container\n    container: \"body\"\n  };\n\n  // our public object; augmented after our private API\n  var exports = {};\n\n  /**\n   * @private\n   */\n  function _t(key) {\n    var locale = locales[defaults.locale];\n    return locale ? locale[key] : locales.en[key];\n  }\n\n  function processCallback(e, dialog, callback) {\n    e.stopPropagation();\n    e.preventDefault();\n\n    // by default we assume a callback will get rid of the dialog,\n    // although it is given the opportunity to override this\n\n    // so, if the callback can be invoked and it *explicitly returns false*\n    // then we'll set a flag to keep the dialog active...\n    var preserveDialog = $.isFunction(callback) && callback.call(dialog, e) === false;\n\n    // ... otherwise we'll bin it\n    if (!preserveDialog) {\n      dialog.modal(\"hide\");\n    }\n  }\n\n  function getKeyLength(obj) {\n    // @TODO defer to Object.keys(x).length if available?\n    var k, t = 0;\n    for (k in obj) {\n      t ++;\n    }\n    return t;\n  }\n\n  function each(collection, iterator) {\n    var index = 0;\n    $.each(collection, function(key, value) {\n      iterator(key, value, index++);\n    });\n  }\n\n  function sanitize(options) {\n    var buttons;\n    var total;\n\n    if (typeof options !== \"object\") {\n      throw new Error(\"Please supply an object of options\");\n    }\n\n    if (!options.message) {\n      throw new Error(\"Please specify a message\");\n    }\n\n    // make sure any supplied options take precedence over defaults\n    options = $.extend({}, defaults, options);\n\n    if (!options.buttons) {\n      options.buttons = {};\n    }\n\n    buttons = options.buttons;\n\n    total = getKeyLength(buttons);\n\n    each(buttons, function(key, button, index) {\n\n      if ($.isFunction(button)) {\n        // short form, assume value is our callback. Since button\n        // isn't an object it isn't a reference either so re-assign it\n        button = buttons[key] = {\n          callback: button\n        };\n      }\n\n      // before any further checks make sure by now button is the correct type\n      if ($.type(button) !== \"object\") {\n        throw new Error(\"button with key \" + key + \" must be an object\");\n      }\n\n      if (!button.label) {\n        // the lack of an explicit label means we'll assume the key is good enough\n        button.label = key;\n      }\n\n      if (!button.className) {\n        if (total <= 2 && index === total-1) {\n          // always add a primary to the main option in a two-button dialog\n          button.className = \"btn-primary\";\n        } else {\n          button.className = \"btn-default\";\n        }\n      }\n    });\n\n    return options;\n  }\n\n  /**\n   * map a flexible set of arguments into a single returned object\n   * if args.length is already one just return it, otherwise\n   * use the properties argument to map the unnamed args to\n   * object properties\n   * so in the latter case:\n   * mapArguments([\"foo\", $.noop], [\"message\", \"callback\"])\n   * -> { message: \"foo\", callback: $.noop }\n   */\n  function mapArguments(args, properties) {\n    var argn = args.length;\n    var options = {};\n\n    if (argn < 1 || argn > 2) {\n      throw new Error(\"Invalid argument length\");\n    }\n\n    if (argn === 2 || typeof args[0] === \"string\") {\n      options[properties[0]] = args[0];\n      options[properties[1]] = args[1];\n    } else {\n      options = args[0];\n    }\n\n    return options;\n  }\n\n  /**\n   * merge a set of default dialog options with user supplied arguments\n   */\n  function mergeArguments(defaults, args, properties) {\n    return $.extend(\n      // deep merge\n      true,\n      // ensure the target is an empty, unreferenced object\n      {},\n      // the base options object for this type of dialog (often just buttons)\n      defaults,\n      // args could be an object or array; if it's an array properties will\n      // map it to a proper options object\n      mapArguments(\n        args,\n        properties\n      )\n    );\n  }\n\n  /**\n   * this entry-level method makes heavy use of composition to take a simple\n   * range of inputs and return valid options suitable for passing to bootbox.dialog\n   */\n  function mergeDialogOptions(className, labels, properties, args) {\n    //  build up a base set of dialog properties\n    var baseOptions = {\n      className: \"bootbox-\" + className,\n      buttons: createLabels.apply(null, labels)\n    };\n\n    // ensure the buttons properties generated, *after* merging\n    // with user args are still valid against the supplied labels\n    return validateButtons(\n      // merge the generated base properties with user supplied arguments\n      mergeArguments(\n        baseOptions,\n        args,\n        // if args.length > 1, properties specify how each arg maps to an object key\n        properties\n      ),\n      labels\n    );\n  }\n\n  /**\n   * from a given list of arguments return a suitable object of button labels\n   * all this does is normalise the given labels and translate them where possible\n   * e.g. \"ok\", \"confirm\" -> { ok: \"OK, cancel: \"Annuleren\" }\n   */\n  function createLabels() {\n    var buttons = {};\n\n    for (var i = 0, j = arguments.length; i < j; i++) {\n      var argument = arguments[i];\n      var key = argument.toLowerCase();\n      var value = argument.toUpperCase();\n\n      buttons[key] = {\n        label: _t(value)\n      };\n    }\n\n    return buttons;\n  }\n\n  function validateButtons(options, buttons) {\n    var allowedButtons = {};\n    each(buttons, function(key, value) {\n      allowedButtons[value] = true;\n    });\n\n    each(options.buttons, function(key) {\n      if (allowedButtons[key] === undefined) {\n        throw new Error(\"button key \" + key + \" is not allowed (options are \" + buttons.join(\"\\n\") + \")\");\n      }\n    });\n\n    return options;\n  }\n\n  exports.alert = function() {\n    var options;\n\n    options = mergeDialogOptions(\"alert\", [\"ok\"], [\"message\", \"callback\"], arguments);\n\n    if (options.callback && !$.isFunction(options.callback)) {\n      throw new Error(\"alert requires callback property to be a function when provided\");\n    }\n\n    /**\n     * overrides\n     */\n    options.buttons.ok.callback = options.onEscape = function() {\n      if ($.isFunction(options.callback)) {\n        return options.callback.call(this);\n      }\n      return true;\n    };\n\n    return exports.dialog(options);\n  };\n\n  exports.confirm = function() {\n    var options;\n\n    options = mergeDialogOptions(\"confirm\", [\"cancel\", \"confirm\"], [\"message\", \"callback\"], arguments);\n\n    /**\n     * overrides; undo anything the user tried to set they shouldn't have\n     */\n    options.buttons.cancel.callback = options.onEscape = function() {\n      return options.callback.call(this, false);\n    };\n\n    options.buttons.confirm.callback = function() {\n      return options.callback.call(this, true);\n    };\n\n    // confirm specific validation\n    if (!$.isFunction(options.callback)) {\n      throw new Error(\"confirm requires a callback\");\n    }\n\n    return exports.dialog(options);\n  };\n\n  exports.prompt = function() {\n    var options;\n    var defaults;\n    var dialog;\n    var form;\n    var input;\n    var shouldShow;\n    var inputOptions;\n\n    // we have to create our form first otherwise\n    // its value is undefined when gearing up our options\n    // @TODO this could be solved by allowing message to\n    // be a function instead...\n    form = $(templates.form);\n\n    // prompt defaults are more complex than others in that\n    // users can override more defaults\n    // @TODO I don't like that prompt has to do a lot of heavy\n    // lifting which mergeDialogOptions can *almost* support already\n    // just because of 'value' and 'inputType' - can we refactor?\n    defaults = {\n      className: \"bootbox-prompt\",\n      buttons: createLabels(\"cancel\", \"confirm\"),\n      value: \"\",\n      inputType: \"text\"\n    };\n\n    options = validateButtons(\n      mergeArguments(defaults, arguments, [\"title\", \"callback\"]),\n      [\"cancel\", \"confirm\"]\n    );\n\n    // capture the user's show value; we always set this to false before\n    // spawning the dialog to give us a chance to attach some handlers to\n    // it, but we need to make sure we respect a preference not to show it\n    shouldShow = (options.show === undefined) ? true : options.show;\n\n    /**\n     * overrides; undo anything the user tried to set they shouldn't have\n     */\n    options.message = form;\n\n    options.buttons.cancel.callback = options.onEscape = function() {\n      return options.callback.call(this, null);\n    };\n\n    options.buttons.confirm.callback = function() {\n      var value;\n\n      switch (options.inputType) {\n        case \"text\":\n        case \"textarea\":\n        case \"email\":\n        case \"select\":\n        case \"date\":\n        case \"time\":\n        case \"number\":\n        case \"password\":\n          value = input.val();\n          break;\n\n        case \"checkbox\":\n          var checkedItems = input.find(\"input:checked\");\n\n          // we assume that checkboxes are always multiple,\n          // hence we default to an empty array\n          value = [];\n\n          each(checkedItems, function(_, item) {\n            value.push($(item).val());\n          });\n          break;\n      }\n\n      return options.callback.call(this, value);\n    };\n\n    options.show = false;\n\n    // prompt specific validation\n    if (!options.title) {\n      throw new Error(\"prompt requires a title\");\n    }\n\n    if (!$.isFunction(options.callback)) {\n      throw new Error(\"prompt requires a callback\");\n    }\n\n    if (!templates.inputs[options.inputType]) {\n      throw new Error(\"invalid prompt type\");\n    }\n\n    // create the input based on the supplied type\n    input = $(templates.inputs[options.inputType]);\n\n    switch (options.inputType) {\n      case \"text\":\n      case \"textarea\":\n      case \"email\":\n      case \"date\":\n      case \"time\":\n      case \"number\":\n      case \"password\":\n        input.val(options.value);\n        break;\n\n      case \"select\":\n        var groups = {};\n        inputOptions = options.inputOptions || [];\n\n        if (!$.isArray(inputOptions)) {\n          throw new Error(\"Please pass an array of input options\");\n        }\n\n        if (!inputOptions.length) {\n          throw new Error(\"prompt with select requires options\");\n        }\n\n        each(inputOptions, function(_, option) {\n\n          // assume the element to attach to is the input...\n          var elem = input;\n\n          if (option.value === undefined || option.text === undefined) {\n            throw new Error(\"given options in wrong format\");\n          }\n\n          // ... but override that element if this option sits in a group\n\n          if (option.group) {\n            // initialise group if necessary\n            if (!groups[option.group]) {\n              groups[option.group] = $(\"<optgroup/>\").attr(\"label\", option.group);\n            }\n\n            elem = groups[option.group];\n          }\n\n          elem.append(\"<option value='\" + option.value + \"'>\" + option.text + \"</option>\");\n        });\n\n        each(groups, function(_, group) {\n          input.append(group);\n        });\n\n        // safe to set a select's value as per a normal input\n        input.val(options.value);\n        break;\n\n      case \"checkbox\":\n        var values   = $.isArray(options.value) ? options.value : [options.value];\n        inputOptions = options.inputOptions || [];\n\n        if (!inputOptions.length) {\n          throw new Error(\"prompt with checkbox requires options\");\n        }\n\n        if (!inputOptions[0].value || !inputOptions[0].text) {\n          throw new Error(\"given options in wrong format\");\n        }\n\n        // checkboxes have to nest within a containing element, so\n        // they break the rules a bit and we end up re-assigning\n        // our 'input' element to this container instead\n        input = $(\"<div/>\");\n\n        each(inputOptions, function(_, option) {\n          var checkbox = $(templates.inputs[options.inputType]);\n\n          checkbox.find(\"input\").attr(\"value\", option.value);\n          checkbox.find(\"label\").append(option.text);\n\n          // we've ensured values is an array so we can always iterate over it\n          each(values, function(_, value) {\n            if (value === option.value) {\n              checkbox.find(\"input\").prop(\"checked\", true);\n            }\n          });\n\n          input.append(checkbox);\n        });\n        break;\n    }\n\n    // @TODO provide an attributes option instead\n    // and simply map that as keys: vals\n    if (options.placeholder) {\n      input.attr(\"placeholder\", options.placeholder);\n    }\n\n    if (options.pattern) {\n      input.attr(\"pattern\", options.pattern);\n    }\n\n    if (options.maxlength) {\n      input.attr(\"maxlength\", options.maxlength);\n    }\n\n    // now place it in our form\n    form.append(input);\n\n    form.on(\"submit\", function(e) {\n      e.preventDefault();\n      // Fix for SammyJS (or similar JS routing library) hijacking the form post.\n      e.stopPropagation();\n      // @TODO can we actually click *the* button object instead?\n      // e.g. buttons.confirm.click() or similar\n      dialog.find(\".btn-primary\").click();\n    });\n\n    dialog = exports.dialog(options);\n\n    // clear the existing handler focusing the submit button...\n    dialog.off(\"shown.bs.modal\");\n\n    // ...and replace it with one focusing our input, if possible\n    dialog.on(\"shown.bs.modal\", function() {\n      // need the closure here since input isn't\n      // an object otherwise\n      input.focus();\n    });\n\n    if (shouldShow === true) {\n      dialog.modal(\"show\");\n    }\n\n    return dialog;\n  };\n\n  exports.dialog = function(options) {\n    options = sanitize(options);\n\n    var dialog = $(templates.dialog);\n    var innerDialog = dialog.find(\".modal-dialog\");\n    var body = dialog.find(\".modal-body\");\n    var buttons = options.buttons;\n    var buttonStr = \"\";\n    var callbacks = {\n      onEscape: options.onEscape\n    };\n\n    if ($.fn.modal === undefined) {\n      throw new Error(\n        \"$.fn.modal is not defined; please double check you have included \" +\n        \"the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ \" +\n        \"for more details.\"\n      );\n    }\n\n    each(buttons, function(key, button) {\n\n      // @TODO I don't like this string appending to itself; bit dirty. Needs reworking\n      // can we just build up button elements instead? slower but neater. Then button\n      // can just become a template too\n      buttonStr += \"<button data-bb-handler='\" + key + \"' type='button' class='btn \" + button.className + \"'>\" + button.label + \"</button>\";\n      callbacks[key] = button.callback;\n    });\n\n    body.find(\".bootbox-body\").html(options.message);\n\n    if (options.animate === true) {\n      dialog.addClass(\"fade\");\n    }\n\n    if (options.className) {\n      dialog.addClass(options.className);\n    }\n\n    if (options.size === \"large\") {\n      innerDialog.addClass(\"modal-lg\");\n    } else if (options.size === \"small\") {\n      innerDialog.addClass(\"modal-sm\");\n    }\n\n    if (options.title) {\n      body.before(templates.header);\n    }\n\n    if (options.closeButton) {\n      var closeButton = $(templates.closeButton);\n\n      if (options.title) {\n        dialog.find(\".modal-header\").prepend(closeButton);\n      } else {\n        closeButton.css(\"margin-top\", \"-10px\").prependTo(body);\n      }\n    }\n\n    if (options.title) {\n      dialog.find(\".modal-title\").html(options.title);\n    }\n\n    if (buttonStr.length) {\n      body.after(templates.footer);\n      dialog.find(\".modal-footer\").html(buttonStr);\n    }\n\n\n    /**\n     * Bootstrap event listeners; used handle extra\n     * setup & teardown required after the underlying\n     * modal has performed certain actions\n     */\n\n    dialog.on(\"hidden.bs.modal\", function(e) {\n      // ensure we don't accidentally intercept hidden events triggered\n      // by children of the current dialog. We shouldn't anymore now BS\n      // namespaces its events; but still worth doing\n      if (e.target === this) {\n        dialog.remove();\n      }\n    });\n\n    /*\n    dialog.on(\"show.bs.modal\", function() {\n      // sadly this doesn't work; show is called *just* before\n      // the backdrop is added so we'd need a setTimeout hack or\n      // otherwise... leaving in as would be nice\n      if (options.backdrop) {\n        dialog.next(\".modal-backdrop\").addClass(\"bootbox-backdrop\");\n      }\n    });\n    */\n\n    dialog.on(\"shown.bs.modal\", function() {\n      dialog.find(\".btn-primary:first\").focus();\n    });\n\n    /**\n     * Bootbox event listeners; experimental and may not last\n     * just an attempt to decouple some behaviours from their\n     * respective triggers\n     */\n\n    if (options.backdrop !== \"static\") {\n      // A boolean true/false according to the Bootstrap docs\n      // should show a dialog the user can dismiss by clicking on\n      // the background.\n      // We always only ever pass static/false to the actual\n      // $.modal function because with `true` we can't trap\n      // this event (the .modal-backdrop swallows it)\n      // However, we still want to sort of respect true\n      // and invoke the escape mechanism instead\n      dialog.on(\"click.dismiss.bs.modal\", function(e) {\n        // @NOTE: the target varies in >= 3.3.x releases since the modal backdrop\n        // moved *inside* the outer dialog rather than *alongside* it\n        if (dialog.children(\".modal-backdrop\").length) {\n          e.currentTarget = dialog.children(\".modal-backdrop\").get(0);\n        }\n\n        if (e.target !== e.currentTarget) {\n          return;\n        }\n\n        dialog.trigger(\"escape.close.bb\");\n      });\n    }\n\n    dialog.on(\"escape.close.bb\", function(e) {\n      if (callbacks.onEscape) {\n        processCallback(e, dialog, callbacks.onEscape);\n      }\n    });\n\n    /**\n     * Standard jQuery event listeners; used to handle user\n     * interaction with our dialog\n     */\n\n    dialog.on(\"click\", \".modal-footer button\", function(e) {\n      var callbackKey = $(this).data(\"bb-handler\");\n\n      processCallback(e, dialog, callbacks[callbackKey]);\n    });\n\n    dialog.on(\"click\", \".bootbox-close-button\", function(e) {\n      // onEscape might be falsy but that's fine; the fact is\n      // if the user has managed to click the close button we\n      // have to close the dialog, callback or not\n      processCallback(e, dialog, callbacks.onEscape);\n    });\n\n    dialog.on(\"keyup\", function(e) {\n      if (e.which === 27) {\n        dialog.trigger(\"escape.close.bb\");\n      }\n    });\n\n    // the remainder of this method simply deals with adding our\n    // dialogent to the DOM, augmenting it with Bootstrap's modal\n    // functionality and then giving the resulting object back\n    // to our caller\n\n    $(options.container).append(dialog);\n\n    dialog.modal({\n      backdrop: options.backdrop ? \"static\": false,\n      keyboard: false,\n      show: false\n    });\n\n    if (options.show) {\n      dialog.modal(\"show\");\n    }\n\n    // @TODO should we return the raw element here or should\n    // we wrap it in an object on which we can expose some neater\n    // methods, e.g. var d = bootbox.alert(); d.hide(); instead\n    // of d.modal(\"hide\");\n\n   /*\n    function BBDialog(elem) {\n      this.elem = elem;\n    }\n\n    BBDialog.prototype = {\n      hide: function() {\n        return this.elem.modal(\"hide\");\n      },\n      show: function() {\n        return this.elem.modal(\"show\");\n      }\n    };\n    */\n\n    return dialog;\n\n  };\n\n  exports.setDefaults = function() {\n    var values = {};\n\n    if (arguments.length === 2) {\n      // allow passing of single key/value...\n      values[arguments[0]] = arguments[1];\n    } else {\n      // ... and as an object too\n      values = arguments[0];\n    }\n\n    $.extend(defaults, values);\n  };\n\n  exports.hideAll = function() {\n    $(\".bootbox\").modal(\"hide\");\n\n    return exports;\n  };\n\n\n  /**\n   * standard locales. Please add more according to ISO 639-1 standard. Multiple language variants are\n   * unlikely to be required. If this gets too large it can be split out into separate JS files.\n   */\n  var locales = {\n    bg_BG : {\n      OK      : \"Ок\",\n      CANCEL  : \"Отказ\",\n      CONFIRM : \"Потвърждавам\"\n    },\n    br : {\n      OK      : \"OK\",\n      CANCEL  : \"Cancelar\",\n      CONFIRM : \"Sim\"\n    },\n    cs : {\n      OK      : \"OK\",\n      CANCEL  : \"Zrušit\",\n      CONFIRM : \"Potvrdit\"\n    },\n    da : {\n      OK      : \"OK\",\n      CANCEL  : \"Annuller\",\n      CONFIRM : \"Accepter\"\n    },\n    de : {\n      OK      : \"OK\",\n      CANCEL  : \"Abbrechen\",\n      CONFIRM : \"Akzeptieren\"\n    },\n    el : {\n      OK      : \"Εντάξει\",\n      CANCEL  : \"Ακύρωση\",\n      CONFIRM : \"Επιβεβαίωση\"\n    },\n    en : {\n      OK      : \"OK\",\n      CANCEL  : \"Cancel\",\n      CONFIRM : \"OK\"\n    },\n    es : {\n      OK      : \"OK\",\n      CANCEL  : \"Cancelar\",\n      CONFIRM : \"Aceptar\"\n    },\n    et : {\n      OK      : \"OK\",\n      CANCEL  : \"Katkesta\",\n      CONFIRM : \"OK\"\n    },\n    fa : {\n      OK      : \"قبول\",\n      CANCEL  : \"لغو\",\n      CONFIRM : \"تایید\"\n    },\n    fi : {\n      OK      : \"OK\",\n      CANCEL  : \"Peruuta\",\n      CONFIRM : \"OK\"\n    },\n    fr : {\n      OK      : \"OK\",\n      CANCEL  : \"Annuler\",\n      CONFIRM : \"D'accord\"\n    },\n    he : {\n      OK      : \"אישור\",\n      CANCEL  : \"ביטול\",\n      CONFIRM : \"אישור\"\n    },\n    hu : {\n      OK      : \"OK\",\n      CANCEL  : \"Mégsem\",\n      CONFIRM : \"Megerősít\"\n    },\n    hr : {\n      OK      : \"OK\",\n      CANCEL  : \"Odustani\",\n      CONFIRM : \"Potvrdi\"\n    },\n    id : {\n      OK      : \"OK\",\n      CANCEL  : \"Batal\",\n      CONFIRM : \"OK\"\n    },\n    it : {\n      OK      : \"OK\",\n      CANCEL  : \"Annulla\",\n      CONFIRM : \"Conferma\"\n    },\n    ja : {\n      OK      : \"OK\",\n      CANCEL  : \"キャンセル\",\n      CONFIRM : \"確認\"\n    },\n    lt : {\n      OK      : \"Gerai\",\n      CANCEL  : \"Atšaukti\",\n      CONFIRM : \"Patvirtinti\"\n    },\n    lv : {\n      OK      : \"Labi\",\n      CANCEL  : \"Atcelt\",\n      CONFIRM : \"Apstiprināt\"\n    },\n    nl : {\n      OK      : \"OK\",\n      CANCEL  : \"Annuleren\",\n      CONFIRM : \"Accepteren\"\n    },\n    no : {\n      OK      : \"OK\",\n      CANCEL  : \"Avbryt\",\n      CONFIRM : \"OK\"\n    },\n    pl : {\n      OK      : \"OK\",\n      CANCEL  : \"Anuluj\",\n      CONFIRM : \"Potwierdź\"\n    },\n    pt : {\n      OK      : \"OK\",\n      CANCEL  : \"Cancelar\",\n      CONFIRM : \"Confirmar\"\n    },\n    ru : {\n      OK      : \"OK\",\n      CANCEL  : \"Отмена\",\n      CONFIRM : \"Применить\"\n    },\n    sq : {\n      OK : \"OK\",\n      CANCEL : \"Anulo\",\n      CONFIRM : \"Prano\"\n    },\n    sv : {\n      OK      : \"OK\",\n      CANCEL  : \"Avbryt\",\n      CONFIRM : \"OK\"\n    },\n    th : {\n      OK      : \"ตกลง\",\n      CANCEL  : \"ยกเลิก\",\n      CONFIRM : \"ยืนยัน\"\n    },\n    tr : {\n      OK      : \"Tamam\",\n      CANCEL  : \"İptal\",\n      CONFIRM : \"Onayla\"\n    },\n    zh_CN : {\n      OK      : \"OK\",\n      CANCEL  : \"取消\",\n      CONFIRM : \"确认\"\n    },\n    zh_TW : {\n      OK      : \"OK\",\n      CANCEL  : \"取消\",\n      CONFIRM : \"確認\"\n    }\n  };\n\n  exports.addLocale = function(name, values) {\n    $.each([\"OK\", \"CANCEL\", \"CONFIRM\"], function(_, v) {\n      if (!values[v]) {\n        throw new Error(\"Please supply a translation for '\" + v + \"'\");\n      }\n    });\n\n    locales[name] = {\n      OK: values.OK,\n      CANCEL: values.CANCEL,\n      CONFIRM: values.CONFIRM\n    };\n\n    return exports;\n  };\n\n  exports.removeLocale = function(name) {\n    delete locales[name];\n\n    return exports;\n  };\n\n  exports.setLocale = function(name) {\n    return exports.setDefaults(\"locale\", name);\n  };\n\n  exports.init = function(_$) {\n    return init(_$ || $);\n  };\n\n  return exports;\n}));\n\n/*!\n * Chart.js\n * http://chartjs.org/\n * Version: 1.0.2\n *\n * Copyright 2015 Nick Downie\n * Released under the MIT license\n * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md\n */\n\n\n(function(){\n\n\t\"use strict\";\n\n\t//Declare root variable - window in the browser, global on the server\n\tvar root = this,\n\t\tprevious = root.Chart;\n\n\t//Occupy the global variable of Chart, and create a simple base class\n\tvar Chart = function(context){\n\t\tvar chart = this;\n\t\tthis.canvas = context.canvas;\n\n\t\tthis.ctx = context;\n\n\t\t//Variables global to the chart\n\t\tvar computeDimension = function(element,dimension)\n\t\t{\n\t\t\tif (element['offset'+dimension])\n\t\t\t{\n\t\t\t\treturn element['offset'+dimension];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn document.defaultView.getComputedStyle(element).getPropertyValue(dimension);\n\t\t\t}\n\t\t}\n\n\t\tvar width = this.width = computeDimension(context.canvas,'Width');\n\t\tvar height = this.height = computeDimension(context.canvas,'Height');\n\n\t\t// Firefox requires this to work correctly\n\t\tcontext.canvas.width  = width;\n\t\tcontext.canvas.height = height;\n\n\t\tvar width = this.width = context.canvas.width;\n\t\tvar height = this.height = context.canvas.height;\n\t\tthis.aspectRatio = this.width / this.height;\n\t\t//High pixel density displays - multiply the size of the canvas height/width by the device pixel ratio, then scale.\n\t\thelpers.retinaScale(this);\n\n\t\treturn this;\n\t};\n\t//Globally expose the defaults to allow for user updating/changing\n\tChart.defaults = {\n\t\tglobal: {\n\t\t\t// Boolean - Whether to animate the chart\n\t\t\tanimation: true,\n\n\t\t\t// Number - Number of animation steps\n\t\t\tanimationSteps: 60,\n\n\t\t\t// String - Animation easing effect\n\t\t\tanimationEasing: \"easeOutQuart\",\n\n\t\t\t// Boolean - If we should show the scale at all\n\t\t\tshowScale: true,\n\n\t\t\t// Boolean - If we want to override with a hard coded scale\n\t\t\tscaleOverride: false,\n\n\t\t\t// ** Required if scaleOverride is true **\n\t\t\t// Number - The number of steps in a hard coded scale\n\t\t\tscaleSteps: null,\n\t\t\t// Number - The value jump in the hard coded scale\n\t\t\tscaleStepWidth: null,\n\t\t\t// Number - The scale starting value\n\t\t\tscaleStartValue: null,\n\n\t\t\t// String - Colour of the scale line\n\t\t\tscaleLineColor: \"rgba(0,0,0,.1)\",\n\n\t\t\t// Number - Pixel width of the scale line\n\t\t\tscaleLineWidth: 1,\n\n\t\t\t// Boolean - Whether to show labels on the scale\n\t\t\tscaleShowLabels: true,\n\n\t\t\t// Interpolated JS string - can access value\n\t\t\tscaleLabel: \"<%=value%>\",\n\n\t\t\t// Boolean - Whether the scale should stick to integers, and not show any floats even if drawing space is there\n\t\t\tscaleIntegersOnly: true,\n\n\t\t\t// Boolean - Whether the scale should start at zero, or an order of magnitude down from the lowest value\n\t\t\tscaleBeginAtZero: false,\n\n\t\t\t// String - Scale label font declaration for the scale label\n\t\t\tscaleFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n\n\t\t\t// Number - Scale label font size in pixels\n\t\t\tscaleFontSize: 12,\n\n\t\t\t// String - Scale label font weight style\n\t\t\tscaleFontStyle: \"normal\",\n\n\t\t\t// String - Scale label font colour\n\t\t\tscaleFontColor: \"#666\",\n\n\t\t\t// Boolean - whether or not the chart should be responsive and resize when the browser does.\n\t\t\tresponsive: false,\n\n\t\t\t// Boolean - whether to maintain the starting aspect ratio or not when responsive, if set to false, will take up entire container\n\t\t\tmaintainAspectRatio: true,\n\n\t\t\t// Boolean - Determines whether to draw tooltips on the canvas or not - attaches events to touchmove & mousemove\n\t\t\tshowTooltips: true,\n\n\t\t\t// Boolean - Determines whether to draw built-in tooltip or call custom tooltip function\n\t\t\tcustomTooltips: false,\n\n\t\t\t// Array - Array of string names to attach tooltip events\n\t\t\ttooltipEvents: [\"mousemove\", \"touchstart\", \"touchmove\", \"mouseout\"],\n\n\t\t\t// String - Tooltip background colour\n\t\t\ttooltipFillColor: \"rgba(0,0,0,0.8)\",\n\n\t\t\t// String - Tooltip label font declaration for the scale label\n\t\t\ttooltipFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n\n\t\t\t// Number - Tooltip label font size in pixels\n\t\t\ttooltipFontSize: 14,\n\n\t\t\t// String - Tooltip font weight style\n\t\t\ttooltipFontStyle: \"normal\",\n\n\t\t\t// String - Tooltip label font colour\n\t\t\ttooltipFontColor: \"#fff\",\n\n\t\t\t// String - Tooltip title font declaration for the scale label\n\t\t\ttooltipTitleFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n\n\t\t\t// Number - Tooltip title font size in pixels\n\t\t\ttooltipTitleFontSize: 14,\n\n\t\t\t// String - Tooltip title font weight style\n\t\t\ttooltipTitleFontStyle: \"bold\",\n\n\t\t\t// String - Tooltip title font colour\n\t\t\ttooltipTitleFontColor: \"#fff\",\n\n\t\t\t// Number - pixel width of padding around tooltip text\n\t\t\ttooltipYPadding: 6,\n\n\t\t\t// Number - pixel width of padding around tooltip text\n\t\t\ttooltipXPadding: 6,\n\n\t\t\t// Number - Size of the caret on the tooltip\n\t\t\ttooltipCaretSize: 8,\n\n\t\t\t// Number - Pixel radius of the tooltip border\n\t\t\ttooltipCornerRadius: 6,\n\n\t\t\t// Number - Pixel offset from point x to tooltip edge\n\t\t\ttooltipXOffset: 10,\n\n\t\t\t// String - Template string for single tooltips\n\t\t\ttooltipTemplate: \"<%if (label){%><%=label%>: <%}%><%= value %>\",\n\n\t\t\t// String - Template string for single tooltips\n\t\t\tmultiTooltipTemplate: \"<%= value %>\",\n\n\t\t\t// String - Colour behind the legend colour block\n\t\t\tmultiTooltipKeyBackground: '#fff',\n\n\t\t\t// Function - Will fire on animation progression.\n\t\t\tonAnimationProgress: function(){},\n\n\t\t\t// Function - Will fire on animation completion.\n\t\t\tonAnimationComplete: function(){}\n\n\t\t}\n\t};\n\n\t//Create a dictionary of chart types, to allow for extension of existing types\n\tChart.types = {};\n\n\t//Global Chart helpers object for utility methods and classes\n\tvar helpers = Chart.helpers = {};\n\n\t\t//-- Basic js utility methods\n\tvar each = helpers.each = function(loopable,callback,self){\n\t\t\tvar additionalArgs = Array.prototype.slice.call(arguments, 3);\n\t\t\t// Check to see if null or undefined firstly.\n\t\t\tif (loopable){\n\t\t\t\tif (loopable.length === +loopable.length){\n\t\t\t\t\tvar i;\n\t\t\t\t\tfor (i=0; i<loopable.length; i++){\n\t\t\t\t\t\tcallback.apply(self,[loopable[i], i].concat(additionalArgs));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tfor (var item in loopable){\n\t\t\t\t\t\tcallback.apply(self,[loopable[item],item].concat(additionalArgs));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tclone = helpers.clone = function(obj){\n\t\t\tvar objClone = {};\n\t\t\teach(obj,function(value,key){\n\t\t\t\tif (obj.hasOwnProperty(key)) objClone[key] = value;\n\t\t\t});\n\t\t\treturn objClone;\n\t\t},\n\t\textend = helpers.extend = function(base){\n\t\t\teach(Array.prototype.slice.call(arguments,1), function(extensionObject) {\n\t\t\t\teach(extensionObject,function(value,key){\n\t\t\t\t\tif (extensionObject.hasOwnProperty(key)) base[key] = value;\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn base;\n\t\t},\n\t\tmerge = helpers.merge = function(base,master){\n\t\t\t//Merge properties in left object over to a shallow clone of object right.\n\t\t\tvar args = Array.prototype.slice.call(arguments,0);\n\t\t\targs.unshift({});\n\t\t\treturn extend.apply(null, args);\n\t\t},\n\t\tindexOf = helpers.indexOf = function(arrayToSearch, item){\n\t\t\tif (Array.prototype.indexOf) {\n\t\t\t\treturn arrayToSearch.indexOf(item);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfor (var i = 0; i < arrayToSearch.length; i++) {\n\t\t\t\t\tif (arrayToSearch[i] === item) return i;\n\t\t\t\t}\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t},\n\t\twhere = helpers.where = function(collection, filterCallback){\n\t\t\tvar filtered = [];\n\n\t\t\thelpers.each(collection, function(item){\n\t\t\t\tif (filterCallback(item)){\n\t\t\t\t\tfiltered.push(item);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn filtered;\n\t\t},\n\t\tfindNextWhere = helpers.findNextWhere = function(arrayToSearch, filterCallback, startIndex){\n\t\t\t// Default to start of the array\n\t\t\tif (!startIndex){\n\t\t\t\tstartIndex = -1;\n\t\t\t}\n\t\t\tfor (var i = startIndex + 1; i < arrayToSearch.length; i++) {\n\t\t\t\tvar currentItem = arrayToSearch[i];\n\t\t\t\tif (filterCallback(currentItem)){\n\t\t\t\t\treturn currentItem;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tfindPreviousWhere = helpers.findPreviousWhere = function(arrayToSearch, filterCallback, startIndex){\n\t\t\t// Default to end of the array\n\t\t\tif (!startIndex){\n\t\t\t\tstartIndex = arrayToSearch.length;\n\t\t\t}\n\t\t\tfor (var i = startIndex - 1; i >= 0; i--) {\n\t\t\t\tvar currentItem = arrayToSearch[i];\n\t\t\t\tif (filterCallback(currentItem)){\n\t\t\t\t\treturn currentItem;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tinherits = helpers.inherits = function(extensions){\n\t\t\t//Basic javascript inheritance based on the model created in Backbone.js\n\t\t\tvar parent = this;\n\t\t\tvar ChartElement = (extensions && extensions.hasOwnProperty(\"constructor\")) ? extensions.constructor : function(){ return parent.apply(this, arguments); };\n\n\t\t\tvar Surrogate = function(){ this.constructor = ChartElement;};\n\t\t\tSurrogate.prototype = parent.prototype;\n\t\t\tChartElement.prototype = new Surrogate();\n\n\t\t\tChartElement.extend = inherits;\n\n\t\t\tif (extensions) extend(ChartElement.prototype, extensions);\n\n\t\t\tChartElement.__super__ = parent.prototype;\n\n\t\t\treturn ChartElement;\n\t\t},\n\t\tnoop = helpers.noop = function(){},\n\t\tuid = helpers.uid = (function(){\n\t\t\tvar id=0;\n\t\t\treturn function(){\n\t\t\t\treturn \"chart-\" + id++;\n\t\t\t};\n\t\t})(),\n\t\twarn = helpers.warn = function(str){\n\t\t\t//Method for warning of errors\n\t\t\tif (window.console && typeof window.console.warn == \"function\") console.warn(str);\n\t\t},\n\t\tamd = helpers.amd = (typeof define == 'function' && define.amd),\n\t\t//-- Math methods\n\t\tisNumber = helpers.isNumber = function(n){\n\t\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\n\t\t},\n\t\tmax = helpers.max = function(array){\n\t\t\treturn Math.max.apply( Math, array );\n\t\t},\n\t\tmin = helpers.min = function(array){\n\t\t\treturn Math.min.apply( Math, array );\n\t\t},\n\t\tcap = helpers.cap = function(valueToCap,maxValue,minValue){\n\t\t\tif(isNumber(maxValue)) {\n\t\t\t\tif( valueToCap > maxValue ) {\n\t\t\t\t\treturn maxValue;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(isNumber(minValue)){\n\t\t\t\tif ( valueToCap < minValue ){\n\t\t\t\t\treturn minValue;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn valueToCap;\n\t\t},\n\t\tgetDecimalPlaces = helpers.getDecimalPlaces = function(num){\n\t\t\tif (num%1!==0 && isNumber(num)){\n\t\t\t\treturn num.toString().split(\".\")[1].length;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t},\n\t\ttoRadians = helpers.radians = function(degrees){\n\t\t\treturn degrees * (Math.PI/180);\n\t\t},\n\t\t// Gets the angle from vertical upright to the point about a centre.\n\t\tgetAngleFromPoint = helpers.getAngleFromPoint = function(centrePoint, anglePoint){\n\t\t\tvar distanceFromXCenter = anglePoint.x - centrePoint.x,\n\t\t\t\tdistanceFromYCenter = anglePoint.y - centrePoint.y,\n\t\t\t\tradialDistanceFromCenter = Math.sqrt( distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n\n\n\t\t\tvar angle = Math.PI * 2 + Math.atan2(distanceFromYCenter, distanceFromXCenter);\n\n\t\t\t//If the segment is in the top left quadrant, we need to add another rotation to the angle\n\t\t\tif (distanceFromXCenter < 0 && distanceFromYCenter < 0){\n\t\t\t\tangle += Math.PI*2;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tangle: angle,\n\t\t\t\tdistance: radialDistanceFromCenter\n\t\t\t};\n\t\t},\n\t\taliasPixel = helpers.aliasPixel = function(pixelWidth){\n\t\t\treturn (pixelWidth % 2 === 0) ? 0 : 0.5;\n\t\t},\n\t\tsplineCurve = helpers.splineCurve = function(FirstPoint,MiddlePoint,AfterPoint,t){\n\t\t\t//Props to Rob Spencer at scaled innovation for his post on splining between points\n\t\t\t//http://scaledinnovation.com/analytics/splines/aboutSplines.html\n\t\t\tvar d01=Math.sqrt(Math.pow(MiddlePoint.x-FirstPoint.x,2)+Math.pow(MiddlePoint.y-FirstPoint.y,2)),\n\t\t\t\td12=Math.sqrt(Math.pow(AfterPoint.x-MiddlePoint.x,2)+Math.pow(AfterPoint.y-MiddlePoint.y,2)),\n\t\t\t\tfa=t*d01/(d01+d12),// scaling factor for triangle Ta\n\t\t\t\tfb=t*d12/(d01+d12);\n\t\t\treturn {\n\t\t\t\tinner : {\n\t\t\t\t\tx : MiddlePoint.x-fa*(AfterPoint.x-FirstPoint.x),\n\t\t\t\t\ty : MiddlePoint.y-fa*(AfterPoint.y-FirstPoint.y)\n\t\t\t\t},\n\t\t\t\touter : {\n\t\t\t\t\tx: MiddlePoint.x+fb*(AfterPoint.x-FirstPoint.x),\n\t\t\t\t\ty : MiddlePoint.y+fb*(AfterPoint.y-FirstPoint.y)\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tcalculateOrderOfMagnitude = helpers.calculateOrderOfMagnitude = function(val){\n\t\t\treturn Math.floor(Math.log(val) / Math.LN10);\n\t\t},\n\t\tcalculateScaleRange = helpers.calculateScaleRange = function(valuesArray, drawingSize, textSize, startFromZero, integersOnly){\n\n\t\t\t//Set a minimum step of two - a point at the top of the graph, and a point at the base\n\t\t\tvar minSteps = 2,\n\t\t\t\tmaxSteps = Math.floor(drawingSize/(textSize * 1.5)),\n\t\t\t\tskipFitting = (minSteps >= maxSteps);\n\n\t\t\tvar maxValue = max(valuesArray),\n\t\t\t\tminValue = min(valuesArray);\n\n\t\t\t// We need some degree of seperation here to calculate the scales if all the values are the same\n\t\t\t// Adding/minusing 0.5 will give us a range of 1.\n\t\t\tif (maxValue === minValue){\n\t\t\t\tmaxValue += 0.5;\n\t\t\t\t// So we don't end up with a graph with a negative start value if we've said always start from zero\n\t\t\t\tif (minValue >= 0.5 && !startFromZero){\n\t\t\t\t\tminValue -= 0.5;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\t// Make up a whole number above the values\n\t\t\t\t\tmaxValue += 0.5;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar\tvalueRange = Math.abs(maxValue - minValue),\n\t\t\t\trangeOrderOfMagnitude = calculateOrderOfMagnitude(valueRange),\n\t\t\t\tgraphMax = Math.ceil(maxValue / (1 * Math.pow(10, rangeOrderOfMagnitude))) * Math.pow(10, rangeOrderOfMagnitude),\n\t\t\t\tgraphMin = (startFromZero) ? 0 : Math.floor(minValue / (1 * Math.pow(10, rangeOrderOfMagnitude))) * Math.pow(10, rangeOrderOfMagnitude),\n\t\t\t\tgraphRange = graphMax - graphMin,\n\t\t\t\tstepValue = Math.pow(10, rangeOrderOfMagnitude),\n\t\t\t\tnumberOfSteps = Math.round(graphRange / stepValue);\n\n\t\t\t//If we have more space on the graph we'll use it to give more definition to the data\n\t\t\twhile((numberOfSteps > maxSteps || (numberOfSteps * 2) < maxSteps) && !skipFitting) {\n\t\t\t\tif(numberOfSteps > maxSteps){\n\t\t\t\t\tstepValue *=2;\n\t\t\t\t\tnumberOfSteps = Math.round(graphRange/stepValue);\n\t\t\t\t\t// Don't ever deal with a decimal number of steps - cancel fitting and just use the minimum number of steps.\n\t\t\t\t\tif (numberOfSteps % 1 !== 0){\n\t\t\t\t\t\tskipFitting = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//We can fit in double the amount of scale points on the scale\n\t\t\t\telse{\n\t\t\t\t\t//If user has declared ints only, and the step value isn't a decimal\n\t\t\t\t\tif (integersOnly && rangeOrderOfMagnitude >= 0){\n\t\t\t\t\t\t//If the user has said integers only, we need to check that making the scale more granular wouldn't make it a float\n\t\t\t\t\t\tif(stepValue/2 % 1 === 0){\n\t\t\t\t\t\t\tstepValue /=2;\n\t\t\t\t\t\t\tnumberOfSteps = Math.round(graphRange/stepValue);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//If it would make it a float break out of the loop\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//If the scale doesn't have to be an int, make the scale more granular anyway.\n\t\t\t\t\telse{\n\t\t\t\t\t\tstepValue /=2;\n\t\t\t\t\t\tnumberOfSteps = Math.round(graphRange/stepValue);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (skipFitting){\n\t\t\t\tnumberOfSteps = minSteps;\n\t\t\t\tstepValue = graphRange / numberOfSteps;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tsteps : numberOfSteps,\n\t\t\t\tstepValue : stepValue,\n\t\t\t\tmin : graphMin,\n\t\t\t\tmax\t: graphMin + (numberOfSteps * stepValue)\n\t\t\t};\n\n\t\t},\n\t\t/* jshint ignore:start */\n\t\t// Blows up jshint errors based on the new Function constructor\n\t\t//Templating methods\n\t\t//Javascript micro templating by John Resig - source at http://ejohn.org/blog/javascript-micro-templating/\n\t\ttemplate = helpers.template = function(templateString, valuesObject){\n\n\t\t\t// If templateString is function rather than string-template - call the function for valuesObject\n\n\t\t\tif(templateString instanceof Function){\n\t\t\t \treturn templateString(valuesObject);\n\t\t \t}\n\n\t\t\tvar cache = {};\n\t\t\tfunction tmpl(str, data){\n\t\t\t\t// Figure out if we're getting a template, or if we need to\n\t\t\t\t// load the template - and be sure to cache the result.\n\t\t\t\tvar fn = !/\\W/.test(str) ?\n\t\t\t\tcache[str] = cache[str] :\n\n\t\t\t\t// Generate a reusable function that will serve as a template\n\t\t\t\t// generator (and which will be cached).\n\t\t\t\tnew Function(\"obj\",\n\t\t\t\t\t\"var p=[],print=function(){p.push.apply(p,arguments);};\" +\n\n\t\t\t\t\t// Introduce the data as local variables using with(){}\n\t\t\t\t\t\"with(obj){p.push('\" +\n\n\t\t\t\t\t// Convert the template into pure JavaScript\n\t\t\t\t\tstr\n\t\t\t\t\t\t.replace(/[\\r\\t\\n]/g, \" \")\n\t\t\t\t\t\t.split(\"<%\").join(\"\\t\")\n\t\t\t\t\t\t.replace(/((^|%>)[^\\t]*)'/g, \"$1\\r\")\n\t\t\t\t\t\t.replace(/\\t=(.*?)%>/g, \"',$1,'\")\n\t\t\t\t\t\t.split(\"\\t\").join(\"');\")\n\t\t\t\t\t\t.split(\"%>\").join(\"p.push('\")\n\t\t\t\t\t\t.split(\"\\r\").join(\"\\\\'\") +\n\t\t\t\t\t\"');}return p.join('');\"\n\t\t\t\t);\n\n\t\t\t\t// Provide some basic currying to the user\n\t\t\t\treturn data ? fn( data ) : fn;\n\t\t\t}\n\t\t\treturn tmpl(templateString,valuesObject);\n\t\t},\n\t\t/* jshint ignore:end */\n\t\tgenerateLabels = helpers.generateLabels = function(templateString,numberOfSteps,graphMin,stepValue){\n\t\t\tvar labelsArray = new Array(numberOfSteps);\n\t\t\tif (labelTemplateString){\n\t\t\t\teach(labelsArray,function(val,index){\n\t\t\t\t\tlabelsArray[index] = template(templateString,{value: (graphMin + (stepValue*(index+1)))});\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn labelsArray;\n\t\t},\n\t\t//--Animation methods\n\t\t//Easing functions adapted from Robert Penner's easing equations\n\t\t//http://www.robertpenner.com/easing/\n\t\teasingEffects = helpers.easingEffects = {\n\t\t\tlinear: function (t) {\n\t\t\t\treturn t;\n\t\t\t},\n\t\t\teaseInQuad: function (t) {\n\t\t\t\treturn t * t;\n\t\t\t},\n\t\t\teaseOutQuad: function (t) {\n\t\t\t\treturn -1 * t * (t - 2);\n\t\t\t},\n\t\t\teaseInOutQuad: function (t) {\n\t\t\t\tif ((t /= 1 / 2) < 1) return 1 / 2 * t * t;\n\t\t\t\treturn -1 / 2 * ((--t) * (t - 2) - 1);\n\t\t\t},\n\t\t\teaseInCubic: function (t) {\n\t\t\t\treturn t * t * t;\n\t\t\t},\n\t\t\teaseOutCubic: function (t) {\n\t\t\t\treturn 1 * ((t = t / 1 - 1) * t * t + 1);\n\t\t\t},\n\t\t\teaseInOutCubic: function (t) {\n\t\t\t\tif ((t /= 1 / 2) < 1) return 1 / 2 * t * t * t;\n\t\t\t\treturn 1 / 2 * ((t -= 2) * t * t + 2);\n\t\t\t},\n\t\t\teaseInQuart: function (t) {\n\t\t\t\treturn t * t * t * t;\n\t\t\t},\n\t\t\teaseOutQuart: function (t) {\n\t\t\t\treturn -1 * ((t = t / 1 - 1) * t * t * t - 1);\n\t\t\t},\n\t\t\teaseInOutQuart: function (t) {\n\t\t\t\tif ((t /= 1 / 2) < 1) return 1 / 2 * t * t * t * t;\n\t\t\t\treturn -1 / 2 * ((t -= 2) * t * t * t - 2);\n\t\t\t},\n\t\t\teaseInQuint: function (t) {\n\t\t\t\treturn 1 * (t /= 1) * t * t * t * t;\n\t\t\t},\n\t\t\teaseOutQuint: function (t) {\n\t\t\t\treturn 1 * ((t = t / 1 - 1) * t * t * t * t + 1);\n\t\t\t},\n\t\t\teaseInOutQuint: function (t) {\n\t\t\t\tif ((t /= 1 / 2) < 1) return 1 / 2 * t * t * t * t * t;\n\t\t\t\treturn 1 / 2 * ((t -= 2) * t * t * t * t + 2);\n\t\t\t},\n\t\t\teaseInSine: function (t) {\n\t\t\t\treturn -1 * Math.cos(t / 1 * (Math.PI / 2)) + 1;\n\t\t\t},\n\t\t\teaseOutSine: function (t) {\n\t\t\t\treturn 1 * Math.sin(t / 1 * (Math.PI / 2));\n\t\t\t},\n\t\t\teaseInOutSine: function (t) {\n\t\t\t\treturn -1 / 2 * (Math.cos(Math.PI * t / 1) - 1);\n\t\t\t},\n\t\t\teaseInExpo: function (t) {\n\t\t\t\treturn (t === 0) ? 1 : 1 * Math.pow(2, 10 * (t / 1 - 1));\n\t\t\t},\n\t\t\teaseOutExpo: function (t) {\n\t\t\t\treturn (t === 1) ? 1 : 1 * (-Math.pow(2, -10 * t / 1) + 1);\n\t\t\t},\n\t\t\teaseInOutExpo: function (t) {\n\t\t\t\tif (t === 0) return 0;\n\t\t\t\tif (t === 1) return 1;\n\t\t\t\tif ((t /= 1 / 2) < 1) return 1 / 2 * Math.pow(2, 10 * (t - 1));\n\t\t\t\treturn 1 / 2 * (-Math.pow(2, -10 * --t) + 2);\n\t\t\t},\n\t\t\teaseInCirc: function (t) {\n\t\t\t\tif (t >= 1) return t;\n\t\t\t\treturn -1 * (Math.sqrt(1 - (t /= 1) * t) - 1);\n\t\t\t},\n\t\t\teaseOutCirc: function (t) {\n\t\t\t\treturn 1 * Math.sqrt(1 - (t = t / 1 - 1) * t);\n\t\t\t},\n\t\t\teaseInOutCirc: function (t) {\n\t\t\t\tif ((t /= 1 / 2) < 1) return -1 / 2 * (Math.sqrt(1 - t * t) - 1);\n\t\t\t\treturn 1 / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n\t\t\t},\n\t\t\teaseInElastic: function (t) {\n\t\t\t\tvar s = 1.70158;\n\t\t\t\tvar p = 0;\n\t\t\t\tvar a = 1;\n\t\t\t\tif (t === 0) return 0;\n\t\t\t\tif ((t /= 1) == 1) return 1;\n\t\t\t\tif (!p) p = 1 * 0.3;\n\t\t\t\tif (a < Math.abs(1)) {\n\t\t\t\t\ta = 1;\n\t\t\t\t\ts = p / 4;\n\t\t\t\t} else s = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t\treturn -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p));\n\t\t\t},\n\t\t\teaseOutElastic: function (t) {\n\t\t\t\tvar s = 1.70158;\n\t\t\t\tvar p = 0;\n\t\t\t\tvar a = 1;\n\t\t\t\tif (t === 0) return 0;\n\t\t\t\tif ((t /= 1) == 1) return 1;\n\t\t\t\tif (!p) p = 1 * 0.3;\n\t\t\t\tif (a < Math.abs(1)) {\n\t\t\t\t\ta = 1;\n\t\t\t\t\ts = p / 4;\n\t\t\t\t} else s = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t\treturn a * Math.pow(2, -10 * t) * Math.sin((t * 1 - s) * (2 * Math.PI) / p) + 1;\n\t\t\t},\n\t\t\teaseInOutElastic: function (t) {\n\t\t\t\tvar s = 1.70158;\n\t\t\t\tvar p = 0;\n\t\t\t\tvar a = 1;\n\t\t\t\tif (t === 0) return 0;\n\t\t\t\tif ((t /= 1 / 2) == 2) return 1;\n\t\t\t\tif (!p) p = 1 * (0.3 * 1.5);\n\t\t\t\tif (a < Math.abs(1)) {\n\t\t\t\t\ta = 1;\n\t\t\t\t\ts = p / 4;\n\t\t\t\t} else s = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t\tif (t < 1) return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p));\n\t\t\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p) * 0.5 + 1;\n\t\t\t},\n\t\t\teaseInBack: function (t) {\n\t\t\t\tvar s = 1.70158;\n\t\t\t\treturn 1 * (t /= 1) * t * ((s + 1) * t - s);\n\t\t\t},\n\t\t\teaseOutBack: function (t) {\n\t\t\t\tvar s = 1.70158;\n\t\t\t\treturn 1 * ((t = t / 1 - 1) * t * ((s + 1) * t + s) + 1);\n\t\t\t},\n\t\t\teaseInOutBack: function (t) {\n\t\t\t\tvar s = 1.70158;\n\t\t\t\tif ((t /= 1 / 2) < 1) return 1 / 2 * (t * t * (((s *= (1.525)) + 1) * t - s));\n\t\t\t\treturn 1 / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n\t\t\t},\n\t\t\teaseInBounce: function (t) {\n\t\t\t\treturn 1 - easingEffects.easeOutBounce(1 - t);\n\t\t\t},\n\t\t\teaseOutBounce: function (t) {\n\t\t\t\tif ((t /= 1) < (1 / 2.75)) {\n\t\t\t\t\treturn 1 * (7.5625 * t * t);\n\t\t\t\t} else if (t < (2 / 2.75)) {\n\t\t\t\t\treturn 1 * (7.5625 * (t -= (1.5 / 2.75)) * t + 0.75);\n\t\t\t\t} else if (t < (2.5 / 2.75)) {\n\t\t\t\t\treturn 1 * (7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375);\n\t\t\t\t} else {\n\t\t\t\t\treturn 1 * (7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375);\n\t\t\t\t}\n\t\t\t},\n\t\t\teaseInOutBounce: function (t) {\n\t\t\t\tif (t < 1 / 2) return easingEffects.easeInBounce(t * 2) * 0.5;\n\t\t\t\treturn easingEffects.easeOutBounce(t * 2 - 1) * 0.5 + 1 * 0.5;\n\t\t\t}\n\t\t},\n\t\t//Request animation polyfill - http://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\n\t\trequestAnimFrame = helpers.requestAnimFrame = (function(){\n\t\t\treturn window.requestAnimationFrame ||\n\t\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\t\twindow.oRequestAnimationFrame ||\n\t\t\t\twindow.msRequestAnimationFrame ||\n\t\t\t\tfunction(callback) {\n\t\t\t\t\treturn window.setTimeout(callback, 1000 / 60);\n\t\t\t\t};\n\t\t})(),\n\t\tcancelAnimFrame = helpers.cancelAnimFrame = (function(){\n\t\t\treturn window.cancelAnimationFrame ||\n\t\t\t\twindow.webkitCancelAnimationFrame ||\n\t\t\t\twindow.mozCancelAnimationFrame ||\n\t\t\t\twindow.oCancelAnimationFrame ||\n\t\t\t\twindow.msCancelAnimationFrame ||\n\t\t\t\tfunction(callback) {\n\t\t\t\t\treturn window.clearTimeout(callback, 1000 / 60);\n\t\t\t\t};\n\t\t})(),\n\t\tanimationLoop = helpers.animationLoop = function(callback,totalSteps,easingString,onProgress,onComplete,chartInstance){\n\n\t\t\tvar currentStep = 0,\n\t\t\t\teasingFunction = easingEffects[easingString] || easingEffects.linear;\n\n\t\t\tvar animationFrame = function(){\n\t\t\t\tcurrentStep++;\n\t\t\t\tvar stepDecimal = currentStep/totalSteps;\n\t\t\t\tvar easeDecimal = easingFunction(stepDecimal);\n\n\t\t\t\tcallback.call(chartInstance,easeDecimal,stepDecimal, currentStep);\n\t\t\t\tonProgress.call(chartInstance,easeDecimal,stepDecimal);\n\t\t\t\tif (currentStep < totalSteps){\n\t\t\t\t\tchartInstance.animationFrame = requestAnimFrame(animationFrame);\n\t\t\t\t} else{\n\t\t\t\t\tonComplete.apply(chartInstance);\n\t\t\t\t}\n\t\t\t};\n\t\t\trequestAnimFrame(animationFrame);\n\t\t},\n\t\t//-- DOM methods\n\t\tgetRelativePosition = helpers.getRelativePosition = function(evt){\n\t\t\tvar mouseX, mouseY;\n\t\t\tvar e = evt.originalEvent || evt,\n\t\t\t\tcanvas = evt.currentTarget || evt.srcElement,\n\t\t\t\tboundingRect = canvas.getBoundingClientRect();\n\n\t\t\tif (e.touches){\n\t\t\t\tmouseX = e.touches[0].clientX - boundingRect.left;\n\t\t\t\tmouseY = e.touches[0].clientY - boundingRect.top;\n\n\t\t\t}\n\t\t\telse{\n\t\t\t\tmouseX = e.clientX - boundingRect.left;\n\t\t\t\tmouseY = e.clientY - boundingRect.top;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx : mouseX,\n\t\t\t\ty : mouseY\n\t\t\t};\n\n\t\t},\n\t\taddEvent = helpers.addEvent = function(node,eventType,method){\n\t\t\tif (node.addEventListener){\n\t\t\t\tnode.addEventListener(eventType,method);\n\t\t\t} else if (node.attachEvent){\n\t\t\t\tnode.attachEvent(\"on\"+eventType, method);\n\t\t\t} else {\n\t\t\t\tnode[\"on\"+eventType] = method;\n\t\t\t}\n\t\t},\n\t\tremoveEvent = helpers.removeEvent = function(node, eventType, handler){\n\t\t\tif (node.removeEventListener){\n\t\t\t\tnode.removeEventListener(eventType, handler, false);\n\t\t\t} else if (node.detachEvent){\n\t\t\t\tnode.detachEvent(\"on\"+eventType,handler);\n\t\t\t} else{\n\t\t\t\tnode[\"on\" + eventType] = noop;\n\t\t\t}\n\t\t},\n\t\tbindEvents = helpers.bindEvents = function(chartInstance, arrayOfEvents, handler){\n\t\t\t// Create the events object if it's not already present\n\t\t\tif (!chartInstance.events) chartInstance.events = {};\n\n\t\t\teach(arrayOfEvents,function(eventName){\n\t\t\t\tchartInstance.events[eventName] = function(){\n\t\t\t\t\thandler.apply(chartInstance, arguments);\n\t\t\t\t};\n\t\t\t\taddEvent(chartInstance.chart.canvas,eventName,chartInstance.events[eventName]);\n\t\t\t});\n\t\t},\n\t\tunbindEvents = helpers.unbindEvents = function (chartInstance, arrayOfEvents) {\n\t\t\teach(arrayOfEvents, function(handler,eventName){\n\t\t\t\tremoveEvent(chartInstance.chart.canvas, eventName, handler);\n\t\t\t});\n\t\t},\n\t\tgetMaximumWidth = helpers.getMaximumWidth = function(domNode){\n\t\t\tvar container = domNode.parentNode;\n\t\t\t// TODO = check cross browser stuff with this.\n\t\t\treturn container.clientWidth;\n\t\t},\n\t\tgetMaximumHeight = helpers.getMaximumHeight = function(domNode){\n\t\t\tvar container = domNode.parentNode;\n\t\t\t// TODO = check cross browser stuff with this.\n\t\t\treturn container.clientHeight;\n\t\t},\n\t\tgetMaximumSize = helpers.getMaximumSize = helpers.getMaximumWidth, // legacy support\n\t\tretinaScale = helpers.retinaScale = function(chart){\n\t\t\tvar ctx = chart.ctx,\n\t\t\t\twidth = chart.canvas.width,\n\t\t\t\theight = chart.canvas.height;\n\n\t\t\tif (window.devicePixelRatio) {\n\t\t\t\tctx.canvas.style.width = width + \"px\";\n\t\t\t\tctx.canvas.style.height = height + \"px\";\n\t\t\t\tctx.canvas.height = height * window.devicePixelRatio;\n\t\t\t\tctx.canvas.width = width * window.devicePixelRatio;\n\t\t\t\tctx.scale(window.devicePixelRatio, window.devicePixelRatio);\n\t\t\t}\n\t\t},\n\t\t//-- Canvas methods\n\t\tclear = helpers.clear = function(chart){\n\t\t\tchart.ctx.clearRect(0,0,chart.width,chart.height);\n\t\t},\n\t\tfontString = helpers.fontString = function(pixelSize,fontStyle,fontFamily){\n\t\t\treturn fontStyle + \" \" + pixelSize+\"px \" + fontFamily;\n\t\t},\n\t\tlongestText = helpers.longestText = function(ctx,font,arrayOfStrings){\n\t\t\tctx.font = font;\n\t\t\tvar longest = 0;\n\t\t\teach(arrayOfStrings,function(string){\n\t\t\t\tvar textWidth = ctx.measureText(string).width;\n\t\t\t\tlongest = (textWidth > longest) ? textWidth : longest;\n\t\t\t});\n\t\t\treturn longest;\n\t\t},\n\t\tdrawRoundedRectangle = helpers.drawRoundedRectangle = function(ctx,x,y,width,height,radius){\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x + radius, y);\n\t\t\tctx.lineTo(x + width - radius, y);\n\t\t\tctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n\t\t\tctx.lineTo(x + width, y + height - radius);\n\t\t\tctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n\t\t\tctx.lineTo(x + radius, y + height);\n\t\t\tctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n\t\t\tctx.lineTo(x, y + radius);\n\t\t\tctx.quadraticCurveTo(x, y, x + radius, y);\n\t\t\tctx.closePath();\n\t\t};\n\n\n\t//Store a reference to each instance - allowing us to globally resize chart instances on window resize.\n\t//Destroy method on the chart will remove the instance of the chart from this reference.\n\tChart.instances = {};\n\n\tChart.Type = function(data,options,chart){\n\t\tthis.options = options;\n\t\tthis.chart = chart;\n\t\tthis.id = uid();\n\t\t//Add the chart instance to the global namespace\n\t\tChart.instances[this.id] = this;\n\n\t\t// Initialize is always called when a chart type is created\n\t\t// By default it is a no op, but it should be extended\n\t\tif (options.responsive){\n\t\t\tthis.resize();\n\t\t}\n\t\tthis.initialize.call(this,data);\n\t};\n\n\t//Core methods that'll be a part of every chart type\n\textend(Chart.Type.prototype,{\n\t\tinitialize : function(){return this;},\n\t\tclear : function(){\n\t\t\tclear(this.chart);\n\t\t\treturn this;\n\t\t},\n\t\tstop : function(){\n\t\t\t// Stops any current animation loop occuring\n\t\t\tcancelAnimFrame(this.animationFrame);\n\t\t\treturn this;\n\t\t},\n\t\tresize : function(callback){\n\t\t\tthis.stop();\n\t\t\tvar canvas = this.chart.canvas,\n\t\t\t\tnewWidth = getMaximumWidth(this.chart.canvas),\n\t\t\t\tnewHeight = this.options.maintainAspectRatio ? newWidth / this.chart.aspectRatio : getMaximumHeight(this.chart.canvas);\n\n\t\t\tcanvas.width = this.chart.width = newWidth;\n\t\t\tcanvas.height = this.chart.height = newHeight;\n\n\t\t\tretinaScale(this.chart);\n\n\t\t\tif (typeof callback === \"function\"){\n\t\t\t\tcallback.apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\treflow : noop,\n\t\trender : function(reflow){\n\t\t\tif (reflow){\n\t\t\t\tthis.reflow();\n\t\t\t}\n\t\t\tif (this.options.animation && !reflow){\n\t\t\t\thelpers.animationLoop(\n\t\t\t\t\tthis.draw,\n\t\t\t\t\tthis.options.animationSteps,\n\t\t\t\t\tthis.options.animationEasing,\n\t\t\t\t\tthis.options.onAnimationProgress,\n\t\t\t\t\tthis.options.onAnimationComplete,\n\t\t\t\t\tthis\n\t\t\t\t);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.draw();\n\t\t\t\tthis.options.onAnimationComplete.call(this);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tgenerateLegend : function(){\n\t\t\treturn template(this.options.legendTemplate,this);\n\t\t},\n\t\tdestroy : function(){\n\t\t\tthis.clear();\n\t\t\tunbindEvents(this, this.events);\n\t\t\tvar canvas = this.chart.canvas;\n\n\t\t\t// Reset canvas height/width attributes starts a fresh with the canvas context\n\t\t\tcanvas.width = this.chart.width;\n\t\t\tcanvas.height = this.chart.height;\n\n\t\t\t// < IE9 doesn't support removeProperty\n\t\t\tif (canvas.style.removeProperty) {\n\t\t\t\tcanvas.style.removeProperty('width');\n\t\t\t\tcanvas.style.removeProperty('height');\n\t\t\t} else {\n\t\t\t\tcanvas.style.removeAttribute('width');\n\t\t\t\tcanvas.style.removeAttribute('height');\n\t\t\t}\n\n\t\t\tdelete Chart.instances[this.id];\n\t\t},\n\t\tshowTooltip : function(ChartElements, forceRedraw){\n\t\t\t// Only redraw the chart if we've actually changed what we're hovering on.\n\t\t\tif (typeof this.activeElements === 'undefined') this.activeElements = [];\n\n\t\t\tvar isChanged = (function(Elements){\n\t\t\t\tvar changed = false;\n\n\t\t\t\tif (Elements.length !== this.activeElements.length){\n\t\t\t\t\tchanged = true;\n\t\t\t\t\treturn changed;\n\t\t\t\t}\n\n\t\t\t\teach(Elements, function(element, index){\n\t\t\t\t\tif (element !== this.activeElements[index]){\n\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t\treturn changed;\n\t\t\t}).call(this, ChartElements);\n\n\t\t\tif (!isChanged && !forceRedraw){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.activeElements = ChartElements;\n\t\t\t}\n\t\t\tthis.draw();\n\t\t\tif(this.options.customTooltips){\n\t\t\t\tthis.options.customTooltips(false);\n\t\t\t}\n\t\t\tif (ChartElements.length > 0){\n\t\t\t\t// If we have multiple datasets, show a MultiTooltip for all of the data points at that index\n\t\t\t\tif (this.datasets && this.datasets.length > 1) {\n\t\t\t\t\tvar dataArray,\n\t\t\t\t\t\tdataIndex;\n\n\t\t\t\t\tfor (var i = this.datasets.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tdataArray = this.datasets[i].points || this.datasets[i].bars || this.datasets[i].segments;\n\t\t\t\t\t\tdataIndex = indexOf(dataArray, ChartElements[0]);\n\t\t\t\t\t\tif (dataIndex !== -1){\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar tooltipLabels = [],\n\t\t\t\t\t\ttooltipColors = [],\n\t\t\t\t\t\tmedianPosition = (function(index) {\n\n\t\t\t\t\t\t\t// Get all the points at that particular index\n\t\t\t\t\t\t\tvar Elements = [],\n\t\t\t\t\t\t\t\tdataCollection,\n\t\t\t\t\t\t\t\txPositions = [],\n\t\t\t\t\t\t\t\tyPositions = [],\n\t\t\t\t\t\t\t\txMax,\n\t\t\t\t\t\t\t\tyMax,\n\t\t\t\t\t\t\t\txMin,\n\t\t\t\t\t\t\t\tyMin;\n\t\t\t\t\t\t\thelpers.each(this.datasets, function(dataset){\n\t\t\t\t\t\t\t\tdataCollection = dataset.points || dataset.bars || dataset.segments;\n\t\t\t\t\t\t\t\tif (dataCollection[dataIndex] && dataCollection[dataIndex].hasValue()){\n\t\t\t\t\t\t\t\t\tElements.push(dataCollection[dataIndex]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\thelpers.each(Elements, function(element) {\n\t\t\t\t\t\t\t\txPositions.push(element.x);\n\t\t\t\t\t\t\t\tyPositions.push(element.y);\n\n\n\t\t\t\t\t\t\t\t//Include any colour information about the element\n\t\t\t\t\t\t\t\ttooltipLabels.push(helpers.template(this.options.multiTooltipTemplate, element));\n\t\t\t\t\t\t\t\ttooltipColors.push({\n\t\t\t\t\t\t\t\t\tfill: element._saved.fillColor || element.fillColor,\n\t\t\t\t\t\t\t\t\tstroke: element._saved.strokeColor || element.strokeColor\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t}, this);\n\n\t\t\t\t\t\t\tyMin = min(yPositions);\n\t\t\t\t\t\t\tyMax = max(yPositions);\n\n\t\t\t\t\t\t\txMin = min(xPositions);\n\t\t\t\t\t\t\txMax = max(xPositions);\n\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tx: (xMin > this.chart.width/2) ? xMin : xMax,\n\t\t\t\t\t\t\t\ty: (yMin + yMax)/2\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}).call(this, dataIndex);\n\n\t\t\t\t\tnew Chart.MultiTooltip({\n\t\t\t\t\t\tx: medianPosition.x,\n\t\t\t\t\t\ty: medianPosition.y,\n\t\t\t\t\t\txPadding: this.options.tooltipXPadding,\n\t\t\t\t\t\tyPadding: this.options.tooltipYPadding,\n\t\t\t\t\t\txOffset: this.options.tooltipXOffset,\n\t\t\t\t\t\tfillColor: this.options.tooltipFillColor,\n\t\t\t\t\t\ttextColor: this.options.tooltipFontColor,\n\t\t\t\t\t\tfontFamily: this.options.tooltipFontFamily,\n\t\t\t\t\t\tfontStyle: this.options.tooltipFontStyle,\n\t\t\t\t\t\tfontSize: this.options.tooltipFontSize,\n\t\t\t\t\t\ttitleTextColor: this.options.tooltipTitleFontColor,\n\t\t\t\t\t\ttitleFontFamily: this.options.tooltipTitleFontFamily,\n\t\t\t\t\t\ttitleFontStyle: this.options.tooltipTitleFontStyle,\n\t\t\t\t\t\ttitleFontSize: this.options.tooltipTitleFontSize,\n\t\t\t\t\t\tcornerRadius: this.options.tooltipCornerRadius,\n\t\t\t\t\t\tlabels: tooltipLabels,\n\t\t\t\t\t\tlegendColors: tooltipColors,\n\t\t\t\t\t\tlegendColorBackground : this.options.multiTooltipKeyBackground,\n\t\t\t\t\t\ttitle: ChartElements[0].label,\n\t\t\t\t\t\tchart: this.chart,\n\t\t\t\t\t\tctx: this.chart.ctx,\n\t\t\t\t\t\tcustom: this.options.customTooltips\n\t\t\t\t\t}).draw();\n\n\t\t\t\t} else {\n\t\t\t\t\teach(ChartElements, function(Element) {\n\t\t\t\t\t\tvar tooltipPosition = Element.tooltipPosition();\n\t\t\t\t\t\tnew Chart.Tooltip({\n\t\t\t\t\t\t\tx: Math.round(tooltipPosition.x),\n\t\t\t\t\t\t\ty: Math.round(tooltipPosition.y),\n\t\t\t\t\t\t\txPadding: this.options.tooltipXPadding,\n\t\t\t\t\t\t\tyPadding: this.options.tooltipYPadding,\n\t\t\t\t\t\t\tfillColor: this.options.tooltipFillColor,\n\t\t\t\t\t\t\ttextColor: this.options.tooltipFontColor,\n\t\t\t\t\t\t\tfontFamily: this.options.tooltipFontFamily,\n\t\t\t\t\t\t\tfontStyle: this.options.tooltipFontStyle,\n\t\t\t\t\t\t\tfontSize: this.options.tooltipFontSize,\n\t\t\t\t\t\t\tcaretHeight: this.options.tooltipCaretSize,\n\t\t\t\t\t\t\tcornerRadius: this.options.tooltipCornerRadius,\n\t\t\t\t\t\t\ttext: template(this.options.tooltipTemplate, Element),\n\t\t\t\t\t\t\tchart: this.chart,\n\t\t\t\t\t\t\tcustom: this.options.customTooltips\n\t\t\t\t\t\t}).draw();\n\t\t\t\t\t}, this);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\ttoBase64Image : function(){\n\t\t\treturn this.chart.canvas.toDataURL.apply(this.chart.canvas, arguments);\n\t\t}\n\t});\n\n\tChart.Type.extend = function(extensions){\n\n\t\tvar parent = this;\n\n\t\tvar ChartType = function(){\n\t\t\treturn parent.apply(this,arguments);\n\t\t};\n\n\t\t//Copy the prototype object of the this class\n\t\tChartType.prototype = clone(parent.prototype);\n\t\t//Now overwrite some of the properties in the base class with the new extensions\n\t\textend(ChartType.prototype, extensions);\n\n\t\tChartType.extend = Chart.Type.extend;\n\n\t\tif (extensions.name || parent.prototype.name){\n\n\t\t\tvar chartName = extensions.name || parent.prototype.name;\n\t\t\t//Assign any potential default values of the new chart type\n\n\t\t\t//If none are defined, we'll use a clone of the chart type this is being extended from.\n\t\t\t//I.e. if we extend a line chart, we'll use the defaults from the line chart if our new chart\n\t\t\t//doesn't define some defaults of their own.\n\n\t\t\tvar baseDefaults = (Chart.defaults[parent.prototype.name]) ? clone(Chart.defaults[parent.prototype.name]) : {};\n\n\t\t\tChart.defaults[chartName] = extend(baseDefaults,extensions.defaults);\n\n\t\t\tChart.types[chartName] = ChartType;\n\n\t\t\t//Register this new chart type in the Chart prototype\n\t\t\tChart.prototype[chartName] = function(data,options){\n\t\t\t\tvar config = merge(Chart.defaults.global, Chart.defaults[chartName], options || {});\n\t\t\t\treturn new ChartType(data,config,this);\n\t\t\t};\n\t\t} else{\n\t\t\twarn(\"Name not provided for this chart, so it hasn't been registered\");\n\t\t}\n\t\treturn parent;\n\t};\n\n\tChart.Element = function(configuration){\n\t\textend(this,configuration);\n\t\tthis.initialize.apply(this,arguments);\n\t\tthis.save();\n\t};\n\textend(Chart.Element.prototype,{\n\t\tinitialize : function(){},\n\t\trestore : function(props){\n\t\t\tif (!props){\n\t\t\t\textend(this,this._saved);\n\t\t\t} else {\n\t\t\t\teach(props,function(key){\n\t\t\t\t\tthis[key] = this._saved[key];\n\t\t\t\t},this);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tsave : function(){\n\t\t\tthis._saved = clone(this);\n\t\t\tdelete this._saved._saved;\n\t\t\treturn this;\n\t\t},\n\t\tupdate : function(newProps){\n\t\t\teach(newProps,function(value,key){\n\t\t\t\tthis._saved[key] = this[key];\n\t\t\t\tthis[key] = value;\n\t\t\t},this);\n\t\t\treturn this;\n\t\t},\n\t\ttransition : function(props,ease){\n\t\t\teach(props,function(value,key){\n\t\t\t\tthis[key] = ((value - this._saved[key]) * ease) + this._saved[key];\n\t\t\t},this);\n\t\t\treturn this;\n\t\t},\n\t\ttooltipPosition : function(){\n\t\t\treturn {\n\t\t\t\tx : this.x,\n\t\t\t\ty : this.y\n\t\t\t};\n\t\t},\n\t\thasValue: function(){\n\t\t\treturn isNumber(this.value);\n\t\t}\n\t});\n\n\tChart.Element.extend = inherits;\n\n\n\tChart.Point = Chart.Element.extend({\n\t\tdisplay: true,\n\t\tinRange: function(chartX,chartY){\n\t\t\tvar hitDetectionRange = this.hitDetectionRadius + this.radius;\n\t\t\treturn ((Math.pow(chartX-this.x, 2)+Math.pow(chartY-this.y, 2)) < Math.pow(hitDetectionRange,2));\n\t\t},\n\t\tdraw : function(){\n\t\t\tif (this.display){\n\t\t\t\tvar ctx = this.ctx;\n\t\t\t\tctx.beginPath();\n\n\t\t\t\tctx.arc(this.x, this.y, this.radius, 0, Math.PI*2);\n\t\t\t\tctx.closePath();\n\n\t\t\t\tctx.strokeStyle = this.strokeColor;\n\t\t\t\tctx.lineWidth = this.strokeWidth;\n\n\t\t\t\tctx.fillStyle = this.fillColor;\n\n\t\t\t\tctx.fill();\n\t\t\t\tctx.stroke();\n\t\t\t}\n\n\n\t\t\t//Quick debug for bezier curve splining\n\t\t\t//Highlights control points and the line between them.\n\t\t\t//Handy for dev - stripped in the min version.\n\n\t\t\t// ctx.save();\n\t\t\t// ctx.fillStyle = \"black\";\n\t\t\t// ctx.strokeStyle = \"black\"\n\t\t\t// ctx.beginPath();\n\t\t\t// ctx.arc(this.controlPoints.inner.x,this.controlPoints.inner.y, 2, 0, Math.PI*2);\n\t\t\t// ctx.fill();\n\n\t\t\t// ctx.beginPath();\n\t\t\t// ctx.arc(this.controlPoints.outer.x,this.controlPoints.outer.y, 2, 0, Math.PI*2);\n\t\t\t// ctx.fill();\n\n\t\t\t// ctx.moveTo(this.controlPoints.inner.x,this.controlPoints.inner.y);\n\t\t\t// ctx.lineTo(this.x, this.y);\n\t\t\t// ctx.lineTo(this.controlPoints.outer.x,this.controlPoints.outer.y);\n\t\t\t// ctx.stroke();\n\n\t\t\t// ctx.restore();\n\n\n\n\t\t}\n\t});\n\n\tChart.Arc = Chart.Element.extend({\n\t\tinRange : function(chartX,chartY){\n\n\t\t\tvar pointRelativePosition = helpers.getAngleFromPoint(this, {\n\t\t\t\tx: chartX,\n\t\t\t\ty: chartY\n\t\t\t});\n\n\t\t\t//Check if within the range of the open/close angle\n\t\t\tvar betweenAngles = (pointRelativePosition.angle >= this.startAngle && pointRelativePosition.angle <= this.endAngle),\n\t\t\t\twithinRadius = (pointRelativePosition.distance >= this.innerRadius && pointRelativePosition.distance <= this.outerRadius);\n\n\t\t\treturn (betweenAngles && withinRadius);\n\t\t\t//Ensure within the outside of the arc centre, but inside arc outer\n\t\t},\n\t\ttooltipPosition : function(){\n\t\t\tvar centreAngle = this.startAngle + ((this.endAngle - this.startAngle) / 2),\n\t\t\t\trangeFromCentre = (this.outerRadius - this.innerRadius) / 2 + this.innerRadius;\n\t\t\treturn {\n\t\t\t\tx : this.x + (Math.cos(centreAngle) * rangeFromCentre),\n\t\t\t\ty : this.y + (Math.sin(centreAngle) * rangeFromCentre)\n\t\t\t};\n\t\t},\n\t\tdraw : function(animationPercent){\n\n\t\t\tvar easingDecimal = animationPercent || 1;\n\n\t\t\tvar ctx = this.ctx;\n\n\t\t\tctx.beginPath();\n\n\t\t\tctx.arc(this.x, this.y, this.outerRadius, this.startAngle, this.endAngle);\n\n\t\t\tctx.arc(this.x, this.y, this.innerRadius, this.endAngle, this.startAngle, true);\n\n\t\t\tctx.closePath();\n\t\t\tctx.strokeStyle = this.strokeColor;\n\t\t\tctx.lineWidth = this.strokeWidth;\n\n\t\t\tctx.fillStyle = this.fillColor;\n\n\t\t\tctx.fill();\n\t\t\tctx.lineJoin = 'bevel';\n\n\t\t\tif (this.showStroke){\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t}\n\t});\n\n\tChart.Rectangle = Chart.Element.extend({\n\t\tdraw : function(){\n\t\t\tvar ctx = this.ctx,\n\t\t\t\thalfWidth = this.width/2,\n\t\t\t\tleftX = this.x - halfWidth,\n\t\t\t\trightX = this.x + halfWidth,\n\t\t\t\ttop = this.base - (this.base - this.y),\n\t\t\t\thalfStroke = this.strokeWidth / 2;\n\n\t\t\t// Canvas doesn't allow us to stroke inside the width so we can\n\t\t\t// adjust the sizes to fit if we're setting a stroke on the line\n\t\t\tif (this.showStroke){\n\t\t\t\tleftX += halfStroke;\n\t\t\t\trightX -= halfStroke;\n\t\t\t\ttop += halfStroke;\n\t\t\t}\n\n\t\t\tctx.beginPath();\n\n\t\t\tctx.fillStyle = this.fillColor;\n\t\t\tctx.strokeStyle = this.strokeColor;\n\t\t\tctx.lineWidth = this.strokeWidth;\n\n\t\t\t// It'd be nice to keep this class totally generic to any rectangle\n\t\t\t// and simply specify which border to miss out.\n\t\t\tctx.moveTo(leftX, this.base);\n\t\t\tctx.lineTo(leftX, top);\n\t\t\tctx.lineTo(rightX, top);\n\t\t\tctx.lineTo(rightX, this.base);\n\t\t\tctx.fill();\n\t\t\tif (this.showStroke){\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t},\n\t\theight : function(){\n\t\t\treturn this.base - this.y;\n\t\t},\n\t\tinRange : function(chartX,chartY){\n\t\t\treturn (chartX >= this.x - this.width/2 && chartX <= this.x + this.width/2) && (chartY >= this.y && chartY <= this.base);\n\t\t}\n\t});\n\n\tChart.Tooltip = Chart.Element.extend({\n\t\tdraw : function(){\n\n\t\t\tvar ctx = this.chart.ctx;\n\n\t\t\tctx.font = fontString(this.fontSize,this.fontStyle,this.fontFamily);\n\n\t\t\tthis.xAlign = \"center\";\n\t\t\tthis.yAlign = \"above\";\n\n\t\t\t//Distance between the actual element.y position and the start of the tooltip caret\n\t\t\tvar caretPadding = this.caretPadding = 2;\n\n\t\t\tvar tooltipWidth = ctx.measureText(this.text).width + 2*this.xPadding,\n\t\t\t\ttooltipRectHeight = this.fontSize + 2*this.yPadding,\n\t\t\t\ttooltipHeight = tooltipRectHeight + this.caretHeight + caretPadding;\n\n\t\t\tif (this.x + tooltipWidth/2 >this.chart.width){\n\t\t\t\tthis.xAlign = \"left\";\n\t\t\t} else if (this.x - tooltipWidth/2 < 0){\n\t\t\t\tthis.xAlign = \"right\";\n\t\t\t}\n\n\t\t\tif (this.y - tooltipHeight < 0){\n\t\t\t\tthis.yAlign = \"below\";\n\t\t\t}\n\n\n\t\t\tvar tooltipX = this.x - tooltipWidth/2,\n\t\t\t\ttooltipY = this.y - tooltipHeight;\n\n\t\t\tctx.fillStyle = this.fillColor;\n\n\t\t\t// Custom Tooltips\n\t\t\tif(this.custom){\n\t\t\t\tthis.custom(this);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tswitch(this.yAlign)\n\t\t\t\t{\n\t\t\t\tcase \"above\":\n\t\t\t\t\t//Draw a caret above the x/y\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(this.x,this.y - caretPadding);\n\t\t\t\t\tctx.lineTo(this.x + this.caretHeight, this.y - (caretPadding + this.caretHeight));\n\t\t\t\t\tctx.lineTo(this.x - this.caretHeight, this.y - (caretPadding + this.caretHeight));\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"below\":\n\t\t\t\t\ttooltipY = this.y + caretPadding + this.caretHeight;\n\t\t\t\t\t//Draw a caret below the x/y\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(this.x, this.y + caretPadding);\n\t\t\t\t\tctx.lineTo(this.x + this.caretHeight, this.y + caretPadding + this.caretHeight);\n\t\t\t\t\tctx.lineTo(this.x - this.caretHeight, this.y + caretPadding + this.caretHeight);\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tswitch(this.xAlign)\n\t\t\t\t{\n\t\t\t\tcase \"left\":\n\t\t\t\t\ttooltipX = this.x - tooltipWidth + (this.cornerRadius + this.caretHeight);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"right\":\n\t\t\t\t\ttooltipX = this.x - (this.cornerRadius + this.caretHeight);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tdrawRoundedRectangle(ctx,tooltipX,tooltipY,tooltipWidth,tooltipRectHeight,this.cornerRadius);\n\n\t\t\t\tctx.fill();\n\n\t\t\t\tctx.fillStyle = this.textColor;\n\t\t\t\tctx.textAlign = \"center\";\n\t\t\t\tctx.textBaseline = \"middle\";\n\t\t\t\tctx.fillText(this.text, tooltipX + tooltipWidth/2, tooltipY + tooltipRectHeight/2);\n\t\t\t}\n\t\t}\n\t});\n\n\tChart.MultiTooltip = Chart.Element.extend({\n\t\tinitialize : function(){\n\t\t\tthis.font = fontString(this.fontSize,this.fontStyle,this.fontFamily);\n\n\t\t\tthis.titleFont = fontString(this.titleFontSize,this.titleFontStyle,this.titleFontFamily);\n\n\t\t\tthis.height = (this.labels.length * this.fontSize) + ((this.labels.length-1) * (this.fontSize/2)) + (this.yPadding*2) + this.titleFontSize *1.5;\n\n\t\t\tthis.ctx.font = this.titleFont;\n\n\t\t\tvar titleWidth = this.ctx.measureText(this.title).width,\n\t\t\t\t//Label has a legend square as well so account for this.\n\t\t\t\tlabelWidth = longestText(this.ctx,this.font,this.labels) + this.fontSize + 3,\n\t\t\t\tlongestTextWidth = max([labelWidth,titleWidth]);\n\n\t\t\tthis.width = longestTextWidth + (this.xPadding*2);\n\n\n\t\t\tvar halfHeight = this.height/2;\n\n\t\t\t//Check to ensure the height will fit on the canvas\n\t\t\tif (this.y - halfHeight < 0 ){\n\t\t\t\tthis.y = halfHeight;\n\t\t\t} else if (this.y + halfHeight > this.chart.height){\n\t\t\t\tthis.y = this.chart.height - halfHeight;\n\t\t\t}\n\n\t\t\t//Decide whether to align left or right based on position on canvas\n\t\t\tif (this.x > this.chart.width/2){\n\t\t\t\tthis.x -= this.xOffset + this.width;\n\t\t\t} else {\n\t\t\t\tthis.x += this.xOffset;\n\t\t\t}\n\n\n\t\t},\n\t\tgetLineHeight : function(index){\n\t\t\tvar baseLineHeight = this.y - (this.height/2) + this.yPadding,\n\t\t\t\tafterTitleIndex = index-1;\n\n\t\t\t//If the index is zero, we're getting the title\n\t\t\tif (index === 0){\n\t\t\t\treturn baseLineHeight + this.titleFontSize/2;\n\t\t\t} else{\n\t\t\t\treturn baseLineHeight + ((this.fontSize*1.5*afterTitleIndex) + this.fontSize/2) + this.titleFontSize * 1.5;\n\t\t\t}\n\n\t\t},\n\t\tdraw : function(){\n\t\t\t// Custom Tooltips\n\t\t\tif(this.custom){\n\t\t\t\tthis.custom(this);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tdrawRoundedRectangle(this.ctx,this.x,this.y - this.height/2,this.width,this.height,this.cornerRadius);\n\t\t\t\tvar ctx = this.ctx;\n\t\t\t\tctx.fillStyle = this.fillColor;\n\t\t\t\tctx.fill();\n\t\t\t\tctx.closePath();\n\n\t\t\t\tctx.textAlign = \"left\";\n\t\t\t\tctx.textBaseline = \"middle\";\n\t\t\t\tctx.fillStyle = this.titleTextColor;\n\t\t\t\tctx.font = this.titleFont;\n\n\t\t\t\tctx.fillText(this.title,this.x + this.xPadding, this.getLineHeight(0));\n\n\t\t\t\tctx.font = this.font;\n\t\t\t\thelpers.each(this.labels,function(label,index){\n\t\t\t\t\tctx.fillStyle = this.textColor;\n\t\t\t\t\tctx.fillText(label,this.x + this.xPadding + this.fontSize + 3, this.getLineHeight(index + 1));\n\n\t\t\t\t\t//A bit gnarly, but clearing this rectangle breaks when using explorercanvas (clears whole canvas)\n\t\t\t\t\t//ctx.clearRect(this.x + this.xPadding, this.getLineHeight(index + 1) - this.fontSize/2, this.fontSize, this.fontSize);\n\t\t\t\t\t//Instead we'll make a white filled block to put the legendColour palette over.\n\n\t\t\t\t\tctx.fillStyle = this.legendColorBackground;\n\t\t\t\t\tctx.fillRect(this.x + this.xPadding, this.getLineHeight(index + 1) - this.fontSize/2, this.fontSize, this.fontSize);\n\n\t\t\t\t\tctx.fillStyle = this.legendColors[index].fill;\n\t\t\t\t\tctx.fillRect(this.x + this.xPadding, this.getLineHeight(index + 1) - this.fontSize/2, this.fontSize, this.fontSize);\n\n\n\t\t\t\t},this);\n\t\t\t}\n\t\t}\n\t});\n\n\tChart.Scale = Chart.Element.extend({\n\t\tinitialize : function(){\n\t\t\tthis.fit();\n\t\t},\n\t\tbuildYLabels : function(){\n\t\t\tthis.yLabels = [];\n\n\t\t\tvar stepDecimalPlaces = getDecimalPlaces(this.stepValue);\n\n\t\t\tfor (var i=0; i<=this.steps; i++){\n\t\t\t\tthis.yLabels.push(template(this.templateString,{value:(this.min + (i * this.stepValue)).toFixed(stepDecimalPlaces)}));\n\t\t\t}\n\t\t\tthis.yLabelWidth = (this.display && this.showLabels) ? longestText(this.ctx,this.font,this.yLabels) : 0;\n\t\t},\n\t\taddXLabel : function(label){\n\t\t\tthis.xLabels.push(label);\n\t\t\tthis.valuesCount++;\n\t\t\tthis.fit();\n\t\t},\n\t\tremoveXLabel : function(){\n\t\t\tthis.xLabels.shift();\n\t\t\tthis.valuesCount--;\n\t\t\tthis.fit();\n\t\t},\n\t\t// Fitting loop to rotate x Labels and figure out what fits there, and also calculate how many Y steps to use\n\t\tfit: function(){\n\t\t\t// First we need the width of the yLabels, assuming the xLabels aren't rotated\n\n\t\t\t// To do that we need the base line at the top and base of the chart, assuming there is no x label rotation\n\t\t\tthis.startPoint = (this.display) ? this.fontSize : 0;\n\t\t\tthis.endPoint = (this.display) ? this.height - (this.fontSize * 1.5) - 5 : this.height; // -5 to pad labels\n\n\t\t\t// Apply padding settings to the start and end point.\n\t\t\tthis.startPoint += this.padding;\n\t\t\tthis.endPoint -= this.padding;\n\n\t\t\t// Cache the starting height, so can determine if we need to recalculate the scale yAxis\n\t\t\tvar cachedHeight = this.endPoint - this.startPoint,\n\t\t\t\tcachedYLabelWidth;\n\n\t\t\t// Build the current yLabels so we have an idea of what size they'll be to start\n\t\t\t/*\n\t\t\t *\tThis sets what is returned from calculateScaleRange as static properties of this class:\n\t\t\t *\n\t\t\t\tthis.steps;\n\t\t\t\tthis.stepValue;\n\t\t\t\tthis.min;\n\t\t\t\tthis.max;\n\t\t\t *\n\t\t\t */\n\t\t\tthis.calculateYRange(cachedHeight);\n\n\t\t\t// With these properties set we can now build the array of yLabels\n\t\t\t// and also the width of the largest yLabel\n\t\t\tthis.buildYLabels();\n\n\t\t\tthis.calculateXLabelRotation();\n\n\t\t\twhile((cachedHeight > this.endPoint - this.startPoint)){\n\t\t\t\tcachedHeight = this.endPoint - this.startPoint;\n\t\t\t\tcachedYLabelWidth = this.yLabelWidth;\n\n\t\t\t\tthis.calculateYRange(cachedHeight);\n\t\t\t\tthis.buildYLabels();\n\n\t\t\t\t// Only go through the xLabel loop again if the yLabel width has changed\n\t\t\t\tif (cachedYLabelWidth < this.yLabelWidth){\n\t\t\t\t\tthis.calculateXLabelRotation();\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\tcalculateXLabelRotation : function(){\n\t\t\t//Get the width of each grid by calculating the difference\n\t\t\t//between x offsets between 0 and 1.\n\n\t\t\tthis.ctx.font = this.font;\n\n\t\t\tvar firstWidth = this.ctx.measureText(this.xLabels[0]).width,\n\t\t\t\tlastWidth = this.ctx.measureText(this.xLabels[this.xLabels.length - 1]).width,\n\t\t\t\tfirstRotated,\n\t\t\t\tlastRotated;\n\n\n\t\t\tthis.xScalePaddingRight = lastWidth/2 + 3;\n\t\t\tthis.xScalePaddingLeft = (firstWidth/2 > this.yLabelWidth + 10) ? firstWidth/2 : this.yLabelWidth + 10;\n\n\t\t\tthis.xLabelRotation = 0;\n\t\t\tif (this.display){\n\t\t\t\tvar originalLabelWidth = longestText(this.ctx,this.font,this.xLabels),\n\t\t\t\t\tcosRotation,\n\t\t\t\t\tfirstRotatedWidth;\n\t\t\t\tthis.xLabelWidth = originalLabelWidth;\n\t\t\t\t//Allow 3 pixels x2 padding either side for label readability\n\t\t\t\tvar xGridWidth = Math.floor(this.calculateX(1) - this.calculateX(0)) - 6;\n\n\t\t\t\t//Max label rotate should be 90 - also act as a loop counter\n\t\t\t\twhile ((this.xLabelWidth > xGridWidth && this.xLabelRotation === 0) || (this.xLabelWidth > xGridWidth && this.xLabelRotation <= 90 && this.xLabelRotation > 0)){\n\t\t\t\t\tcosRotation = Math.cos(toRadians(this.xLabelRotation));\n\n\t\t\t\t\tfirstRotated = cosRotation * firstWidth;\n\t\t\t\t\tlastRotated = cosRotation * lastWidth;\n\n\t\t\t\t\t// We're right aligning the text now.\n\t\t\t\t\tif (firstRotated + this.fontSize / 2 > this.yLabelWidth + 8){\n\t\t\t\t\t\tthis.xScalePaddingLeft = firstRotated + this.fontSize / 2;\n\t\t\t\t\t}\n\t\t\t\t\tthis.xScalePaddingRight = this.fontSize/2;\n\n\n\t\t\t\t\tthis.xLabelRotation++;\n\t\t\t\t\tthis.xLabelWidth = cosRotation * originalLabelWidth;\n\n\t\t\t\t}\n\t\t\t\tif (this.xLabelRotation > 0){\n\t\t\t\t\tthis.endPoint -= Math.sin(toRadians(this.xLabelRotation))*originalLabelWidth + 3;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.xLabelWidth = 0;\n\t\t\t\tthis.xScalePaddingRight = this.padding;\n\t\t\t\tthis.xScalePaddingLeft = this.padding;\n\t\t\t}\n\n\t\t},\n\t\t// Needs to be overidden in each Chart type\n\t\t// Otherwise we need to pass all the data into the scale class\n\t\tcalculateYRange: noop,\n\t\tdrawingArea: function(){\n\t\t\treturn this.startPoint - this.endPoint;\n\t\t},\n\t\tcalculateY : function(value){\n\t\t\tvar scalingFactor = this.drawingArea() / (this.min - this.max);\n\t\t\treturn this.endPoint - (scalingFactor * (value - this.min));\n\t\t},\n\t\tcalculateX : function(index){\n\t\t\tvar isRotated = (this.xLabelRotation > 0),\n\t\t\t\t// innerWidth = (this.offsetGridLines) ? this.width - offsetLeft - this.padding : this.width - (offsetLeft + halfLabelWidth * 2) - this.padding,\n\t\t\t\tinnerWidth = this.width - (this.xScalePaddingLeft + this.xScalePaddingRight),\n\t\t\t\tvalueWidth = innerWidth/Math.max((this.valuesCount - ((this.offsetGridLines) ? 0 : 1)), 1),\n\t\t\t\tvalueOffset = (valueWidth * index) + this.xScalePaddingLeft;\n\n\t\t\tif (this.offsetGridLines){\n\t\t\t\tvalueOffset += (valueWidth/2);\n\t\t\t}\n\n\t\t\treturn Math.round(valueOffset);\n\t\t},\n\t\tupdate : function(newProps){\n\t\t\thelpers.extend(this, newProps);\n\t\t\tthis.fit();\n\t\t},\n\t\tdraw : function(){\n\t\t\tvar ctx = this.ctx,\n\t\t\t\tyLabelGap = (this.endPoint - this.startPoint) / this.steps,\n\t\t\t\txStart = Math.round(this.xScalePaddingLeft);\n\t\t\tif (this.display){\n\t\t\t\tctx.fillStyle = this.textColor;\n\t\t\t\tctx.font = this.font;\n\t\t\t\teach(this.yLabels,function(labelString,index){\n\t\t\t\t\tvar yLabelCenter = this.endPoint - (yLabelGap * index),\n\t\t\t\t\t\tlinePositionY = Math.round(yLabelCenter),\n\t\t\t\t\t\tdrawHorizontalLine = this.showHorizontalLines;\n\n\t\t\t\t\tctx.textAlign = \"right\";\n\t\t\t\t\tctx.textBaseline = \"middle\";\n\t\t\t\t\tif (this.showLabels){\n\t\t\t\t\t\tctx.fillText(labelString,xStart - 10,yLabelCenter);\n\t\t\t\t\t}\n\n\t\t\t\t\t// This is X axis, so draw it\n\t\t\t\t\tif (index === 0 && !drawHorizontalLine){\n\t\t\t\t\t\tdrawHorizontalLine = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (drawHorizontalLine){\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (index > 0){\n\t\t\t\t\t\t// This is a grid line in the centre, so drop that\n\t\t\t\t\t\tctx.lineWidth = this.gridLineWidth;\n\t\t\t\t\t\tctx.strokeStyle = this.gridLineColor;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// This is the first line on the scale\n\t\t\t\t\t\tctx.lineWidth = this.lineWidth;\n\t\t\t\t\t\tctx.strokeStyle = this.lineColor;\n\t\t\t\t\t}\n\n\t\t\t\t\tlinePositionY += helpers.aliasPixel(ctx.lineWidth);\n\n\t\t\t\t\tif(drawHorizontalLine){\n\t\t\t\t\t\tctx.moveTo(xStart, linePositionY);\n\t\t\t\t\t\tctx.lineTo(this.width, linePositionY);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.lineWidth = this.lineWidth;\n\t\t\t\t\tctx.strokeStyle = this.lineColor;\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(xStart - 5, linePositionY);\n\t\t\t\t\tctx.lineTo(xStart, linePositionY);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t\tctx.closePath();\n\n\t\t\t\t},this);\n\n\t\t\t\teach(this.xLabels,function(label,index){\n\t\t\t\t\tvar xPos = this.calculateX(index) + aliasPixel(this.lineWidth),\n\t\t\t\t\t\t// Check to see if line/bar here and decide where to place the line\n\t\t\t\t\t\tlinePos = this.calculateX(index - (this.offsetGridLines ? 0.5 : 0)) + aliasPixel(this.lineWidth),\n\t\t\t\t\t\tisRotated = (this.xLabelRotation > 0),\n\t\t\t\t\t\tdrawVerticalLine = this.showVerticalLines;\n\n\t\t\t\t\t// This is Y axis, so draw it\n\t\t\t\t\tif (index === 0 && !drawVerticalLine){\n\t\t\t\t\t\tdrawVerticalLine = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (drawVerticalLine){\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (index > 0){\n\t\t\t\t\t\t// This is a grid line in the centre, so drop that\n\t\t\t\t\t\tctx.lineWidth = this.gridLineWidth;\n\t\t\t\t\t\tctx.strokeStyle = this.gridLineColor;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// This is the first line on the scale\n\t\t\t\t\t\tctx.lineWidth = this.lineWidth;\n\t\t\t\t\t\tctx.strokeStyle = this.lineColor;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (drawVerticalLine){\n\t\t\t\t\t\tctx.moveTo(linePos,this.endPoint);\n\t\t\t\t\t\tctx.lineTo(linePos,this.startPoint - 3);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t}\n\n\n\t\t\t\t\tctx.lineWidth = this.lineWidth;\n\t\t\t\t\tctx.strokeStyle = this.lineColor;\n\n\n\t\t\t\t\t// Small lines at the bottom of the base grid line\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(linePos,this.endPoint);\n\t\t\t\t\tctx.lineTo(linePos,this.endPoint + 5);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t\tctx.closePath();\n\n\t\t\t\t\tctx.save();\n\t\t\t\t\tctx.translate(xPos,(isRotated) ? this.endPoint + 12 : this.endPoint + 8);\n\t\t\t\t\tctx.rotate(toRadians(this.xLabelRotation)*-1);\n\t\t\t\t\tctx.font = this.font;\n\t\t\t\t\tctx.textAlign = (isRotated) ? \"right\" : \"center\";\n\t\t\t\t\tctx.textBaseline = (isRotated) ? \"middle\" : \"top\";\n\t\t\t\t\tctx.fillText(label, 0, 0);\n\t\t\t\t\tctx.restore();\n\t\t\t\t},this);\n\n\t\t\t}\n\t\t}\n\n\t});\n\n\tChart.RadialScale = Chart.Element.extend({\n\t\tinitialize: function(){\n\t\t\tthis.size = min([this.height, this.width]);\n\t\t\tthis.drawingArea = (this.display) ? (this.size/2) - (this.fontSize/2 + this.backdropPaddingY) : (this.size/2);\n\t\t},\n\t\tcalculateCenterOffset: function(value){\n\t\t\t// Take into account half font size + the yPadding of the top value\n\t\t\tvar scalingFactor = this.drawingArea / (this.max - this.min);\n\n\t\t\treturn (value - this.min) * scalingFactor;\n\t\t},\n\t\tupdate : function(){\n\t\t\tif (!this.lineArc){\n\t\t\t\tthis.setScaleSize();\n\t\t\t} else {\n\t\t\t\tthis.drawingArea = (this.display) ? (this.size/2) - (this.fontSize/2 + this.backdropPaddingY) : (this.size/2);\n\t\t\t}\n\t\t\tthis.buildYLabels();\n\t\t},\n\t\tbuildYLabels: function(){\n\t\t\tthis.yLabels = [];\n\n\t\t\tvar stepDecimalPlaces = getDecimalPlaces(this.stepValue);\n\n\t\t\tfor (var i=0; i<=this.steps; i++){\n\t\t\t\tthis.yLabels.push(template(this.templateString,{value:(this.min + (i * this.stepValue)).toFixed(stepDecimalPlaces)}));\n\t\t\t}\n\t\t},\n\t\tgetCircumference : function(){\n\t\t\treturn ((Math.PI*2) / this.valuesCount);\n\t\t},\n\t\tsetScaleSize: function(){\n\t\t\t/*\n\t\t\t * Right, this is really confusing and there is a lot of maths going on here\n\t\t\t * The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9\n\t\t\t *\n\t\t\t * Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif\n\t\t\t *\n\t\t\t * Solution:\n\t\t\t *\n\t\t\t * We assume the radius of the polygon is half the size of the canvas at first\n\t\t\t * at each index we check if the text overlaps.\n\t\t\t *\n\t\t\t * Where it does, we store that angle and that index.\n\t\t\t *\n\t\t\t * After finding the largest index and angle we calculate how much we need to remove\n\t\t\t * from the shape radius to move the point inwards by that x.\n\t\t\t *\n\t\t\t * We average the left and right distances to get the maximum shape radius that can fit in the box\n\t\t\t * along with labels.\n\t\t\t *\n\t\t\t * Once we have that, we can find the centre point for the chart, by taking the x text protrusion\n\t\t\t * on each side, removing that from the size, halving it and adding the left x protrusion width.\n\t\t\t *\n\t\t\t * This will mean we have a shape fitted to the canvas, as large as it can be with the labels\n\t\t\t * and position it in the most space efficient manner\n\t\t\t *\n\t\t\t * https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif\n\t\t\t */\n\n\n\t\t\t// Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.\n\t\t\t// Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points\n\t\t\tvar largestPossibleRadius = min([(this.height/2 - this.pointLabelFontSize - 5), this.width/2]),\n\t\t\t\tpointPosition,\n\t\t\t\ti,\n\t\t\t\ttextWidth,\n\t\t\t\thalfTextWidth,\n\t\t\t\tfurthestRight = this.width,\n\t\t\t\tfurthestRightIndex,\n\t\t\t\tfurthestRightAngle,\n\t\t\t\tfurthestLeft = 0,\n\t\t\t\tfurthestLeftIndex,\n\t\t\t\tfurthestLeftAngle,\n\t\t\t\txProtrusionLeft,\n\t\t\t\txProtrusionRight,\n\t\t\t\tradiusReductionRight,\n\t\t\t\tradiusReductionLeft,\n\t\t\t\tmaxWidthRadius;\n\t\t\tthis.ctx.font = fontString(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily);\n\t\t\tfor (i=0;i<this.valuesCount;i++){\n\t\t\t\t// 5px to space the text slightly out - similar to what we do in the draw function.\n\t\t\t\tpointPosition = this.getPointPosition(i, largestPossibleRadius);\n\t\t\t\ttextWidth = this.ctx.measureText(template(this.templateString, { value: this.labels[i] })).width + 5;\n\t\t\t\tif (i === 0 || i === this.valuesCount/2){\n\t\t\t\t\t// If we're at index zero, or exactly the middle, we're at exactly the top/bottom\n\t\t\t\t\t// of the radar chart, so text will be aligned centrally, so we'll half it and compare\n\t\t\t\t\t// w/left and right text sizes\n\t\t\t\t\thalfTextWidth = textWidth/2;\n\t\t\t\t\tif (pointPosition.x + halfTextWidth > furthestRight) {\n\t\t\t\t\t\tfurthestRight = pointPosition.x + halfTextWidth;\n\t\t\t\t\t\tfurthestRightIndex = i;\n\t\t\t\t\t}\n\t\t\t\t\tif (pointPosition.x - halfTextWidth < furthestLeft) {\n\t\t\t\t\t\tfurthestLeft = pointPosition.x - halfTextWidth;\n\t\t\t\t\t\tfurthestLeftIndex = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (i < this.valuesCount/2) {\n\t\t\t\t\t// Less than half the values means we'll left align the text\n\t\t\t\t\tif (pointPosition.x + textWidth > furthestRight) {\n\t\t\t\t\t\tfurthestRight = pointPosition.x + textWidth;\n\t\t\t\t\t\tfurthestRightIndex = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (i > this.valuesCount/2){\n\t\t\t\t\t// More than half the values means we'll right align the text\n\t\t\t\t\tif (pointPosition.x - textWidth < furthestLeft) {\n\t\t\t\t\t\tfurthestLeft = pointPosition.x - textWidth;\n\t\t\t\t\t\tfurthestLeftIndex = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\txProtrusionLeft = furthestLeft;\n\n\t\t\txProtrusionRight = Math.ceil(furthestRight - this.width);\n\n\t\t\tfurthestRightAngle = this.getIndexAngle(furthestRightIndex);\n\n\t\t\tfurthestLeftAngle = this.getIndexAngle(furthestLeftIndex);\n\n\t\t\tradiusReductionRight = xProtrusionRight / Math.sin(furthestRightAngle + Math.PI/2);\n\n\t\t\tradiusReductionLeft = xProtrusionLeft / Math.sin(furthestLeftAngle + Math.PI/2);\n\n\t\t\t// Ensure we actually need to reduce the size of the chart\n\t\t\tradiusReductionRight = (isNumber(radiusReductionRight)) ? radiusReductionRight : 0;\n\t\t\tradiusReductionLeft = (isNumber(radiusReductionLeft)) ? radiusReductionLeft : 0;\n\n\t\t\tthis.drawingArea = largestPossibleRadius - (radiusReductionLeft + radiusReductionRight)/2;\n\n\t\t\t//this.drawingArea = min([maxWidthRadius, (this.height - (2 * (this.pointLabelFontSize + 5)))/2])\n\t\t\tthis.setCenterPoint(radiusReductionLeft, radiusReductionRight);\n\n\t\t},\n\t\tsetCenterPoint: function(leftMovement, rightMovement){\n\n\t\t\tvar maxRight = this.width - rightMovement - this.drawingArea,\n\t\t\t\tmaxLeft = leftMovement + this.drawingArea;\n\n\t\t\tthis.xCenter = (maxLeft + maxRight)/2;\n\t\t\t// Always vertically in the centre as the text height doesn't change\n\t\t\tthis.yCenter = (this.height/2);\n\t\t},\n\n\t\tgetIndexAngle : function(index){\n\t\t\tvar angleMultiplier = (Math.PI * 2) / this.valuesCount;\n\t\t\t// Start from the top instead of right, so remove a quarter of the circle\n\n\t\t\treturn index * angleMultiplier - (Math.PI/2);\n\t\t},\n\t\tgetPointPosition : function(index, distanceFromCenter){\n\t\t\tvar thisAngle = this.getIndexAngle(index);\n\t\t\treturn {\n\t\t\t\tx : (Math.cos(thisAngle) * distanceFromCenter) + this.xCenter,\n\t\t\t\ty : (Math.sin(thisAngle) * distanceFromCenter) + this.yCenter\n\t\t\t};\n\t\t},\n\t\tdraw: function(){\n\t\t\tif (this.display){\n\t\t\t\tvar ctx = this.ctx;\n\t\t\t\teach(this.yLabels, function(label, index){\n\t\t\t\t\t// Don't draw a centre value\n\t\t\t\t\tif (index > 0){\n\t\t\t\t\t\tvar yCenterOffset = index * (this.drawingArea/this.steps),\n\t\t\t\t\t\t\tyHeight = this.yCenter - yCenterOffset,\n\t\t\t\t\t\t\tpointPosition;\n\n\t\t\t\t\t\t// Draw circular lines around the scale\n\t\t\t\t\t\tif (this.lineWidth > 0){\n\t\t\t\t\t\t\tctx.strokeStyle = this.lineColor;\n\t\t\t\t\t\t\tctx.lineWidth = this.lineWidth;\n\n\t\t\t\t\t\t\tif(this.lineArc){\n\t\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\t\tctx.arc(this.xCenter, this.yCenter, yCenterOffset, 0, Math.PI*2);\n\t\t\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\t\tfor (var i=0;i<this.valuesCount;i++)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpointPosition = this.getPointPosition(i, this.calculateCenterOffset(this.min + (index * this.stepValue)));\n\t\t\t\t\t\t\t\t\tif (i === 0){\n\t\t\t\t\t\t\t\t\t\tctx.moveTo(pointPosition.x, pointPosition.y);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tctx.lineTo(pointPosition.x, pointPosition.y);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(this.showLabels){\n\t\t\t\t\t\t\tctx.font = fontString(this.fontSize,this.fontStyle,this.fontFamily);\n\t\t\t\t\t\t\tif (this.showLabelBackdrop){\n\t\t\t\t\t\t\t\tvar labelWidth = ctx.measureText(label).width;\n\t\t\t\t\t\t\t\tctx.fillStyle = this.backdropColor;\n\t\t\t\t\t\t\t\tctx.fillRect(\n\t\t\t\t\t\t\t\t\tthis.xCenter - labelWidth/2 - this.backdropPaddingX,\n\t\t\t\t\t\t\t\t\tyHeight - this.fontSize/2 - this.backdropPaddingY,\n\t\t\t\t\t\t\t\t\tlabelWidth + this.backdropPaddingX*2,\n\t\t\t\t\t\t\t\t\tthis.fontSize + this.backdropPaddingY*2\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tctx.textAlign = 'center';\n\t\t\t\t\t\t\tctx.textBaseline = \"middle\";\n\t\t\t\t\t\t\tctx.fillStyle = this.fontColor;\n\t\t\t\t\t\t\tctx.fillText(label, this.xCenter, yHeight);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\n\t\t\t\tif (!this.lineArc){\n\t\t\t\t\tctx.lineWidth = this.angleLineWidth;\n\t\t\t\t\tctx.strokeStyle = this.angleLineColor;\n\t\t\t\t\tfor (var i = this.valuesCount - 1; i >= 0; i--) {\n\t\t\t\t\t\tif (this.angleLineWidth > 0){\n\t\t\t\t\t\t\tvar outerPosition = this.getPointPosition(i, this.calculateCenterOffset(this.max));\n\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\tctx.moveTo(this.xCenter, this.yCenter);\n\t\t\t\t\t\t\tctx.lineTo(outerPosition.x, outerPosition.y);\n\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Extra 3px out for some label spacing\n\t\t\t\t\t\tvar pointLabelPosition = this.getPointPosition(i, this.calculateCenterOffset(this.max) + 5);\n\t\t\t\t\t\tctx.font = fontString(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily);\n\t\t\t\t\t\tctx.fillStyle = this.pointLabelFontColor;\n\n\t\t\t\t\t\tvar labelsCount = this.labels.length,\n\t\t\t\t\t\t\thalfLabelsCount = this.labels.length/2,\n\t\t\t\t\t\t\tquarterLabelsCount = halfLabelsCount/2,\n\t\t\t\t\t\t\tupperHalf = (i < quarterLabelsCount || i > labelsCount - quarterLabelsCount),\n\t\t\t\t\t\t\texactQuarter = (i === quarterLabelsCount || i === labelsCount - quarterLabelsCount);\n\t\t\t\t\t\tif (i === 0){\n\t\t\t\t\t\t\tctx.textAlign = 'center';\n\t\t\t\t\t\t} else if(i === halfLabelsCount){\n\t\t\t\t\t\t\tctx.textAlign = 'center';\n\t\t\t\t\t\t} else if (i < halfLabelsCount){\n\t\t\t\t\t\t\tctx.textAlign = 'left';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tctx.textAlign = 'right';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Set the correct text baseline based on outer positioning\n\t\t\t\t\t\tif (exactQuarter){\n\t\t\t\t\t\t\tctx.textBaseline = 'middle';\n\t\t\t\t\t\t} else if (upperHalf){\n\t\t\t\t\t\t\tctx.textBaseline = 'bottom';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tctx.textBaseline = 'top';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tctx.fillText(this.labels[i], pointLabelPosition.x, pointLabelPosition.y);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t// Attach global event to resize each chart instance when the browser resizes\n\thelpers.addEvent(window, \"resize\", (function(){\n\t\t// Basic debounce of resize function so it doesn't hurt performance when resizing browser.\n\t\tvar timeout;\n\t\treturn function(){\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(function(){\n\t\t\t\teach(Chart.instances,function(instance){\n\t\t\t\t\t// If the responsive flag is set in the chart instance config\n\t\t\t\t\t// Cascade the resize event down to the chart.\n\t\t\t\t\tif (instance.options.responsive){\n\t\t\t\t\t\tinstance.resize(instance.render, true);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, 50);\n\t\t};\n\t})());\n\n\n\tif (amd) {\n\t\tdefine(function(){\n\t\t\treturn Chart;\n\t\t});\n\t} else if (typeof module === 'object' && module.exports) {\n\t\tmodule.exports = Chart;\n\t}\n\n\troot.Chart = Chart;\n\n\tChart.noConflict = function(){\n\t\troot.Chart = previous;\n\t\treturn Chart;\n\t};\n\n}).call(this);\n\n(function(){\n\t\"use strict\";\n\n\tvar root = this,\n\t\tChart = root.Chart,\n\t\thelpers = Chart.helpers;\n\n\n\tvar defaultConfig = {\n\t\t//Boolean - Whether the scale should start at zero, or an order of magnitude down from the lowest value\n\t\tscaleBeginAtZero : true,\n\n\t\t//Boolean - Whether grid lines are shown across the chart\n\t\tscaleShowGridLines : true,\n\n\t\t//String - Colour of the grid lines\n\t\tscaleGridLineColor : \"rgba(0,0,0,.05)\",\n\n\t\t//Number - Width of the grid lines\n\t\tscaleGridLineWidth : 1,\n\n\t\t//Boolean - Whether to show horizontal lines (except X axis)\n\t\tscaleShowHorizontalLines: true,\n\n\t\t//Boolean - Whether to show vertical lines (except Y axis)\n\t\tscaleShowVerticalLines: true,\n\n\t\t//Boolean - If there is a stroke on each bar\n\t\tbarShowStroke : true,\n\n\t\t//Number - Pixel width of the bar stroke\n\t\tbarStrokeWidth : 2,\n\n\t\t//Number - Spacing between each of the X value sets\n\t\tbarValueSpacing : 5,\n\n\t\t//Number - Spacing between data sets within X values\n\t\tbarDatasetSpacing : 1,\n\n\t\t//String - A legend template\n\t\tlegendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\\\"background-color:<%=datasets[i].fillColor%>\\\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>\"\n\n\t};\n\n\n\tChart.Type.extend({\n\t\tname: \"Bar\",\n\t\tdefaults : defaultConfig,\n\t\tinitialize:  function(data){\n\n\t\t\t//Expose options as a scope variable here so we can access it in the ScaleClass\n\t\t\tvar options = this.options;\n\n\t\t\tthis.ScaleClass = Chart.Scale.extend({\n\t\t\t\toffsetGridLines : true,\n\t\t\t\tcalculateBarX : function(datasetCount, datasetIndex, barIndex){\n\t\t\t\t\t//Reusable method for calculating the xPosition of a given bar based on datasetIndex & width of the bar\n\t\t\t\t\tvar xWidth = this.calculateBaseWidth(),\n\t\t\t\t\t\txAbsolute = this.calculateX(barIndex) - (xWidth/2),\n\t\t\t\t\t\tbarWidth = this.calculateBarWidth(datasetCount);\n\n\t\t\t\t\treturn xAbsolute + (barWidth * datasetIndex) + (datasetIndex * options.barDatasetSpacing) + barWidth/2;\n\t\t\t\t},\n\t\t\t\tcalculateBaseWidth : function(){\n\t\t\t\t\treturn (this.calculateX(1) - this.calculateX(0)) - (2*options.barValueSpacing);\n\t\t\t\t},\n\t\t\t\tcalculateBarWidth : function(datasetCount){\n\t\t\t\t\t//The padding between datasets is to the right of each bar, providing that there are more than 1 dataset\n\t\t\t\t\tvar baseWidth = this.calculateBaseWidth() - ((datasetCount - 1) * options.barDatasetSpacing);\n\n\t\t\t\t\treturn (baseWidth / datasetCount);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.datasets = [];\n\n\t\t\t//Set up tooltip events on the chart\n\t\t\tif (this.options.showTooltips){\n\t\t\t\thelpers.bindEvents(this, this.options.tooltipEvents, function(evt){\n\t\t\t\t\tvar activeBars = (evt.type !== 'mouseout') ? this.getBarsAtEvent(evt) : [];\n\n\t\t\t\t\tthis.eachBars(function(bar){\n\t\t\t\t\t\tbar.restore(['fillColor', 'strokeColor']);\n\t\t\t\t\t});\n\t\t\t\t\thelpers.each(activeBars, function(activeBar){\n\t\t\t\t\t\tactiveBar.fillColor = activeBar.highlightFill;\n\t\t\t\t\t\tactiveBar.strokeColor = activeBar.highlightStroke;\n\t\t\t\t\t});\n\t\t\t\t\tthis.showTooltip(activeBars);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t//Declare the extension of the default point, to cater for the options passed in to the constructor\n\t\t\tthis.BarClass = Chart.Rectangle.extend({\n\t\t\t\tstrokeWidth : this.options.barStrokeWidth,\n\t\t\t\tshowStroke : this.options.barShowStroke,\n\t\t\t\tctx : this.chart.ctx\n\t\t\t});\n\n\t\t\t//Iterate through each of the datasets, and build this into a property of the chart\n\t\t\thelpers.each(data.datasets,function(dataset,datasetIndex){\n\n\t\t\t\tvar datasetObject = {\n\t\t\t\t\tlabel : dataset.label || null,\n\t\t\t\t\tfillColor : dataset.fillColor,\n\t\t\t\t\tstrokeColor : dataset.strokeColor,\n\t\t\t\t\tbars : []\n\t\t\t\t};\n\n\t\t\t\tthis.datasets.push(datasetObject);\n\n\t\t\t\thelpers.each(dataset.data,function(dataPoint,index){\n\t\t\t\t\t//Add a new point for each piece of data, passing any required data to draw.\n\t\t\t\t\tdatasetObject.bars.push(new this.BarClass({\n\t\t\t\t\t\tvalue : dataPoint,\n\t\t\t\t\t\tlabel : data.labels[index],\n\t\t\t\t\t\tdatasetLabel: dataset.label,\n\t\t\t\t\t\tstrokeColor : dataset.strokeColor,\n\t\t\t\t\t\tfillColor : dataset.fillColor,\n\t\t\t\t\t\thighlightFill : dataset.highlightFill || dataset.fillColor,\n\t\t\t\t\t\thighlightStroke : dataset.highlightStroke || dataset.strokeColor\n\t\t\t\t\t}));\n\t\t\t\t},this);\n\n\t\t\t},this);\n\n\t\t\tthis.buildScale(data.labels);\n\n\t\t\tthis.BarClass.prototype.base = this.scale.endPoint;\n\n\t\t\tthis.eachBars(function(bar, index, datasetIndex){\n\t\t\t\thelpers.extend(bar, {\n\t\t\t\t\twidth : this.scale.calculateBarWidth(this.datasets.length),\n\t\t\t\t\tx: this.scale.calculateBarX(this.datasets.length, datasetIndex, index),\n\t\t\t\t\ty: this.scale.endPoint\n\t\t\t\t});\n\t\t\t\tbar.save();\n\t\t\t}, this);\n\n\t\t\tthis.render();\n\t\t},\n\t\tupdate : function(){\n\t\t\tthis.scale.update();\n\t\t\t// Reset any highlight colours before updating.\n\t\t\thelpers.each(this.activeElements, function(activeElement){\n\t\t\t\tactiveElement.restore(['fillColor', 'strokeColor']);\n\t\t\t});\n\n\t\t\tthis.eachBars(function(bar){\n\t\t\t\tbar.save();\n\t\t\t});\n\t\t\tthis.render();\n\t\t},\n\t\teachBars : function(callback){\n\t\t\thelpers.each(this.datasets,function(dataset, datasetIndex){\n\t\t\t\thelpers.each(dataset.bars, callback, this, datasetIndex);\n\t\t\t},this);\n\t\t},\n\t\tgetBarsAtEvent : function(e){\n\t\t\tvar barsArray = [],\n\t\t\t\teventPosition = helpers.getRelativePosition(e),\n\t\t\t\tdatasetIterator = function(dataset){\n\t\t\t\t\tbarsArray.push(dataset.bars[barIndex]);\n\t\t\t\t},\n\t\t\t\tbarIndex;\n\n\t\t\tfor (var datasetIndex = 0; datasetIndex < this.datasets.length; datasetIndex++) {\n\t\t\t\tfor (barIndex = 0; barIndex < this.datasets[datasetIndex].bars.length; barIndex++) {\n\t\t\t\t\tif (this.datasets[datasetIndex].bars[barIndex].inRange(eventPosition.x,eventPosition.y)){\n\t\t\t\t\t\thelpers.each(this.datasets, datasetIterator);\n\t\t\t\t\t\treturn barsArray;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn barsArray;\n\t\t},\n\t\tbuildScale : function(labels){\n\t\t\tvar self = this;\n\n\t\t\tvar dataTotal = function(){\n\t\t\t\tvar values = [];\n\t\t\t\tself.eachBars(function(bar){\n\t\t\t\t\tvalues.push(bar.value);\n\t\t\t\t});\n\t\t\t\treturn values;\n\t\t\t};\n\n\t\t\tvar scaleOptions = {\n\t\t\t\ttemplateString : this.options.scaleLabel,\n\t\t\t\theight : this.chart.height,\n\t\t\t\twidth : this.chart.width,\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\ttextColor : this.options.scaleFontColor,\n\t\t\t\tfontSize : this.options.scaleFontSize,\n\t\t\t\tfontStyle : this.options.scaleFontStyle,\n\t\t\t\tfontFamily : this.options.scaleFontFamily,\n\t\t\t\tvaluesCount : labels.length,\n\t\t\t\tbeginAtZero : this.options.scaleBeginAtZero,\n\t\t\t\tintegersOnly : this.options.scaleIntegersOnly,\n\t\t\t\tcalculateYRange: function(currentHeight){\n\t\t\t\t\tvar updatedRanges = helpers.calculateScaleRange(\n\t\t\t\t\t\tdataTotal(),\n\t\t\t\t\t\tcurrentHeight,\n\t\t\t\t\t\tthis.fontSize,\n\t\t\t\t\t\tthis.beginAtZero,\n\t\t\t\t\t\tthis.integersOnly\n\t\t\t\t\t);\n\t\t\t\t\thelpers.extend(this, updatedRanges);\n\t\t\t\t},\n\t\t\t\txLabels : labels,\n\t\t\t\tfont : helpers.fontString(this.options.scaleFontSize, this.options.scaleFontStyle, this.options.scaleFontFamily),\n\t\t\t\tlineWidth : this.options.scaleLineWidth,\n\t\t\t\tlineColor : this.options.scaleLineColor,\n\t\t\t\tshowHorizontalLines : this.options.scaleShowHorizontalLines,\n\t\t\t\tshowVerticalLines : this.options.scaleShowVerticalLines,\n\t\t\t\tgridLineWidth : (this.options.scaleShowGridLines) ? this.options.scaleGridLineWidth : 0,\n\t\t\t\tgridLineColor : (this.options.scaleShowGridLines) ? this.options.scaleGridLineColor : \"rgba(0,0,0,0)\",\n\t\t\t\tpadding : (this.options.showScale) ? 0 : (this.options.barShowStroke) ? this.options.barStrokeWidth : 0,\n\t\t\t\tshowLabels : this.options.scaleShowLabels,\n\t\t\t\tdisplay : this.options.showScale\n\t\t\t};\n\n\t\t\tif (this.options.scaleOverride){\n\t\t\t\thelpers.extend(scaleOptions, {\n\t\t\t\t\tcalculateYRange: helpers.noop,\n\t\t\t\t\tsteps: this.options.scaleSteps,\n\t\t\t\t\tstepValue: this.options.scaleStepWidth,\n\t\t\t\t\tmin: this.options.scaleStartValue,\n\t\t\t\t\tmax: this.options.scaleStartValue + (this.options.scaleSteps * this.options.scaleStepWidth)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.scale = new this.ScaleClass(scaleOptions);\n\t\t},\n\t\taddData : function(valuesArray,label){\n\t\t\t//Map the values array for each of the datasets\n\t\t\thelpers.each(valuesArray,function(value,datasetIndex){\n\t\t\t\t//Add a new point for each piece of data, passing any required data to draw.\n\t\t\t\tthis.datasets[datasetIndex].bars.push(new this.BarClass({\n\t\t\t\t\tvalue : value,\n\t\t\t\t\tlabel : label,\n\t\t\t\t\tx: this.scale.calculateBarX(this.datasets.length, datasetIndex, this.scale.valuesCount+1),\n\t\t\t\t\ty: this.scale.endPoint,\n\t\t\t\t\twidth : this.scale.calculateBarWidth(this.datasets.length),\n\t\t\t\t\tbase : this.scale.endPoint,\n\t\t\t\t\tstrokeColor : this.datasets[datasetIndex].strokeColor,\n\t\t\t\t\tfillColor : this.datasets[datasetIndex].fillColor\n\t\t\t\t}));\n\t\t\t},this);\n\n\t\t\tthis.scale.addXLabel(label);\n\t\t\t//Then re-render the chart.\n\t\t\tthis.update();\n\t\t},\n\t\tremoveData : function(){\n\t\t\tthis.scale.removeXLabel();\n\t\t\t//Then re-render the chart.\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\tdataset.bars.shift();\n\t\t\t},this);\n\t\t\tthis.update();\n\t\t},\n\t\treflow : function(){\n\t\t\thelpers.extend(this.BarClass.prototype,{\n\t\t\t\ty: this.scale.endPoint,\n\t\t\t\tbase : this.scale.endPoint\n\t\t\t});\n\t\t\tvar newScaleProps = helpers.extend({\n\t\t\t\theight : this.chart.height,\n\t\t\t\twidth : this.chart.width\n\t\t\t});\n\t\t\tthis.scale.update(newScaleProps);\n\t\t},\n\t\tdraw : function(ease){\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\tthis.clear();\n\n\t\t\tvar ctx = this.chart.ctx;\n\n\t\t\tthis.scale.draw(easingDecimal);\n\n\t\t\t//Draw all the bars for each dataset\n\t\t\thelpers.each(this.datasets,function(dataset,datasetIndex){\n\t\t\t\thelpers.each(dataset.bars,function(bar,index){\n\t\t\t\t\tif (bar.hasValue()){\n\t\t\t\t\t\tbar.base = this.scale.endPoint;\n\t\t\t\t\t\t//Transition then draw\n\t\t\t\t\t\tbar.transition({\n\t\t\t\t\t\t\tx : this.scale.calculateBarX(this.datasets.length, datasetIndex, index),\n\t\t\t\t\t\t\ty : this.scale.calculateY(bar.value),\n\t\t\t\t\t\t\twidth : this.scale.calculateBarWidth(this.datasets.length)\n\t\t\t\t\t\t}, easingDecimal).draw();\n\t\t\t\t\t}\n\t\t\t\t},this);\n\n\t\t\t},this);\n\t\t}\n\t});\n\n\n}).call(this);\n\n(function(){\n\t\"use strict\";\n\n\tvar root = this,\n\t\tChart = root.Chart,\n\t\t//Cache a local reference to Chart.helpers\n\t\thelpers = Chart.helpers;\n\n\tvar defaultConfig = {\n\t\t//Boolean - Whether we should show a stroke on each segment\n\t\tsegmentShowStroke : true,\n\n\t\t//String - The colour of each segment stroke\n\t\tsegmentStrokeColor : \"#fff\",\n\n\t\t//Number - The width of each segment stroke\n\t\tsegmentStrokeWidth : 2,\n\n\t\t//The percentage of the chart that we cut out of the middle.\n\t\tpercentageInnerCutout : 50,\n\n\t\t//Number - Amount of animation steps\n\t\tanimationSteps : 100,\n\n\t\t//String - Animation easing effect\n\t\tanimationEasing : \"easeOutBounce\",\n\n\t\t//Boolean - Whether we animate the rotation of the Doughnut\n\t\tanimateRotate : true,\n\n\t\t//Boolean - Whether we animate scaling the Doughnut from the centre\n\t\tanimateScale : false,\n\n\t\t//String - A legend template\n\t\tlegendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<segments.length; i++){%><li><span style=\\\"background-color:<%=segments[i].fillColor%>\\\"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>\"\n\n\t};\n\n\n\tChart.Type.extend({\n\t\t//Passing in a name registers this chart in the Chart namespace\n\t\tname: \"Doughnut\",\n\t\t//Providing a defaults will also register the deafults in the chart namespace\n\t\tdefaults : defaultConfig,\n\t\t//Initialize is fired when the chart is initialized - Data is passed in as a parameter\n\t\t//Config is automatically merged by the core of Chart.js, and is available at this.options\n\t\tinitialize:  function(data){\n\n\t\t\t//Declare segments as a static property to prevent inheriting across the Chart type prototype\n\t\t\tthis.segments = [];\n\t\t\tthis.outerRadius = (helpers.min([this.chart.width,this.chart.height]) -\tthis.options.segmentStrokeWidth/2)/2;\n\n\t\t\tthis.SegmentArc = Chart.Arc.extend({\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\tx : this.chart.width/2,\n\t\t\t\ty : this.chart.height/2\n\t\t\t});\n\n\t\t\t//Set up tooltip events on the chart\n\t\t\tif (this.options.showTooltips){\n\t\t\t\thelpers.bindEvents(this, this.options.tooltipEvents, function(evt){\n\t\t\t\t\tvar activeSegments = (evt.type !== 'mouseout') ? this.getSegmentsAtEvent(evt) : [];\n\n\t\t\t\t\thelpers.each(this.segments,function(segment){\n\t\t\t\t\t\tsegment.restore([\"fillColor\"]);\n\t\t\t\t\t});\n\t\t\t\t\thelpers.each(activeSegments,function(activeSegment){\n\t\t\t\t\t\tactiveSegment.fillColor = activeSegment.highlightColor;\n\t\t\t\t\t});\n\t\t\t\t\tthis.showTooltip(activeSegments);\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.calculateTotal(data);\n\n\t\t\thelpers.each(data,function(datapoint, index){\n\t\t\t\tthis.addData(datapoint, index, true);\n\t\t\t},this);\n\n\t\t\tthis.render();\n\t\t},\n\t\tgetSegmentsAtEvent : function(e){\n\t\t\tvar segmentsArray = [];\n\n\t\t\tvar location = helpers.getRelativePosition(e);\n\n\t\t\thelpers.each(this.segments,function(segment){\n\t\t\t\tif (segment.inRange(location.x,location.y)) segmentsArray.push(segment);\n\t\t\t},this);\n\t\t\treturn segmentsArray;\n\t\t},\n\t\taddData : function(segment, atIndex, silent){\n\t\t\tvar index = atIndex || this.segments.length;\n\t\t\tthis.segments.splice(index, 0, new this.SegmentArc({\n\t\t\t\tvalue : segment.value,\n\t\t\t\touterRadius : (this.options.animateScale) ? 0 : this.outerRadius,\n\t\t\t\tinnerRadius : (this.options.animateScale) ? 0 : (this.outerRadius/100) * this.options.percentageInnerCutout,\n\t\t\t\tfillColor : segment.color,\n\t\t\t\thighlightColor : segment.highlight || segment.color,\n\t\t\t\tshowStroke : this.options.segmentShowStroke,\n\t\t\t\tstrokeWidth : this.options.segmentStrokeWidth,\n\t\t\t\tstrokeColor : this.options.segmentStrokeColor,\n\t\t\t\tstartAngle : Math.PI * 1.5,\n\t\t\t\tcircumference : (this.options.animateRotate) ? 0 : this.calculateCircumference(segment.value),\n\t\t\t\tlabel : segment.label\n\t\t\t}));\n\t\t\tif (!silent){\n\t\t\t\tthis.reflow();\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t},\n\t\tcalculateCircumference : function(value){\n\t\t\treturn (Math.PI*2)*(Math.abs(value) / this.total);\n\t\t},\n\t\tcalculateTotal : function(data){\n\t\t\tthis.total = 0;\n\t\t\thelpers.each(data,function(segment){\n\t\t\t\tthis.total += Math.abs(segment.value);\n\t\t\t},this);\n\t\t},\n\t\tupdate : function(){\n\t\t\tthis.calculateTotal(this.segments);\n\n\t\t\t// Reset any highlight colours before updating.\n\t\t\thelpers.each(this.activeElements, function(activeElement){\n\t\t\t\tactiveElement.restore(['fillColor']);\n\t\t\t});\n\n\t\t\thelpers.each(this.segments,function(segment){\n\t\t\t\tsegment.save();\n\t\t\t});\n\t\t\tthis.render();\n\t\t},\n\n\t\tremoveData: function(atIndex){\n\t\t\tvar indexToDelete = (helpers.isNumber(atIndex)) ? atIndex : this.segments.length-1;\n\t\t\tthis.segments.splice(indexToDelete, 1);\n\t\t\tthis.reflow();\n\t\t\tthis.update();\n\t\t},\n\n\t\treflow : function(){\n\t\t\thelpers.extend(this.SegmentArc.prototype,{\n\t\t\t\tx : this.chart.width/2,\n\t\t\t\ty : this.chart.height/2\n\t\t\t});\n\t\t\tthis.outerRadius = (helpers.min([this.chart.width,this.chart.height]) -\tthis.options.segmentStrokeWidth/2)/2;\n\t\t\thelpers.each(this.segments, function(segment){\n\t\t\t\tsegment.update({\n\t\t\t\t\touterRadius : this.outerRadius,\n\t\t\t\t\tinnerRadius : (this.outerRadius/100) * this.options.percentageInnerCutout\n\t\t\t\t});\n\t\t\t}, this);\n\t\t},\n\t\tdraw : function(easeDecimal){\n\t\t\tvar animDecimal = (easeDecimal) ? easeDecimal : 1;\n\t\t\tthis.clear();\n\t\t\thelpers.each(this.segments,function(segment,index){\n\t\t\t\tsegment.transition({\n\t\t\t\t\tcircumference : this.calculateCircumference(segment.value),\n\t\t\t\t\touterRadius : this.outerRadius,\n\t\t\t\t\tinnerRadius : (this.outerRadius/100) * this.options.percentageInnerCutout\n\t\t\t\t},animDecimal);\n\n\t\t\t\tsegment.endAngle = segment.startAngle + segment.circumference;\n\n\t\t\t\tsegment.draw();\n\t\t\t\tif (index === 0){\n\t\t\t\t\tsegment.startAngle = Math.PI * 1.5;\n\t\t\t\t}\n\t\t\t\t//Check to see if it's the last segment, if not get the next and update the start angle\n\t\t\t\tif (index < this.segments.length-1){\n\t\t\t\t\tthis.segments[index+1].startAngle = segment.endAngle;\n\t\t\t\t}\n\t\t\t},this);\n\n\t\t}\n\t});\n\n\tChart.types.Doughnut.extend({\n\t\tname : \"Pie\",\n\t\tdefaults : helpers.merge(defaultConfig,{percentageInnerCutout : 0})\n\t});\n\n}).call(this);\n(function(){\n\t\"use strict\";\n\n\tvar root = this,\n\t\tChart = root.Chart,\n\t\thelpers = Chart.helpers;\n\n\tvar defaultConfig = {\n\n\t\t///Boolean - Whether grid lines are shown across the chart\n\t\tscaleShowGridLines : true,\n\n\t\t//String - Colour of the grid lines\n\t\tscaleGridLineColor : \"rgba(0,0,0,.05)\",\n\n\t\t//Number - Width of the grid lines\n\t\tscaleGridLineWidth : 1,\n\n\t\t//Boolean - Whether to show horizontal lines (except X axis)\n\t\tscaleShowHorizontalLines: true,\n\n\t\t//Boolean - Whether to show vertical lines (except Y axis)\n\t\tscaleShowVerticalLines: true,\n\n\t\t//Boolean - Whether the line is curved between points\n\t\tbezierCurve : true,\n\n\t\t//Number - Tension of the bezier curve between points\n\t\tbezierCurveTension : 0.4,\n\n\t\t//Boolean - Whether to show a dot for each point\n\t\tpointDot : true,\n\n\t\t//Number - Radius of each point dot in pixels\n\t\tpointDotRadius : 4,\n\n\t\t//Number - Pixel width of point dot stroke\n\t\tpointDotStrokeWidth : 1,\n\n\t\t//Number - amount extra to add to the radius to cater for hit detection outside the drawn point\n\t\tpointHitDetectionRadius : 20,\n\n\t\t//Boolean - Whether to show a stroke for datasets\n\t\tdatasetStroke : true,\n\n\t\t//Number - Pixel width of dataset stroke\n\t\tdatasetStrokeWidth : 2,\n\n\t\t//Boolean - Whether to fill the dataset with a colour\n\t\tdatasetFill : true,\n\n\t\t//String - A legend template\n\t\tlegendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\\\"background-color:<%=datasets[i].strokeColor%>\\\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>\"\n\n\t};\n\n\n\tChart.Type.extend({\n\t\tname: \"Line\",\n\t\tdefaults : defaultConfig,\n\t\tinitialize:  function(data){\n\t\t\t//Declare the extension of the default point, to cater for the options passed in to the constructor\n\t\t\tthis.PointClass = Chart.Point.extend({\n\t\t\t\tstrokeWidth : this.options.pointDotStrokeWidth,\n\t\t\t\tradius : this.options.pointDotRadius,\n\t\t\t\tdisplay: this.options.pointDot,\n\t\t\t\thitDetectionRadius : this.options.pointHitDetectionRadius,\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\tinRange : function(mouseX){\n\t\t\t\t\treturn (Math.pow(mouseX-this.x, 2) < Math.pow(this.radius + this.hitDetectionRadius,2));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.datasets = [];\n\n\t\t\t//Set up tooltip events on the chart\n\t\t\tif (this.options.showTooltips){\n\t\t\t\thelpers.bindEvents(this, this.options.tooltipEvents, function(evt){\n\t\t\t\t\tvar activePoints = (evt.type !== 'mouseout') ? this.getPointsAtEvent(evt) : [];\n\t\t\t\t\tthis.eachPoints(function(point){\n\t\t\t\t\t\tpoint.restore(['fillColor', 'strokeColor']);\n\t\t\t\t\t});\n\t\t\t\t\thelpers.each(activePoints, function(activePoint){\n\t\t\t\t\t\tactivePoint.fillColor = activePoint.highlightFill;\n\t\t\t\t\t\tactivePoint.strokeColor = activePoint.highlightStroke;\n\t\t\t\t\t});\n\t\t\t\t\tthis.showTooltip(activePoints);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t//Iterate through each of the datasets, and build this into a property of the chart\n\t\t\thelpers.each(data.datasets,function(dataset){\n\n\t\t\t\tvar datasetObject = {\n\t\t\t\t\tlabel : dataset.label || null,\n\t\t\t\t\tfillColor : dataset.fillColor,\n\t\t\t\t\tstrokeColor : dataset.strokeColor,\n\t\t\t\t\tpointColor : dataset.pointColor,\n\t\t\t\t\tpointStrokeColor : dataset.pointStrokeColor,\n\t\t\t\t\tpoints : []\n\t\t\t\t};\n\n\t\t\t\tthis.datasets.push(datasetObject);\n\n\n\t\t\t\thelpers.each(dataset.data,function(dataPoint,index){\n\t\t\t\t\t//Add a new point for each piece of data, passing any required data to draw.\n\t\t\t\t\tdatasetObject.points.push(new this.PointClass({\n\t\t\t\t\t\tvalue : dataPoint,\n\t\t\t\t\t\tlabel : data.labels[index],\n\t\t\t\t\t\tdatasetLabel: dataset.label,\n\t\t\t\t\t\tstrokeColor : dataset.pointStrokeColor,\n\t\t\t\t\t\tfillColor : dataset.pointColor,\n\t\t\t\t\t\thighlightFill : dataset.pointHighlightFill || dataset.pointColor,\n\t\t\t\t\t\thighlightStroke : dataset.pointHighlightStroke || dataset.pointStrokeColor\n\t\t\t\t\t}));\n\t\t\t\t},this);\n\n\t\t\t\tthis.buildScale(data.labels);\n\n\n\t\t\t\tthis.eachPoints(function(point, index){\n\t\t\t\t\thelpers.extend(point, {\n\t\t\t\t\t\tx: this.scale.calculateX(index),\n\t\t\t\t\t\ty: this.scale.endPoint\n\t\t\t\t\t});\n\t\t\t\t\tpoint.save();\n\t\t\t\t}, this);\n\n\t\t\t},this);\n\n\n\t\t\tthis.render();\n\t\t},\n\t\tupdate : function(){\n\t\t\tthis.scale.update();\n\t\t\t// Reset any highlight colours before updating.\n\t\t\thelpers.each(this.activeElements, function(activeElement){\n\t\t\t\tactiveElement.restore(['fillColor', 'strokeColor']);\n\t\t\t});\n\t\t\tthis.eachPoints(function(point){\n\t\t\t\tpoint.save();\n\t\t\t});\n\t\t\tthis.render();\n\t\t},\n\t\teachPoints : function(callback){\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\thelpers.each(dataset.points,callback,this);\n\t\t\t},this);\n\t\t},\n\t\tgetPointsAtEvent : function(e){\n\t\t\tvar pointsArray = [],\n\t\t\t\teventPosition = helpers.getRelativePosition(e);\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\thelpers.each(dataset.points,function(point){\n\t\t\t\t\tif (point.inRange(eventPosition.x,eventPosition.y)) pointsArray.push(point);\n\t\t\t\t});\n\t\t\t},this);\n\t\t\treturn pointsArray;\n\t\t},\n\t\tbuildScale : function(labels){\n\t\t\tvar self = this;\n\n\t\t\tvar dataTotal = function(){\n\t\t\t\tvar values = [];\n\t\t\t\tself.eachPoints(function(point){\n\t\t\t\t\tvalues.push(point.value);\n\t\t\t\t});\n\n\t\t\t\treturn values;\n\t\t\t};\n\n\t\t\tvar scaleOptions = {\n\t\t\t\ttemplateString : this.options.scaleLabel,\n\t\t\t\theight : this.chart.height,\n\t\t\t\twidth : this.chart.width,\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\ttextColor : this.options.scaleFontColor,\n\t\t\t\tfontSize : this.options.scaleFontSize,\n\t\t\t\tfontStyle : this.options.scaleFontStyle,\n\t\t\t\tfontFamily : this.options.scaleFontFamily,\n\t\t\t\tvaluesCount : labels.length,\n\t\t\t\tbeginAtZero : this.options.scaleBeginAtZero,\n\t\t\t\tintegersOnly : this.options.scaleIntegersOnly,\n\t\t\t\tcalculateYRange : function(currentHeight){\n\t\t\t\t\tvar updatedRanges = helpers.calculateScaleRange(\n\t\t\t\t\t\tdataTotal(),\n\t\t\t\t\t\tcurrentHeight,\n\t\t\t\t\t\tthis.fontSize,\n\t\t\t\t\t\tthis.beginAtZero,\n\t\t\t\t\t\tthis.integersOnly\n\t\t\t\t\t);\n\t\t\t\t\thelpers.extend(this, updatedRanges);\n\t\t\t\t},\n\t\t\t\txLabels : labels,\n\t\t\t\tfont : helpers.fontString(this.options.scaleFontSize, this.options.scaleFontStyle, this.options.scaleFontFamily),\n\t\t\t\tlineWidth : this.options.scaleLineWidth,\n\t\t\t\tlineColor : this.options.scaleLineColor,\n\t\t\t\tshowHorizontalLines : this.options.scaleShowHorizontalLines,\n\t\t\t\tshowVerticalLines : this.options.scaleShowVerticalLines,\n\t\t\t\tgridLineWidth : (this.options.scaleShowGridLines) ? this.options.scaleGridLineWidth : 0,\n\t\t\t\tgridLineColor : (this.options.scaleShowGridLines) ? this.options.scaleGridLineColor : \"rgba(0,0,0,0)\",\n\t\t\t\tpadding: (this.options.showScale) ? 0 : this.options.pointDotRadius + this.options.pointDotStrokeWidth,\n\t\t\t\tshowLabels : this.options.scaleShowLabels,\n\t\t\t\tdisplay : this.options.showScale\n\t\t\t};\n\n\t\t\tif (this.options.scaleOverride){\n\t\t\t\thelpers.extend(scaleOptions, {\n\t\t\t\t\tcalculateYRange: helpers.noop,\n\t\t\t\t\tsteps: this.options.scaleSteps,\n\t\t\t\t\tstepValue: this.options.scaleStepWidth,\n\t\t\t\t\tmin: this.options.scaleStartValue,\n\t\t\t\t\tmax: this.options.scaleStartValue + (this.options.scaleSteps * this.options.scaleStepWidth)\n\t\t\t\t});\n\t\t\t}\n\n\n\t\t\tthis.scale = new Chart.Scale(scaleOptions);\n\t\t},\n\t\taddData : function(valuesArray,label){\n\t\t\t//Map the values array for each of the datasets\n\n\t\t\thelpers.each(valuesArray,function(value,datasetIndex){\n\t\t\t\t//Add a new point for each piece of data, passing any required data to draw.\n\t\t\t\tthis.datasets[datasetIndex].points.push(new this.PointClass({\n\t\t\t\t\tvalue : value,\n\t\t\t\t\tlabel : label,\n\t\t\t\t\tx: this.scale.calculateX(this.scale.valuesCount+1),\n\t\t\t\t\ty: this.scale.endPoint,\n\t\t\t\t\tstrokeColor : this.datasets[datasetIndex].pointStrokeColor,\n\t\t\t\t\tfillColor : this.datasets[datasetIndex].pointColor\n\t\t\t\t}));\n\t\t\t},this);\n\n\t\t\tthis.scale.addXLabel(label);\n\t\t\t//Then re-render the chart.\n\t\t\tthis.update();\n\t\t},\n\t\tremoveData : function(){\n\t\t\tthis.scale.removeXLabel();\n\t\t\t//Then re-render the chart.\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\tdataset.points.shift();\n\t\t\t},this);\n\t\t\tthis.update();\n\t\t},\n\t\treflow : function(){\n\t\t\tvar newScaleProps = helpers.extend({\n\t\t\t\theight : this.chart.height,\n\t\t\t\twidth : this.chart.width\n\t\t\t});\n\t\t\tthis.scale.update(newScaleProps);\n\t\t},\n\t\tdraw : function(ease){\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\tthis.clear();\n\n\t\t\tvar ctx = this.chart.ctx;\n\n\t\t\t// Some helper methods for getting the next/prev points\n\t\t\tvar hasValue = function(item){\n\t\t\t\treturn item.value !== null;\n\t\t\t},\n\t\t\tnextPoint = function(point, collection, index){\n\t\t\t\treturn helpers.findNextWhere(collection, hasValue, index) || point;\n\t\t\t},\n\t\t\tpreviousPoint = function(point, collection, index){\n\t\t\t\treturn helpers.findPreviousWhere(collection, hasValue, index) || point;\n\t\t\t};\n\n\t\t\tthis.scale.draw(easingDecimal);\n\n\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\tvar pointsWithValues = helpers.where(dataset.points, hasValue);\n\n\t\t\t\t//Transition each point first so that the line and point drawing isn't out of sync\n\t\t\t\t//We can use this extra loop to calculate the control points of this dataset also in this loop\n\n\t\t\t\thelpers.each(dataset.points, function(point, index){\n\t\t\t\t\tif (point.hasValue()){\n\t\t\t\t\t\tpoint.transition({\n\t\t\t\t\t\t\ty : this.scale.calculateY(point.value),\n\t\t\t\t\t\t\tx : this.scale.calculateX(index)\n\t\t\t\t\t\t}, easingDecimal);\n\t\t\t\t\t}\n\t\t\t\t},this);\n\n\n\t\t\t\t// Control points need to be calculated in a seperate loop, because we need to know the current x/y of the point\n\t\t\t\t// This would cause issues when there is no animation, because the y of the next point would be 0, so beziers would be skewed\n\t\t\t\tif (this.options.bezierCurve){\n\t\t\t\t\thelpers.each(pointsWithValues, function(point, index){\n\t\t\t\t\t\tvar tension = (index > 0 && index < pointsWithValues.length - 1) ? this.options.bezierCurveTension : 0;\n\t\t\t\t\t\tpoint.controlPoints = helpers.splineCurve(\n\t\t\t\t\t\t\tpreviousPoint(point, pointsWithValues, index),\n\t\t\t\t\t\t\tpoint,\n\t\t\t\t\t\t\tnextPoint(point, pointsWithValues, index),\n\t\t\t\t\t\t\ttension\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// Prevent the bezier going outside of the bounds of the graph\n\n\t\t\t\t\t\t// Cap puter bezier handles to the upper/lower scale bounds\n\t\t\t\t\t\tif (point.controlPoints.outer.y > this.scale.endPoint){\n\t\t\t\t\t\t\tpoint.controlPoints.outer.y = this.scale.endPoint;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (point.controlPoints.outer.y < this.scale.startPoint){\n\t\t\t\t\t\t\tpoint.controlPoints.outer.y = this.scale.startPoint;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Cap inner bezier handles to the upper/lower scale bounds\n\t\t\t\t\t\tif (point.controlPoints.inner.y > this.scale.endPoint){\n\t\t\t\t\t\t\tpoint.controlPoints.inner.y = this.scale.endPoint;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (point.controlPoints.inner.y < this.scale.startPoint){\n\t\t\t\t\t\t\tpoint.controlPoints.inner.y = this.scale.startPoint;\n\t\t\t\t\t\t}\n\t\t\t\t\t},this);\n\t\t\t\t}\n\n\n\t\t\t\t//Draw the line between all the points\n\t\t\t\tctx.lineWidth = this.options.datasetStrokeWidth;\n\t\t\t\tctx.strokeStyle = dataset.strokeColor;\n\t\t\t\tctx.beginPath();\n\n\t\t\t\thelpers.each(pointsWithValues, function(point, index){\n\t\t\t\t\tif (index === 0){\n\t\t\t\t\t\tctx.moveTo(point.x, point.y);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(this.options.bezierCurve){\n\t\t\t\t\t\t\tvar previous = previousPoint(point, pointsWithValues, index);\n\n\t\t\t\t\t\t\tctx.bezierCurveTo(\n\t\t\t\t\t\t\t\tprevious.controlPoints.outer.x,\n\t\t\t\t\t\t\t\tprevious.controlPoints.outer.y,\n\t\t\t\t\t\t\t\tpoint.controlPoints.inner.x,\n\t\t\t\t\t\t\t\tpoint.controlPoints.inner.y,\n\t\t\t\t\t\t\t\tpoint.x,\n\t\t\t\t\t\t\t\tpoint.y\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tctx.lineTo(point.x,point.y);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\n\t\t\t\tctx.stroke();\n\n\t\t\t\tif (this.options.datasetFill && pointsWithValues.length > 0){\n\t\t\t\t\t//Round off the line by going to the base of the chart, back to the start, then fill.\n\t\t\t\t\tctx.lineTo(pointsWithValues[pointsWithValues.length - 1].x, this.scale.endPoint);\n\t\t\t\t\tctx.lineTo(pointsWithValues[0].x, this.scale.endPoint);\n\t\t\t\t\tctx.fillStyle = dataset.fillColor;\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\tctx.fill();\n\t\t\t\t}\n\n\t\t\t\t//Now draw the points over the line\n\t\t\t\t//A little inefficient double looping, but better than the line\n\t\t\t\t//lagging behind the point positions\n\t\t\t\thelpers.each(pointsWithValues,function(point){\n\t\t\t\t\tpoint.draw();\n\t\t\t\t});\n\t\t\t},this);\n\t\t}\n\t});\n\n\n}).call(this);\n\n(function(){\n\t\"use strict\";\n\n\tvar root = this,\n\t\tChart = root.Chart,\n\t\t//Cache a local reference to Chart.helpers\n\t\thelpers = Chart.helpers;\n\n\tvar defaultConfig = {\n\t\t//Boolean - Show a backdrop to the scale label\n\t\tscaleShowLabelBackdrop : true,\n\n\t\t//String - The colour of the label backdrop\n\t\tscaleBackdropColor : \"rgba(255,255,255,0.75)\",\n\n\t\t// Boolean - Whether the scale should begin at zero\n\t\tscaleBeginAtZero : true,\n\n\t\t//Number - The backdrop padding above & below the label in pixels\n\t\tscaleBackdropPaddingY : 2,\n\n\t\t//Number - The backdrop padding to the side of the label in pixels\n\t\tscaleBackdropPaddingX : 2,\n\n\t\t//Boolean - Show line for each value in the scale\n\t\tscaleShowLine : true,\n\n\t\t//Boolean - Stroke a line around each segment in the chart\n\t\tsegmentShowStroke : true,\n\n\t\t//String - The colour of the stroke on each segement.\n\t\tsegmentStrokeColor : \"#fff\",\n\n\t\t//Number - The width of the stroke value in pixels\n\t\tsegmentStrokeWidth : 2,\n\n\t\t//Number - Amount of animation steps\n\t\tanimationSteps : 100,\n\n\t\t//String - Animation easing effect.\n\t\tanimationEasing : \"easeOutBounce\",\n\n\t\t//Boolean - Whether to animate the rotation of the chart\n\t\tanimateRotate : true,\n\n\t\t//Boolean - Whether to animate scaling the chart from the centre\n\t\tanimateScale : false,\n\n\t\t//String - A legend template\n\t\tlegendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<segments.length; i++){%><li><span style=\\\"background-color:<%=segments[i].fillColor%>\\\"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>\"\n\t};\n\n\n\tChart.Type.extend({\n\t\t//Passing in a name registers this chart in the Chart namespace\n\t\tname: \"PolarArea\",\n\t\t//Providing a defaults will also register the deafults in the chart namespace\n\t\tdefaults : defaultConfig,\n\t\t//Initialize is fired when the chart is initialized - Data is passed in as a parameter\n\t\t//Config is automatically merged by the core of Chart.js, and is available at this.options\n\t\tinitialize:  function(data){\n\t\t\tthis.segments = [];\n\t\t\t//Declare segment class as a chart instance specific class, so it can share props for this instance\n\t\t\tthis.SegmentArc = Chart.Arc.extend({\n\t\t\t\tshowStroke : this.options.segmentShowStroke,\n\t\t\t\tstrokeWidth : this.options.segmentStrokeWidth,\n\t\t\t\tstrokeColor : this.options.segmentStrokeColor,\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\tinnerRadius : 0,\n\t\t\t\tx : this.chart.width/2,\n\t\t\t\ty : this.chart.height/2\n\t\t\t});\n\t\t\tthis.scale = new Chart.RadialScale({\n\t\t\t\tdisplay: this.options.showScale,\n\t\t\t\tfontStyle: this.options.scaleFontStyle,\n\t\t\t\tfontSize: this.options.scaleFontSize,\n\t\t\t\tfontFamily: this.options.scaleFontFamily,\n\t\t\t\tfontColor: this.options.scaleFontColor,\n\t\t\t\tshowLabels: this.options.scaleShowLabels,\n\t\t\t\tshowLabelBackdrop: this.options.scaleShowLabelBackdrop,\n\t\t\t\tbackdropColor: this.options.scaleBackdropColor,\n\t\t\t\tbackdropPaddingY : this.options.scaleBackdropPaddingY,\n\t\t\t\tbackdropPaddingX: this.options.scaleBackdropPaddingX,\n\t\t\t\tlineWidth: (this.options.scaleShowLine) ? this.options.scaleLineWidth : 0,\n\t\t\t\tlineColor: this.options.scaleLineColor,\n\t\t\t\tlineArc: true,\n\t\t\t\twidth: this.chart.width,\n\t\t\t\theight: this.chart.height,\n\t\t\t\txCenter: this.chart.width/2,\n\t\t\t\tyCenter: this.chart.height/2,\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\ttemplateString: this.options.scaleLabel,\n\t\t\t\tvaluesCount: data.length\n\t\t\t});\n\n\t\t\tthis.updateScaleRange(data);\n\n\t\t\tthis.scale.update();\n\n\t\t\thelpers.each(data,function(segment,index){\n\t\t\t\tthis.addData(segment,index,true);\n\t\t\t},this);\n\n\t\t\t//Set up tooltip events on the chart\n\t\t\tif (this.options.showTooltips){\n\t\t\t\thelpers.bindEvents(this, this.options.tooltipEvents, function(evt){\n\t\t\t\t\tvar activeSegments = (evt.type !== 'mouseout') ? this.getSegmentsAtEvent(evt) : [];\n\t\t\t\t\thelpers.each(this.segments,function(segment){\n\t\t\t\t\t\tsegment.restore([\"fillColor\"]);\n\t\t\t\t\t});\n\t\t\t\t\thelpers.each(activeSegments,function(activeSegment){\n\t\t\t\t\t\tactiveSegment.fillColor = activeSegment.highlightColor;\n\t\t\t\t\t});\n\t\t\t\t\tthis.showTooltip(activeSegments);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.render();\n\t\t},\n\t\tgetSegmentsAtEvent : function(e){\n\t\t\tvar segmentsArray = [];\n\n\t\t\tvar location = helpers.getRelativePosition(e);\n\n\t\t\thelpers.each(this.segments,function(segment){\n\t\t\t\tif (segment.inRange(location.x,location.y)) segmentsArray.push(segment);\n\t\t\t},this);\n\t\t\treturn segmentsArray;\n\t\t},\n\t\taddData : function(segment, atIndex, silent){\n\t\t\tvar index = atIndex || this.segments.length;\n\n\t\t\tthis.segments.splice(index, 0, new this.SegmentArc({\n\t\t\t\tfillColor: segment.color,\n\t\t\t\thighlightColor: segment.highlight || segment.color,\n\t\t\t\tlabel: segment.label,\n\t\t\t\tvalue: segment.value,\n\t\t\t\touterRadius: (this.options.animateScale) ? 0 : this.scale.calculateCenterOffset(segment.value),\n\t\t\t\tcircumference: (this.options.animateRotate) ? 0 : this.scale.getCircumference(),\n\t\t\t\tstartAngle: Math.PI * 1.5\n\t\t\t}));\n\t\t\tif (!silent){\n\t\t\t\tthis.reflow();\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t},\n\t\tremoveData: function(atIndex){\n\t\t\tvar indexToDelete = (helpers.isNumber(atIndex)) ? atIndex : this.segments.length-1;\n\t\t\tthis.segments.splice(indexToDelete, 1);\n\t\t\tthis.reflow();\n\t\t\tthis.update();\n\t\t},\n\t\tcalculateTotal: function(data){\n\t\t\tthis.total = 0;\n\t\t\thelpers.each(data,function(segment){\n\t\t\t\tthis.total += segment.value;\n\t\t\t},this);\n\t\t\tthis.scale.valuesCount = this.segments.length;\n\t\t},\n\t\tupdateScaleRange: function(datapoints){\n\t\t\tvar valuesArray = [];\n\t\t\thelpers.each(datapoints,function(segment){\n\t\t\t\tvaluesArray.push(segment.value);\n\t\t\t});\n\n\t\t\tvar scaleSizes = (this.options.scaleOverride) ?\n\t\t\t\t{\n\t\t\t\t\tsteps: this.options.scaleSteps,\n\t\t\t\t\tstepValue: this.options.scaleStepWidth,\n\t\t\t\t\tmin: this.options.scaleStartValue,\n\t\t\t\t\tmax: this.options.scaleStartValue + (this.options.scaleSteps * this.options.scaleStepWidth)\n\t\t\t\t} :\n\t\t\t\thelpers.calculateScaleRange(\n\t\t\t\t\tvaluesArray,\n\t\t\t\t\thelpers.min([this.chart.width, this.chart.height])/2,\n\t\t\t\t\tthis.options.scaleFontSize,\n\t\t\t\t\tthis.options.scaleBeginAtZero,\n\t\t\t\t\tthis.options.scaleIntegersOnly\n\t\t\t\t);\n\n\t\t\thelpers.extend(\n\t\t\t\tthis.scale,\n\t\t\t\tscaleSizes,\n\t\t\t\t{\n\t\t\t\t\tsize: helpers.min([this.chart.width, this.chart.height]),\n\t\t\t\t\txCenter: this.chart.width/2,\n\t\t\t\t\tyCenter: this.chart.height/2\n\t\t\t\t}\n\t\t\t);\n\n\t\t},\n\t\tupdate : function(){\n\t\t\tthis.calculateTotal(this.segments);\n\n\t\t\thelpers.each(this.segments,function(segment){\n\t\t\t\tsegment.save();\n\t\t\t});\n\t\t\t\n\t\t\tthis.reflow();\n\t\t\tthis.render();\n\t\t},\n\t\treflow : function(){\n\t\t\thelpers.extend(this.SegmentArc.prototype,{\n\t\t\t\tx : this.chart.width/2,\n\t\t\t\ty : this.chart.height/2\n\t\t\t});\n\t\t\tthis.updateScaleRange(this.segments);\n\t\t\tthis.scale.update();\n\n\t\t\thelpers.extend(this.scale,{\n\t\t\t\txCenter: this.chart.width/2,\n\t\t\t\tyCenter: this.chart.height/2\n\t\t\t});\n\n\t\t\thelpers.each(this.segments, function(segment){\n\t\t\t\tsegment.update({\n\t\t\t\t\touterRadius : this.scale.calculateCenterOffset(segment.value)\n\t\t\t\t});\n\t\t\t}, this);\n\n\t\t},\n\t\tdraw : function(ease){\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\t//Clear & draw the canvas\n\t\t\tthis.clear();\n\t\t\thelpers.each(this.segments,function(segment, index){\n\t\t\t\tsegment.transition({\n\t\t\t\t\tcircumference : this.scale.getCircumference(),\n\t\t\t\t\touterRadius : this.scale.calculateCenterOffset(segment.value)\n\t\t\t\t},easingDecimal);\n\n\t\t\t\tsegment.endAngle = segment.startAngle + segment.circumference;\n\n\t\t\t\t// If we've removed the first segment we need to set the first one to\n\t\t\t\t// start at the top.\n\t\t\t\tif (index === 0){\n\t\t\t\t\tsegment.startAngle = Math.PI * 1.5;\n\t\t\t\t}\n\n\t\t\t\t//Check to see if it's the last segment, if not get the next and update the start angle\n\t\t\t\tif (index < this.segments.length - 1){\n\t\t\t\t\tthis.segments[index+1].startAngle = segment.endAngle;\n\t\t\t\t}\n\t\t\t\tsegment.draw();\n\t\t\t}, this);\n\t\t\tthis.scale.draw();\n\t\t}\n\t});\n\n}).call(this);\n(function(){\n\t\"use strict\";\n\n\tvar root = this,\n\t\tChart = root.Chart,\n\t\thelpers = Chart.helpers;\n\n\n\n\tChart.Type.extend({\n\t\tname: \"Radar\",\n\t\tdefaults:{\n\t\t\t//Boolean - Whether to show lines for each scale point\n\t\t\tscaleShowLine : true,\n\n\t\t\t//Boolean - Whether we show the angle lines out of the radar\n\t\t\tangleShowLineOut : true,\n\n\t\t\t//Boolean - Whether to show labels on the scale\n\t\t\tscaleShowLabels : false,\n\n\t\t\t// Boolean - Whether the scale should begin at zero\n\t\t\tscaleBeginAtZero : true,\n\n\t\t\t//String - Colour of the angle line\n\t\t\tangleLineColor : \"rgba(0,0,0,.1)\",\n\n\t\t\t//Number - Pixel width of the angle line\n\t\t\tangleLineWidth : 1,\n\n\t\t\t//String - Point label font declaration\n\t\t\tpointLabelFontFamily : \"'Arial'\",\n\n\t\t\t//String - Point label font weight\n\t\t\tpointLabelFontStyle : \"normal\",\n\n\t\t\t//Number - Point label font size in pixels\n\t\t\tpointLabelFontSize : 10,\n\n\t\t\t//String - Point label font colour\n\t\t\tpointLabelFontColor : \"#666\",\n\n\t\t\t//Boolean - Whether to show a dot for each point\n\t\t\tpointDot : true,\n\n\t\t\t//Number - Radius of each point dot in pixels\n\t\t\tpointDotRadius : 3,\n\n\t\t\t//Number - Pixel width of point dot stroke\n\t\t\tpointDotStrokeWidth : 1,\n\n\t\t\t//Number - amount extra to add to the radius to cater for hit detection outside the drawn point\n\t\t\tpointHitDetectionRadius : 20,\n\n\t\t\t//Boolean - Whether to show a stroke for datasets\n\t\t\tdatasetStroke : true,\n\n\t\t\t//Number - Pixel width of dataset stroke\n\t\t\tdatasetStrokeWidth : 2,\n\n\t\t\t//Boolean - Whether to fill the dataset with a colour\n\t\t\tdatasetFill : true,\n\n\t\t\t//String - A legend template\n\t\t\tlegendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\\\"background-color:<%=datasets[i].strokeColor%>\\\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>\"\n\n\t\t},\n\n\t\tinitialize: function(data){\n\t\t\tthis.PointClass = Chart.Point.extend({\n\t\t\t\tstrokeWidth : this.options.pointDotStrokeWidth,\n\t\t\t\tradius : this.options.pointDotRadius,\n\t\t\t\tdisplay: this.options.pointDot,\n\t\t\t\thitDetectionRadius : this.options.pointHitDetectionRadius,\n\t\t\t\tctx : this.chart.ctx\n\t\t\t});\n\n\t\t\tthis.datasets = [];\n\n\t\t\tthis.buildScale(data);\n\n\t\t\t//Set up tooltip events on the chart\n\t\t\tif (this.options.showTooltips){\n\t\t\t\thelpers.bindEvents(this, this.options.tooltipEvents, function(evt){\n\t\t\t\t\tvar activePointsCollection = (evt.type !== 'mouseout') ? this.getPointsAtEvent(evt) : [];\n\n\t\t\t\t\tthis.eachPoints(function(point){\n\t\t\t\t\t\tpoint.restore(['fillColor', 'strokeColor']);\n\t\t\t\t\t});\n\t\t\t\t\thelpers.each(activePointsCollection, function(activePoint){\n\t\t\t\t\t\tactivePoint.fillColor = activePoint.highlightFill;\n\t\t\t\t\t\tactivePoint.strokeColor = activePoint.highlightStroke;\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.showTooltip(activePointsCollection);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t//Iterate through each of the datasets, and build this into a property of the chart\n\t\t\thelpers.each(data.datasets,function(dataset){\n\n\t\t\t\tvar datasetObject = {\n\t\t\t\t\tlabel: dataset.label || null,\n\t\t\t\t\tfillColor : dataset.fillColor,\n\t\t\t\t\tstrokeColor : dataset.strokeColor,\n\t\t\t\t\tpointColor : dataset.pointColor,\n\t\t\t\t\tpointStrokeColor : dataset.pointStrokeColor,\n\t\t\t\t\tpoints : []\n\t\t\t\t};\n\n\t\t\t\tthis.datasets.push(datasetObject);\n\n\t\t\t\thelpers.each(dataset.data,function(dataPoint,index){\n\t\t\t\t\t//Add a new point for each piece of data, passing any required data to draw.\n\t\t\t\t\tvar pointPosition;\n\t\t\t\t\tif (!this.scale.animation){\n\t\t\t\t\t\tpointPosition = this.scale.getPointPosition(index, this.scale.calculateCenterOffset(dataPoint));\n\t\t\t\t\t}\n\t\t\t\t\tdatasetObject.points.push(new this.PointClass({\n\t\t\t\t\t\tvalue : dataPoint,\n\t\t\t\t\t\tlabel : data.labels[index],\n\t\t\t\t\t\tdatasetLabel: dataset.label,\n\t\t\t\t\t\tx: (this.options.animation) ? this.scale.xCenter : pointPosition.x,\n\t\t\t\t\t\ty: (this.options.animation) ? this.scale.yCenter : pointPosition.y,\n\t\t\t\t\t\tstrokeColor : dataset.pointStrokeColor,\n\t\t\t\t\t\tfillColor : dataset.pointColor,\n\t\t\t\t\t\thighlightFill : dataset.pointHighlightFill || dataset.pointColor,\n\t\t\t\t\t\thighlightStroke : dataset.pointHighlightStroke || dataset.pointStrokeColor\n\t\t\t\t\t}));\n\t\t\t\t},this);\n\n\t\t\t},this);\n\n\t\t\tthis.render();\n\t\t},\n\t\teachPoints : function(callback){\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\thelpers.each(dataset.points,callback,this);\n\t\t\t},this);\n\t\t},\n\n\t\tgetPointsAtEvent : function(evt){\n\t\t\tvar mousePosition = helpers.getRelativePosition(evt),\n\t\t\t\tfromCenter = helpers.getAngleFromPoint({\n\t\t\t\t\tx: this.scale.xCenter,\n\t\t\t\t\ty: this.scale.yCenter\n\t\t\t\t}, mousePosition);\n\n\t\t\tvar anglePerIndex = (Math.PI * 2) /this.scale.valuesCount,\n\t\t\t\tpointIndex = Math.round((fromCenter.angle - Math.PI * 1.5) / anglePerIndex),\n\t\t\t\tactivePointsCollection = [];\n\n\t\t\t// If we're at the top, make the pointIndex 0 to get the first of the array.\n\t\t\tif (pointIndex >= this.scale.valuesCount || pointIndex < 0){\n\t\t\t\tpointIndex = 0;\n\t\t\t}\n\n\t\t\tif (fromCenter.distance <= this.scale.drawingArea){\n\t\t\t\thelpers.each(this.datasets, function(dataset){\n\t\t\t\t\tactivePointsCollection.push(dataset.points[pointIndex]);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn activePointsCollection;\n\t\t},\n\n\t\tbuildScale : function(data){\n\t\t\tthis.scale = new Chart.RadialScale({\n\t\t\t\tdisplay: this.options.showScale,\n\t\t\t\tfontStyle: this.options.scaleFontStyle,\n\t\t\t\tfontSize: this.options.scaleFontSize,\n\t\t\t\tfontFamily: this.options.scaleFontFamily,\n\t\t\t\tfontColor: this.options.scaleFontColor,\n\t\t\t\tshowLabels: this.options.scaleShowLabels,\n\t\t\t\tshowLabelBackdrop: this.options.scaleShowLabelBackdrop,\n\t\t\t\tbackdropColor: this.options.scaleBackdropColor,\n\t\t\t\tbackdropPaddingY : this.options.scaleBackdropPaddingY,\n\t\t\t\tbackdropPaddingX: this.options.scaleBackdropPaddingX,\n\t\t\t\tlineWidth: (this.options.scaleShowLine) ? this.options.scaleLineWidth : 0,\n\t\t\t\tlineColor: this.options.scaleLineColor,\n\t\t\t\tangleLineColor : this.options.angleLineColor,\n\t\t\t\tangleLineWidth : (this.options.angleShowLineOut) ? this.options.angleLineWidth : 0,\n\t\t\t\t// Point labels at the edge of each line\n\t\t\t\tpointLabelFontColor : this.options.pointLabelFontColor,\n\t\t\t\tpointLabelFontSize : this.options.pointLabelFontSize,\n\t\t\t\tpointLabelFontFamily : this.options.pointLabelFontFamily,\n\t\t\t\tpointLabelFontStyle : this.options.pointLabelFontStyle,\n\t\t\t\theight : this.chart.height,\n\t\t\t\twidth: this.chart.width,\n\t\t\t\txCenter: this.chart.width/2,\n\t\t\t\tyCenter: this.chart.height/2,\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\ttemplateString: this.options.scaleLabel,\n\t\t\t\tlabels: data.labels,\n\t\t\t\tvaluesCount: data.datasets[0].data.length\n\t\t\t});\n\n\t\t\tthis.scale.setScaleSize();\n\t\t\tthis.updateScaleRange(data.datasets);\n\t\t\tthis.scale.buildYLabels();\n\t\t},\n\t\tupdateScaleRange: function(datasets){\n\t\t\tvar valuesArray = (function(){\n\t\t\t\tvar totalDataArray = [];\n\t\t\t\thelpers.each(datasets,function(dataset){\n\t\t\t\t\tif (dataset.data){\n\t\t\t\t\t\ttotalDataArray = totalDataArray.concat(dataset.data);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\thelpers.each(dataset.points, function(point){\n\t\t\t\t\t\t\ttotalDataArray.push(point.value);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn totalDataArray;\n\t\t\t})();\n\n\n\t\t\tvar scaleSizes = (this.options.scaleOverride) ?\n\t\t\t\t{\n\t\t\t\t\tsteps: this.options.scaleSteps,\n\t\t\t\t\tstepValue: this.options.scaleStepWidth,\n\t\t\t\t\tmin: this.options.scaleStartValue,\n\t\t\t\t\tmax: this.options.scaleStartValue + (this.options.scaleSteps * this.options.scaleStepWidth)\n\t\t\t\t} :\n\t\t\t\thelpers.calculateScaleRange(\n\t\t\t\t\tvaluesArray,\n\t\t\t\t\thelpers.min([this.chart.width, this.chart.height])/2,\n\t\t\t\t\tthis.options.scaleFontSize,\n\t\t\t\t\tthis.options.scaleBeginAtZero,\n\t\t\t\t\tthis.options.scaleIntegersOnly\n\t\t\t\t);\n\n\t\t\thelpers.extend(\n\t\t\t\tthis.scale,\n\t\t\t\tscaleSizes\n\t\t\t);\n\n\t\t},\n\t\taddData : function(valuesArray,label){\n\t\t\t//Map the values array for each of the datasets\n\t\t\tthis.scale.valuesCount++;\n\t\t\thelpers.each(valuesArray,function(value,datasetIndex){\n\t\t\t\tvar pointPosition = this.scale.getPointPosition(this.scale.valuesCount, this.scale.calculateCenterOffset(value));\n\t\t\t\tthis.datasets[datasetIndex].points.push(new this.PointClass({\n\t\t\t\t\tvalue : value,\n\t\t\t\t\tlabel : label,\n\t\t\t\t\tx: pointPosition.x,\n\t\t\t\t\ty: pointPosition.y,\n\t\t\t\t\tstrokeColor : this.datasets[datasetIndex].pointStrokeColor,\n\t\t\t\t\tfillColor : this.datasets[datasetIndex].pointColor\n\t\t\t\t}));\n\t\t\t},this);\n\n\t\t\tthis.scale.labels.push(label);\n\n\t\t\tthis.reflow();\n\n\t\t\tthis.update();\n\t\t},\n\t\tremoveData : function(){\n\t\t\tthis.scale.valuesCount--;\n\t\t\tthis.scale.labels.shift();\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\tdataset.points.shift();\n\t\t\t},this);\n\t\t\tthis.reflow();\n\t\t\tthis.update();\n\t\t},\n\t\tupdate : function(){\n\t\t\tthis.eachPoints(function(point){\n\t\t\t\tpoint.save();\n\t\t\t});\n\t\t\tthis.reflow();\n\t\t\tthis.render();\n\t\t},\n\t\treflow: function(){\n\t\t\thelpers.extend(this.scale, {\n\t\t\t\twidth : this.chart.width,\n\t\t\t\theight: this.chart.height,\n\t\t\t\tsize : helpers.min([this.chart.width, this.chart.height]),\n\t\t\t\txCenter: this.chart.width/2,\n\t\t\t\tyCenter: this.chart.height/2\n\t\t\t});\n\t\t\tthis.updateScaleRange(this.datasets);\n\t\t\tthis.scale.setScaleSize();\n\t\t\tthis.scale.buildYLabels();\n\t\t},\n\t\tdraw : function(ease){\n\t\t\tvar easeDecimal = ease || 1,\n\t\t\t\tctx = this.chart.ctx;\n\t\t\tthis.clear();\n\t\t\tthis.scale.draw();\n\n\t\t\thelpers.each(this.datasets,function(dataset){\n\n\t\t\t\t//Transition each point first so that the line and point drawing isn't out of sync\n\t\t\t\thelpers.each(dataset.points,function(point,index){\n\t\t\t\t\tif (point.hasValue()){\n\t\t\t\t\t\tpoint.transition(this.scale.getPointPosition(index, this.scale.calculateCenterOffset(point.value)), easeDecimal);\n\t\t\t\t\t}\n\t\t\t\t},this);\n\n\n\n\t\t\t\t//Draw the line between all the points\n\t\t\t\tctx.lineWidth = this.options.datasetStrokeWidth;\n\t\t\t\tctx.strokeStyle = dataset.strokeColor;\n\t\t\t\tctx.beginPath();\n\t\t\t\thelpers.each(dataset.points,function(point,index){\n\t\t\t\t\tif (index === 0){\n\t\t\t\t\t\tctx.moveTo(point.x,point.y);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tctx.lineTo(point.x,point.y);\n\t\t\t\t\t}\n\t\t\t\t},this);\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.stroke();\n\n\t\t\t\tctx.fillStyle = dataset.fillColor;\n\t\t\t\tctx.fill();\n\n\t\t\t\t//Now draw the points over the line\n\t\t\t\t//A little inefficient double looping, but better than the line\n\t\t\t\t//lagging behind the point positions\n\t\t\t\thelpers.each(dataset.points,function(point){\n\t\t\t\t\tif (point.hasValue()){\n\t\t\t\t\t\tpoint.draw();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t},this);\n\n\t\t}\n\n\t});\n\n\n\n\n\n}).call(this);\n/**\n * Owl carousel\n * @version 2.0.0\n * @author Bartosz Wojciechowski\n * @license The MIT License (MIT)\n * @todo Lazy Load Icon\n * @todo prevent animationend bubling\n * @todo itemsScaleUp\n * @todo Test Zepto\n * @todo stagePadding calculate wrong active classes\n */\n;(function($, window, document, undefined) {\n\n\tvar item, dom, width, num, pos, drag, speed, state, e;\n\n\t/**\n\t * Template for the data of each item respectively its DOM element.\n\t * @private\n\t */\n\titem = {\n\t\tindex: false,\n\t\tindexAbs: false,\n\t\tposLeft: false,\n\t\tclone: false,\n\t\tactive: false,\n\t\tloaded: false,\n\t\tlazyLoad: false,\n\t\tcurrent: false,\n\t\twidth: false,\n\t\tcenter: false,\n\t\tpage: false,\n\t\thasVideo: false,\n\t\tplayVideo: false\n\t};\n\n\t/**\n\t * Template for the references to DOM elements, those with `$` sign are `jQuery` objects.\n\t * @private\n\t */\n\tdom = {\n\t\tel: null, // main element\n\t\t$el: null, // jQuery main element\n\t\tstage: null, // stage\n\t\t$stage: null, // jQuery stage\n\t\toStage: null, // outer stage\n\t\t$oStage: null, // $ outer stage\n\t\t$items: null, // all items, clones and originals included\n\t\t$oItems: null, // original items\n\t\t$cItems: null, // cloned items only\n\t\t$content: null\n\t};\n\n\t/**\n\t * Template for the widths of some elements.\n\t * @private\n\t */\n\twidth = {\n\t\tel: 0,\n\t\tstage: 0,\n\t\titem: 0,\n\t\tprevWindow: 0,\n\t\tcloneLast: 0\n\t};\n\n\t/**\n\t * Template for counting to some properties.\n\t * @private\n\t */\n\tnum = {\n\t\titems: 0,\n\t\toItems: 0,\n\t\tcItems: 0,\n\t\tactive: 0,\n\t\tmerged: []\n\t};\n\n\t/**\n\t * Template for status information about drag and touch events.\n\t * @private\n\t */\n\tdrag = {\n\t\tstart: 0,\n\t\tstartX: 0,\n\t\tstartY: 0,\n\t\tcurrent: 0,\n\t\tcurrentX: 0,\n\t\tcurrentY: 0,\n\t\toffsetX: 0,\n\t\toffsetY: 0,\n\t\tdistance: null,\n\t\tstartTime: 0,\n\t\tendTime: 0,\n\t\tupdatedX: 0,\n\t\ttargetEl: null\n\t};\n\n\t/**\n\t * Template for some status informations.\n\t * @private\n\t */\n\tstate = {\n\t\tisTouch: false,\n\t\tisScrolling: false,\n\t\tisSwiping: false,\n\t\tdirection: false,\n\t\tinMotion: false\n\t};\n\n\t/**\n\t * Event functions references.\n\t * @private\n\t */\n\te = {\n\t\t_onDragStart: null,\n\t\t_onDragMove: null,\n\t\t_onDragEnd: null,\n\t\t_transitionEnd: null,\n\t\t_resizer: null,\n\t\t_responsiveCall: null,\n\t\t_goToLoop: null,\n\t\t_checkVisibile: null\n\t};\n\n\t/**\n\t * Creates a carousel.\n\t * @class The Owl Carousel.\n\t * @public\n\t * @param {HTMLElement|jQuery} element - The element to create the carousel for.\n\t * @param {Object} [options] - The options\n\t */\n\tfunction Owl(element, options) {\n\n\t\t// add basic Owl information to dom element\n\t\telement.owlCarousel = {\n\t\t\t'name': 'Owl Carousel',\n\t\t\t'author': 'Bartosz Wojciechowski',\n\t\t\t'version': '2.0.0-beta.2.1'\n\t\t};\n\n\t\t/**\n\t\t * Current settings for the carousel.\n\t\t * @protected\n\t\t */\n\t\tthis.settings = null;\n\n\t\t/**\n\t\t *\n\t\t * @protected\n\t\t * @todo Must be dosumented.\n\t\t */\n\t\tthis.options = $.extend({}, Owl.Defaults, options);\n\n\t\t/**\n\t\t * Template for the data of each item.\n\t\t * @protected\n\t\t */\n\t\tthis.itemData = $.extend({}, item);\n\n\t\t/**\n\t\t * Contains references to DOM elements, those with `$` sign are `jQuery` objects.\n\t\t * @protected\n\t\t */\n\t\tthis.dom = $.extend({}, dom);\n\n\t\t/**\n\t\t * Caches the widths of some elements.\n\t\t * @protected\n\t\t */\n\t\tthis.width = $.extend({}, width);\n\n\t\t/**\n\t\t * Caches some count informations.\n\t\t * @protected\n\t\t */\n\t\tthis.num = $.extend({}, num);\n\n\t\t/**\n\t\t * Caches informations about drag and touch events.\n\t\t */\n\t\tthis.drag = $.extend({}, drag);\n\n\t\t/**\n\t\t * Caches some status informations.\n\t\t * @protected\n\t\t */\n\t\tthis.state = $.extend({}, state);\n\n\t\t/**\n\t\t * @protected\n\t\t * @todo Must be documented\n\t\t */\n\t\tthis.e = $.extend({}, e);\n\n\t\t/**\n\t\t * References to the running plugins of this carousel.\n\t\t * @protected\n\t\t */\n\t\tthis.plugins = {};\n\n\t\t/**\n\t\t * Currently suppressed events to prevent them from beeing retriggered.\n\t\t * @protected\n\t\t */\n\t\tthis._supress = {};\n\n\t\t/**\n\t\t * The absolute current position.\n\t\t * @protected\n\t\t */\n\t\tthis._current = null;\n\n\t\t/**\n\t\t * The animation speed in milliseconds.\n\t\t * @protected\n\t\t */\n\t\tthis._speed = null;\n\n\t\t/**\n\t\t * The coordinates of all items in pixel.\n\t\t */\n\t\tthis._coordinates = null;\n\n\t\tthis.dom.el = element;\n\t\tthis.dom.$el = $(element);\n\n\t\tfor (var plugin in Owl.Plugins) {\n\t\t\tthis.plugins[plugin[0].toLowerCase() + plugin.slice(1)]\n\t\t\t\t= new Owl.Plugins[plugin](this);\n\t\t}\n\n\t\tthis.init();\n\t}\n\n\t/**\n\t * Default options for the carousel.\n\t * @public\n\t */\n\tOwl.Defaults = {\n\t\titems: 3,\n\t\tloop: false,\n\t\tcenter: false,\n\n\t\tmouseDrag: true,\n\t\ttouchDrag: true,\n\t\tpullDrag: true,\n\t\tfreeDrag: false,\n\n\t\tmargin: 0,\n\t\tstagePadding: 0,\n\n\t\tmerge: false,\n\t\tmergeFit: true,\n\t\tautoWidth: false,\n\n\t\tstartPosition: 0,\n\n\t\tsmartSpeed: 250,\n\t\tfluidSpeed: false,\n\t\tdragEndSpeed: false,\n\n\t\tresponsive: {},\n\t\tresponsiveRefreshRate: 200,\n\t\tresponsiveBaseElement: window,\n\t\tresponsiveClass: false,\n\n\t\tfallbackEasing: 'swing',\n\n\t\tinfo: false,\n\n\t\tnestedItemSelector: false,\n\t\titemElement: 'div',\n\t\tstageElement: 'div',\n\n\t\t// Classes and Names\n\t\tthemeClass: 'owl-theme',\n\t\tbaseClass: 'owl-carousel',\n\t\titemClass: 'owl-item',\n\t\tcenterClass: 'center',\n\t\tactiveClass: 'active'\n\t};\n\n\t/**\n\t * Contains all registered plugins.\n\t * @public\n\t */\n\tOwl.Plugins = {};\n\n\t/**\n\t * Initializes the carousel.\n\t * @protected\n\t */\n\tOwl.prototype.init = function() {\n\n\t\t// Update options.items on given size\n\t\tthis.setResponsiveOptions();\n\n\t\tthis.trigger('initialize');\n\n\t\t// Add base class\n\t\tif (!this.dom.$el.hasClass(this.settings.baseClass)) {\n\t\t\tthis.dom.$el.addClass(this.settings.baseClass);\n\t\t}\n\n\t\t// Add theme class\n\t\tif (!this.dom.$el.hasClass(this.settings.themeClass)) {\n\t\t\tthis.dom.$el.addClass(this.settings.themeClass);\n\t\t}\n\n\t\t// Add theme class\n\t\tif (this.settings.rtl) {\n\t\t\tthis.dom.$el.addClass('owl-rtl');\n\t\t}\n\n\t\t// Check support\n\t\tthis.browserSupport();\n\n\t\tif (this.settings.autoWidth && this.state.imagesLoaded !== true) {\n\t\t\tvar imgs, nestedSelector, width;\n\t\t\timgs = this.dom.$el.find('img');\n\t\t\tnestedSelector = this.settings.nestedItemSelector ? '.' + this.settings.nestedItemSelector : undefined;\n\t\t\twidth = this.dom.$el.children(nestedSelector).width();\n\n\t\t\tif (imgs.length && width <= 0) {\n\t\t\t\tthis.preloadAutoWidthImages(imgs);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t// Get and store window width\n\t\t// iOS safari likes to trigger unnecessary resize event\n\t\tthis.width.prevWindow = this.viewport();\n\n\t\t// create stage object\n\t\tthis.createStage();\n\n\t\t// Append local content\n\t\tthis.fetchContent();\n\n\t\t// attach generic events\n\t\tthis.eventsCall();\n\n\t\t// attach generic events\n\t\tthis.internalEvents();\n\n\t\tthis.dom.$el.addClass('owl-loading');\n\t\tthis.refresh(true);\n\t\tthis.dom.$el.removeClass('owl-loading').addClass('owl-loaded');\n\n\t\tthis.trigger('initialized');\n\n\t\t// attach custom control events\n\t\tthis.addTriggerableEvents();\n\t};\n\n\t/**\n\t * Sets responsive options.\n\t * @protected\n\t */\n\tOwl.prototype.setResponsiveOptions = function() {\n\t\tif (!this.options.responsive) {\n\t\t\tthis.settings = $.extend({}, this.options);\n\t\t} else {\n\t\t\tvar viewport = this.viewport(),\n\t\t\t\toverwrites = this.options.responsive,\n\t\t\t\tmatch = -1;\n\n\t\t\t$.each(overwrites, function(breakpoint) {\n\t\t\t\tif (breakpoint <= viewport && breakpoint > match) {\n\t\t\t\t\tmatch = Number(breakpoint);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.settings = $.extend({}, this.options, overwrites[match]);\n\t\t\tdelete this.settings.responsive;\n\n\t\t\t// Responsive Class\n\t\t\tif (this.settings.responsiveClass) {\n\t\t\t\tthis.dom.$el.attr('class', function(i, c) {\n\t\t\t\t\treturn c.replace(/\\b owl-responsive-\\S+/g, '');\n\t\t\t\t}).addClass('owl-responsive-' + match);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Updates option logic if necessery.\n\t * @protected\n\t */\n\tOwl.prototype.optionsLogic = function() {\n\t\t// Toggle Center class\n\t\tthis.dom.$el.toggleClass('owl-center', this.settings.center);\n\n\t\t// if items number is less than in body\n\t\tif (this.settings.loop && this.num.oItems < this.settings.items) {\n\t\t\tthis.settings.loop = false;\n\t\t}\n\n\t\tif (this.settings.autoWidth) {\n\t\t\tthis.settings.stagePadding = false;\n\t\t\tthis.settings.merge = false;\n\t\t}\n\t};\n\n\t/**\n\t * Creates stage and outer-stage elements.\n\t * @protected\n\t */\n\tOwl.prototype.createStage = function() {\n\t\tvar oStage = document.createElement('div'),\n\t\t\tstage = document.createElement(this.settings.stageElement);\n\n\t\toStage.className = 'owl-stage-outer';\n\t\tstage.className = 'owl-stage';\n\n\t\toStage.appendChild(stage);\n\t\tthis.dom.el.appendChild(oStage);\n\n\t\tthis.dom.oStage = oStage;\n\t\tthis.dom.$oStage = $(oStage);\n\t\tthis.dom.stage = stage;\n\t\tthis.dom.$stage = $(stage);\n\n\t\toStage = null;\n\t\tstage = null;\n\t};\n\n\t/**\n\t * Creates an item container.\n\t * @protected\n\t * @returns {jQuery} - The item container.\n\t */\n\tOwl.prototype.createItemContainer = function() {\n\t\tvar item = document.createElement(this.settings.itemElement);\n\t\titem.className = this.settings.itemClass;\n\t\treturn $(item);\n\t};\n\n\t/**\n\t * Fetches the content.\n\t * @protected\n\t */\n\tOwl.prototype.fetchContent = function(extContent) {\n\t\tif (extContent) {\n\t\t\tthis.dom.$content = (extContent instanceof jQuery) ? extContent : $(extContent);\n\t\t} else if (this.settings.nestedItemSelector) {\n\t\t\tthis.dom.$content = this.dom.$el.find('.' + this.settings.nestedItemSelector).not('.owl-stage-outer');\n\t\t} else {\n\t\t\tthis.dom.$content = this.dom.$el.children().not('.owl-stage-outer');\n\t\t}\n\t\t// content length\n\t\tthis.num.oItems = this.dom.$content.length;\n\n\t\t// init Structure\n\t\tif (this.num.oItems !== 0) {\n\t\t\tthis.initStructure();\n\t\t}\n\t};\n\n\t/**\n\t * Initializes the content struture.\n\t * @protected\n\t */\n\tOwl.prototype.initStructure = function() {\n\t\tthis.createNormalStructure();\n\t};\n\n\t/**\n\t * Creates small/mid weight content structure.\n\t * @protected\n\t * @todo This results in a poor performance,\n\t * but this is due to the approach of completely\n\t * rebuild the existing DOM tree from scratch,\n\t * rather to use them. The effort to implement\n\t * this with a good performance, while maintaining\n\t * the original approach is disproportionate.\n\t */\n\tOwl.prototype.createNormalStructure = function() {\n\t\tvar i, $item;\n\t\tfor (i = 0; i < this.num.oItems; i++) {\n\t\t\t$item = this.createItemContainer();\n\t\t\tthis.initializeItemContainer($item, this.dom.$content[i]);\n\t\t\tthis.dom.$stage.append($item);\n\t\t}\n\t\tthis.dom.$content = null;\n\t};\n\n\t/**\n\t * Creates custom content structure.\n\t * @protected\n\t */\n\tOwl.prototype.createCustomStructure = function(howManyItems) {\n\t\tvar i, $item;\n\t\tfor (i = 0; i < howManyItems; i++) {\n\t\t\t$item = this.createItemContainer();\n\t\t\tthis.createItemContainerData($item);\n\t\t\tthis.dom.$stage.append($item);\n\t\t}\n\t};\n\n\t/**\n\t * Initializes item container with provided content.\n\t * @protected\n\t * @param {jQuery} item - The item that has to be filled.\n\t * @param {HTMLElement|jQuery|string} content - The content that fills the item.\n\t */\n\tOwl.prototype.initializeItemContainer = function(item, content) {\n\t\tthis.trigger('change', { property: { name: 'item', value: item } });\n\n\t\tthis.createItemContainerData(item);\n\t\titem.append(content);\n\n\t\tthis.trigger('changed', { property: { name: 'item', value: item } });\n\t};\n\n\t/**\n\t * Creates item container data.\n\t * @protected\n\t * @param {jQuery} item - The item for which the data are to be set.\n\t * @param {jQuery} [source] - The item whose data are to be copied.\n\t */\n\tOwl.prototype.createItemContainerData = function(item, source) {\n\t\tvar data = $.extend({}, this.itemData);\n\n\t\tif (source) {\n\t\t\t$.extend(data, source.data('owl-item'));\n\t\t}\n\n\t\titem.data('owl-item', data);\n\t};\n\n\t/**\n\t * Clones an item container.\n\t * @protected\n\t * @param {jQuery} item - The item to clone.\n\t * @returns {jQuery} - The cloned item.\n\t */\n\tOwl.prototype.cloneItemContainer = function(item) {\n\t\tvar $clone = item.clone(true, true).addClass('cloned');\n\t\t// somehow data references the same object\n\t\tthis.createItemContainerData($clone, $clone);\n\t\t$clone.data('owl-item').clone = true;\n\t\treturn $clone;\n\t};\n\n\t/**\n\t * Updates original items index data.\n\t * @protected\n\t */\n\tOwl.prototype.updateLocalContent = function() {\n\n\t\tvar k, item;\n\n\t\tthis.dom.$oItems = this.dom.$stage.find('.' + this.settings.itemClass).filter(function() {\n\t\t\treturn $(this).data('owl-item').clone === false;\n\t\t});\n\n\t\tthis.num.oItems = this.dom.$oItems.length;\n\t\t// update index on original items\n\n\t\tfor (k = 0; k < this.num.oItems; k++) {\n\t\t\titem = this.dom.$oItems.eq(k);\n\t\t\titem.data('owl-item').index = k;\n\t\t}\n\t};\n\n\t/**\n\t * Creates clones for infinity loop.\n\t * @protected\n\t */\n\tOwl.prototype.loopClone = function() {\n\t\tif (!this.settings.loop || this.num.oItems < this.settings.items) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar append, prepend, i,\n\t\t\titems = this.settings.items,\n\t\t\tlast = this.num.oItems - 1;\n\n\t\t// if neighbour margin then add one more duplicat\n\t\tif (this.settings.stagePadding && this.settings.items === 1) {\n\t\t\titems += 1;\n\t\t}\n\t\tthis.num.cItems = items * 2;\n\n\t\tfor (i = 0; i < items; i++) {\n\t\t\tappend = this.cloneItemContainer(this.dom.$oItems.eq(i));\n\t\t\tprepend = this.cloneItemContainer(this.dom.$oItems.eq(last - i));\n\n\t\t\tthis.dom.$stage.append(append);\n\t\t\tthis.dom.$stage.prepend(prepend);\n\t\t}\n\n\t\tthis.dom.$cItems = this.dom.$stage.find('.' + this.settings.itemClass).filter(function() {\n\t\t\treturn $(this).data('owl-item').clone === true;\n\t\t});\n\t};\n\n\t/**\n\t * Update cloned elements.\n\t * @protected\n\t */\n\tOwl.prototype.reClone = function() {\n\t\t// remove cloned items\n\t\tif (this.dom.$cItems !== null) { // && (this.num.oItems !== 0 &&\n\t\t\t// this.num.oItems <=\n\t\t\t// this.settings.items)){\n\t\t\tthis.dom.$cItems.remove();\n\t\t\tthis.dom.$cItems = null;\n\t\t\tthis.num.cItems = 0;\n\t\t}\n\n\t\tif (!this.settings.loop) {\n\t\t\treturn;\n\t\t}\n\t\t// generete new elements\n\t\tthis.loopClone();\n\t};\n\n\t/**\n\t * Updates all items index data.\n\t * @protected\n\t */\n\tOwl.prototype.calculate = function() {\n\n\t\tvar i, j, elMinusMargin, dist, allItems, iWidth,  mergeNumber,  posLeft = 0, fullWidth = 0;\n\n\t\t// element width minus neighbour\n\t\tthis.width.el = this.dom.$el.width() - (this.settings.stagePadding * 2);\n\n\t\t// to check\n\t\tthis.width.view = this.dom.$el.width();\n\n\t\t// calculate width minus addition margins\n\t\telMinusMargin = this.width.el - (this.settings.margin * (this.settings.items === 1 ? 0 : this.settings.items - 1));\n\n\t\t// calculate element width and item width\n\t\tthis.width.el = this.width.el + this.settings.margin;\n\t\tthis.width.item = ((elMinusMargin / this.settings.items) + this.settings.margin).toFixed(3);\n\n\t\tthis.dom.$items = this.dom.$stage.find('.owl-item');\n\t\tthis.num.items = this.dom.$items.length;\n\n\t\t// change to autoWidths\n\t\tif (this.settings.autoWidth) {\n\t\t\tthis.dom.$items.css('width', '');\n\t\t}\n\n\t\t// Set grid array\n\t\tthis._coordinates = [];\n\t\tthis.num.merged = [];\n\n\t\t// item distances\n\t\tif (this.settings.rtl) {\n\t\t\tdist = this.settings.center ? -((this.width.el) / 2) : 0;\n\t\t} else {\n\t\t\tdist = this.settings.center ? (this.width.el) / 2 : 0;\n\t\t}\n\n\t\tthis.width.mergeStage = 0;\n\n\t\t// Calculate items positions\n\t\tfor (i = 0; i < this.num.items; i++) {\n\n\t\t\t// check merged items\n\n\t\t\tif (this.settings.merge) {\n\t\t\t\tmergeNumber = this.dom.$items.eq(i).find('[data-merge]').attr('data-merge') || 1;\n\t\t\t\tif (this.settings.mergeFit && mergeNumber > this.settings.items) {\n\t\t\t\t\tmergeNumber = this.settings.items;\n\t\t\t\t}\n\t\t\t\tthis.num.merged.push(parseInt(mergeNumber));\n\t\t\t\tthis.width.mergeStage += this.width.item * this.num.merged[i];\n\t\t\t} else {\n\t\t\t\tthis.num.merged.push(1);\n\t\t\t}\n\n\t\t\tiWidth = this.width.item * this.num.merged[i];\n\n\t\t\t// autoWidth item size\n\t\t\tif (this.settings.autoWidth) {\n\t\t\t\tiWidth = this.dom.$items.eq(i).width() + this.settings.margin;\n\t\t\t\tif (this.settings.rtl) {\n\t\t\t\t\tthis.dom.$items[i].style.marginLeft = this.settings.margin + 'px';\n\t\t\t\t} else {\n\t\t\t\t\tthis.dom.$items[i].style.marginRight = this.settings.margin + 'px';\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t// push item position into array\n\t\t\tthis._coordinates.push(dist);\n\n\t\t\t// update item data\n\t\t\tthis.dom.$items.eq(i).data('owl-item').posLeft = posLeft;\n\t\t\tthis.dom.$items.eq(i).data('owl-item').width = iWidth;\n\n\t\t\t// dist starts from middle of stage if center\n\t\t\t// posLeft always starts from 0\n\t\t\tif (this.settings.rtl) {\n\t\t\t\tdist += iWidth;\n\t\t\t\tposLeft += iWidth;\n\t\t\t} else {\n\t\t\t\tdist -= iWidth;\n\t\t\t\tposLeft -= iWidth;\n\t\t\t}\n\n\t\t\tfullWidth -= Math.abs(iWidth);\n\n\t\t\t// update position if center\n\t\t\tif (this.settings.center) {\n\t\t\t\tthis._coordinates[i] = !this.settings.rtl ? this._coordinates[i] - (iWidth / 2) : this._coordinates[i]\n\t\t\t\t\t+ (iWidth / 2);\n\t\t\t}\n\t\t}\n\n\t\tif (this.settings.autoWidth) {\n\t\t\tthis.width.stage = this.settings.center ? Math.abs(fullWidth) : Math.abs(dist);\n\t\t} else {\n\t\t\tthis.width.stage = Math.abs(fullWidth);\n\t\t}\n\n\t\t// update indexAbs on all items\n\t\tallItems = this.num.oItems + this.num.cItems;\n\n\t\tfor (j = 0; j < allItems; j++) {\n\t\t\tthis.dom.$items.eq(j).data('owl-item').indexAbs = j;\n\t\t}\n\n\t\t// Recalculate grid\n\t\tthis.setSizes();\n\t};\n\n\t/**\n\t * Set sizes on elements from `collectData`.\n\t * @protected\n\t * @todo CRAZY FIX!!! Doublecheck this!\n\t */\n\tOwl.prototype.setSizes = function() {\n\n\t\t// show neighbours\n\t\tif (this.settings.stagePadding !== false) {\n\t\t\tthis.dom.oStage.style.paddingLeft = this.settings.stagePadding + 'px';\n\t\t\tthis.dom.oStage.style.paddingRight = this.settings.stagePadding + 'px';\n\t\t}\n\n\t\t// if(this.width.stagePrev > this.width.stage){\n\t\tif (this.settings.rtl) {\n\t\t\twindow.setTimeout($.proxy(function() {\n\t\t\t\tthis.dom.stage.style.width = this.width.stage + 'px';\n\t\t\t}, this), 0);\n\t\t} else {\n\t\t\tthis.dom.stage.style.width = this.width.stage + 'px';\n\t\t}\n\n\t\tfor (var i = 0; i < this.num.items; i++) {\n\n\t\t\t// Set items width\n\t\t\tif (!this.settings.autoWidth) {\n\t\t\t\tthis.dom.$items[i].style.width = this.width.item - (this.settings.margin) + 'px';\n\t\t\t}\n\t\t\t// add margin\n\t\t\tif (this.settings.rtl) {\n\t\t\t\tthis.dom.$items[i].style.marginLeft = this.settings.margin + 'px';\n\t\t\t} else {\n\t\t\t\tthis.dom.$items[i].style.marginRight = this.settings.margin + 'px';\n\t\t\t}\n\n\t\t\tif (this.num.merged[i] !== 1 && !this.settings.autoWidth) {\n\t\t\t\tthis.dom.$items[i].style.width = (this.width.item * this.num.merged[i]) - (this.settings.margin) + 'px';\n\t\t\t}\n\t\t}\n\n\t\t// save prev stage size\n\t\tthis.width.stagePrev = this.width.stage;\n\t};\n\n\t/**\n\t * Updates all data by calling `refresh`.\n\t * @protected\n\t */\n\tOwl.prototype.responsive = function() {\n\n\t\tif (!this.num.oItems) {\n\t\t\treturn false;\n\t\t}\n\t\t// If El width hasnt change then stop responsive\n\t\tvar elChanged = this.isElWidthChanged();\n\t\tif (!elChanged) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.trigger('resize').isDefaultPrevented()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.state.responsive = true;\n\t\tthis.refresh();\n\t\tthis.state.responsive = false;\n\n\t\tthis.trigger('resized');\n\t};\n\n\t/**\n\t * Refreshes the carousel primarily for adaptive purposes.\n\t * @public\n\t */\n\tOwl.prototype.refresh = function() {\n\t\tvar current = this.dom.$oItems && this.dom.$oItems.eq(this.normalize(this.current(), true));\n\n\t\tthis.trigger('refresh');\n\n\t\t// Update Options for given width\n\t\tthis.setResponsiveOptions();\n\n\t\t// update info about local content\n\t\tthis.updateLocalContent();\n\n\t\t// udpate options\n\t\tthis.optionsLogic();\n\n\t\t// if no items then stop\n\t\tif (this.num.oItems === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Hide and Show methods helps here to set a proper widths.\n\t\t// This prevents Scrollbar to be calculated in stage width\n\t\tthis.dom.$stage.addClass('owl-refresh');\n\n\t\t// Remove clones and generate new ones\n\t\tthis.reClone();\n\n\t\t// calculate\n\t\tthis.calculate();\n\n\t\t// aaaand show.\n\t\tthis.dom.$stage.removeClass('owl-refresh');\n\n\t\tif (!current) {\n\t\t\tthis.dom.oStage.scrollLeft = 0;\n\t\t\tthis.reset(this.dom.$oItems.eq(0).data('owl-item').indexAbs);\n\t\t} else {\n\t\t\tthis.reset(current.data('owl-item').indexAbs); // fix that\n\t\t}\n\n\t\tthis.state.orientation = window.orientation;\n\n\t\tthis.watchVisibility();\n\n\t\tthis.trigger('refreshed');\n\t};\n\n\t/**\n\t * Updates information about current state of items (visibile, hidden, active, etc.).\n\t * @protected\n\t */\n\tOwl.prototype.updateActiveItems = function() {\n\t\tthis.trigger('change', { property: { name: 'items', value: this.dom.$items } });\n\n\t\tvar i, j, item, ipos, iwidth, outsideView;\n\n\t\t// clear states\n\t\tfor (i = 0; i < this.num.items; i++) {\n\t\t\tthis.dom.$items.eq(i).data('owl-item').active = false;\n\t\t\tthis.dom.$items.eq(i).data('owl-item').current = false;\n\t\t\tthis.dom.$items.eq(i).removeClass(this.settings.activeClass).removeClass(this.settings.centerClass);\n\t\t}\n\n\t\tthis.num.active = 0;\n\t\tpadding = this.settings.stagePadding * 2;\n\t\tstageX = this.coordinates(this.current()) + padding;\n\t\tview = this.settings.rtl ? this.width.view : -this.width.view;\n\n\t\tfor (j = 0; j < this.num.items; j++) {\n\n\t\t\titem = this.dom.$items.eq(j);\n\t\t\tipos = item.data('owl-item').posLeft;\n\t\t\tiwidth = item.data('owl-item').width;\n\t\t\toutsideView = this.settings.rtl ? ipos - iwidth - padding : ipos - iwidth + padding;\n\n\t\t\tif ((this.op(ipos, '<=', stageX) && (this.op(ipos, '>', stageX + view)))\n\t\t\t\t|| (this.op(outsideView, '<', stageX) && this.op(outsideView, '>', stageX + view))) {\n\n\t\t\t\tthis.num.active++;\n\n\t\t\t\titem.data('owl-item').active = true;\n\t\t\t\titem.data('owl-item').current = true;\n\t\t\t\titem.addClass(this.settings.activeClass);\n\n\t\t\t\tif (!this.settings.lazyLoad) {\n\t\t\t\t\titem.data('owl-item').loaded = true;\n\t\t\t\t}\n\t\t\t\tif (this.settings.loop) {\n\t\t\t\t\tthis.updateClonedItemsState(item.data('owl-item').index);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (this.settings.center) {\n\t\t\tthis.dom.$items.eq(this.current()).addClass(this.settings.centerClass).data('owl-item').center = true;\n\t\t}\n\t\tthis.trigger('changed', { property: { name: 'items', value: this.dom.$items } });\n\t};\n\n\t/**\n\t * Sets current state on sibilings items for center.\n\t * @protected\n\t */\n\tOwl.prototype.updateClonedItemsState = function(activeIndex) {\n\n\t\t// find cloned center\n\t\tvar center, $el, i;\n\t\tif (this.settings.center) {\n\t\t\tcenter = this.dom.$items.eq(this.current()).data('owl-item').index;\n\t\t}\n\n\t\tfor (i = 0; i < this.num.items; i++) {\n\t\t\t$el = this.dom.$items.eq(i);\n\t\t\tif ($el.data('owl-item').index === activeIndex) {\n\t\t\t\t$el.data('owl-item').current = true;\n\t\t\t\tif ($el.data('owl-item').index === center) {\n\t\t\t\t\t$el.addClass(this.settings.centerClass);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Save internal event references and add event based functions.\n\t * @protected\n\t */\n\tOwl.prototype.eventsCall = function() {\n\t\t// Save events references\n\t\tthis.e._onDragStart = $.proxy(function(e) {\n\t\t\tthis.onDragStart(e);\n\t\t}, this);\n\t\tthis.e._onDragMove = $.proxy(function(e) {\n\t\t\tthis.onDragMove(e);\n\t\t}, this);\n\t\tthis.e._onDragEnd = $.proxy(function(e) {\n\t\t\tthis.onDragEnd(e);\n\t\t}, this);\n\t\tthis.e._transitionEnd = $.proxy(function(e) {\n\t\t\tthis.transitionEnd(e);\n\t\t}, this);\n\t\tthis.e._resizer = $.proxy(function() {\n\t\t\tthis.responsiveTimer();\n\t\t}, this);\n\t\tthis.e._responsiveCall = $.proxy(function() {\n\t\t\tthis.responsive();\n\t\t}, this);\n\t\tthis.e._preventClick = $.proxy(function(e) {\n\t\t\tthis.preventClick(e);\n\t\t}, this);\n\t};\n\n\t/**\n\t * Checks window `resize` event.\n\t * @protected\n\t */\n\tOwl.prototype.responsiveTimer = function() {\n\t\tif (this.viewport() === this.width.prevWindow) {\n\t\t\treturn false;\n\t\t}\n\t\twindow.clearTimeout(this.resizeTimer);\n\n\t\tthis.resizeTimer = window.setTimeout(this.e._responsiveCall, this.settings.responsiveRefreshRate);\n\t\tthis.width.prevWindow = this.viewport();\n\t};\n\n\t/**\n\t * Checks for touch/mouse drag options and add necessery event handlers.\n\t * @protected\n\t */\n\tOwl.prototype.internalEvents = function() {\n\t\tvar isTouch = isTouchSupport(),\n\t\t\tisTouchIE = isTouchSupportIE();\n\n\t\tif (isTouch && !isTouchIE) {\n\t\t\tthis.dragType = [ 'touchstart', 'touchmove', 'touchend', 'touchcancel' ];\n\t\t} else if (isTouch && isTouchIE) {\n\t\t\tthis.dragType = [ 'MSPointerDown', 'MSPointerMove', 'MSPointerUp', 'MSPointerCancel' ];\n\t\t} else {\n\t\t\tthis.dragType = [ 'mousedown', 'mousemove', 'mouseup' ];\n\t\t}\n\n\t\tif ((isTouch || isTouchIE) && this.settings.touchDrag) {\n\t\t\t// touch cancel event\n\t\t\tthis.on(document, this.dragType[3], this.e._onDragEnd);\n\n\t\t} else {\n\t\t\t// firefox startdrag fix - addeventlistener doesnt work here :/\n\t\t\tthis.dom.$stage.on('dragstart', function() {\n\t\t\t\treturn false;\n\t\t\t});\n\n\t\t\tif (this.settings.mouseDrag) {\n\t\t\t\t// disable text select\n\t\t\t\tthis.dom.stage.onselectstart = function() {\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\t// enable text select\n\t\t\t\tthis.dom.$el.addClass('owl-text-select-on');\n\t\t\t}\n\t\t}\n\n\t\t// Catch transitionEnd event\n\t\tif (this.transitionEndVendor) {\n\t\t\tthis.on(this.dom.stage, this.transitionEndVendor, this.e._transitionEnd, false);\n\t\t}\n\n\t\t// Responsive\n\t\tif (this.settings.responsive !== false) {\n\t\t\tthis.on(window, 'resize', this.e._resizer, false);\n\t\t}\n\n\t\tthis.dragEvents();\n\t};\n\n\t/**\n\t * Triggers event handlers for drag events.\n\t * @protected\n\t */\n\tOwl.prototype.dragEvents = function() {\n\n\t\tif (this.settings.touchDrag && (this.dragType[0] === 'touchstart' || this.dragType[0] === 'MSPointerDown')) {\n\t\t\tthis.on(this.dom.stage, this.dragType[0], this.e._onDragStart, false);\n\t\t} else if (this.settings.mouseDrag && this.dragType[0] === 'mousedown') {\n\t\t\tthis.on(this.dom.stage, this.dragType[0], this.e._onDragStart, false);\n\t\t} else {\n\t\t\tthis.off(this.dom.stage, this.dragType[0], this.e._onDragStart);\n\t\t}\n\t};\n\n\t/**\n\t * Handles touchstart/mousedown event.\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragStart = function(event) {\n\t\tvar ev, isTouchEvent, pageX, pageY, animatedPos;\n\n\t\tev = event.originalEvent || event || window.event;\n\n\t\t// prevent right click\n\t\tif (ev.which === 3) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.dragType[0] === 'mousedown') {\n\t\t\tthis.dom.$stage.addClass('owl-grab');\n\t\t}\n\n\t\tthis.trigger('drag');\n\t\tthis.drag.startTime = new Date().getTime();\n\t\tthis.speed(0);\n\t\tthis.state.isTouch = true;\n\t\tthis.state.isScrolling = false;\n\t\tthis.state.isSwiping = false;\n\t\tthis.drag.distance = 0;\n\n\t\t// if is 'touchstart'\n\t\tisTouchEvent = ev.type === 'touchstart';\n\t\tpageX = isTouchEvent ? event.targetTouches[0].pageX : (ev.pageX || ev.clientX);\n\t\tpageY = isTouchEvent ? event.targetTouches[0].pageY : (ev.pageY || ev.clientY);\n\n\t\t// get stage position left\n\t\tthis.drag.offsetX = this.dom.$stage.position().left - this.settings.stagePadding;\n\t\tthis.drag.offsetY = this.dom.$stage.position().top;\n\n\t\tif (this.settings.rtl) {\n\t\t\tthis.drag.offsetX = this.dom.$stage.position().left + this.width.stage - this.width.el\n\t\t\t\t+ this.settings.margin;\n\t\t}\n\n\t\t// catch position // ie to fix\n\t\tif (this.state.inMotion && this.support3d) {\n\t\t\tanimatedPos = this.getTransformProperty();\n\t\t\tthis.drag.offsetX = animatedPos;\n\t\t\tthis.animate(animatedPos);\n\t\t\tthis.state.inMotion = true;\n\t\t} else if (this.state.inMotion && !this.support3d) {\n\t\t\tthis.state.inMotion = false;\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.drag.startX = pageX - this.drag.offsetX;\n\t\tthis.drag.startY = pageY - this.drag.offsetY;\n\n\t\tthis.drag.start = pageX - this.drag.startX;\n\t\tthis.drag.targetEl = ev.target || ev.srcElement;\n\t\tthis.drag.updatedX = this.drag.start;\n\n\t\t// to do/check\n\t\t// prevent links and images dragging;\n\t\tif (this.drag.targetEl.tagName === \"IMG\" || this.drag.targetEl.tagName === \"A\") {\n\t\t\tthis.drag.targetEl.draggable = false;\n\t\t}\n\n\t\tthis.on(document, this.dragType[1], this.e._onDragMove, false);\n\t\tthis.on(document, this.dragType[2], this.e._onDragEnd, false);\n\t};\n\n\t/**\n\t * Handles the touchmove/mousemove events.\n\t * @todo Simplify\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragMove = function(event) {\n\t\tvar ev, isTouchEvent, pageX, pageY, minValue, maxValue, pull;\n\n\t\tif (!this.state.isTouch) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.state.isScrolling) {\n\t\t\treturn;\n\t\t}\n\n\t\tev = event.originalEvent || event || window.event;\n\n\t\t// if is 'touchstart'\n\t\tisTouchEvent = ev.type == 'touchmove';\n\t\tpageX = isTouchEvent ? ev.targetTouches[0].pageX : (ev.pageX || ev.clientX);\n\t\tpageY = isTouchEvent ? ev.targetTouches[0].pageY : (ev.pageY || ev.clientY);\n\n\t\t// Drag Direction\n\t\tthis.drag.currentX = pageX - this.drag.startX;\n\t\tthis.drag.currentY = pageY - this.drag.startY;\n\t\tthis.drag.distance = this.drag.currentX - this.drag.offsetX;\n\n\t\t// Check move direction\n\t\tif (this.drag.distance < 0) {\n\t\t\tthis.state.direction = this.settings.rtl ? 'right' : 'left';\n\t\t} else if (this.drag.distance > 0) {\n\t\t\tthis.state.direction = this.settings.rtl ? 'left' : 'right';\n\t\t}\n\t\t// Loop\n\t\tif (this.settings.loop) {\n\t\t\tif (this.op(this.drag.currentX, '>', this.coordinates(this.minimum())) && this.state.direction === 'right') {\n\t\t\t\tthis.drag.currentX -= (this.settings.center && this.coordinates(0)) - this.coordinates(this.num.oItems);\n\t\t\t} else if (this.op(this.drag.currentX, '<', this.coordinates(this.maximum())) && this.state.direction === 'left') {\n\t\t\t\tthis.drag.currentX += (this.settings.center && this.coordinates(0)) - this.coordinates(this.num.oItems);\n\t\t\t}\n\t\t} else {\n\t\t\t// pull\n\t\t\tminValue = this.settings.rtl ? this.coordinates(this.maximum()) : this.coordinates(this.minimum());\n\t\t\tmaxValue = this.settings.rtl ? this.coordinates(this.minimum()) : this.coordinates(this.maximum());\n\t\t\tpull = this.settings.pullDrag ? this.drag.distance / 5 : 0;\n\t\t\tthis.drag.currentX = Math.max(Math.min(this.drag.currentX, minValue + pull), maxValue + pull);\n\t\t}\n\n\t\t// Lock browser if swiping horizontal\n\n\t\tif ((this.drag.distance > 8 || this.drag.distance < -8)) {\n\t\t\tif (ev.preventDefault !== undefined) {\n\t\t\t\tev.preventDefault();\n\t\t\t} else {\n\t\t\t\tev.returnValue = false;\n\t\t\t}\n\t\t\tthis.state.isSwiping = true;\n\t\t}\n\n\t\tthis.drag.updatedX = this.drag.currentX;\n\n\t\t// Lock Owl if scrolling\n\t\tif ((this.drag.currentY > 16 || this.drag.currentY < -16) && this.state.isSwiping === false) {\n\t\t\tthis.state.isScrolling = true;\n\t\t\tthis.drag.updatedX = this.drag.start;\n\t\t}\n\n\t\tthis.animate(this.drag.updatedX);\n\t};\n\n\t/**\n\t * Handles the touchend/mouseup events.\n\t * @protected\n\t */\n\tOwl.prototype.onDragEnd = function() {\n\t\tvar compareTimes, distanceAbs, closest;\n\n\t\tif (!this.state.isTouch) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.dragType[0] === 'mousedown') {\n\t\t\tthis.dom.$stage.removeClass('owl-grab');\n\t\t}\n\n\t\tthis.trigger('dragged');\n\n\t\t// prevent links and images dragging;\n\t\tthis.drag.targetEl.removeAttribute(\"draggable\");\n\n\t\t// remove drag event listeners\n\n\t\tthis.state.isTouch = false;\n\t\tthis.state.isScrolling = false;\n\t\tthis.state.isSwiping = false;\n\n\t\t// to check\n\t\tif (this.drag.distance === 0 && this.state.inMotion !== true) {\n\t\t\tthis.state.inMotion = false;\n\t\t\treturn false;\n\t\t}\n\n\t\t// prevent clicks while scrolling\n\n\t\tthis.drag.endTime = new Date().getTime();\n\t\tcompareTimes = this.drag.endTime - this.drag.startTime;\n\t\tdistanceAbs = Math.abs(this.drag.distance);\n\n\t\t// to test\n\t\tif (distanceAbs > 3 || compareTimes > 300) {\n\t\t\tthis.removeClick(this.drag.targetEl);\n\t\t}\n\n\t\tclosest = this.closest(this.drag.updatedX);\n\n\t\tthis.speed(this.settings.dragEndSpeed || this.settings.smartSpeed);\n\t\tthis.current(closest);\n\n\t\t// if pullDrag is off then fire transitionEnd event manually when stick\n\t\t// to border\n\t\tif (!this.settings.pullDrag && this.drag.updatedX === this.coordinates(closest)) {\n\t\t\tthis.transitionEnd();\n\t\t}\n\n\t\tthis.drag.distance = 0;\n\n\t\tthis.off(document, this.dragType[1], this.e._onDragMove);\n\t\tthis.off(document, this.dragType[2], this.e._onDragEnd);\n\t};\n\n\t/**\n\t * Attaches `preventClick` to disable link while swipping.\n\t * @protected\n\t * @param {HTMLElement} [target] - The target of the `click` event.\n\t */\n\tOwl.prototype.removeClick = function(target) {\n\t\tthis.drag.targetEl = target;\n\t\t$(target).on('click.preventClick', this.e._preventClick);\n\t\t// to make sure click is removed:\n\t\twindow.setTimeout(function() {\n\t\t\t$(target).off('click.preventClick');\n\t\t}, 300);\n\t};\n\n\t/**\n\t * Suppresses click event.\n\t * @protected\n\t * @param {Event} ev - The event arguments.\n\t */\n\tOwl.prototype.preventClick = function(ev) {\n\t\tif (ev.preventDefault) {\n\t\t\tev.preventDefault();\n\t\t} else {\n\t\t\tev.returnValue = false;\n\t\t}\n\t\tif (ev.stopPropagation) {\n\t\t\tev.stopPropagation();\n\t\t}\n\t\t$(ev.target).off('click.preventClick');\n\t};\n\n\t/**\n\t * Catches stage position while animate (only CSS3).\n\t * @protected\n\t * @returns\n\t */\n\tOwl.prototype.getTransformProperty = function() {\n\t\tvar transform, matrix3d;\n\n\t\ttransform = window.getComputedStyle(this.dom.stage, null).getPropertyValue(this.vendorName + 'transform');\n\t\t// var transform = this.dom.$stage.css(this.vendorName + 'transform')\n\t\ttransform = transform.replace(/matrix(3d)?\\(|\\)/g, '').split(',');\n\t\tmatrix3d = transform.length === 16;\n\n\t\treturn matrix3d !== true ? transform[4] : transform[12];\n\t};\n\n\t/**\n\t * Gets absolute position of the closest item for a coordinate.\n\t * @protected\n\t * @param {Number} coordinate - The coordinate in pixel.\n\t * @return {Number} - The absolute position of the closest item.\n\t */\n\tOwl.prototype.closest = function(coordinate) {\n\t\tvar position = 0, pull = 30;\n\n\t\tif (!this.settings.freeDrag) {\n\t\t\t// check closest item\n\t\t\t$.each(this.coordinates(), $.proxy(function(index, value) {\n\t\t\t\tif (coordinate > value - pull && coordinate < value + pull) {\n\t\t\t\t\tposition = index;\n\t\t\t\t} else if (this.op(coordinate, '<', value)\n\t\t\t\t\t&& this.op(coordinate, '>', this.coordinates(index + 1) || value - this.width.el)) {\n\t\t\t\t\tposition = this.state.direction === 'left' ? index + 1 : index;\n\t\t\t\t}\n\t\t\t}, this));\n\t\t}\n\n\t\tif (!this.settings.loop) {\n\t\t\t// non loop boundries\n\t\t\tif (this.op(coordinate, '>', this.coordinates(this.minimum()))) {\n\t\t\t\tposition = coordinate = this.minimum();\n\t\t\t} else if (this.op(coordinate, '<', this.coordinates(this.maximum()))) {\n\t\t\t\tposition = coordinate = this.maximum();\n\t\t\t}\n\t\t}\n\n\t\treturn position;\n\t};\n\n\t/**\n\t * Animates the stage.\n\t * @public\n\t * @param {Number} coordinate - The coordinate in pixels.\n\t */\n\tOwl.prototype.animate = function(coordinate) {\n\t\tthis.trigger('translate');\n\t\tthis.state.inMotion = this.speed() > 0;\n\n\t\tif (this.support3d) {\n\t\t\tthis.dom.$stage.css({\n\t\t\t\ttransform: 'translate3d(' + coordinate + 'px' + ',0px, 0px)',\n\t\t\t\ttransition: (this.speed() / 1000) + 's'\n\t\t\t});\n\t\t} else if (this.state.isTouch) {\n\t\t\tthis.dom.$stage.css({\n\t\t\t\tleft: coordinate + 'px'\n\t\t\t});\n\t\t} else {\n\t\t\tthis.dom.$stage.animate({\n\t\t\t\tleft: coordinate\n\t\t\t}, this.speed() / 1000, this.settings.fallbackEasing, $.proxy(function() {\n\t\t\t\tif (this.state.inMotion) {\n\t\t\t\t\tthis.transitionEnd();\n\t\t\t\t}\n\t\t\t}, this));\n\t\t}\n\t};\n\n\t/**\n\t * Sets the absolute position of the current item.\n\t * @public\n\t * @param {Number} [position] - The new absolute position or nothing to leave it unchanged.\n\t * @returns {Number} - The absolute position of the current item.\n\t */\n\tOwl.prototype.current = function(position) {\n\t\tif (position === undefined) {\n\t\t\treturn this._current;\n\t\t}\n\n\t\tif (this.num.oItems === 0) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tposition = this.normalize(position);\n\n\t\tif (this._current === position) {\n\t\t\tthis.animate(this.coordinates(this._current));\n\t\t} else {\n\t\t\tvar event = this.trigger('change', { property: { name: 'position', value: position } });\n\n\t\t\tif (event.data !== undefined) {\n\t\t\t\tposition = this.normalize(event.data);\n\t\t\t}\n\n\t\t\tthis._current = position;\n\n\t\t\tthis.animate(this.coordinates(this._current));\n\n\t\t\tthis.updateActiveItems();\n\n\t\t\tthis.trigger('changed', { property: { name: 'position', value: this._current } });\n\t\t}\n\n\t\treturn this._current;\n\t};\n\n\t/**\n\t * Resets the absolute position of the current item.\n\t * @public\n\t * @param {Number} position - The absolute position of the new item.\n\t */\n\tOwl.prototype.reset = function(position) {\n\t\tthis.suppress([ 'change', 'changed' ]);\n\t\tthis.speed(0);\n\t\tthis.current(position);\n\t\tthis.release([ 'change', 'changed' ]);\n\t};\n\n\t/**\n\t * Normalizes an absolute position for an item.\n\t * @public\n\t * @param {Number} position - The absolute position to normalize.\n\t * @param {Boolean} [relative=false] - Whether to return a relative position or not.\n\t * @return {Number} - The normalized position.\n\t */\n\tOwl.prototype.normalize = function(position, relative) {\n\t\tif (position === undefined || !this.dom.$items) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (this.settings.loop) {\n\t\t\tvar n = this.dom.$items.length;\n\t\t\tposition = ((position % n) + n) % n;\n\t\t} else {\n\t\t\tposition = Math.max(this.minimum(), Math.min(this.maximum(), position));\n\t\t}\n\n\t\treturn relative ? this.dom.$items.eq(position).data('owl-item').index : position;\n\t};\n\n\t/**\n\t * Gets the absolute maximum position for an item.\n\t * @public\n\t * @returns {Number}\n\t */\n\tOwl.prototype.maximum = function() {\n\t\tvar maximum, width,\n\t\t\tsettings = this.settings;\n\n\t\tif (!settings.loop && settings.center) {\n\t\t\tmaximum = this.num.oItems - 1;\n\t\t} else if (!settings.loop && !settings.center) {\n\t\t\tmaximum = this.num.oItems - settings.items;\n\t\t} else if (settings.loop || settings.center) {\n\t\t\tmaximum = this.num.oItems + settings.items;\n\t\t} else if (settings.autoWidth || settings.merge) {\n\t\t\trevert = settings.rtl ? 1 : -1;\n\t\t\twidth = this.dom.$stage.width() - this.$el.width();\n\t\t\t$.each(this.coordinates(), function(index, coordinate) {\n\t\t\t\tif (coordinate * revert >= width) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tmaximum = index + 1;\n\t\t\t});\n\t\t} else {\n\t\t\tthrow 'Can not detect maximum absolute position.'\n\t\t}\n\n\t\treturn maximum;\n\t};\n\n\t/**\n\t * Gets the absolute minimum position for an item.\n\t * @public\n\t * @returns {Number}\n\t */\n\tOwl.prototype.minimum = function() {\n\t\treturn this.dom.$oItems.eq(0).data('owl-item').indexAbs;\n\t};\n\n\t/**\n\t * Sets the current animation speed.\n\t * @public\n\t * @param {Number} [speed] - The animation speed in millisecondsor nothing to leave it unchanged.\n\t * @returns {Number} - The current animation speed in milliseconds.\n\t */\n\tOwl.prototype.speed = function(speed) {\n\t\tif (speed !== undefined) {\n\t\t\tthis._speed = speed;\n\t\t}\n\n\t\treturn this._speed;\n\t};\n\n\t/**\n\t * Gets the coordinate for an item.\n\t * @public\n\t * @param {Number} [position] - The absolute position of the item.\n\t * @returns {Number|Array.<Number>} - The coordinate of the item in pixel or all coordinates.\n\t */\n\tOwl.prototype.coordinates = function(position) {\n\t\treturn position !== undefined ? this._coordinates[position] : this._coordinates;\n\t};\n\n\t/**\n\t * Calculates the speed for a translation.\n\t * @protected\n\t * @param {Number} from - The absolute position of the start item.\n\t * @param {Number} to - The absolute position of the target item.\n\t * @param {Number} [factor=undefined] - The time factor in milliseconds.\n\t * @returns {Number} - The time in milliseconds for the translation.\n\t */\n\tOwl.prototype.duration = function(from, to, factor) {\n\t\treturn Math.min(Math.max(Math.abs(to - from), 1), 6) * Math.abs((factor || this.settings.smartSpeed));\n\t};\n\n\t/**\n\t * Slides to the specified item.\n\t * @public\n\t * @param {Number} position - The position of the item.\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.to = function(position, speed) {\n\t\tif (this.settings.loop) {\n\t\t\tvar distance = position - this.normalize(this.current(), true),\n\t\t\t\trevert = this.current(),\n\t\t\t\tbefore = this.current(),\n\t\t\t\tafter = this.current() + distance,\n\t\t\t\tdirection = before - after < 0 ? true : false;\n\n\t\t\tif (after < this.settings.items && direction === false) {\n\t\t\t\trevert = this.num.items - (this.settings.items - before) - this.settings.items;\n\t\t\t\tthis.reset(revert);\n\t\t\t} else if (after >= this.num.items - this.settings.items && direction === true) {\n\t\t\t\trevert = before - this.num.oItems;\n\t\t\t\tthis.reset(revert);\n\t\t\t}\n\t\t\twindow.clearTimeout(this.e._goToLoop);\n\t\t\tthis.e._goToLoop = window.setTimeout($.proxy(function() {\n\t\t\t\tthis.speed(this.duration(this.current(), revert + distance, speed));\n\t\t\t\tthis.current(revert + distance);\n\t\t\t}, this), 30);\n\t\t} else {\n\t\t\tthis.speed(this.duration(this.current(), position, speed));\n\t\t\tthis.current(position);\n\t\t}\n\t};\n\n\t/**\n\t * Slides to the next item.\n\t * @public\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.next = function(speed) {\n\t\tspeed = speed || false;\n\t\tthis.to(this.normalize(this.current(), true) + 1, speed);\n\t};\n\n\t/**\n\t * Slides to the previous item.\n\t * @public\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.prev = function(speed) {\n\t\tspeed = speed || false;\n\t\tthis.to(this.normalize(this.current(), true) - 1, speed);\n\t};\n\n\t/**\n\t * Handles the end of an animation.\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.transitionEnd = function(event) {\n\n\t\t// if css2 animation then event object is undefined\n\t\tif (event !== undefined) {\n\t\t\tevent.stopPropagation();\n\n\t\t\t// Catch only owl-stage transitionEnd event\n\t\t\tvar eventTarget = event.target || event.srcElement || event.originalTarget;\n\t\t\tif (eventTarget !== this.dom.stage) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tthis.state.inMotion = false;\n\t\tthis.trigger('translated');\n\t};\n\n\t/**\n\t * Checks if element width has changed\n\t * @protected\n\t * @returns {Booelan}\n\t */\n\tOwl.prototype.isElWidthChanged = function() {\n\t\tvar newElWidth = this.dom.$el.width() - this.settings.stagePadding, // to\n\t\t// check\n\t\tprevElWidth = this.width.el + this.settings.margin;\n\t\treturn newElWidth !== prevElWidth;\n\t};\n\n\t/**\n\t * Gets viewport width.\n\t * @protected\n\t * @return {Number} - The width in pixel.\n\t */\n\tOwl.prototype.viewport = function() {\n\t\tvar width;\n\t\tif (this.options.responsiveBaseElement !== window) {\n\t\t\twidth = $(this.options.responsiveBaseElement).width();\n\t\t} else if (window.innerWidth) {\n\t\t\twidth = window.innerWidth;\n\t\t} else if (document.documentElement && document.documentElement.clientWidth) {\n\t\t\twidth = document.documentElement.clientWidth;\n\t\t} else {\n\t\t\tthrow 'Can not detect viewport width.';\n\t\t}\n\t\treturn width;\n\t};\n\n\t/**\n\t * Replaces the current content.\n\t * @public\n\t * @param {HTMLElement|jQuery|String} content - The new content.\n\t */\n\tOwl.prototype.insertContent = function(content) {\n\t\tthis.dom.$stage.empty();\n\t\tthis.fetchContent(content);\n\t\tthis.refresh();\n\t};\n\n\t/**\n\t * Adds an item.\n\t * @public\n\t * @param {HTMLElement|jQuery|String} content - The item content to add.\n\t * @param {Number} [position=0] - The position at which to insert the item.\n\t */\n\tOwl.prototype.addItem = function(content, position) {\n\t\tvar $item = this.createItemContainer();\n\n\t\tposition = position || 0;\n\t\t// wrap content\n\t\tthis.initializeItemContainer($item, content);\n\t\t// if carousel is empty then append item\n\t\tif (this.dom.$oItems.length === 0) {\n\t\t\tthis.dom.$stage.append($item);\n\t\t} else {\n\t\t\t// append item\n\t\t\tif (pos !== -1) {\n\t\t\t\tthis.dom.$oItems.eq(position).before($item);\n\t\t\t} else {\n\t\t\t\tthis.dom.$oItems.eq(position).after($item);\n\t\t\t}\n\t\t}\n\t\t// update and calculate carousel\n\t\tthis.refresh();\n\t};\n\n\t/**\n\t * Removes an item.\n\t * @public\n\t * @param {Number} pos - The position of the item.\n\t */\n\tOwl.prototype.removeItem = function(pos) {\n\t\tthis.dom.$oItems.eq(pos).remove();\n\t\tthis.refresh();\n\t};\n\n\t/**\n\t * Adds triggerable events.\n\t * @protected\n\t */\n\tOwl.prototype.addTriggerableEvents = function() {\n\t\tvar handler = $.proxy(function(callback, event) {\n\t\t\treturn $.proxy(function(e) {\n\t\t\t\tif (e.relatedTarget !== this) {\n\t\t\t\t\tthis.suppress([ event ]);\n\t\t\t\t\tcallback.apply(this, [].slice.call(arguments, 1));\n\t\t\t\t\tthis.release([ event ]);\n\t\t\t\t}\n\t\t\t}, this);\n\t\t}, this);\n\n\t\t$.each({\n\t\t\t'next': this.next,\n\t\t\t'prev': this.prev,\n\t\t\t'to': this.to,\n\t\t\t'destroy': this.destroy,\n\t\t\t'refresh': this.refresh,\n\t\t\t'replace': this.insertContent,\n\t\t\t'add': this.addItem,\n\t\t\t'remove': this.removeItem\n\t\t}, $.proxy(function(event, callback) {\n\t\t\tthis.dom.$el.on(event + '.owl.carousel', handler(callback, event + '.owl.carousel'));\n\t\t}, this));\n\n\t};\n\n\t/**\n\t * Watches the visibility of the carousel element.\n\t * @protected\n\t */\n\tOwl.prototype.watchVisibility = function() {\n\n\t\t// test on zepto\n\t\tif (!isElVisible(this.dom.el)) {\n\t\t\tthis.dom.$el.addClass('owl-hidden');\n\t\t\twindow.clearInterval(this.e._checkVisibile);\n\t\t\tthis.e._checkVisibile = window.setInterval($.proxy(checkVisible, this), 500);\n\t\t}\n\n\t\tfunction isElVisible(el) {\n\t\t\treturn el.offsetWidth > 0 && el.offsetHeight > 0;\n\t\t}\n\n\t\tfunction checkVisible() {\n\t\t\tif (isElVisible(this.dom.el)) {\n\t\t\t\tthis.dom.$el.removeClass('owl-hidden');\n\t\t\t\tthis.refresh();\n\t\t\t\twindow.clearInterval(this.e._checkVisibile);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Preloads images with auto width.\n\t * @protected\n\t * @todo Still to test\n\t */\n\tOwl.prototype.preloadAutoWidthImages = function(imgs) {\n\t\tvar loaded, that, $el, img;\n\n\t\tloaded = 0;\n\t\tthat = this;\n\t\timgs.each(function(i, el) {\n\t\t\t$el = $(el);\n\t\t\timg = new Image();\n\n\t\t\timg.onload = function() {\n\t\t\t\tloaded++;\n\t\t\t\t$el.attr('src', img.src);\n\t\t\t\t$el.css('opacity', 1);\n\t\t\t\tif (loaded >= imgs.length) {\n\t\t\t\t\tthat.state.imagesLoaded = true;\n\t\t\t\t\tthat.init();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\timg.src = $el.attr('src') || $el.attr('data-src') || $el.attr('data-src-retina');\n\t\t});\n\t};\n\n\t/**\n\t * Destroys the carousel.\n\t * @public\n\t */\n\tOwl.prototype.destroy = function() {\n\n\t\tif (this.dom.$el.hasClass(this.settings.themeClass)) {\n\t\t\tthis.dom.$el.removeClass(this.settings.themeClass);\n\t\t}\n\n\t\tif (this.settings.responsive !== false) {\n\t\t\tthis.off(window, 'resize', this.e._resizer);\n\t\t}\n\n\t\tif (this.transitionEndVendor) {\n\t\t\tthis.off(this.dom.stage, this.transitionEndVendor, this.e._transitionEnd);\n\t\t}\n\n\t\tfor ( var i in this.plugins) {\n\t\t\tthis.plugins[i].destroy();\n\t\t}\n\n\t\tif (this.settings.mouseDrag || this.settings.touchDrag) {\n\t\t\tthis.off(this.dom.stage, this.dragType[0], this.e._onDragStart);\n\t\t\tif (this.settings.mouseDrag) {\n\t\t\t\tthis.off(document, this.dragType[3], this.e._onDragStart);\n\t\t\t}\n\t\t\tif (this.settings.mouseDrag) {\n\t\t\t\tthis.dom.$stage.off('dragstart', function() {\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\tthis.dom.stage.onselectstart = function() {\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t// Remove event handlers in the \".owl.carousel\" namespace\n\t\tthis.dom.$el.off('.owl');\n\n\t\tif (this.dom.$cItems !== null) {\n\t\t\tthis.dom.$cItems.remove();\n\t\t}\n\t\tthis.e = null;\n\t\tthis.dom.$el.data('owlCarousel', null);\n\t\tdelete this.dom.el.owlCarousel;\n\n\t\tthis.dom.$stage.unwrap();\n\t\tthis.dom.$items.unwrap();\n\t\tthis.dom.$items.contents().unwrap();\n\t\tthis.dom = null;\n\t};\n\n\t/**\n\t * Operators to calculate right-to-left and left-to-right.\n\t * @protected\n\t * @param {Number} [a] - The left side operand.\n\t * @param {String} [o] - The operator.\n\t * @param {Number} [b] - The right side operand.\n\t */\n\tOwl.prototype.op = function(a, o, b) {\n\t\tvar rtl = this.settings.rtl;\n\t\tswitch (o) {\n\t\tcase '<':\n\t\t\treturn rtl ? a > b : a < b;\n\t\tcase '>':\n\t\t\treturn rtl ? a < b : a > b;\n\t\tcase '>=':\n\t\t\treturn rtl ? a <= b : a >= b;\n\t\tcase '<=':\n\t\t\treturn rtl ? a >= b : a <= b;\n\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t};\n\n\t/**\n\t * Attaches to an internal event.\n\t * @protected\n\t * @param {HTMLElement} element - The event source.\n\t * @param {String} event - The event name.\n\t * @param {Function} listener - The event handler to attach.\n\t * @param {Boolean} capture - Wether the event should be handled at the capturing phase or not.\n\t */\n\tOwl.prototype.on = function(element, event, listener, capture) {\n\t\tif (element.addEventListener) {\n\t\t\telement.addEventListener(event, listener, capture);\n\t\t} else if (element.attachEvent) {\n\t\t\telement.attachEvent('on' + event, listener);\n\t\t}\n\t};\n\n\t/**\n\t * Detaches from an internal event.\n\t * @protected\n\t * @param {HTMLElement} element - The event source.\n\t * @param {String} event - The event name.\n\t * @param {Function} listener - The attached event handler to detach.\n\t * @param {Boolean} capture - Wether the attached event handler was registered as a capturing listener or not.\n\t */\n\tOwl.prototype.off = function(element, event, listener, capture) {\n\t\tif (element.removeEventListener) {\n\t\t\telement.removeEventListener(event, listener, capture);\n\t\t} else if (element.detachEvent) {\n\t\t\telement.detachEvent('on' + event, listener);\n\t\t}\n\t};\n\n\t/**\n\t * Triggers an public event.\n\t * @protected\n\t * @param {String} name - The event name.\n\t * @param {*} [data=null] - The event data.\n\t * @param {String} [namespace=.owl.carousel] - The event namespace.\n\t * @returns {Event} - The event arguments.\n\t */\n\tOwl.prototype.trigger = function(name, data, namespace) {\n\t\tvar status = {\n\t\t\titem: { count: this.num.oItems, index: this.current() }\n\t\t}, handler = $.camelCase(\n\t\t\t$.grep([ 'on', name, namespace ], function(v) { return v })\n\t\t\t\t.join('-').toLowerCase()\n\t\t), event = $.Event(\n\t\t\t[ name, 'owl', namespace || 'carousel' ].join('.').toLowerCase(),\n\t\t\t$.extend({ relatedTarget: this }, status, data)\n\t\t);\n\n\t\tif (!this._supress[event.type]) {\n\t\t\t$.each(this.plugins, function(name, plugin) {\n\t\t\t\tif (plugin.onTrigger) {\n\t\t\t\t\tplugin.onTrigger(event);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.dom.$el.trigger(event);\n\n\t\t\tif (typeof this.settings[handler] === 'function') {\n\t\t\t\tthis.settings[handler].apply(this, event);\n\t\t\t}\n\t\t}\n\n\t\treturn event;\n\t};\n\n\t/**\n\t * Suppresses events.\n\t * @protected\n\t * @param {Array.<String>} events - The events to suppress.\n\t */\n\tOwl.prototype.suppress = function(events) {\n\t\t$.each(events, $.proxy(function(index, event) {\n\t\t\tthis._supress[event] = true;\n\t\t}, this));\n\t}\n\n\t/**\n\t * Releases suppressed events.\n\t * @protected\n\t * @param {Array.<String>} events - The events to release.\n\t */\n\tOwl.prototype.release = function(events) {\n\t\t$.each(events, $.proxy(function(index, event) {\n\t\t\tdelete this._supress[event];\n\t\t}, this));\n\t}\n\n\t/**\n\t * Checks the availability of some browser features.\n\t * @protected\n\t */\n\tOwl.prototype.browserSupport = function() {\n\t\tthis.support3d = isPerspective();\n\n\t\tif (this.support3d) {\n\t\t\tthis.transformVendor = isTransform();\n\n\t\t\t// take transitionend event name by detecting transition\n\t\t\tvar endVendors = [ 'transitionend', 'webkitTransitionEnd', 'transitionend', 'oTransitionEnd' ];\n\t\t\tthis.transitionEndVendor = endVendors[isTransition()];\n\n\t\t\t// take vendor name from transform name\n\t\t\tthis.vendorName = this.transformVendor.replace(/Transform/i, '');\n\t\t\tthis.vendorName = this.vendorName !== '' ? '-' + this.vendorName.toLowerCase() + '-' : '';\n\t\t}\n\n\t\tthis.state.orientation = window.orientation;\n\t};\n\n\t/**\n\t * Checks for CSS support.\n\t * @private\n\t * @param {Array} array - The CSS properties to check for.\n\t * @returns {Array} - Contains the supported CSS property name and its index or `false`.\n\t */\n\tfunction isStyleSupported(array) {\n\t\tvar p, s, fake = document.createElement('div'), list = array;\n\t\tfor (p in list) {\n\t\t\ts = list[p];\n\t\t\tif (typeof fake.style[s] !== 'undefined') {\n\t\t\t\tfake = null;\n\t\t\t\treturn [ s, p ];\n\t\t\t}\n\t\t}\n\t\treturn [ false ];\n\t}\n\n\t/**\n\t * Checks for CSS transition support.\n\t * @private\n\t * @todo Realy bad design\n\t * @returns {Number}\n\t */\n\tfunction isTransition() {\n\t\treturn isStyleSupported([ 'transition', 'WebkitTransition', 'MozTransition', 'OTransition' ])[1];\n\t}\n\n\t/**\n\t * Checks for CSS transform support.\n\t * @private\n\t * @returns {String} The supported property name or false.\n\t */\n\tfunction isTransform() {\n\t\treturn isStyleSupported([ 'transform', 'WebkitTransform', 'MozTransform', 'OTransform', 'msTransform' ])[0];\n\t}\n\n\t/**\n\t * Checks for CSS perspective support.\n\t * @private\n\t * @returns {String} The supported property name or false.\n\t */\n\tfunction isPerspective() {\n\t\treturn isStyleSupported([ 'perspective', 'webkitPerspective', 'MozPerspective', 'OPerspective', 'MsPerspective' ])[0];\n\t}\n\n\t/**\n\t * Checks wether touch is supported or not.\n\t * @private\n\t * @returns {Boolean}\n\t */\n\tfunction isTouchSupport() {\n\t\treturn 'ontouchstart' in window || !!(navigator.msMaxTouchPoints);\n\t}\n\n\t/**\n\t * Checks wether touch is supported or not for IE.\n\t * @private\n\t * @returns {Boolean}\n\t */\n\tfunction isTouchSupportIE() {\n\t\treturn window.navigator.msPointerEnabled;\n\t}\n\n\t/**\n\t * The jQuery Plugin for the Owl Carousel\n\t * @public\n\t */\n\t$.fn.owlCarousel = function(options) {\n\t\treturn this.each(function() {\n\t\t\tif (!$(this).data('owlCarousel')) {\n\t\t\t\t$(this).data('owlCarousel', new Owl(this, options));\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * The constructor for the jQuery Plugin\n\t * @public\n\t */\n\t$.fn.owlCarousel.Constructor = Owl;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * LazyLoad Plugin\n * @version 2.0.0\n * @author Bartosz Wojciechowski\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the lazy load plugin.\n\t * @class The Lazy Load Plugin\n\t * @param {Owl} scope - The Owl Carousel\n\t */\n\tLazyLoad = function(scope) {\n\t\tthis.owl = scope;\n\t\tthis.owl.options = $.extend({}, LazyLoad.Defaults, this.owl.options);\n\n\t\tthis.handlers = {\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.property.name == 'items' && e.property.value && !e.property.value.is(':empty')) {\n\t\t\t\t\tthis.check();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\tthis.owl.dom.$el.on(this.handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tLazyLoad.Defaults = {\n\t\tlazyLoad: false\n\t};\n\n\t/**\n\t * Checks all items and if necessary, calls `preload`.\n\t * @protected\n\t */\n\tLazyLoad.prototype.check = function() {\n\t\tvar attr = window.devicePixelRatio > 1 ? 'data-src-retina' : 'data-src',\n\t\t\tsrc, img, i, $item;\n\n\t\tfor (i = 0; i < this.owl.num.items; i++) {\n\t\t\t$item = this.owl.dom.$items.eq(i);\n\n\t\t\tif ($item.data('owl-item').current === true && $item.data('owl-item').loaded === false) {\n\t\t\t\timg = $item.find('.owl-lazy');\n\t\t\t\tsrc = img.attr(attr);\n\t\t\t\tsrc = src || img.attr('data-src');\n\t\t\t\tif (src) {\n\t\t\t\t\timg.css('opacity', '0');\n\t\t\t\t\tthis.preload(img, $item);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Preloads the images of an item.\n\t * @protected\n\t * @param {jQuery} images - The images to load.\n\t * @param {jQuery} $item - The item for which the images are loaded.\n\t */\n\tLazyLoad.prototype.preload = function(images, $item) {\n\t\tvar $el, img, srcType;\n\n\t\timages.each($.proxy(function(i, el) {\n\n\t\t\tthis.owl.trigger('load', null, 'lazy');\n\n\t\t\t$el = $(el);\n\t\t\timg = new Image();\n\t\t\tsrcType = window.devicePixelRatio > 1 ? $el.attr('data-src-retina') : $el.attr('data-src');\n\t\t\tsrcType = srcType || $el.attr('data-src');\n\n\t\t\timg.onload = $.proxy(function() {\n\t\t\t\t$item.data('owl-item').loaded = true;\n\t\t\t\tif ($el.is('img')) {\n\t\t\t\t\t$el.attr('src', img.src);\n\t\t\t\t} else {\n\t\t\t\t\t$el.css('background-image', 'url(' + img.src + ')');\n\t\t\t\t}\n\n\t\t\t\t$el.css('opacity', 1);\n\t\t\t\tthis.owl.trigger('loaded', null, 'lazy');\n\t\t\t}, this);\n\t\t\timg.src = srcType;\n\t\t}, this));\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tLazyLoad.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis.owl.dom.$el.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.lazyLoad = LazyLoad;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * AutoHeight Plugin\n * @version 2.0.0\n * @author Bartosz Wojciechowski\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the auto height plugin.\n\t * @class The Auto Height Plugin\n\t * @param {Owl} scope - The Owl Carousel\n\t */\n\tAutoHeight = function(scope) {\n\t\tthis.owl = scope;\n\t\tthis.owl.options = $.extend({}, AutoHeight.Defaults, this.owl.options);\n\n\t\tthis.handlers = {\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.property.name == 'position' && this.owl.settings.autoHeight){\n\t\t\t\t\tthis.setHeight();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\tthis.owl.dom.$el.on(this.handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAutoHeight.Defaults = {\n\t\tautoHeight: false,\n\t\tautoHeightClass: 'owl-height'\n\t};\n\n\t/**\n\t *\n\t * @param {Boolean} callback - Whether\n\t * @returns {Boolean}\n\t */\n\tAutoHeight.prototype.setHeight = function() {\n\t\tvar loaded = this.owl.dom.$items.eq(this.owl.current()),\n\t\t\tstage = this.owl.dom.$oStage,\n\t\t\titerations = 0,\n\t\t\tisLoaded;\n\n\t\tif (!this.owl.dom.$oStage.hasClass(this.owl.settings.autoHeightClass)) {\n\t\t\tthis.owl.dom.$oStage.addClass(this.owl.settings.autoHeightClass);\n\t\t}\n\n\t\tisLoaded = window.setInterval(function() {\n\t\t\titerations += 1;\n\t\t\tif (loaded.data('owl-item').loaded) {\n\t\t\t\tstage.height(loaded.height() + 'px');\n\t\t\t\tclearInterval(isLoaded);\n\t\t\t} else if (iterations === 500) {\n\t\t\t\tclearInterval(isLoaded);\n\t\t\t}\n\t\t}, 100);\n\n\t};\n\n\tAutoHeight.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis.owl.dom.$el.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.autoHeight = AutoHeight;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Video Plugin\n * @version 2.0.0\n * @author Bartosz Wojciechowski\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the video plugin.\n\t * @class The Video Plugin\n\t * @param {Owl} scope - The Owl Carousel\n\t */\n\tVideo = function(scope) {\n\t\tthis.owl = scope;\n\t\tthis.owl.options = $.extend({}, Video.Defaults, this.owl.options);\n\n\t\tthis.handlers = {\n\t\t\t'resize.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (this.owl.settings.video && !this.isInFullScreen()) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'refresh.owl.carousel changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (this.owl.state.videoPlay) {\n\t\t\t\t\tthis.stopVideo();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'refresh.owl.carousel refreshed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (!this.owl.settings.video) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.refreshing = e.type == 'refresh';\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (this.refreshing && e.property.name == 'items' && e.property.value && !e.property.value.is(':empty')) {\n\t\t\t\t\tthis.checkVideoLinks();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\tthis.owl.dom.$el.on(this.handlers);\n\n\t\tthis.owl.dom.$el.on('click.owl.video', '.owl-video-play-icon', $.proxy(function(e) {\n\t\t\tthis.playVideo(e);\n\t\t}, this));\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tVideo.Defaults = {\n\t\tvideo: false,\n\t\tvideoHeight: false,\n\t\tvideoWidth: false\n\t};\n\n\t/**\n\t * Checks if for any videos links exists.\n\t * @protected\n\t */\n\tVideo.prototype.checkVideoLinks = function() {\n\t\tvar videoEl, item, i;\n\n\t\tfor (i = 0; i < this.owl.num.items; i++) {\n\n\t\t\titem = this.owl.dom.$items.eq(i);\n\t\t\tif (item.data('owl-item').hasVideo) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvideoEl = item.find('.owl-video');\n\t\t\tif (videoEl.length) {\n\t\t\t\tthis.owl.state.hasVideos = true;\n\t\t\t\tthis.owl.dom.$items.eq(i).data('owl-item').hasVideo = true;\n\t\t\t\tvideoEl.css('display', 'none');\n\t\t\t\tthis.getVideoInfo(videoEl, item);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Gets the video ID and the type (YouTube/Vimeo only).\n\t * @protected\n\t * @param {jQuery} videoEl - The element containing the video data.\n\t * @param {jQuery} item - The item containing the video.\n\t */\n\tVideo.prototype.getVideoInfo = function(videoEl, item) {\n\n\t\tvar info, type, id, dimensions,\n\t\t\tvimeoId = videoEl.data('vimeo-id'),\n\t\t\tyouTubeId = videoEl.data('youtube-id'),\n\t\t\twidth = videoEl.data('width') || this.owl.settings.videoWidth,\n\t\t\theight = videoEl.data('height') || this.owl.settings.videoHeight,\n\t\t\turl = videoEl.attr('href');\n\n\t\tif (vimeoId) {\n\t\t\ttype = 'vimeo';\n\t\t\tid = vimeoId;\n\t\t} else if (youTubeId) {\n\t\t\ttype = 'youtube';\n\t\t\tid = youTubeId;\n\t\t} else if (url) {\n\t\t\tid = url.match(/(http:|https:|)\\/\\/(player.|www.)?(vimeo\\.com|youtu(be\\.com|\\.be|be\\.googleapis\\.com))\\/(video\\/|embed\\/|watch\\?v=|v\\/)?([A-Za-z0-9._%-]*)(\\&\\S+)?/);\n\n\t\t\tif (id[3].indexOf('youtu') > -1) {\n\t\t\t\ttype = 'youtube';\n\t\t\t} else if (id[3].indexOf('vimeo') > -1) {\n\t\t\t\ttype = 'vimeo';\n\t\t\t}\n\t\t\tid = id[6];\n\t\t} else {\n\t\t\tthrow new Error('Missing video link.');\n\t\t}\n\n\t\titem.data('owl-item').videoType = type;\n\t\titem.data('owl-item').videoId = id;\n\t\titem.data('owl-item').videoWidth = width;\n\t\titem.data('owl-item').videoHeight = height;\n\n\t\tinfo = {\n\t\t\ttype: type,\n\t\t\tid: id\n\t\t};\n\n\t\t// Check dimensions\n\t\tdimensions = width && height ? 'style=\"width:' + width + 'px;height:' + height + 'px;\"' : '';\n\n\t\t// wrap video content into owl-video-wrapper div\n\t\tvideoEl.wrap('<div class=\"owl-video-wrapper\"' + dimensions + '></div>');\n\n\t\tthis.createVideoTn(videoEl, info);\n\t};\n\n\t/**\n\t * Creates video thumbnail.\n\t * @protected\n\t * @param {jQuery} videoEl - The element containing the video data.\n\t * @param {Object} info - The video info object.\n\t * @see `getVideoInfo`\n\t */\n\tVideo.prototype.createVideoTn = function(videoEl, info) {\n\n\t\tvar tnLink, icon, path,\n\t\t\tcustomTn = videoEl.find('img'),\n\t\t\tsrcType = 'src',\n\t\t\tlazyClass = '',\n\t\t\tthat = this.owl;\n\n\t\tif (this.owl.settings.lazyLoad) {\n\t\t\tsrcType = 'data-src';\n\t\t\tlazyClass = 'owl-lazy';\n\t\t}\n\n\t\t// Custom thumbnail\n\n\t\tif (customTn.length) {\n\t\t\taddThumbnail(customTn.attr(srcType));\n\t\t\tcustomTn.remove();\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction addThumbnail(tnPath) {\n\t\t\ticon = '<div class=\"owl-video-play-icon\"></div>';\n\n\t\t\tif (that.settings.lazyLoad) {\n\t\t\t\ttnLink = '<div class=\"owl-video-tn ' + lazyClass + '\" ' + srcType + '=\"' + tnPath + '\"></div>';\n\t\t\t} else {\n\t\t\t\ttnLink = '<div class=\"owl-video-tn\" style=\"opacity:1;background-image:url(' + tnPath + ')\"></div>';\n\t\t\t}\n\t\t\tvideoEl.after(tnLink);\n\t\t\tvideoEl.after(icon);\n\t\t}\n\n\t\tif (info.type === 'youtube') {\n\t\t\tpath = \"http://img.youtube.com/vi/\" + info.id + \"/hqdefault.jpg\";\n\t\t\taddThumbnail(path);\n\t\t} else if (info.type === 'vimeo') {\n\t\t\t$.ajax({\n\t\t\t\ttype: 'GET',\n\t\t\t\turl: 'http://vimeo.com/api/v2/video/' + info.id + '.json',\n\t\t\t\tjsonp: 'callback',\n\t\t\t\tdataType: 'jsonp',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tpath = data[0].thumbnail_large;\n\t\t\t\t\taddThumbnail(path);\n\t\t\t\t\tif (that.settings.loop) {\n\t\t\t\t\t\tthat.updateActiveItems();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Stops the current video.\n\t * @public\n\t */\n\tVideo.prototype.stopVideo = function() {\n\t\tthis.owl.trigger('stop', null, 'video');\n\t\tvar item = this.owl.dom.$items.eq(this.owl.state.videoPlayIndex);\n\t\titem.find('.owl-video-frame').remove();\n\t\titem.removeClass('owl-video-playing');\n\t\tthis.owl.state.videoPlay = false;\n\t};\n\n\t/**\n\t * Starts the current video.\n\t * @public\n\t * @param {Event} ev - The event arguments.\n\t */\n\tVideo.prototype.playVideo = function(ev) {\n\t\tthis.owl.trigger('play', null, 'video');\n\n\t\tif (this.owl.state.videoPlay) {\n\t\t\tthis.stopVideo();\n\t\t}\n\t\tvar videoLink, videoWrap, videoType,\n\t\t\ttarget = $(ev.target || ev.srcElement),\n\t\t\titem = target.closest('.' + this.owl.settings.itemClass);\n\n\t\tvideoType = item.data('owl-item').videoType, id = item.data('owl-item').videoId, width = item\n\t\t\t.data('owl-item').videoWidth\n\t\t\t|| Math.floor(item.data('owl-item').width - this.owl.settings.margin), height = item.data('owl-item').videoHeight\n\t\t\t|| this.owl.dom.$stage.height();\n\n\t\tif (videoType === 'youtube') {\n\t\t\tvideoLink = \"<iframe width=\\\"\" + width + \"\\\" height=\\\"\" + height + \"\\\" src=\\\"http://www.youtube.com/embed/\"\n\t\t\t\t+ id + \"?autoplay=1&v=\" + id + \"\\\" frameborder=\\\"0\\\" allowfullscreen></iframe>\";\n\t\t} else if (videoType === 'vimeo') {\n\t\t\tvideoLink = '<iframe src=\"http://player.vimeo.com/video/' + id + '?autoplay=1\" width=\"' + width\n\t\t\t\t+ '\" height=\"' + height\n\t\t\t\t+ '\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';\n\t\t}\n\n\t\titem.addClass('owl-video-playing');\n\t\tthis.owl.state.videoPlay = true;\n\t\tthis.owl.state.videoPlayIndex = item.data('owl-item').indexAbs;\n\n\t\tvideoWrap = $('<div style=\"height:' + height + 'px; width:' + width + 'px\" class=\"owl-video-frame\">'\n\t\t\t+ videoLink + '</div>');\n\t\ttarget.after(videoWrap);\n\t};\n\n\t/**\n\t * Checks whether an video is currently in full screen mode or not.\n\t * @protected\n\t * @returns {Boolean}\n\t */\n\tVideo.prototype.isInFullScreen = function() {\n\n\t\t// if Vimeo Fullscreen mode\n\t\tvar fullscreenElement = document.fullscreenElement || document.mozFullScreenElement\n\t\t\t|| document.webkitFullscreenElement;\n\t\tif (fullscreenElement) {\n\t\t\tif ($(fullscreenElement.parentNode).hasClass('owl-video-frame')) {\n\t\t\t\tthis.owl.speed(0);\n\t\t\t\tthis.owl.state.isFullScreen = true;\n\t\t\t}\n\t\t}\n\n\t\tif (fullscreenElement && this.owl.state.isFullScreen && this.owl.state.videoPlay) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Comming back from fullscreen\n\t\tif (this.owl.state.isFullScreen) {\n\t\t\tthis.owl.state.isFullScreen = false;\n\t\t\treturn false;\n\t\t}\n\n\t\t// check full screen mode and window orientation\n\t\tif (this.owl.state.videoPlay) {\n\t\t\tif (this.owl.state.orientation !== window.orientation) {\n\t\t\t\tthis.owl.state.orientation = window.orientation;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t */\n\tVideo.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tthis.owl.dom.$el.off('click.owl.video');\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis.owl.dom.$el.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.video = Video;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Animate Plugin\n * @version 2.0.0\n * @author Bartosz Wojciechowski\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the animate plugin.\n\t * @class The Navigation Plugin\n\t * @param {Owl} scope - The Owl Carousel\n\t */\n\tAnimate = function(scope) {\n\t\tthis.core = scope;\n\t\tthis.core.options = $.extend({}, Animate.Defaults, this.core.options);\n\t\tthis.swapping = true;\n\t\tthis.previous = undefined;\n\t\tthis.next = undefined;\n\n\t\tthis.handlers = {\n\t\t\t'change.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.property.name == 'position') {\n\t\t\t\t\tthis.previous = this.core.current();\n\t\t\t\t\tthis.next = e.property.value;\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'drag.owl.carousel dragged.owl.carousel translated.owl.carousel': $.proxy(function(e) {\n\t\t\t\tthis.swapping = e.type == 'translated';\n\t\t\t}, this),\n\t\t\t'translate.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (this.swapping && (this.core.options.animateOut || this.core.options.animateIn)) {\n\t\t\t\t\tthis.swap();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\tthis.core.dom.$el.on(this.handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAnimate.Defaults = {\n\t\tanimateOut: false,\n\t\tanimateIn: false\n\t};\n\n\t/**\n\t * Toggles the animation classes whenever an translations starts.\n\t * @protected\n\t * @returns {Boolean|undefined}\n\t */\n\tAnimate.prototype.swap = function() {\n\n\t\tif (this.core.settings.items !== 1 || !this.core.support3d) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.core.speed(0);\n\n\t\tvar left,\n\t\t\tclear = $.proxy(this.clear, this),\n\t\t\tprevious = this.core.dom.$items.eq(this.previous),\n\t\t\tnext = this.core.dom.$items.eq(this.next),\n\t\t\tincoming = this.core.settings.animateIn,\n\t\t\toutgoing = this.core.settings.animateOut;\n\n\t\tif (this.core.current() === this.previous) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (outgoing) {\n\t\t\tleft = this.core.coordinates(this.previous) - this.core.coordinates(this.next);\n\t\t\tprevious.css( { 'left': left + 'px' } )\n\t\t\t\t.addClass('animated owl-animated-out')\n\t\t\t\t.addClass(outgoing)\n\t\t\t\t.one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', clear);\n\t\t}\n\n\t\tif (incoming) {\n\t\t\tnext.addClass('animated owl-animated-in')\n\t\t\t\t.addClass(incoming)\n\t\t\t\t.one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', clear);\n\t\t}\n\t};\n\n\tAnimate.prototype.clear = function(e) {\n\t\t$(e.target).css( { 'left': '' } )\n\t\t\t.removeClass('animated owl-animated-out owl-animated-in')\n\t\t\t.removeClass(this.core.settings.animateIn)\n\t\t\t.removeClass(this.core.settings.animateOut);\n\t\tthis.core.transitionEnd();\n\t}\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tAnimate.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis.core.dom.$el.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Animate = Animate;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Autoplay Plugin\n * @version 2.0.0\n * @author Bartosz Wojciechowski\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the autoplay plugin.\n\t * @class The Autoplay Plugin\n\t * @param {Owl} scope - The Owl Carousel\n\t */\n\tAutoplay = function(scope) {\n\t\tthis.core = scope;\n\t\tthis.core.options = $.extend({}, Autoplay.Defaults, this.core.options);\n\n\t\tthis.handlers = {\n\t\t\t'translated.owl.carousel refreshed.owl.carousel': $.proxy(function() {\n\t\t\t\tthis.autoplay();\n\t\t\t}, this),\n\t\t\t'play.owl.autoplay': $.proxy(function(e, t, s) {\n\t\t\t\tthis.play(t, s);\n\t\t\t}, this),\n\t\t\t'stop.owl.autoplay': $.proxy(function() {\n\t\t\t\tthis.stop();\n\t\t\t}, this),\n\t\t\t'mouseover.owl.autoplay': $.proxy(function() {\n\t\t\t\tif (this.core.settings.autoplayHoverPause) {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'mouseleave.owl.autoplay': $.proxy(function() {\n\t\t\t\tif (this.core.settings.autoplayHoverPause) {\n\t\t\t\t\tthis.autoplay();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\tthis.core.dom.$el.on(this.handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAutoplay.Defaults = {\n\t\tautoplay: false,\n\t\tautoplayTimeout: 5000,\n\t\tautoplayHoverPause: false,\n\t\tautoplaySpeed: false\n\t};\n\n\t/**\n\t * @protected\n\t * @todo Must be documented.\n\t */\n\tAutoplay.prototype.autoplay = function() {\n\t\tif (this.core.settings.autoplay && !this.core.state.videoPlay) {\n\t\t\twindow.clearInterval(this.interval);\n\n\t\t\tthis.interval = window.setInterval($.proxy(function() {\n\t\t\t\tthis.play();\n\t\t\t}, this), this.core.settings.autoplayTimeout);\n\t\t} else {\n\t\t\twindow.clearInterval(this.interval);\n\t\t}\n\t};\n\n\t/**\n\t * Starts the autoplay.\n\t * @public\n\t * @param {Number} [timeout] - ...\n\t * @param {Number} [speed] - ...\n\t * @returns {Boolean|undefined} - ...\n\t * @todo Must be documented.\n\t */\n\tAutoplay.prototype.play = function(timeout, speed) {\n\t\t// if tab is inactive - doesnt work in <IE10\n\t\tif (document.hidden === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.core.state.isTouch || this.core.state.isScrolling\n\t\t\t|| this.core.state.isSwiping || this.core.state.inMotion) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.core.settings.autoplay === false) {\n\t\t\twindow.clearInterval(this.interval);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.core.next(this.core.settings.autoplaySpeed);\n\t};\n\n\t/**\n\t * Stops the autoplay.\n\t * @public\n\t */\n\tAutoplay.prototype.stop = function() {\n\t\twindow.clearInterval(this.interval);\n\t};\n\n\t/**\n\t * Pauses the autoplay.\n\t * @public\n\t */\n\tAutoplay.prototype.pause = function() {\n\t\twindow.clearInterval(this.interval);\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t */\n\tAutoplay.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\twindow.clearInterval(this.interval);\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis.core.dom.$el.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.autoplay = Autoplay;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Navigation Plugin\n * @version 2.0.0\n * @author Artus Kolanowski\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\t'use strict';\n\n\t/**\n\t * Creates the navigation plugin.\n\t * @class The Navigation Plugin\n\t * @param {Owl} carousel - The Owl Carousel.\n\t */\n\tvar Navigation = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @type {Owl}\n\t\t */\n\t\tthis.core = carousel;\n\n\t\t/**\n\t\t * Indicates whether the plugin is initialized or not.\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis.initialized = false;\n\n\t\t/**\n\t\t * The current paging indexes.\n\t\t * @type {Array}\n\t\t */\n\t\tthis.pages = [];\n\n\t\t/**\n\t\t * All DOM elements of the user interface.\n\t\t * @type {Object}\n\t\t */\n\t\tthis.controls = {};\n\n\t\t/**\n\t\t * Markup for an indicator.\n\t\t * @type {String}\n\t\t */\n\t\tthis.template = null;\n\n\t\t/**\n\t\t * The carousel element.\n\t\t * @type {jQuery}\n\t\t */\n\t\tthis.$element = this.core.dom.$el;\n\n\t\t/**\n\t\t * Overridden methods of the carousel.\n\t\t * @type {Object}\n\t\t */\n\t\tthis.overrides = {\n\t\t\tnext: this.core.next,\n\t\t\tprev: this.core.prev,\n\t\t\tto: this.core.to\n\t\t};\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @type {Object}\n\t\t */\n\t\tthis.handlers = {\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.property.name == 'items') {\n\t\t\t\t\tif (!this.initialized) {\n\t\t\t\t\t\tthis.initialize();\n\t\t\t\t\t\tthis.initialized = true;\n\t\t\t\t\t}\n\t\t\t\t\tthis.update();\n\t\t\t\t\tthis.draw();\n\t\t\t\t}\n\t\t\t\tif (this.filling) {\n\t\t\t\t\te.property.value.data('owl-item').dot = $(':first-child', e.property.value)\n\t\t\t\t\t\t.find('[data-dot]').andSelf().data('dot');\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'change.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.property.name == 'position' && !this.core.state.revert\n\t\t\t\t\t&& !this.core.settings.loop && this.core.settings.navRewind) {\n\t\t\t\t\tvar current = this.core.current(),\n\t\t\t\t\t\tmaximum = this.core.maximum(),\n\t\t\t\t\t\tminimum = this.core.minimum();\n\t\t\t\t\te.data = e.property.value > maximum\n\t\t\t\t\t\t? current >= maximum ? minimum : maximum\n\t\t\t\t\t\t: e.property.value < minimum ? maximum : e.property.value;\n\t\t\t\t}\n\t\t\t\tthis.filling = this.core.settings.dotsData && e.property.name == 'item'\n\t\t\t\t\t&& e.property.value && e.property.value.is(':empty');\n\t\t\t}, this),\n\t\t\t'refreshed.owl.carousel': $.proxy(function() {\n\t\t\t\tif (this.initialized) {\n\t\t\t\t\tthis.update();\n\t\t\t\t\tthis.draw();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis.core.options = $.extend({}, Navigation.Defaults, this.core.options);\n\n\t\t// register event handlers\n\t\tthis.$element.on(this.handlers);\n\t}\n\n\t/**\n\t * Default options.\n\t * @public\n\t * @todo Rename `slideBy` to `navBy`\n\t */\n\tNavigation.Defaults = {\n\t\tnav: false,\n\t\tnavRewind: true,\n\t\tnavText: [ 'prev', 'next' ],\n\t\tnavSpeed: false,\n\t\tnavElement: 'div',\n\t\tnavContainer: false,\n\t\tnavContainerClass: 'owl-nav',\n\t\tnavClass: [ 'owl-prev', 'owl-next' ],\n\t\tslideBy: 1,\n\t\tdotClass: 'owl-dot',\n\t\tdotsClass: 'owl-dots',\n\t\tdots: true,\n\t\tdotsEach: false,\n\t\tdotData: false,\n\t\tdotsSpeed: false,\n\t\tdotsContainer: false,\n\t\tcontrolsClass: 'owl-controls'\n\t}\n\n\t/**\n\t * Initializes the layout of the plugin and extends the carousel.\n\t * @protected\n\t */\n\tNavigation.prototype.initialize = function() {\n\t\tvar $container, override,\n\t\t\toptions = this.core.settings;\n\n\t\t// create the indicator template\n\t\tif (!options.dotsData) {\n\t\t\tthis.template = $('<div>')\n\t\t\t\t.addClass(options.dotClass)\n\t\t\t\t.append($('<span>'))\n\t\t\t\t.prop('outerHTML');\n\t\t}\n\n\t\t// create controls container if needed\n\t\tif (!options.navContainer || !options.dotsContainer) {\n\t\t\tthis.controls.$container = $('<div>')\n\t\t\t\t.addClass(options.controlsClass)\n\t\t\t\t.appendTo(this.$element);\n\t\t}\n\n\t\t// create DOM structure for absolute navigation\n\t\tthis.controls.$indicators = options.dotsContainer ? $(options.dotsContainer)\n\t\t\t: $('<div>').hide().addClass(options.dotsClass).appendTo(this.controls.$container);\n\n\t\tthis.controls.$indicators.on(this.core.dragType[2], 'div', $.proxy(function(e) {\n\t\t\tvar index = $(e.target).parent().is(this.controls.$indicators)\n\t\t\t\t? $(e.target).index() : $(e.target).parent().index();\n\n\t\t\te.preventDefault();\n\n\t\t\tthis.to(index, options.dotsSpeed);\n\t\t}, this));\n\n\t\t// create DOM structure for relative navigation\n\t\t$container = options.navContainer ? $(options.navContainer)\n\t\t\t: $('<div>').addClass(options.navContainerClass).prependTo(this.controls.$container);\n\n\t\tthis.controls.$next = $('<' + options.navElement + '>');\n\t\tthis.controls.$previous = this.controls.$next.clone();\n\n\t\tthis.controls.$previous\n\t\t\t.addClass(options.navClass[0])\n\t\t\t.html(options.navText[0])\n\t\t\t.hide()\n\t\t\t.prependTo($container)\n\t\t\t.on(this.core.dragType[2], $.proxy(function(e) {\n\t\t\t\tthis.prev();\n\t\t\t}, this));\n\t\tthis.controls.$next\n\t\t\t.addClass(options.navClass[1])\n\t\t\t.html(options.navText[1])\n\t\t\t.hide()\n\t\t\t.appendTo($container)\n\t\t\t.on(this.core.dragType[2], $.proxy(function(e) {\n\t\t\t\tthis.next();\n\t\t\t}, this));\n\n\t\t// override public methods of the carousel\n\t\tfor (override in this.overrides) {\n\t\t\tthis.core[override] = $.proxy(this[override], this);\n\t\t}\n\t}\n\n\t/**\n\t * Destroys the plugin.\n\t * @protected\n\t */\n\tNavigation.prototype.destroy = function() {\n\t\tvar handler, control, property, override;\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis.$element.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (control in this.controls) {\n\t\t\tthis.controls[control].remove();\n\t\t}\n\t\tfor (override in this.overides) {\n\t\t\tthis.core[override] = this.overrides[override];\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t}\n\n\t/**\n\t * Updates the internal state.\n\t * @protected\n\t */\n\tNavigation.prototype.update = function() {\n\t\tvar i, j, k,\n\t\t\toptions = this.core.settings,\n\t\t\tlower = this.core.num.cItems / 2,\n\t\t\tupper = this.core.num.items - lower,\n\t\t\tsize = options.center || options.autoWidth || options.dotData\n\t\t\t\t? 1 : options.dotsEach || options.items;\n\n\t\tif (options.slideBy !== 'page') {\n\t\t\toptions.slideBy = Math.min(options.slideBy, options.items);\n\t\t}\n\n\t\tif (options.dots) {\n\t\t\tthis.pages = [];\n\n\t\t\tfor (i = lower, j = 0, k = 0; i < upper; i++) {\n\t\t\t\tif (j >= size || j === 0) {\n\t\t\t\t\tthis.pages.push({\n\t\t\t\t\t\tstart: i - lower,\n\t\t\t\t\t\tend: i - lower + size - 1\n\t\t\t\t\t});\n\t\t\t\t\tj = 0, ++k;\n\t\t\t\t}\n\t\t\t\tj += this.core.num.merged[i];\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Draws the user interface.\n\t * @protected\n\t */\n\tNavigation.prototype.draw = function() {\n\t\tvar difference, i, html = '',\n\t\t\toptions = this.core.settings,\n\t\t\t$items = this.core.dom.$oItems,\n\t\t\tindex = this.core.normalize(this.core.current(), true);\n\n\t\tif (options.nav && !options.loop && !options.navRewind) {\n\t\t\tthis.controls.$previous.toggleClass('disabled', index <= 0);\n\t\t\tthis.controls.$next.toggleClass('disabled', index >= this.core.maximum());\n\t\t}\n\n\t\tthis.controls.$previous.toggle(options.nav);\n\t\tthis.controls.$next.toggle(options.nav);\n\n\t\tif (options.dots) {\n\t\t\tdifference = this.pages.length - this.controls.$indicators.children().length;\n\n\t\t\tif (difference > 0) {\n\t\t\t\tfor (i = 0; i < Math.abs(difference); i++) {\n\t\t\t\t\thtml += options.dotData ? $items.eq(i).data('owl-item').dot : this.template;\n\t\t\t\t}\n\t\t\t\tthis.controls.$indicators.append(html);\n\t\t\t} else if (difference < 0) {\n\t\t\t\tthis.controls.$indicators.children().slice(difference).remove();\n\t\t\t}\n\n\t\t\tthis.controls.$indicators.find('.active').removeClass('active');\n\t\t\tthis.controls.$indicators.children().eq($.inArray(this.current(), this.pages)).addClass('active');\n\t\t}\n\n\t\tthis.controls.$indicators.toggle(options.dots);\n\t}\n\n\t/**\n\t * Extends event data.\n\t * @protected\n\t * @param {Event} event - The event object which gets thrown.\n\t */\n\tNavigation.prototype.onTrigger = function(event) {\n\t\tvar options = this.core.settings;\n\n\t\tevent.page = {\n\t\t\tindex: $.inArray(this.current(), this.pages),\n\t\t\tcount: this.pages.length,\n\t\t\tsize: options.center || options.autoWidth || options.dotData\n\t\t\t\t? 1 : options.dotsEach || options.items\n\t\t};\n\t}\n\n\t/**\n\t * Gets the current page position of the carousel.\n\t * @protected\n\t * @returns {Number}\n\t */\n\tNavigation.prototype.current = function() {\n\t\tvar index = this.core.normalize(this.core.current(), true);\n\t\treturn $.grep(this.pages, function(o) {\n\t\t\treturn o.start <= index && o.end >= index;\n\t\t}).pop();\n\t}\n\n\t/**\n\t * Gets the current succesor/predecessor position.\n\t * @protected\n\t * @returns {Number}\n\t */\n\tNavigation.prototype.getPosition = function(successor) {\n\t\tvar position, length,\n\t\t\toptions = this.core.settings;\n\n\t\tif (options.slideBy == 'page') {\n\t\t\tposition = $.inArray(this.current(), this.pages);\n\t\t\tlength = this.pages.length;\n\t\t\tsuccessor ? ++position : --position;\n\t\t\tposition = this.pages[((position % length) + length) % length].start;\n\t\t} else {\n\t\t\tposition = this.core.normalize(this.core.current(), true);\n\t\t\tlength = this.core.num.oItems;\n\t\t\tsuccessor ? position += options.slideBy : position -= options.slideBy;\n\t\t}\n\t\treturn position;\n\t}\n\n\t/**\n\t * Slides to the next item or page.\n\t * @public\n\t * @param {Number} [speed=false] - The time in milliseconds for the transition.\n\t */\n\tNavigation.prototype.next = function(speed) {\n\t\t$.proxy(this.overrides.to, this.core)(this.getPosition(true), speed);\n\t}\n\n\t/**\n\t * Slides to the previous item or page.\n\t * @public\n\t * @param {Number} [speed=false] - The time in milliseconds for the transition.\n\t */\n\tNavigation.prototype.prev = function(speed) {\n\t\t$.proxy(this.overrides.to, this.core)(this.getPosition(false), speed);\n\t}\n\n\t/**\n\t * Slides to the specified item or page.\n\t * @public\n\t * @param {Number} position - The position of the item or page.\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t * @param {Boolean} [standard=false] - Whether to use the standard behaviour or not.\n\t */\n\tNavigation.prototype.to = function(position, speed, standard) {\n\t\tvar length;\n\n\t\tif (!standard) {\n\t\t\tlength = this.pages.length;\n\t\t\t$.proxy(this.overrides.to, this.core)(this.pages[((position % length) + length) % length].start, speed);\n\t\t} else {\n\t\t\t$.proxy(this.overrides.to, this.core)(position, speed);\n\t\t}\n\t}\n\n\t$.fn.owlCarousel.Constructor.Plugins.Navigation = Navigation;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Hash Plugin\n * @version 2.0.0\n * @author Artus Kolanowski\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\t'use strict';\n\n\t/**\n\t * Creates the hash plugin.\n\t * @class The Hash Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar Hash = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @type {Owl}\n\t\t */\n\t\tthis.core = carousel;\n\n\t\t/**\n\t\t * Hash table for the hashes.\n\t\t * @type {Object}\n\t\t */\n\t\tthis.hashes = {};\n\n\t\t/**\n\t\t * The carousel element.\n\t\t * @type {jQuery}\n\t\t */\n\t\tthis.$element = this.core.dom.$el;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @type {Object}\n\t\t */\n\t\tthis.handlers = {\n\t\t\t'initialized.owl.carousel': $.proxy(function() {\n\t\t\t\tif (window.location.hash.substring(1)) {\n\t\t\t\t\t$(window).trigger('hashchange.owl.navigation');\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (this.filling) {\n\t\t\t\t\te.property.value.data('owl-item').hash\n\t\t\t\t\t\t= $(':first-child', e.property.value).find('[data-hash]').andSelf().data('hash');\n\t\t\t\t\tthis.hashes[e.property.value.data('owl-item').hash] = e.property.value;\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'change.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.property.name == 'position' && this.core.current() === undefined\n\t\t\t\t\t&& this.core.settings.startPosition == 'URLHash') {\n\t\t\t\t\te.data = this.hashes[window.location.hash.substring(1)];\n\t\t\t\t}\n\t\t\t\tthis.filling = e.property.name == 'item' && e.property.value && e.property.value.is(':empty');\n\t\t\t}, this),\n\t\t};\n\n\t\t// set default options\n\t\tthis.core.options = $.extend({}, Hash.Defaults, this.core.options);\n\n\t\t// register the event handlers\n\t\tthis.$element.on(this.handlers);\n\n\t\t// register event listener for hash navigation\n\t\t$(window).on('hashchange.owl.navigation', $.proxy(function() {\n\t\t\tvar hash = window.location.hash.substring(1),\n\t\t\t\titems = this.core.dom.$oItems,\n\t\t\t\tposition = this.hashes[hash] && items.index(this.hashes[hash]) || 0;\n\n\t\t\tif (!hash) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.core.dom.oStage.scrollLeft = 0;\n\t\t\tthis.core.to(position, false, true);\n\t\t}, this));\n\t}\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tHash.Defaults = {\n\t\tURLhashListener: false\n\t}\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tHash.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\t$(window).off('hashchange.owl.navigation');\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis.owl.dom.$el.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t}\n\n\t$.fn.owlCarousel.Constructor.Plugins.Hash = Hash;\n\n})(window.Zepto || window.jQuery, window, document);\n\nfunction new_branch(id, name, start_date, end_date, timeline)\n{\n    branches.push({\n        id: id,\n        name: name,\n        horizontal_multiplier: 1,\n        vertical_multiplier: 0,\n        timeline_id : timeline,\n        timeline: false,\n        start_date: start_date,\n        end_date: end_date,\n        merge: null\n    });\n}\n\n\n// Put timelines into branches\nfunction get_timelines()\n{\n    $.each(timelines, function(timeline_name, timeline)\n    {\n        $.each(branches, function(branch_index, branch)\n        {\n            if(branch.start_date > timeline.start_date)\n            {\n                branches.splice(branch_index, 0, timeline);\n                return false;\n            }\n        });\n    });\n}\n\nfunction get_hm_multipliers()\n{\n    $.each(branches, function(branch_index, branch)\n    {\n        // we want to give some space between the lines\n        if(branch_index != 0)\n        {\n            vertical_multiplier += 2;\n        }\n\n        branch.vertical_multiplier = ++vertical_multiplier;\n\n//                console.log(branch.name);\n        $.each(branches, function()\n        {\n            if(branch.id != this.id)\n            {\n                if (\n                    (\n                    branch.start_date >= this.start_date &&\n                    branch.start_date <= this.end_date\n                    ) ||\n                    (\n                    branch.end_date >= this.start_date &&\n                    branch.end_date <= this.end_date\n                    )\n                )\n                {\n                    // Makes sure its not a timeline\n                    if (!branch.timeline_id && !branch.timeline)\n                    {\n//                                console.log(' HM+1 by case 1: ' + this.name);\n                        branch.horizontal_multiplier++;\n                    }\n                    // Makes sure both have a timeline id but not an actual timeline\n                    else if (branch.timeline_id && this.timeline_id && !branch.timeline)\n                    {\n//                                console.log(' HM+1 by case 2: ' + this.name);\n                        branch.horizontal_multiplier++;\n                    }\n                    // Makes sure both are timelines\n                    else if (branch.timeline && this.timeline)\n                    {\n                        if(\n                            branch.start_date >= this.start_date &&\n                            branch.start_date <= this.end_date\n                        )\n                        {\n//                                    console.log(' HM+1 by case 3: ' + this.name);\n                            branch.horizontal_multiplier++;\n                        }\n                    }\n                }\n            }\n        });\n        //console.log('HM @ '+ branch.horizontal_multiplier);\n    });\n}\n\nfunction get_merges()\n{\n    // Get the proper merge levels\n    $.each(branches, function(branch_index, branch)\n    {\n        branch_index = 0;\n        $.each(branches, function()\n        {\n            if(branch.end_date > this.start_date)\n            {\n\n                branch.merge = this.vertical_multiplier;\n\n                merges[branch.name] = branch.merge;\n            }\n        });\n        //console.log(branch.name  + ' merges @ ' + branch.merge);\n    });\n\n    $.each(branches, function()\n    {\n        find_merge_conflicts(this);\n        merge_levels.push(this.merge);\n    });\n}\n\nfunction find_merge_conflicts(branch)\n{\n//            console.log('Finding conflicts with ' + branch.name);\n\n    var conflicts = new Array();\n\n    $.each(branches, function()\n    {\n        if(branch.id != this.id && branch.merge == this.merge)\n        {\n//                    console.log('Conflicts with ' + this.name);\n            conflicts.push(this);\n        }\n    });\n\n    $.each(conflicts, function()\n    {\n        if(branch.id != this.id)\n        {\n            if (branch.end_date > this.end_date)\n            {\n                move_up(branch);\n                branch.merge+= 2;\n            }\n            else\n            {\n                move_up(this);\n                this.merge = branch.merge + 2;\n            }\n        }\n    });\n}\n\n// TODO - fix spacing\nfunction move_up(branch)\n{\n//            console.log(branch.name + ' merge ++ and moving up branches : ');\n    $.each(branches, function()\n    {\n        if(this.vertical_multiplier > branch.merge)\n        {\n//                    console.log('       ' + this.name);\n            this.vertical_multiplier += 2;\n            this.merge+=2;\n        }\n        else if(this.end_date > branch.end_date)\n        {\n            this.merge+= 2;\n        }\n    });\n}\n\nfunction draw()\n{\n    get_hm_multipliers();\n    get_merges();\n\n    var start_x;\n    var final_x;\n\n    var start_y;\n    var end_y;\n\n    // Draw most left line\n    draw_line(default_x, 0, (Math.max.apply(null, merge_levels) + 3) * default_y, colors.lines[0]);\n\n    $('#git_tree').css('height', (Math.max.apply(null, merge_levels) + 3) * default_y);\n    // draw line up till they merge\n    $.each(branches, function(branch_index, branch)\n    {\n        // also lets set the colors\n        if(!colors.lines[branch.horizontal_multiplier])\n        {\n            colors.lines[branch.horizontal_multiplier] = tinycolor.random().toHexString();\n        }\n\n        // If its not a timeline shift it outwards by the multiplier\n        start_x = default_x + (default_x * branch.horizontal_multiplier);\n        // If its not based off a timline merge it all the way back in!\n        if(!branch.timeline_id || branch.timeline)\n        {\n            final_x = default_x;\n        }\n        // Since its based off a timeline we need to adjust the final location by the timelines multiplier\n        else\n        {\n            // The branch can end afterwards of the timeline! so lets make sure of that\n            if(branch.end_date <= timelines[branch.timeline_id].end_date)\n            {\n                final_x = default_x + (default_x * timelines[branch.timeline_id].horizontal_multiplier);\n            }\n            else\n            {\n                final_x = default_x;\n            }\n        }\n\n        // find out where its vertical multiplier should be\n        start_y = default_y + (default_y * branch.vertical_multiplier);\n        end_y = default_y + (default_y * branch.merge);\n\n        // Draw the long line up to the merge point\n        draw_line(start_x, start_y, end_y, colors.lines[branch.horizontal_multiplier]);\n\n        // Draw the Branch Curve\n        draw_curve(final_x, start_y - default_y, start_x, start_y, colors.lines[branch.horizontal_multiplier]);\n\n        // Draw Merge Curve\n        draw_curve(start_x, end_y, final_x, end_y + default_y, colors.lines[branch.horizontal_multiplier]);\n\n        // Draw the Branch Starting Circle\n        draw_circle(start_x, start_y, get_analogous(colors.lines[branch.horizontal_multiplier]), branch.id);\n    });\n\n    render_circles();\n}\n\nfunction draw_curve(start_x, start_y, end_x, end_y, color)\n{\n    var break_point = (start_y + end_y) / 2;\n\n    // Curved Lines to new path\n    projects.path(\"M\"+start_x+\",\"+start_y+\" C\"+start_x+\",\"+break_point+\" \"+end_x+\",\"+break_point+\" \"+end_x+\",\"+end_y+\"\").attr({\n        stroke: color,\n        strokeWidth: 4,\n        fill: \"none\",\n        class: 'curves'\n    });\n}\n\nfunction draw_line(x, start_y, end_y, color)\n{\n    projects.path(\"M\" + x + \",\" + start_y + \" L\" + x + \",\" + end_y + \"\").attr({\n        stroke: color,\n        strokeWidth: 4,\n        class: 'lines'\n    });\n}\n\nfunction draw_circle(x, y, color, id)\n{\n    //start Circle\n    circles.push({\n        x: x,\n        y: y,\n        r: default_r,\n        color: color,\n        id : id\n    });\n}\n\nfunction render_circles()\n{\n    var color = tinycolor.random().toHexString();\n\n    $.each(circles, function()\n    {\n        projects.circle(this.x, this.y , this.r).attr({\n            fill: this.color,\n            stroke: this.color,\n            strokeOpacity: .3,\n            strokeWidth: 5,\n            'data-project_id': this.id\n        });\n    });\n}\n\nfunction get_analogous(color)\n{\n    if(!ag_colors[color])\n    {\n        ag_colors[color] = tinycolor(color).analogous(15).map(function(t)\n        {\n            return t.toHexString();\n        });\n    }\n    ag_colors[color].shift();\n    return ag_colors[color].shift();\n}\n$(document).on('click', '.panel-links .panel-body', function(e)\n{\n    var link = $(this).find('a');\n    if(link.attr('href'))\n    {\n        if(link.attr('target'))\n        {\n            window.open(link.attr('href'), link.attr('target'));\n        }\n        else\n        {\n            window.location = link.attr('href');\n        }\n    }\n});\n$('#blog-search').select2({\n    placeholder: \"Search for a blog . . .\",\n    ajax: {\n        url: \"/search\",\n        dataType: 'json',\n        delay: 250,\n        data: function(params)\n        {\n            return {\n                q: params.term,\n                page: params.page\n            };\n        },\n        processResults: function(data, page)\n        {\n            return {\n                results: data\n            };\n        },\n        cache: true\n    },\n    minimumInputLength: 1,\n    escapeMarkup: function(markup)\n    {\n        return markup;\n    },\n    templateResult: function(data)\n    {\n        if(data.text)\n        {\n            return '<span data-url=\"' + data.action + '\">' + data.text + '</span>';\n        }\n    },\n    templateSelection: function(data)\n    {\n        if(data.action)\n        {\n            window.location = data.action;\n        }\n        die;\n    }\n});"],"sourceRoot":"/source/"}